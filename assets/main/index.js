// var global = (function () {
// 	return this
// })();
// var pluginInfoMap = {};;
// global.requirePlugin = global.requirePlugin || function (path) {
// 	var position = path.indexOf('/');
// 	var alias = '';
// 	var pagePath = '';
// 	if (position !== -1) {
// 		alias = path.substr(0, position);
// 		pagePath = path.substr(position + 1, path.length);
// 	} else {
// 		alias = path;
// 	}
// 	if (pluginInfoMap.hasOwnProperty(alias)) {
// 		var realPath = '';
// 		if (pagePath.length === 0) {
// 			realPath = '__plugin__/' + pluginInfoMap[alias].appid;
// 			return require(realPath);
// 		} else {
// 			realPath = '__plugin__/' + pluginInfoMap[alias].appid + '/' + pagePath;
// 			return require(realPath);
// 		}
// 	} else {
// 		console.error('not found alias: ', alias);
// 		throw new Error('Plugin ' + alias + ' is not defined.')
// 	}
// };
// define("./game.js", function(require, module, exports){ 			
window.__require = function e(t, n, o) {
	function i(a, s) {
		if (!n[a]) {
			if (!t[a]) {
				var c = a.split("/");
				if (c = c[c.length - 1], !t[c]) {
					var l = "function" == typeof __require && __require;
					if (!s && l) return l(c, !0);
					if (r) return r(c, !0);
					throw new Error("Cannot find module '" + a + "'")
				}
				a = c
			}
			var u = n[a] = {
				exports: {}
			};
			t[a][0].call(u.exports, function (e) {
				return i(t[a][1][e] || e)
			}, u, u.exports, e, t, n, o)
		}
		return n[a].exports
	}
	for (var r = "function" == typeof __require && __require, a = 0; a < o.length; a++) i(o[a]);
	return i
}({
	ActionBlink: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "4f7bdlIO8FHfa7lFE+j4vn+", "ActionBlink");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = r.menu,
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.duration = 2, t.blinks = 10, t._action = null, t
				}
				return o(t, e), t.prototype.onEnable = function () {
					this._action && this.node.stopAction(this._action), this._action = this.node.runAction(cc.repeatForever(cc.blink(this.duration, this.blinks)))
				}, t.prototype.onDisable = function () {
					this._action && this.node.stopAction(this._action), this._action = null
				}, i([s], t.prototype, "duration", void 0), i([s], t.prototype, "blinks", void 0), t = i([a, c("Action/Blink")], t)
			}(cc.Component);
		n.default = l, cc._RF.pop()
	}, {}],
	ActionBreath2: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "408a4Xj/H5JUrXxchebrHcO", "ActionBreath2");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = r.menu,
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.interval = 1, t.duration = 1, t.times = 2, t.zoom = 1.1, t._scaleX = 1, t._scaleY = 1, t._action = null, t
				}
				return o(t, e), t.prototype.onEnable = function () {
					this.times <= 0 && (this.times = 1), this._scaleX = this.node.scaleX, this._scaleY = this.node.scaleY, this._action && this.node.stopAction(this._action);
					for (var e = [cc.delayTime(this.interval)], t = 0; t < this.times; ++t) e.push(cc.scaleTo(this.duration / this.times, this._scaleX * this.zoom, this._scaleY * this.zoom)), e.push(cc.scaleTo(this.duration / this.times, this._scaleX, this._scaleY));
					this._action = this.node.runAction(cc.repeatForever(cc.sequence(e)))
				}, t.prototype.onDisable = function () {
					this._action && this.node.stopAction(this._action), this._action = null, this.node.scaleX = this._scaleX, this.node.scaleY = this._scaleY
				}, i([s], t.prototype, "interval", void 0), i([s], t.prototype, "duration", void 0), i([s], t.prototype, "times", void 0), i([s], t.prototype, "zoom", void 0), t = i([a, c("Action/Breath2")], t)
			}(cc.Component);
		n.default = l, cc._RF.pop()
	}, {}],
	ActionBreath: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d4448oMF25OlpwxNxYG/5DT", "ActionBreath");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = r.menu,
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.duration = 1, t.zoom = 1.1, t._scaleX = 1, t._scaleY = 1, t._action = null, t
				}
				return o(t, e), t.prototype.onEnable = function () {
					this._scaleX = this.node.scaleX, this._scaleY = this.node.scaleY, this._action && this.node.stopAction(this._action), this._action = this.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(this.duration / 2, this._scaleX * this.zoom, this._scaleY * this.zoom), cc.scaleTo(this.duration / 2, this._scaleX, this._scaleY))))
				}, t.prototype.onDisable = function () {
					this._action && this.node.stopAction(this._action), this._action = null, this.node.scaleX = this._scaleX, this.node.scaleY = this._scaleY
				}, i([s], t.prototype, "duration", void 0), i([s], t.prototype, "zoom", void 0), t = i([a, c("Action/Breath")], t)
			}(cc.Component);
		n.default = l, cc._RF.pop()
	}, {}],
	ActionCircle: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "26eber7OM1D/aEDxAp5KO5z", "ActionCircle");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = r.menu,
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.radius = 50, t.duration = 1, t._originPos = new cc.Vec2, t._t = 0, t
				}
				return o(t, e), t.prototype.onEnable = function () {
					this._originPos.set(this.node.getPosition())
				}, t.prototype.onDisable = function () {
					this.node.setPosition(this._originPos)
				}, t.prototype.update = function (e) {
					this._t += e;
					var t = this._t % this.duration / this.duration,
						n = 2 * Math.PI * t;
					this.node.x = this._originPos.x + this.radius * Math.cos(n), this.node.y = this._originPos.y + this.radius * Math.sin(n)
				}, i([s({
					displayName: "半径"
				})], t.prototype, "radius", void 0), i([s({
					displayName: "每圈时长"
				})], t.prototype, "duration", void 0), t = i([a, c("Action/Circle")], t)
			}(cc.Component);
		n.default = l, cc._RF.pop()
	}, {}],
	ActionFadeTo: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "cc833Xw9vVI5KCzwfHBG2zu", "ActionFadeTo");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = r.menu,
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.delay = 0, t.duration = .3, t.srcOpacity = 0, t.destOpacity = 255, t.repeat = 0, t._action = null, t
				}
				return o(t, e), t.prototype.onEnable = function () {
					this._action && this.node.stopAction(this._action), this._action = null, this.node.opacity = this.srcOpacity, this.unschedule(this._doAction), this.schedule(this._doAction, this.delay, 0)
				}, t.prototype.onDisable = function () {
					this.unschedule(this._doAction), this._action && this.node.stopAction(this._action), this._action = null
				}, t.prototype._doAction = function () {
					0 == this.repeat ? this._action = this.node.runAction(cc.fadeTo(this.duration, this.destOpacity)) : this.repeat > 0 ? this._action = this.node.runAction(cc.repeat(cc.sequence(cc.fadeTo(this.duration, this.destOpacity), cc.fadeTo(this.duration, this.srcOpacity)), this.repeat)) : this._action = this.node.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(this.duration, this.destOpacity), cc.fadeTo(this.duration, this.srcOpacity))))
				}, i([s], t.prototype, "delay", void 0), i([s], t.prototype, "duration", void 0), i([s], t.prototype, "srcOpacity", void 0), i([s], t.prototype, "destOpacity", void 0), i([s], t.prototype, "repeat", void 0), t = i([a, c("Action/FadeTo")], t)
			}(cc.Component);
		n.default = l, cc._RF.pop()
	}, {}],
	ActionMoveForever: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f1d7aNi0Y9KzZW02HGn2qIU", "ActionMoveForever");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = r.menu,
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.startPos = new cc.Vec2, t.endPos = new cc.Vec2, t.duration = 10, t.pingpong = !0, t.easing = !0, t
				}
				return o(t, e), t.prototype.start = function () {
					var e = this.easing ? cc.easeSineInOut() : {
						easing: function (e) {
							return e
						},
						reverse: function (e) {
							return e
						}
					};
					this.pingpong ? (this.node.position = this.startPos, this.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(this.duration, this.endPos).easing(e), cc.moveTo(this.duration, this.startPos).easing(e))))) : this.node.runAction(cc.repeatForever(cc.sequence(cc.place(this.startPos), cc.moveTo(this.duration, this.endPos).easing(e))))
				}, i([s(cc.Vec2)], t.prototype, "startPos", void 0), i([s(cc.Vec2)], t.prototype, "endPos", void 0), i([s], t.prototype, "duration", void 0), i([s], t.prototype, "pingpong", void 0), i([s], t.prototype, "easing", void 0), t = i([a, c("Action/ActionMoveForever")], t)
			}(cc.Component);
		n.default = l, cc._RF.pop()
	}, {}],
	ActionMoveIn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9bbd4m9WMBP4KhCoA2zbifE", "ActionMoveIn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r, a = cc._decorator,
			s = a.ccclass,
			c = a.property,
			l = a.menu;
		(function (e) {
			e[e.UpToDown = 0] = "UpToDown", e[e.DownToUp = 1] = "DownToUp", e[e.LeftToRight = 2] = "LeftToRight", e[e.RightToLeft = 3] = "RightToLeft"
		})(r || (r = {}));
		var u = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.direction = r.UpToDown, t.distance = 50, t._originPos = new cc.Vec2, t
			}
			return o(t, e), t.prototype.onLoad = function () {
				this._originPos.set(this.node.getPosition())
			}, t.prototype.onEnable = function () {
				var e = this.node;
				switch (e.setPosition(this._originPos), this.direction) {
					case r.UpToDown:
						e.y += this.distance;
						break;
					case r.DownToUp:
						e.y -= this.distance;
						break;
					case r.LeftToRight:
						e.x -= this.direction;
						break;
					case r.RightToLeft:
						e.x += this.distance
				}
				e.opacity = 0, e.runAction(cc.spawn(cc.moveTo(.5, this._originPos).easing(cc.easeSineOut()), cc.fadeIn(.3)))
			}, i([c({
				type: cc.Enum(r)
			})], t.prototype, "direction", void 0), i([c], t.prototype, "distance", void 0), t = i([s, l("Action/MoveIn")], t)
		}(cc.Component);
		n.default = u, cc._RF.pop()
	}, {}],
	ActionRock: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7a9fcxVzklMib+SFOhyKV4V", "ActionRock");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = r.menu,
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.duration = .5, t.angle = 10, t._rotation = 1, t._action = null, t
				}
				return o(t, e), t.prototype.onEnable = function () {
					this._rotation = this.node.angle, this._action && this.node.stopAction(this._action), this._action = this.node.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(this.duration / 2, this._rotation + this.angle), cc.rotateTo(this.duration / 2, this._rotation - this.angle))))
				}, t.prototype.onDisable = function () {
					this._action && this.node.stopAction(this._action), this._action = null, this.node.angle = this._rotation
				}, i([s], t.prototype, "duration", void 0), i([s], t.prototype, "angle", void 0), t = i([a, c("Action/Rock")], t)
			}(cc.Component);
		n.default = l, cc._RF.pop()
	}, {}],
	ActionRotateForever: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "17b49Hv+kxF3rVutfrOuHOh", "ActionRotateForever");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = r.menu,
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.velocity = .2, t
				}
				return o(t, e), t.prototype.start = function () {
					var e = 1 / this.velocity;
					this.node.runAction(cc.repeatForever(cc.rotateBy(e, 360)))
				}, i([s], t.prototype, "velocity", void 0), t = i([a, c("Action/RotateForever")], t)
			}(cc.Component);
		n.default = l, cc._RF.pop()
	}, {}],
	ActionScaleIn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "09bd4f7l0NPfpseMfFdw+uE", "ActionScaleIn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = (r.property, r.menu),
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._action = null, t
				}
				return o(t, e), t.prototype.onEnable = function () {
					var e = this.node;
					e.scale = .5, e.opacity = 0, this._action && e.stopAction(this._action), this._action = e.runAction(cc.spawn(cc.scaleTo(.5, 1).easing(cc.easeElasticOut(.5)), cc.fadeIn(.3)))
				}, t.prototype.onDisable = function () {
					256 & this.node.parent._objFlags || (this.node.scale = 1, this.node.opacity = 255), this._action && this.node.stopAction(this._action), this._action = null
				}, t = i([a, s("Action/ScaleIn")], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	ActionStars: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "80026doNdpCI5DwQSAYgI08", "ActionStars");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = (r.property, r.menu),
			c = function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.start = function () {
					var e = this;
					this.node.children.forEach(function (t) {
						return e.play(t)
					})
				}, t.prototype.play = function (e) {
					var t = this;
					e.stopAllActions();
					var n = Utils.randFloat(0, 1),
						o = Utils.randFloat(1, 8),
						i = this.node,
						r = i.width,
						a = i.height,
						s = new cc.Vec2(Utils.randFloat(-r / 2, r / 2), Utils.randFloat(-a / 2, a / 2)),
						c = cc.Vec2.random(new cc.Vec2, Utils.randFloat(100, 250)),
						l = Utils.randFloat(.7, 1),
						u = Utils.randFloat(.5, .7),
						d = o * Utils.randFloat(30, 45);
					e.opacity = 0, e.setPosition(s), e.scale = l, e.runAction(cc.sequence(cc.delayTime(n), cc.spawn(cc.moveBy(o, c), cc.sequence(cc.fadeIn(.2 * o), cc.delayTime(.6 * o), cc.fadeOut(.2 * o)), cc.scaleTo(o, u), cc.rotateBy(o, d)), cc.callFunc(function () {
						t.play(e)
					})))
				}, t = i([a, s("Action/Stars")], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	ActionTweenItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "3d3eaLF4vhG259YnqmAyE3f", "ActionTweenItem");
		var o, i = this && this.__decorate || function (e, t, n, o) {
			var i, r = arguments.length,
				a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
			else
				for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
			return r > 3 && a && Object.defineProperty(t, n, a), a
		};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.ActionTweenType = void 0,
			function (e) {
				e[e.by = 0] = "by", e[e.to = 1] = "to", e[e.set = 2] = "set"
			}(o = n.ActionTweenType || (n.ActionTweenType = {}));
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function () {
				function e() {
					this.type = o.to, this.value = new cc.Vec4, this.duration = .3, this.easing = "linear"
				}
				return i([s({
					type: cc.Enum(o),
					displayName: "改变方式"
				})], e.prototype, "type", void 0), i([s({
					displayName: "改变值"
				})], e.prototype, "value", void 0), i([s({
					displayName: "时长"
				})], e.prototype, "duration", void 0), i([s({
					displayName: "缓动函数"
				})], e.prototype, "easing", void 0), e = i([a("ActionTweenItem")], e)
			}();
		n.default = c, cc._RF.pop()
	}, {}],
	ActionTween: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "23c1dyi9YBGF78AyeTo54MW", "ActionTween");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./ActionTweenItem"),
			a = cc._decorator,
			s = a.ccclass,
			c = a.property,
			l = a.menu,
			u = (a.executeInEditMode, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.targetNode = null, t.targetComp = "", t.propName = "", t.changeList = [], t.delay = 0, t.repeat = 0, t._tween = null, t
				}
				return o(t, e), t.prototype.onEnable = function () {
					this.run()
				}, t.prototype.onDisable = function () {
					this.stop()
				}, t.prototype.run = function () {
					this.unschedule(this.run), this.targetNode = this.targetNode || this.node;
					var e = this.targetComp ? this.targetNode.getComponent(this.targetComp) : this.targetNode,
						t = this.propName.split("."),
						n = "";
					try {
						if (t.length > 1)
							for (var o = 0; o < t.length - 1;) e = e[t[o]], ++o;
						if (n = t[t.length - 1], !e || void 0 === e[n]) throw new Error("目标或属性不存在");
						this._tween && this._tween.stop(), this._tween = null;
						var i = cc.tween(e);
						this.changeList.forEach(function (t, o) {
							var a, s, c, l;
							l = e[n] instanceof cc.Vec4 ? t.value : e[n] instanceof cc.Vec3 ? new cc.Vec3(t.value.x, t.value.y, t.value.z) : e[n] instanceof cc.Vec2 ? new cc.Vec2(t.value.x, t.value.y) : t.value.x, t.type == r.ActionTweenType.by ? i.by(t.duration, ((a = {})[n] = l, a), {
								easing: t.easing
							}) : t.type == r.ActionTweenType.to ? i.to(t.duration, ((s = {})[n] = l, s), {
								easing: t.easing
							}) : i.set(((c = {})[n] = l, c))
						});
						var a = this.repeat < 0 ? 1e10 : this.repeat || 1;
						a > 1 ? (this._tween = cc.tween(e), this._tween.delay(this.delay), this._tween.repeat(a, i).start()) : (this._tween = i, this._tween.delay(this.delay).start())
					} catch (e) {
						console.error(e)
					}
				}, t.prototype.stop = function () {
					this.unschedule(this.run), this._tween && this._tween.stop(), this._tween = null
				}, i([c({
					type: cc.Node,
					displayName: "目标节点"
				})], t.prototype, "targetNode", void 0), i([c({
					displayName: "目标组件",
					tooltip: "为空时节点作为目标"
				})], t.prototype, "targetComp", void 0), i([c({
					displayName: "改变属性"
				})], t.prototype, "propName", void 0), i([c({
					type: [r.default],
					displayName: "改变列表"
				})], t.prototype, "changeList", void 0), i([c({
					displayName: "延时"
				})], t.prototype, "delay", void 0), i([c({
					displayName: "重复次数"
				})], t.prototype, "repeat", void 0), t = i([s, l("Action/Tween")], t)
			}(cc.Component));
		n.default = u, cc._RF.pop()
	}, {
		"./ActionTweenItem": "ActionTweenItem"
	}],
	AdaptForScreen: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "96549DGCmlIcZghb3AfRGQI", "AdaptForScreen");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.forWidth = !0, t.forHeight = !0, t._resizeFunc = null, t
				}
				var n;
				return o(t, e), n = t, t.prototype.start = function () {
					this.scheduleOnce(this.adapt, 0), cc.sys.isMobile ? (this._resizeFunc = this.adapt.bind(this), window.addEventListener("resize", this._resizeFunc)) : cc.view.on("canvas-resize", this.adapt, this)
				}, t.prototype.onDestroy = function () {
					cc.sys.isMobile ? window.removeEventListener("resize", this._resizeFunc) : cc.view.off("canvas-resize", this.adapt, this)
				}, t.prototype.adapt = function () {
					var e = n.getScale();
					this.forWidth && (this.node.scaleX = this.node.scaleX / Math.abs(this.node.scaleX) * e), this.forHeight && (this.node.scaleY = this.node.scaleY / Math.abs(this.node.scaleY) * e)
				}, t.getScale = function () {
					var e = cc.view.getDesignResolutionSize(),
						t = cc.view.getVisibleSize();
					return cc.Canvas.instance.fitHeight && cc.Canvas.instance.fitWidth ? Math.min(1, t.width / e.width, t.height / e.height) : cc.Canvas.instance.fitHeight ? Math.min(1, t.width / e.width) : Math.min(1, t.height / e.height)
				}, i([s], t.prototype, "forWidth", void 0), i([s], t.prototype, "forHeight", void 0), t = n = i([a], t)
			}(cc.Component);
		n.default = c, window.AdaptForScreen = c, cc._RF.pop()
	}, {}],
	AdditionLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "0e172ImXndObIuDd0nK1x3f", "AdditionLogic"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = e("../../Ui/skin/SkinLogic"),
			i = function () {
				function e() {
					this.isPvp = !1, this.isAi = !1, this.cueId = 0
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getCueAttr = function () {
					if (this.isPvp) return this.isAi ? {
						sight: 0,
						force: 0,
						english: 0
					} : {
						sight: DataBus.user.cue_sight + DataBus.user.sight,
						force: DataBus.user.cue_force + DataBus.user.force,
						english: DataBus.user.cue_english + DataBus.user.english
					};
					var e = o.default.instance.fastGetCueConfig(this.cueId);
					return {
						sight: DataBus.user.cue_sight + DataBus.user.sight + e.line,
						force: DataBus.user.cue_force + DataBus.user.force,
						english: DataBus.user.cue_english + DataBus.user.english
					}
				}, e._instance = null, e
			}();
		n.default = i, cc._RF.pop()
	}, {
		"../../Ui/skin/SkinLogic": "SkinLogic"
	}],
	AdsItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "42187AnvedF8ZjlyeHfhAqM", "AdsItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Base/AdsMgr"),
			a = e("../../Config/SoundID"),
			s = cc._decorator,
			c = s.ccclass,
			l = s.property,
			u = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.icon = null, t.label = null, t._data = null, t
				}
				return o(t, e), t.prototype.setData = function (e) {
					this._data = e, e && (this.icon && Utils.loadImage(this.icon, e.icon.skin), this.label && (this.label.string = e.nameLbl.text))
				}, t.prototype.onClick = function () {
					SoundMgr.play(a.default.btn);
					var e = this._data;
					r.default.instance.clickAds(e)
				}, i([l(cc.Sprite)], t.prototype, "icon", void 0), i([l(cc.Label)], t.prototype, "label", void 0), t = i([c], t)
			}(cc.Component);
		n.default = u, cc._RF.pop()
	}, {
		"../../Base/AdsMgr": "AdsMgr",
		"../../Config/SoundID": "SoundID"
	}],
	AdsMgr: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "5edccAWgLpMsKS1y5SRS0Jq", "AdsMgr");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Config/EventID"),
			a = e("../Config/GameConfig"),
			s = e("../Runtime/YdsdkBridge"),
			c = e("../Data/wxsdk"),
			l = function () {
				function e() {
					this.list = [], this.clickedAdsList = []
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.init = function () {
					cc.systemEvent.on(r.default.INSIDE_ADS_CHANGED, this._onDataChanged, this), c.default.isWX() || (SDK.insideAds.list = this._testData || [], SDK.insideAds.onChanged && SDK.insideAds.onChanged())
				}, e.prototype.getRandomOne = function () {
					return this.isValid() ? this.getRandomList()[0] : null
				}, e.prototype.getRandomList = function (e) {
					if (a.GameConfig.USE_YDSDK && s.default.instance.useSale) {
						var t = s.default.instance.getAdsList(e);
						return Utils.shuffle(t), t
					}
					if (!this.isValid()) return [];
					var n = this.list.slice(0);
					return Utils.shuffle(n), n.sort(function (e, t) {
						return e.redPoint.visible ? -1 : t.redPoint.visible ? 1 : 0
					}), n
				}, e.prototype.getFixedList = function (e) {
					if (a.GameConfig.USE_YDSDK && s.default.instance.useSale) {
						var t = s.default.instance.getAdsList(e);
						return t.sort(function (e, t) {
							return -1 == e.sortIdx && -1 != t.sortIdx ? 1 : -1 != e.sortIdx && -1 == t.sortIdx ? -1 : e.sortIdx - t.sortIdx
						}), t
					}
					return this.isValid() ? this.list.slice(0) : []
				}, e.prototype.isValid = function () {
					if (a.GameConfig.USE_YDSDK && s.default.instance.useSale) return s.default.instance.hasAds();
					if (c.default.isWX()) {
						var e = wx.getLaunchOptionsSync().scene;
						if ([1011, 1012, 1023, 1025, 1031, 1032, 1047, 1048, 1049, 1072].indexOf(e) > -1) return !1
					}
					return 0 != this.list.length
				}, e.prototype._onDataChanged = function () {
					var e = this;
					if (SDK.insideAds.hasAds() || !c.default.isWX()) {
						var t = SDK.insideAds.list;
						this.list = t.map(function (t) {
							return {
								id: t.id,
								app_id: t.app_id,
								app_path: t.app_path,
								qrcode_flag: t.qrcode_flag,
								qrcode_url: t.qrcode_url,
								icon: {
									skin: t.icon
								},
								nameLbl: {
									text: t.name
								},
								redPoint: {
									visible: e.isNewAdsItem(t)
								}
							}
						})
					} else this.list = []
				}, e.prototype.clickAds = function (t, n, r) {
					return void 0 === n && (n = "get_list"), void 0 === r && (r = "get_list_scan"), o(this, void 0, void 0, function () {
						return i(this, function (o) {
							return t ? [2, new Promise(function (o, i) {
								s.default.instance.reportAdsClick(t, 1);
								var a = n,
									c = function () {
										var n = (new Date).getTime();
										e.instance.setAdsItemClicked(t), SDK.reportAdsClick(a, t.id + ""), s.default.instance.reportAdsClick(t, 2), o(n)
									},
									l = function () {
										s.default.instance.reportAdsClick(t, 3), o(0)
									};
								1 == t.qrcode_flag ? (a = r, SDK.showImage(t.qrcode_url, c, l)) : SDK.showInsideAds(t, c, l)
							})] : [2, 0]
						})
					})
				}, e.prototype.getAdsKey = function (e) {
					return e.app_id + e.app_path
				}, e.prototype.isNewAdsItem = function (e) {
					var t = this.getAdsKey(e);
					return -1 == this.clickedAdsList.indexOf(t)
				}, e.prototype.setAdsItemClicked = function (e) {
					if (this.isNewAdsItem(e)) {
						var t = this.getAdsKey(e);
						return this.clickedAdsList.push(t), this.saveClickedAdsList(), this._onDataChanged(), cc.systemEvent.emit(r.default.INSIDE_ADS_CLICKED), !0
					}
					return !1
				}, e.prototype.loadClickedAdsList = function () {
					var e = SDK.getStorageSync("inAdsList");
					this.clickedAdsList = e ? e.split(",") : [], this._onDataChanged()
				}, e.prototype.saveClickedAdsList = function () {
					SDK.setStorage("inAdsList", this.clickedAdsList.join(","))
				}, e.prototype.clearClickedAdsList = function () {
					this.clickedAdsList = [], this.saveClickedAdsList()
				}, e._instance = null, e
			}();
		n.default = l, window.AdsMgr = l, cc._RF.pop()
	}, {
		"../Config/EventID": "EventID",
		"../Config/GameConfig": "GameConfig",
		"../Data/wxsdk": "wxsdk",
		"../Runtime/YdsdkBridge": "YdsdkBridge"
	}],
	AfterGameLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "92b235Gx8dHyZcoB8uLhzPp", "AfterGameLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.AfterGameLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = e("../../Runtime/LevelConfig"),
			l = e("../../Config/SoundID"),
			u = e("../../Runtime/game/rule/RuleTypes"),
			d = e("../../Runtime/Router"),
			f = e("../../Data/EconomicLogic"),
			p = e("../base/RewardBtn"),
			h = e("../../Base/ShareTypes"),
			y = e("../../Runtime/guide/GuideLogic"),
			g = e("../../Runtime/home/UpgradeLogic"),
			_ = e("../../Config/ReportID"),
			v = e("../../Runtime/YdsdkBridge"),
			b = e("../../Runtime/game/item2/ReceiveItemLayer"),
			m = e("../../Runtime/game/item2/ShowItemLayer"),
			w = e("../../Runtime/home/HomeUi"),
			S = e("../ads/SideAdsLayer"),
			C = e("../../Config/EventID"),
			P = e("../../Base/AdsMgr"),
			L = e("../../Res/ResLoader"),
			T = e("../../Config/GameConfig"),
			D = e("../record/RecordMgr"),
			B = e("../../Data/wxsdk"),
			k = e("../../Runtime/ShortcutMgr"),
			R = cc._decorator,
			E = R.ccclass,
			I = (R.property, R.menu),
			O = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.AfterGameLayerParam = O;
		var A = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.bet = 1, t.prizeReceived = !1, t.allTaskFinished = !1, t._tween = null, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.node.getComponentsInChildren(p.default).forEach(function (e) {
					return e.sharePos = h.SharePos.Result
				}), this.double_btn.node.active = y.default.instance.isGuideFinished(y.GuideStep.Level2), this.onAdsChanged(), cc.systemEvent.on(C.default.INSIDE_ADS_CHANGED, this.onAdsChanged, this), cc.systemEvent.on(C.default.INSIDE_ADS_CLICKED, this.onAdsChanged, this), this.side_ads_badage.active = !0, cc.systemEvent.emit(C.default.POP_RESULT), cc.systemEvent.on(D.RecorderEventId.stop, this._updateRecordBtn, this), k.default.instance.installShortcut()
			}, t.prototype.onDestroy = function () {
				cc.systemEvent.off(C.default.INSIDE_ADS_CHANGED, this.onAdsChanged, this), cc.systemEvent.off(C.default.INSIDE_ADS_CLICKED, this.onAdsChanged, this), cc.systemEvent.off(D.RecorderEventId.stop, this._updateRecordBtn, this), e.prototype.onDestroy.call(this), this._tween && (this._tween.stop(), this._tween = null)
			}, t.prototype.onDataLoad = function () {
				this.isWin() ? Server.reportClick(_.default.ow1) : Server.reportClick(_.default.of1), v.default.instance.onWeidu(3), this.updateDisplay(), this.tryToShowGuide(), this.updateBanner()
			}, t.prototype.updateBanner = function () {
				var e = this.isWin();
				this.win_banner.active = e, this.fail_banner.active = !e
			}, t.prototype.tryToShowGuide = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return Utils.setAllBtnsEnabled(this.node, !1), y.default.instance.exactNeedGuide(y.GuideStep.NextLevel) ? [4, y.default.instance.tryToShowAfterGameLayerNextLevelGuide()] : [3, 2];
							case 1:
								return e.sent(), [3, 6];
							case 2:
								return y.default.instance.exactNeedGuide(y.GuideStep.GoHome) ? [4, y.default.instance.tryToShowAfterGameLayerGoHomeGuide()] : [3, 4];
							case 3:
								return e.sent(), [3, 6];
							case 4:
								return y.default.instance.exactNeedGuide(y.GuideStep.PvpOpen) ? [4, y.default.instance.tryToShowPvpOpenGuide()] : [3, 6];
							case 5:
								e.sent(), e.label = 6;
							case 6:
								return this.isValid && Utils.setAllBtnsEnabled(this.node, !0), [2]
						}
					})
				})
			}, t.prototype.updateDisplay = function () {
				var e = this.win_node,
					t = this.fail_node,
					n = this.isWin();
				e.active = n, t.active = !n, (n ? this.win_prize_lbl : this.fail_prize_lbl).string = "" + this.getCoins();
				var o = n ? this.win_level_lbl : this.fail_level_lbl,
					i = this.data.level;
				o.string = "Level " + (i + 1);
				var r = n ? this.win_task_node : this.fail_task_node,
					a = [],
					s = [],
					u = c.default.instance.getEventNames(),
					d = c.default.instance.resolveEvent(this.data.param.targetEvent),
					f = n ? c.default.instance.resolveEvent(this.data.param.finishedEvent) : c.default.instance.resolveEvent(0);
				for (["objectAirball", "cueNoTouchCushion", "potInOrder", "cueNoTouchOtherBall", "doubleBall", "threeBall"].forEach(function (e) {
					d[e] && (a.push(u[e]), s.push(!!f[e]))
				}); r.children.length < a.length;) {
					cc.instantiate(r.children[0]).parent = r
				}
				if (r.children.forEach(function (e, t) {
					(e.active = t < a.length, e.active) && (cc.find("rect/tick", e).active = s[t], e.getChildByName("task_lbl").getComponent(cc.Label).string = a[t])
				}), n) {
					var p = 0 == s.length || s.filter(function (e) {
						return e
					}).length == s.length,
						h = this.retry_btn.node,
						y = this.next_btn.node;
					h.active = !p, y.active = !0, this.allTaskFinished = p, p || Server.reportClick(_.default.ow6)
				}
				this._updateRecordBtn(), this._updateLevelPrizeDisplay(), this.home_badage.active = g.default.instance.hasUpgrade(), n ? SoundMgr.play(l.default.victory1) : SoundMgr.play(l.default.fail)
			}, t.prototype._updateRecordBtn = function () {
				if (this.isWin()) {
					var e = this.double_btn.node,
						t = this.share_record_btn.node,
						n = D.default.instance.hasRecord();
					t.active = n, t.active ? e.active = !1 : e.active = y.default.instance.isGuideFinished()
				}
			}, t.prototype._updateLevelPrizeDisplay = function () {
				var e = this;
				if (this.isWin()) {
					var t = this.data.level,
						n = c.default.instance.getPrevLevelPrizeConfig(t);
					if (n.level == t && DataBus.user.prizeReceived < t) {
						var o = c.default.instance.getPrevLevelPrizeConfig(t - 1).level,
							i = n.level;
						this._progressTo(t, o, i, function () {
							Utils.setAllBtnsEnabled(e.node, !1), b.default.show(n.prizeList).then(function () {
								void 0 !== n.level && n.level >= 0 && (DataBus.user.prizeReceived = n.level), DataBus.user.save(), e._updateLevelPrizeDisplay(), Utils.setAllBtnsEnabled(e.node, !0)
							})
						})
					} else {
						var r = c.default.instance.getNextLevelPrizeConfig(t);
						o = n.level, i = r.level;
						this._progressTo(t, o, i)
					}
				}
			}, t.prototype._progressTo = function (e, t, n, o) {
				var i = this.item_prize_node;
				if (isFinite(n)) {
					i.active = !0;
					var r = i.getComponentInChildren(cc.ProgressBar),
						a = r.node.getChildByName("bar2"),
						s = r.node.getChildByName("pop");
					s.getComponentInChildren(cc.Label).string = "" + (n - e);
					var c = r.progress,
						l = (e - t) / (n - t);
					r.progress = l;
					var u = r.node.width,
						d = function (e) {
							a.width = u * e, s.x = .5 * -u + u * e
						};
					if (c < 0) d(l), o && o();
					else {
						d(c), this._tween && this._tween.stop();
						this._tween = Utils.tweenFloat(c, l, .5, d, function () {
							return o && o()
						})
					}
				} else i.active = !1
			}, t.prototype.isWin = function () {
				return this.data.param.resultType == u.RuleResultType.win
			}, t.prototype.getCoins = function () {
				var e = this.data.level;
				return this.isWin() ? c.default.instance.getLevelCoins(e) + c.default.instance.getLevelEventCoins(e, this.data.param.finishedEvent, this.data.param.targetEvent) : c.default.instance.getLevelFailCoins(e)
			}, t.prototype.receivePrize = function () {
				if (this.prizeReceived) return !1;
				var e = this.getCoins();
				if (e > 0) {
					var t = this.win_prize_node.convertToWorldSpaceAR(cc.Vec2.ZERO);
					return f.default.instance.addCoinsWithAnimation(e * this.bet, t), DataBus.user.save(), this.prizeReceived = !0, !0
				}
				return !1
			}, t.prototype.receivePrizeAndClose = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return this.receivePrize() ? [4, Utils.delayTime(.5, this)] : [3, 2];
							case 1:
								e.sent(), e.label = 2;
							case 2:
								return this.close(), [2]
						}
					})
				})
			}, t.prototype.goHome = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return [4, this.receivePrizeAndClose()];
							case 1:
								return e.sent(), d.default.instance.enterHome(), S.default.showForBackHome(!0) && (w.default.hasLayerToShow = !0), [2]
						}
					})
				})
			}, t.prototype.enterGame = function (e, t, n) {
				return void 0 === t && (t = !1), void 0 === n && (n = !1), r(this, void 0, void 0, function () {
					var o, i, r;
					return a(this, function (a) {
						switch (a.label) {
							case 0:
								return o = n ? this.data.level + 1 : this.data.level, !1, i = n ? "result_next" : this.isWin() ? "result_win_retry" : "result_fail_retry", [4, d.default.instance.canEnterGame(o, !0, i)];
							case 1:
								return a.sent() ? (r = e.convertToWorldSpaceAR(cc.Vec2.ZERO), this.receivePrize(), [4, d.default.instance.enterGame(o, r)]) : [3, 3];
							case 2:
								return a.sent(), this.close(), [3, 6];
							case 3:
								return t ? [4, this.goHome()] : [3, 5];
							case 4:
								return a.sent(), [3, 6];
							case 5:
								Utils.setAllBtnsEnabled(this.node, !0), a.label = 6;
							case 6:
								return [2]
						}
					})
				})
			}, t.prototype.onNextBtnClick = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (t) {
						return this.allTaskFinished ? Server.reportClick(_.default.ow9) : Server.reportClick(_.default.ow8), SoundMgr.play(l.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.enterGame(e.target, !1, !0), [2]
					})
				})
			}, t.prototype.onRetryBtnClick = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (t) {
						return this.isWin() ? Server.reportClick(_.default.ow7) : Server.reportClick(_.default.of6), SoundMgr.play(l.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.enterGame(e.target, !1, !1), [2]
					})
				})
			}, t.prototype.onBtnHomeClick = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						return this.isWin() ? g.default.instance.hasUpgrade() ? Server.reportClick(_.default.ow2) : Server.reportClick(_.default.ow3) : g.default.instance.hasUpgrade() ? Server.reportClick(_.default.of2) : Server.reportClick(_.default.of3), Utils.setAllBtnsEnabled(this.node, !1), SoundMgr.play(l.default.btn), this.goHome(), [2]
					})
				})
			}, t.prototype.onRewardCallback = function (e, t) {
				e == p.RewardFuncParam.NoReward || e == p.RewardFuncParam.Other ? (this.receivePrize(), Utils.setAllBtnsEnabled(t.node, !1, !0)) : e == p.RewardFuncParam.Click ? (this.isWin() && Server.reportClick(_.default.ow4), Utils.setAllBtnsEnabled(this.node, !1)) : e == p.RewardFuncParam.Success ? (this.isWin() && Server.reportClick(_.default.ow5), this.bet = 2, this.receivePrize(), Utils.setAllBtnsEnabled(this.node, !0), Utils.setAllBtnsEnabled(t.node, !1, !0)) : T.GameConfig.VIDEO_FAIL_HAS_PRIZE ? (this.receivePrize(), Utils.setAllBtnsEnabled(this.node, !0), Utils.setAllBtnsEnabled(t.node, !1, !0)) : Utils.setAllBtnsEnabled(this.node, !0)
			}, t.prototype.onBoxBtnClick = function () {
				SoundMgr.play(l.default.btn), Utils.disableAllBtnsAmoment(this.node, .2, this), m.default.show(this.data.level)
			}, t.prototype.onAdsChanged = function () {
				var e = P.default.instance.isValid();
				this.side_ads_btn.node.active = e
			}, t.prototype.onBtnSideAdsClick = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return SoundMgr.play(l.default.btn), Utils.setAllBtnsEnabled(this.node, !1), [4, L.default.getBundle("home")];
							case 1:
								return e.sent(), S.default.show(!0), this.isValid && (this.side_ads_badage.active = !1, Utils.setAllBtnsEnabled(this.node, !0)), [2]
						}
					})
				})
			}, t.prototype.onShareRecordBtnClick = function (e) {
				return r(this, void 0, void 0, function () {
					var t, n;
					return a(this, function (o) {
						switch (o.label) {
							case 0:
								return SoundMgr.play(l.default.btn), B.default.isLogin() && Utils.setAllBtnsEnabled(this.node, !1), [4, D.default.instance.share()];
							case 1:
								return o.sent() && !this.prizeReceived && (this.bet = 2, this.receivePrize(), t = e.target, (n = t.getChildByName("pop")) && (n.active = !1)), Utils.setAllBtnsEnabled(this.node, !0), [2]
						}
					})
				})
			}, t.show = function (e, t, o) {
				void 0 === o && (o = null);
				var i = new O;
				return i.level = e, i.param = t, i.onClose = function () {
					return o && o()
				}, ui.showLayer(n, i)
			}, t.prefabName = "game_newbie://dynamic/layer/afterGameLayer", t = n = i([E, I("Layer/AfterGameLayer")], t)
		}(s.default);
		n.default = A, window.AfterGameLayerLayer = A, cc._RF.pop()
	}, {
		"../../Base/AdsMgr": "AdsMgr",
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/EventID": "EventID",
		"../../Config/GameConfig": "GameConfig",
		"../../Config/ReportID": "ReportID",
		"../../Config/SoundID": "SoundID",
		"../../Data/EconomicLogic": "EconomicLogic",
		"../../Data/wxsdk": "wxsdk",
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../../Runtime/Router": "Router",
		"../../Runtime/ShortcutMgr": "ShortcutMgr",
		"../../Runtime/YdsdkBridge": "YdsdkBridge",
		"../../Runtime/game/item2/ReceiveItemLayer": "ReceiveItemLayer",
		"../../Runtime/game/item2/ShowItemLayer": "ShowItemLayer",
		"../../Runtime/game/rule/RuleTypes": "RuleTypes",
		"../../Runtime/guide/GuideLogic": "GuideLogic",
		"../../Runtime/home/HomeUi": "HomeUi",
		"../../Runtime/home/UpgradeLogic": "UpgradeLogic",
		"../ads/SideAdsLayer": "SideAdsLayer",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"../record/RecordMgr": "RecordMgr"
	}],
	AlignTop: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "e57e4IZMt1DRIedJi+eZop6", "AlignTop");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.forIphoneX = !0, t.margin = 0, t
				}
				return o(t, e), t.prototype.start = function () {
					var e = this;
					this.scheduleOnce(function () {
						var t = cc.view.getVisibleSize(),
							n = t.height / t.width >= 2,
							o = e.forIphoneX && n ? t.height - e.margin - 48 : t.height - e.margin,
							i = e.node.parent.convertToNodeSpaceAR(new cc.Vec2(0, o));
						e.node.y = i.y
					}, 0)
				}, i([s], t.prototype, "forIphoneX", void 0), i([s], t.prototype, "margin", void 0), t = i([a], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	AngleAnimator: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "16eb42tg9RBfqiQFYiyUsc/", "AngleAnimator");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r, a = e("./TouchController"),
			s = e("../PoolTypes"),
			c = 3 / 180 * Math.PI;
		(function (e) {
			e[e.Animation = 0] = "Animation", e[e.Directly = 1] = "Directly"
		})(r || (r = {}));
		var l = cc._decorator,
			u = l.ccclass,
			d = (l.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._angle = 0, t._destAngle = 0, t._mode = r.Directly, t._prevOffset = 0, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "angle", {
					get: function () {
						return this._angle
					},
					set: function (e) {
						this._angle = e, this.node.emit(s.PoolEventId.AngleAnimationChanged, this.angle)
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.start = function () {
					this.getComponent(a.default).node.on(s.PoolEventId.AngleChanged, this.onAngleChanged, this)
				}, t.prototype.onAngleChanged = function (e) {
					var t = this.angle,
						n = this._destAngle = e;
					this.correctAngle(), Math.abs(n - t) > c ? this._mode = r.Animation : (this._mode = r.Directly, this.angle = n), this._prevOffset = 0
				}, t.prototype.correctAngle = function () {
					for (; this.angle - this._destAngle > Math.PI;) this.angle -= 2 * Math.PI;
					for (; this.angle - this._destAngle < -Math.PI;) this.angle += 2 * Math.PI
				}, t.prototype.stopAnimation = function (e) {
					this._mode = r.Directly, e && (this.angle = this._destAngle), this._prevOffset = 0
				}, t.prototype.update = function (e) {
					if (this._mode == r.Animation) {
						var t = this._destAngle - this.angle;
						t * this._prevOffset < 0 || Math.abs(t) < .01 ? (this.angle = this._destAngle, this._mode = r.Directly, this._prevOffset = 0) : (this._prevOffset = t, this.angle += 16 * t * e)
					}
				}, t = i([u], t)
			}(cc.Component));
		n.default = d, cc._RF.pop()
	}, {
		"../PoolTypes": "PoolTypes",
		"./TouchController": "TouchController"
	}],
	BadageMgr: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "67f3bEUWHNNuIwhSh1Qm8uh", "BadageMgr");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}();
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.BadageStatus = void 0;
		var i, r = e("../Data/DataBus_LocalData");
		(function (e) {
			e[e.None = 1] = "None", e[e.Have = 2] = "Have", e[e.Clicked = 3] = "Clicked"
		})(i = n.BadageStatus || (n.BadageStatus = {}));
		var a = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t._friendsBtnBadage = !1, t
			}
			return o(t, e), Object.defineProperty(t, "instance", {
				get: function () {
					return this._instance || (this._instance = new t)
				},
				enumerable: !1,
				configurable: !0
			}), t.prototype._saveData = function () {
				r.default.saveData()
			}, t.prototype.getStatus = function (e) {
				return r.default.data.badageMap[e] || i.None
			}, t.prototype.setStatus = function (e, t) {
				r.default.data.badageMap[e] = t, Utils.callLater(this, this._saveData)
			}, Object.defineProperty(t.prototype, "friendsBtnBadage", {
				get: function () {
					return this._friendsBtnBadage
				},
				enumerable: !1,
				configurable: !0
			}), t._instance = null, t
		}(cc.Component);
		n.default = a, cc._RF.pop()
	}, {
		"../Data/DataBus_LocalData": "DataBus_LocalData"
	}],
	BalanceItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "4ff5cVUmCtGhZ6Ql/1QNCpG", "BalanceItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Lib/tableView/viewCell"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, a.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.init = function (e, t) {
					this.yuan_lbl || Utils.loadVarFromNode(this.node, "_", this), this.data = t[e], this.updateDisplay()
				}, t.prototype.updateDisplay = function () {
					var e = this.data;
					e && (this.title_lbl.string = e.type, this.time_lbl.string = e.date, this.yuan_lbl.string = "￥" + e.value, this.yuan_lbl.node.color = l[Number(e.value) > 0 ? 0 : 1])
				}, t = i([s], t)
			}(r.default));
		n.default = c;
		var l = [(new cc.Color).fromHEX("#34ac31"), (new cc.Color).fromHEX("#fa564b")];
		cc._RF.pop()
	}, {
		"../../Lib/tableView/viewCell": "viewCell"
	}],
	BalanceLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "6e0b9gTQERG54CuyMlb6GeZ", "BalanceLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.BalanceLayerParam = void 0;
		var s = e("../base/LayerBase"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, l.menu),
			f = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.BalanceLayerParam = f;
		var p = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			return o(t, e), t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this)
			}, t.prototype.onDestroy = function () {
				sdk.hideLoading(), e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this.fetchData()
			}, t.prototype.fetchData = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return sdk.showLoading("加载中...", !1), [4, c.default.instance.getBalanceData()];
							case 1:
								return e = t.sent(), sdk.hideLoading(), this.isValid && (this.tv.initTableView(e.length, e), this.blank_node.active = !(e && e.length > 0)), [2]
						}
					})
				})
			}, t.prototype.close = function () {
				var e = this;
				this.node.runAction(cc.sequence(cc.spawn(cc.fadeOut(.2), cc.moveTo(.2, 0, -500)), cc.callFunc(function () {
					e.node.destroy()
				})))
			}, t.prefabName = "home://dynamic/layer/balanceLayer", t = i([u, d("Layer/BalanceLayer")], t)
		}(s.default);
		n.default = p, window.BalanceLayer = p, cc._RF.pop()
	}, {
		"../base/LayerBase": "LayerBase"
	}],
	BallCast: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "e1609LeZVNLIpArO03ZlkP9", "BallCast");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../PoolGlobal"),
			a = e("../Calc"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, Object.defineProperty(t, "instance", {
					get: function () {
						return this._instance || (this._instance = new n)
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.cast = function (e, t, n, o) {
					var i = new cc.Vec2(Math.cos(t), Math.sin(t)),
						s = ["cushion", "pocket_potted"],
						c = this._raycastAll(e, i, o, s),
						l = c.distance,
						u = c.shape,
						d = r.default.radius * r.default.ballCastRatio,
						f = null,
						p = 1 / 0;
					if (n.forEach(function (t) {
						var n = a.default.collisionWithCircle(e, d, t.node.getPosition(), d, i);
						n < p && (p = n, f = t)
					}), f && p <= l) return (g = a.default.getMoreInfoForCollisionWithCircle(e, f.node.getPosition(), i, p)).objectBall = f, this._calcObjectLineMaxLength(g, o, s), g;
					if (isFinite(l)) {
						var h = e.add(i.mul(l)),
							y = u && !u.userData ? u.reflect(i, h) : null;
						a.CalcShapeFactory.recover(u);
						var g = {
							distance: l,
							pos: h,
							objectDir: null,
							objectPos: null,
							objectBall: null,
							objectMaxLength: 1 / 0,
							selfDir: null,
							reflectDir: y,
							reflectMaxLength: 1 / 0
						};
						return this._calcReflectLineMaxLength(g, o, s), g
					}
				}, t.prototype.distanceForBall = function (e, t, n, o) {
					var i = new cc.Vec2(Math.cos(t), Math.sin(t)),
						s = r.default.radius * r.default.ballOverlapRatio,
						c = null,
						l = 1 / 0;
					return n.forEach(function (t) {
						var n = a.default.collisionWithCircle(e, s, t.node.getPosition(), s, i);
						n < l && (l = n, c = t)
					}), c && isFinite(l) ? l : 1 / 0
				}, t.prototype.distanceForCushion = function (e, t, n) {
					var o = new cc.Vec2(Math.cos(t), Math.sin(t)),
						i = this._distanceForPocket(e, o, n),
						r = this._raycastAll(e, o, n, ["cushion", "pocket_potted"]),
						a = r.distance;
					r.shape;
					return a -= .1, Math.min(i, a)
				}, t.prototype._distanceForPocket = function (e, t, n) {
					var o = n.getComponentsInChildren(cc.PhysicsCircleCollider).filter(function (e) {
						return "pocket" == e.node.group
					}),
						i = r.default.radius,
						s = 1 / 0;
					return o.forEach(function (o) {
						var r = Utils.covertToNodeSpaceAR(o.node, n, cc.Vec2.ZERO),
							c = o.radius + .1,
							l = a.default.collisionWithCircle(e, i, r, c, t);
						l < s && (s = l)
					}), s
				}, t.prototype._collidersToShapes = function (e, t) {
					var n = [],
						o = new Map;
					return e.forEach(function (e) {
						if (!o.get(e))
							if (o.set(e, !0), e instanceof cc.PhysicsBoxCollider) {
								var i = e;
								n.push.apply(n, a.CalcShapeFactory.fromBox(i.node.getPosition(), i.size.width, i.size.height, cc.misc.degreesToRadians(i.node.angle), !1))
							} else if (e instanceof cc.PhysicsCircleCollider) {
								i = e;
								var r = Utils.covertToNodeSpaceAR(i.node, t, cc.Vec2.ZERO),
									s = i.radius;
								"pocket" == i.node.group && (s += .1), n.push(a.CalcShapeFactory.createCircle(r, s))
							} else if (e instanceof cc.PhysicsChainCollider) {
								i = e;
								var c = a.CalcShapeFactory.fromPolygon(i.node.getPosition(), i.points, cc.misc.degreesToRadians(i.node.angle), i.loop, !0);
								"pocket_potted" == i.node.group && c.forEach(function (e) {
									return e.userData = 1
								}), n.push.apply(n, c)
							}
					}), n
				}, t.prototype._getDistanceWithCollider = function (e, t, n, o, i) {
					var r = 1 / 0;
					if (o instanceof cc.PhysicsBoxCollider) {
						var s = o;
						r = a.default.collisionWithBox(e, t, n, s.node.getPosition(), s.size.width, s.size.height, cc.misc.degreesToRadians(s.node.angle), !1)
					} else if (o instanceof cc.PhysicsCircleCollider) {
						s = o;
						var c = Utils.covertToNodeSpaceAR(s.node, i, cc.Vec2.ZERO),
							l = s.radius;
						"pocket" == s.node.group && (l += .1), r = a.default.collisionWithCircle(e, t, c, l, n)
					} else if (o instanceof cc.PhysicsChainCollider) {
						s = o;
						r = a.default.collisionWithPolygon(e, t, n, s.node.getPosition(), s.points, cc.misc.degreesToRadians(s.node.angle), s.loop, !0)
					}
					return r
				}, t.prototype._raycastAll = function (e, t, n, o) {
					var i = r.default.radius,
						s = 1 / 0,
						c = null,
						l = [];
					[this._raycast(e, t, -i, n, o), this._raycast(e, t, 0, n, o), this._raycast(e, t, i, n, o)].filter(function (e) {
						return e
					}).forEach(function (e) {
						var t = e.collider.node.getComponentsInChildren(cc.PhysicsCollider);
						l.push.apply(l, t)
					});
					var u = this._collidersToShapes(l, n);
					return u.forEach(function (n) {
						var o = n.collision(e, i, t);
						o < s && (s = o, c = n)
					}), u.forEach(function (e) {
						e != c && a.CalcShapeFactory.recover(e)
					}), u.length = 0, {
						distance: s,
						shape: c
					}
				}, t.prototype._raycast = function (e, t, n, o, i) {
					var r = t.rotate(Math.PI / 2).mul(n),
						a = e.add(r),
						s = a.add(t.mul(1e5)),
						c = o.convertToWorldSpaceAR(a),
						l = o.convertToWorldSpaceAR(s),
						u = 1,
						d = null;
					if (cc.director.getPhysicsManager().rayCast(c, l, cc.RayCastType.All).forEach(function (e) {
						var t = e.collider.node.group;
						i.indexOf(t) > -1 && e.fraction < u && (u = e.fraction, d = e)
					}), d) return d.point = o.convertToNodeSpaceAR(d.point), d.point.subSelf(r), d
				}, t.prototype._calcObjectLineMaxLength = function (e, t, n) {
					var o = r.default.radius,
						i = (new cc.Vec2).set(e.objectPos),
						a = (new cc.Vec2).set(e.objectDir).normalizeSelf(),
						s = [this._raycast(i, a, -o, t, n), this._raycast(i, a, o, t, n)].filter(function (e) {
							return e
						}).map(function (e) {
							return e.point.sub(i).len()
						});
					0 == s.length && (e.objectMaxLength = 1 / 0);
					var c = Math.min.apply(Math, s) - o;
					e.objectMaxLength = c
				}, t.prototype._calcReflectLineMaxLength = function (e, t, n) {
					if (e.reflectDir) {
						var o = r.default.radius,
							i = (new cc.Vec2).set(e.pos),
							a = (new cc.Vec2).set(e.reflectDir).normalizeSelf(),
							s = [this._raycast(i, a, -o, t, n), this._raycast(i, a, o, t, n)].filter(function (e) {
								return e
							}).map(function (e) {
								return e.point.sub(i).len()
							});
						0 == s.length && (e.reflectMaxLength = 1 / 0);
						var c = Math.min.apply(Math, s) - o;
						e.reflectMaxLength = c
					}
				}, t._instance = null, t = n = i([c], t)
			}(cc.Component));
		n.default = l, cc._RF.pop()
	}, {
		"../Calc": "Calc",
		"../PoolGlobal": "PoolGlobal"
	}],
	BallContact: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7abf690GJFOd6ENO0F8h3hQ", "BallContact");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../../Config/SoundID"),
			a = e("./BallEvent"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.prototype.onBeginContact = function (e, t, o) {
					"pocket" == o.node.group ? (n.runtimeData && n.runtimeData.addPocketCollide(e, t, o), this.onPottedCallback && this.onPottedCallback(this.node, e, t, o), this.node.emit(a.BallEventId.Potted, this.node, e, t, o)) : "cushion" == o.node.group ? (n.runtimeData && n.runtimeData.addCushionCollide(e, t, o), this.onCushionCollideCallback && this.onCushionCollideCallback(this.node, e, t, o), this.node.emit(a.BallEventId.CushionCollide, this.node, e, t, o)) : "ball" == o.node.group && (SoundMgr.playEffectForQQ(r.default.Collide), n.runtimeData && n.runtimeData.addBallCollide(e, t, o), this.onBallCollideCallback && this.onBallCollideCallback(this.node, e, t, o), this.node.emit(a.BallEventId.BallCollide, this.node, e, t, o))
				}, t.prototype.onEndContact = function (e, t, n) { }, t.prototype.onPreSolve = function (e, t, n) { }, t.prototype.onPostSolve = function (e, t, n) {
					this.onPostSolveCallback && this.onPostSolveCallback(this.node, e, t, n), this.node.emit(a.BallEventId.PostSolve, this.node, e, t, n)
				}, t.runtimeData = null, t = n = i([c], t)
			}(cc.Component));
		n.default = l, window.BallContact = l, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"./BallEvent": "BallEvent"
	}],
	BallCue: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9244dFpFjdFz6RR/ctEitfd", "BallCue");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../PoolGlobal"),
			c = e("./CueSwitcher"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.rotaterNode = null, t.transformerNode = null, t.shadowNode = null, t.cueNode = null, t.cueIndex = 0, t._angle = 0, t._force = 0, t._maxOffset = 250, t._shootTween = null, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "angle", {
					get: function () {
						return this._angle
					},
					set: function (e) {
						this._angle = e, this.updateDisplay(!1)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "force", {
					get: function () {
						return this._force
					},
					set: function (e) {
						this._force = e, this.updateDisplay()
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "maxOffset", {
					get: function () {
						return this._maxOffset
					},
					set: function (e) {
						this._maxOffset = e, this.updateDisplay()
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onLoad = function () {
					this.rotaterNode = this.node.getChildByName("rotater"), this.transformerNode = this.rotaterNode.getChildByName("transformer"), this.shadowNode = this.transformerNode.getChildByName("shadow"), this.cueNode = this.transformerNode.getChildByName("cue"), this.transformerNode.active = !1
				}, t.prototype.start = function () {
					this.node.zIndex = s.default.ballCueZIndex
				}, t.prototype.onDestroy = function () {
					this.stopShootAnimation()
				}, t.prototype.updateDisplay = function (e) {
					void 0 === e && (e = !0);
					var t = this.angle + Math.PI;
					this.rotaterNode.angle = cc.misc.radiansToDegrees(t), this.transformerNode.x = this.force * this.maxOffset, this.cueNode.getComponent(c.default).updateShadowDisplay(this.node.getPosition(), t), this.transformerNode.active = !0, e && (this.transformerNode.opacity = 255, this.stopShootAnimation())
				}, t.prototype.setCueIndex = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							return this.cueIndex = e, this.cueNode.getComponent(c.default).setCueId(e), [2]
						})
					})
				}, t.prototype.show = function (e) {
					this._force = 0, this.node.setPosition(e), this.transformerNode.active = !0, this.transformerNode.opacity = 0, this.transformerNode.x = 100;
					this.stopShootAnimation(), this._shootTween = cc.tween(this.transformerNode).parallel(cc.tween().to(.2, {
						x: 0
					}), cc.tween().to(.2 * .75, {
						opacity: 255
					})).start()
				}, t.prototype.hide = function () {
					this.transformerNode.active = !1
				}, t.prototype.playShootAnimation = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n, o = this;
						return a(this, function (i) {
							return e = .11, t = .08, n = .5, this.stopShootAnimation(), [2, new Promise(function (i, r) {
								o._shootTween = cc.tween(o.transformerNode).to(e, {
									x: -10
								}, {
									easing: cc.easing.sineIn
								}).call(i).delay(t).parallel(cc.tween().to(n, {
									x: 300
								}), cc.tween().delay(.45 * n).to(.65 * n, {
									opacity: 0
								})).call(function () {
									return o.transformerNode.active = !1
								}).start()
							})]
						})
					})
				}, t.prototype.stopShootAnimation = function () {
					this._shootTween && this._shootTween.stop(), this._shootTween = null
				}, t = i([u], t)
			}(cc.Component));
		n.default = d, cc._RF.pop()
	}, {
		"../PoolGlobal": "PoolGlobal",
		"./CueSwitcher": "CueSwitcher"
	}],
	BallEvent: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9742aZAtXBCQr1Kmklp8EO0", "BallEvent"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.BallEventId = void 0,
			function (e) {
				e.Potted = "Potted", e.CushionCollide = "CushionCollide", e.BallCollide = "BallCollide", e.PostSolve = "PostSolve", e.RemoveBallAfterPotted = "RemoveBallAfterPotted", e.BallClick = "BallClick", e.CueBallTouchStart = "CueBallTouchStart"
			}(n.BallEventId || (n.BallEventId = {})), cc._RF.pop()
	}, {}],
	BallExtra: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d35b1sD+L1JXrBa5q6sJckT", "BallExtra");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s, c = e("./BallRender"),
			l = e("../PoolTypes"),
			u = e("../../../Res/ResLoader"),
			d = e("../PoolGlobal");
		(function (e) {
			e[e.by = 0] = "by", e[e.to = 1] = "to"
		})(s || (s = {}));
		var f = 16.5,
			p = cc._decorator,
			h = p.ccclass,
			y = p.property,
			g = (p.executeInEditMode, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.subNodeParent = null, t.showShadowNode = !0, t.showRenderNode = !0, t.showHighlightNode = !0, t.showTargetHintNode = !0, t._shadowNode = null, t._renderNode = null, t._highlightNode = null, t._targetHintNode = null, t._ballNumber = -1, t._ballStatus = l.BallStatus.OnTable, t._ballRadius = f, t._ballPosition = cc.Vec2.ZERO, t._lightPosition = new cc.Vec3(0, 0, 800), t._targetHintVisible = !1, t._rotateVec = new cc.Vec3, t._rotateType = s.by, t._rotateQuat = new cc.Quat, t._ballStatusForShadowDirty = !0, t._ballStatusForRenderDirty = !0, t._ballStatusForHighlightDirty = !0, t._ballStatusForTargetHintDirty = !0, t._ballNumberForRenderDirty = !0, t._ballRadiusForShadowDirty = !0, t._ballRadiusForRenderDirty = !0, t._ballRadiusForHighlightDirty = !0, t._ballRadiusForTargetHintDirty = !0, t._ballPositionForShadowDirty = !0, t._ballPositionForRenderDirty = !0, t._lightDir = new cc.Vec3, t._ballPositionForHighlightDirty = !0, t._ballPositionForTargetHintDirty = !0, t._lightPositionForRenderDirty = !0, t._targetHintVisibleDirty = !0, t._rotateForRenderDirty = !0, t
				}
				return o(t, e), t.prototype.setSubNodeParent = function (e) {
					this.subNodeParent = e
				}, t.prototype.onEnable = function () {
					this.addAll()
				}, t.prototype.onDisable = function () {
					this.removeAll()
				}, t.prototype.addAll = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return [4, Promise.all([this.showRenderNode && this._addNode("_renderNode", "game_newbie://dynamic/prefab_item/ballRender", [this.updateBallStatusForRender, this.updateBallRadiusForRender, this.updateBallNumberForRender, this.updateBallPositionForRender, this.updateLightPositionForRender, this.updateRotateForRender]), this.showShadowNode && this._addNode("_shadowNode", "game_newbie://dynamic/prefab_item/ballShadow", [this.updateBallStatusForShadow, this.updateBallRadiusForShadow, this.updateBallPositionForShadow]), this.showHighlightNode && this._addNode("_highlightNode", "game_newbie://dynamic/prefab_item/ballHighlight", [this.updateBallStatusForHighlight, this.updateBallRadiusForHighlight, this.updateBallPositionForHighlight]), this.showTargetHintNode && this._addNode("_targetHintNode", "game_newbie://dynamic/prefab_item/ballTargetHint", [this.updateBallStatusForTargetHint, this.updateBallRadiusForTargetHint, this.updateTargetHintVisible, this.updateBallPositionForTargetHint])].filter(function (e) {
										return e
									}))];
								case 1:
									return e.sent(), [2]
							}
						})
					})
				}, t.prototype.removeAll = function () {
					this._removeNode("_shadowNode"), this._removeNode("_renderNode"), this._removeNode("_highlightNode"), this._removeNode("_targetHintNode")
				}, t.prototype.setTargetHintVisible = function (e) {
					this._targetHintVisible != e && (this._targetHintVisible = e, this._targetHintVisibleDirty = !0, this.updateTargetHintVisible())
				}, t.prototype.setBallNumber = function (e) {
					this._ballNumber != e && (this._ballNumber = e, this._ballNumberForRenderDirty = !0, this.updateBallNumberForRender())
				}, t.prototype.setBallStatus = function (e) {
					this._ballStatus != e && (this._ballStatus = e, this._ballStatusForShadowDirty = !0, this._ballStatusForRenderDirty = !0, this._ballStatusForHighlightDirty = !0, this._ballStatusForTargetHintDirty = !0, this.updateBallStatusForShadow(), this.updateBallStatusForRender(), this.updateBallStatusForHighlight(), this.updateBallStatusForTargetHint())
				}, t.prototype.setBallRadius = function (e) {
					this._ballRadius != e && (this._ballRadius = e, this._ballRadiusForShadowDirty = !0, this._ballRadiusForRenderDirty = !0, this._ballRadiusForHighlightDirty = !0, this._ballRadiusForTargetHintDirty = !0, this.updateBallRadiusForShadow(), this.updateBallRadiusForRender(), this.updateBallRadiusForHighlight(), this.updateBallRadiusForTargetHint())
				}, t.prototype.setBallPosition = function (e) {
					this._ballPosition.equals(e) || (this._ballPosition.set(e), this._ballPositionForShadowDirty = !0, this._ballPositionForRenderDirty = !0, this._ballPositionForHighlightDirty = !0, this._ballPositionForTargetHintDirty = !0, this.updateBallPositionForShadow(), this.updateBallPositionForRender(), this.updateBallPositionForHighlight(), this.updateBallPositionForTargetHint())
				}, t.prototype.setLightPosition = function (e) {
					this._lightPosition.equals(e) || (this._lightPosition.set(e), this._lightPositionForRenderDirty = !0, this.updateLightPositionForRender())
				}, t.prototype.rotateTo = function (e) {
					this._rotateVec.set(e).mulSelf(180 / Math.PI), this._rotateQuat.fromEuler(this._rotateVec), this._rotateForRenderDirty = !0, this.updateRotateForRender()
				}, t.prototype.rotateBy = function (e) {
					cc.Quat.rotateAround(this._rotateQuat, this._rotateQuat, cc.Vec3.RIGHT, e.x), cc.Quat.rotateAround(this._rotateQuat, this._rotateQuat, cc.Vec3.UP, e.y), cc.Quat.rotateAround(this._rotateQuat, this._rotateQuat, cc.Vec3.FORWARD, e.z), this._rotateForRenderDirty = !0, this.updateRotateForRender()
				}, t.prototype._addNode = function (e, t, n) {
					return r(this, void 0, void 0, function () {
						var o, i, r = this;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return o = this.subNodeParent || this.node.parent, this.isValid && o && o.isValid ? (this._removeNode(e), [4, u.default.getNodeRes(t, !1, !0, 1, 15)]) : [2, null];
								case 1:
									return i = a.sent(), this.isValid && o && o.isValid ? (this[e] = i, i.parent = o, i.position = this.node.position, n.forEach(function (e) {
										return e.call(r, !0)
									}), [2, i]) : (u.default.removeNode(i), [2, null])
							}
						})
					})
				}, t.prototype._removeNode = function (e) {
					if (this[e] && this[e].parent && this[e].isValid) {
						if (256 & this[e].parent._objFlags) return void console.log(e, "节点没有回收，因为_objFlags");
						u.default.removeNode(this[e]), this[e] = null
					} else this[e] && console.log(e, "节点没有回收，因为parent")
				}, t.prototype.updateBallStatusForShadow = function (e) {
					if (void 0 === e && (e = !1), (this._ballStatusForShadowDirty || e) && this._shadowNode) {
						switch (this._ballStatus) {
							case l.BallStatus.OnTable:
								this._shadowNode.active = !0, this._shadowNode.zIndex = d.default.ballShadowZIndex;
								break;
							case l.BallStatus.Potting:
								this._shadowNode.active = !1, this._shadowNode.zIndex = d.default.pottedBallShadowZIndex;
								break;
							case l.BallStatus.Potted:
								this._shadowNode.active = !1
						}
						this._ballStatusForShadowDirty = !1
					}
				}, t.prototype.updateBallStatusForRender = function (e) {
					if (void 0 === e && (e = !1), (this._ballStatusForRenderDirty || e) && this._renderNode) {
						var t = this._renderNode.getComponent(c.default);
						switch (this._ballStatus) {
							case l.BallStatus.OnTable:
								this._renderNode.active = !0, this._renderNode.zIndex = d.default.ballZIndex, t.setBrightness(.8);
								break;
							case l.BallStatus.Potting:
								this._renderNode.active = !0, this._renderNode.zIndex = d.default.pottedBallZIndex, t.setBrightness(.4);
								break;
							case l.BallStatus.Potted:
								this._renderNode.active = !1
						}
						this._ballStatusForRenderDirty = !1
					}
				}, t.prototype.updateBallStatusForHighlight = function (e) {
					if (void 0 === e && (e = !1), (this._ballStatusForHighlightDirty || e) && this._highlightNode) {
						switch (this._ballStatus) {
							case l.BallStatus.OnTable:
								this._highlightNode.active = !0, this._highlightNode.opacity = 255, this._highlightNode.zIndex = d.default.ballHighlightZIndex;
								break;
							case l.BallStatus.Potting:
								this._highlightNode.active = !0, this._highlightNode.opacity = 60, this._highlightNode.zIndex = d.default.pottedBallHighlightZIndex;
								break;
							case l.BallStatus.Potted:
								this._highlightNode.active = !1
						}
						this._ballStatusForHighlightDirty = !1
					}
				}, t.prototype.updateBallStatusForTargetHint = function (e) {
					if (void 0 === e && (e = !1), (this._ballStatusForTargetHintDirty || e) && this._targetHintNode) {
						switch (this._ballStatus) {
							case l.BallStatus.OnTable:
								this._targetHintNode.zIndex = d.default.targetHintZIndex, this._targetHintNode.active = this._targetHintVisible;
								break;
							case l.BallStatus.Potting:
							case l.BallStatus.Potted:
								this._targetHintNode.active = !1
						}
						this._ballStatusForTargetHintDirty = !1
					}
				}, t.prototype.updateBallNumberForRender = function (e) {
					return void 0 === e && (e = !1), r(this, void 0, void 0, function () {
						var t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return (this._ballNumberForRenderDirty || e) && this._renderNode ? (this._ballNumberForRenderDirty = !1, (t = this._ballNumber) >= 0 ? [4, c.default.getBallSpriteFrame(t)] : [3, 2]) : [3, 3];
								case 1:
									return n = o.sent(), this._renderNode && this.isValid && this._ballNumber == t && this._renderNode.getComponent(c.default).setBallSpriteFrame(n), [3, 3];
								case 2:
									this._renderNode.getComponent(c.default).setBallSpriteFrame(null), o.label = 3;
								case 3:
									return [2]
							}
						})
					})
				}, t.prototype.updateBallRadiusForShadow = function (e) {
					void 0 === e && (e = !1), (this._ballRadiusForShadowDirty || e) && this._shadowNode && (this._shadowNode.scale = this._ballRadius / f, this._ballRadiusForShadowDirty = !1)
				}, t.prototype.updateBallRadiusForRender = function (e) {
					(void 0 === e && (e = !1), this._ballRadiusForRenderDirty || e) && (this._renderNode && (this._renderNode.scale = this._ballRadius / f, this._renderNode.getComponent(c.default).setRadius(this._ballRadius), this._ballRadiusForRenderDirty = !1))
				}, t.prototype.updateBallRadiusForHighlight = function (e) {
					void 0 === e && (e = !1), (this._ballRadiusForHighlightDirty || e) && this._highlightNode && (this._highlightNode.scale = this._ballRadius / f, this._ballRadiusForHighlightDirty = !1)
				}, t.prototype.updateBallRadiusForTargetHint = function (e) {
					void 0 === e && (e = !1), (this._ballRadiusForTargetHintDirty || e) && this._targetHintNode && (this._targetHintNode.scale = this._ballRadius / f, this._ballRadiusForTargetHintDirty = !1)
				}, t.prototype.updateBallPositionForShadow = function (e) {
					void 0 === e && (e = !1), (this._ballPositionForShadowDirty || e) && this._shadowNode && (this._shadowNode.setPosition(this._ballPosition.mul(1.01)), this._ballPositionForShadowDirty = !1)
				}, t.prototype.updateBallPositionForRender = function (e) {
					void 0 === e && (e = !1), (this._ballPositionForRenderDirty || e) && this._renderNode && (this._renderNode.setPosition(this._ballPosition), this.updateLightDir(), this._ballPositionForRenderDirty = !1)
				}, t.prototype.updateLightDir = function () {
					if (this._renderNode) {
						var e = this._renderNode.getComponent(c.default);
						this._lightDir.x = this._lightPosition.x - this._ballPosition.x, this._lightDir.y = -(this._lightPosition.y - this._ballPosition.y), this._lightDir.z = this._lightPosition.z, e.setLightDir(this._lightDir.normalizeSelf())
					}
				}, t.prototype.updateBallPositionForHighlight = function (e) {
					void 0 === e && (e = !1), (this._ballPositionForHighlightDirty || e) && this._highlightNode && (this._highlightNode.setPosition(this._ballPosition), this._ballPositionForHighlightDirty = !1)
				}, t.prototype.updateBallPositionForTargetHint = function (e) {
					void 0 === e && (e = !1), (this._ballPositionForTargetHintDirty || e) && this._targetHintNode && (this._targetHintNode.setPosition(this._ballPosition), this._ballPositionForTargetHintDirty = !1)
				}, t.prototype.updateLightPositionForRender = function (e) {
					void 0 === e && (e = !1), (this._lightPositionForRenderDirty || e) && this._renderNode && (this.updateLightDir(), this._lightPositionForRenderDirty = !1)
				}, t.prototype.updateTargetHintVisible = function (e) {
					void 0 === e && (e = !1), (this._targetHintVisibleDirty || e) && this._targetHintNode && (this._targetHintNode.active = this._targetHintVisible && this._ballStatus == l.BallStatus.OnTable, this._targetHintVisibleDirty = !1)
				}, t.prototype.updateRotateForRender = function (e) {
					(void 0 === e && (e = !1), this._rotateForRenderDirty || e) && (this._renderNode && (this._renderNode.getComponent(c.default).setRotateQuat(this._rotateQuat), this._rotateForRenderDirty = !1))
				}, i([y({
					type: cc.Node,
					displayName: "子节点的父节点",
					tooltip: "不设置默认为自身父节点"
				})], t.prototype, "subNodeParent", void 0), i([y({
					displayName: "显示阴影节点"
				})], t.prototype, "showShadowNode", void 0), i([y({
					displayName: "显示渲染节点"
				})], t.prototype, "showRenderNode", void 0), i([y({
					displayName: "显示高光节点"
				})], t.prototype, "showHighlightNode", void 0), i([y({
					displayName: "显示目标球提示节点"
				})], t.prototype, "showTargetHintNode", void 0), t = i([h], t)
			}(cc.Component));
		n.default = g, cc._RF.pop()
	}, {
		"../../../Res/ResLoader": "ResLoader",
		"../PoolGlobal": "PoolGlobal",
		"../PoolTypes": "PoolTypes",
		"./BallRender": "BallRender"
	}],
	BallManager: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "c6339NZDwZNAYQDLMuylBBE", "BallManager");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../../Res/ResLoader"),
			c = e("../ball/BallNode"),
			l = e("../PoolGlobal"),
			u = e("../PoolTypes"),
			d = e("../../../Effect/EffectMgr"),
			f = e("../ball/BallEvent"),
			p = e("../Calc"),
			h = cc._decorator,
			y = h.ccclass,
			g = (h.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._stageNode = null, t.ballList = [], t.forceRatio = 1, t._objectBalls = null, t._objectBallsDirty = !0, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "ballRunning", {
					get: function () {
						return this._ballRunning
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "shootTimes", {
					get: function () {
						return this._shootTimes
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onLoad = function () {
					this._stageNode = this.node, this.schedule(this.updateForRunning, .1, 1 / 0, 0)
				}, t.prototype.shootBall = function (e, t, n, o) {
					return r(this, void 0, void 0, function () {
						var i, r, s, c, d;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return [4, this.getBall(0)];
								case 1:
									return (i = a.sent()) && (r = i.getComponent(cc.RigidBody), s = e.rotate(-Math.PI / 2).mulSelf(o * l.default.englishRatio), c = e.mul(t * l.default.forceRatio * this.forceRatio), d = e.mul(n * t * l.default.rollRatio), i.setBallRollVelocity(d), r.applyLinearImpulse(c, r.getWorldCenter().addSelf(s), !0), this._ballRunning = !0, this.ballList.forEach(function (e) {
										return e && e.startUpdate(!1)
									}), this.node.emit(u.PoolEventId.BallRunning), this.startDraw()), ++this._shootTimes, [2]
							}
						})
					})
				}, t.prototype.getOnTableBalls = function () {
					return this.ballList.filter(function (e) {
						return e && e.getBallStatus() == u.BallStatus.OnTable
					})
				}, t.prototype.getObjectBalls = function () {
					return this._ballRunning ? this.ballList.filter(function (e) {
						return e && 0 != e.getBallNum() && e.getBallStatus() == u.BallStatus.OnTable
					}) : (this._objectBalls && !this._objectBallsDirty || (this._objectBalls = this.ballList.filter(function (e) {
						return e && 0 != e.getBallNum() && e.getBallStatus() == u.BallStatus.OnTable
					})), this._objectBalls)
				}, t.prototype.getCueBall = function () {
					return this.ballList[0]
				}, t.prototype.getNearestBall = function () {
					return this.getNearestBallInList(this.ballList)
				}, t.prototype.getNearestBallInList = function (e) {
					var t = this.getCueBall();
					if (t && t.getBallStatus() == u.BallStatus.OnTable) {
						for (var n = 1 / 0, o = null, i = t.node.getPosition(), r = 0, a = e.length; r < a; ++r) {
							var s = e[r];
							if (s && s != t && s.getBallStatus() == u.BallStatus.OnTable) {
								var c = i.sub(s.node.getPosition()).lengthSqr();
								c < n && (n = c, o = s)
							}
						}
						return o
					}
					return null
				}, t.prototype.getNearestNoBlockAngleInList = function (e) {
					var t = this.getCueBall();
					if (t && t.getBallStatus() == u.BallStatus.OnTable) {
						var n = cc.v2(t.node.getPosition()),
							o = (e = e.filter(function (e) {
								return e && e != t && e.getBallStatus() == u.BallStatus.OnTable
							})).map(function (e) {
								var t = cc.v2(e.node.getPosition());
								return {
									ball: e,
									pos: t,
									distance: n.sub(t).len()
								}
							});
						o = o.sort(function (e, t) {
							return e.distance - t.distance
						});
						for (var i = this.ballList.filter(function (e) {
							return e && e != t && e.getBallStatus() == u.BallStatus.OnTable
						}).map(function (e) {
							var t = o.findIndex(function (t) {
								return t.ball == e
							});
							return t > -1 ? o[t].pos : cc.v2(e.node.getPosition())
						}), r = l.default.radius, a = 0, s = o.length; a < s; ++a) {
							var c = o[a].pos,
								d = p.default.getAvoidBlockDirection(n, c, i, r);
							if (d) return Math.atan2(d.v.y, d.v.x)
						}
					}
				}, t.prototype.getBall = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o = this;
						return a(this, function (i) {
							switch (i.label) {
								case 0:
									return (t = this.ballList[e]) ? [3, 2] : [4, s.default.getNodeRes("game_newbie://dynamic/prefab_item/ball", !1, !0, 1, 15)];
								case 1:
									n = i.sent(), this.isValid ? ((t = n.getComponent(c.default)).reset(), t.setBallNum(e), t.updateBallRadius(), this.bindBallEvent(n), n.parent = this._stageNode, this.ballList[e] = t, t.startUpdate(!this._ballRunning), this.scheduleOnce(function () {
										o.node.emit(u.PoolEventId.AddBall, e)
									}, 0)) : (s.default.removeNode(n), t = null), i.label = 2;
								case 2:
									return t && (t.setBallStatus(u.BallStatus.OnTable), t.randomRotate()), [2, t]
							}
						})
					})
				}, t.prototype.removeBall = function (e) {
					var t = this.ballList[e];
					t && (this.unbindBallEvent(t.node), s.default.removeNode(t.node), this.ballList[e] = null)
				}, t.prototype.removeAllBalls = function () {
					var e = this;
					this.ballList.forEach(function (t) {
						t && (e.unbindBallEvent(t.node), s.default.removeNode(t.node))
					}), this.ballList.length = 0
				}, t.prototype.unbindBallEvent = function (e) {
					e.off(f.BallEventId.Potted), e.off(f.BallEventId.BallClick), e.off(f.BallEventId.BallCollide)
				}, t.prototype.bindBallEvent = function (e) {
					e.off(f.BallEventId.Potted), e.on(f.BallEventId.Potted, this.onPotted, this);
					var t = e.ballNum;
					e.off(f.BallEventId.BallClick), 0 != t && e.on(f.BallEventId.BallClick, this.onClickBall, this), e.off(f.BallEventId.BallCollide), 0 == t && e.on(f.BallEventId.BallCollide, this.onBallCollide, this)
				}, t.prototype.onBallCollide = function (e, t, n, o) {
					var i = this,
						r = o.node;
					this.scheduleOnce(function () {
						i._ballRunning && i.node.emit(u.PoolEventId.CueBallCollide, e, r)
					}, 0)
				}, t.prototype.onPotted = function (e, t, n, o) {
					var i = this,
						r = e.ballNum;
					this.ballList[r] = null, this.unbindBallEvent(e), this.scheduleOnce(function () {
						i._ballRunning && i.node.emit(u.PoolEventId.Potted, r, e, o.node)
					}, 0)
				}, t.prototype.onClickBall = function (e, t) {
					var n = e.getComponent(c.default);
					this._ballRunning || n.getBallStatus() != u.BallStatus.OnTable || this.playClickEffect(n.node)
				}, t.prototype.playClickEffect = function (e) {
					var t = Utils.covertToNodeSpaceAR(e, d.default.root, cc.Vec2.ZERO);
					d.default.play("game_newbie://dynamic/prefab_effect/ballclick", t)
				}, t.prototype.setAllBallsListenerEnabled = function (e) {
					this.ballList.forEach(function (t) {
						t && (t.getRigidBody().enabledContactListener = e)
					})
				}, t.prototype.initBallsForEight = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									this._ballRunning = !1, this.removeAllBalls(), e = 0, n.label = 1;
								case 1:
									return e <= 15 ? [4, this.getBall(e)] : [3, 4];
								case 2:
									if (!(t = n.sent())) return [2];
									t.setBallPosition(this.makeNoise(this.getBallPos(e), .0495)), n.label = 3;
								case 3:
									return ++e, [3, 1];
								case 4:
									return this._shootTimes = 0, [2]
							}
						})
					})
				}, t.prototype.initBalls = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o, i, r, s;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									this._ballRunning = !1, this.removeAllBalls(), t = Utils.shuffle([1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15]), n = 0, o = e.length, a.label = 1;
								case 1:
									return n < o ? (i = e[n], r = 0 == n ? 0 : t[n], [4, this.getBall(r)]) : [3, 4];
								case 2:
									if (!(s = a.sent())) return [2];
									s.setBallPosition(i), a.label = 3;
								case 3:
									return ++n, [3, 1];
								case 4:
									return this._shootTimes = 0, [2]
							}
						})
					})
				}, t.prototype.initBallsByBallNum = function (e, t) {
					return r(this, void 0, void 0, function () {
						var n, o, i, r, s;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									this._ballRunning = !1, this.removeAllBalls(), n = 0, o = e.length, a.label = 1;
								case 1:
									return n < o ? (i = t[n], r = e[n], [4, this.getBall(r)]) : [3, 4];
								case 2:
									if (!(s = a.sent())) return [2];
									s.setBallPosition(i), a.label = 3;
								case 3:
									return ++n, [3, 1];
								case 4:
									return this._shootTimes = 0, [2]
							}
						})
					})
				}, t.prototype.getBallPos = function (e) {
					if (0 == e) return new cc.Vec2(0, -250.84);
					var t = [7, 9, 3, 2, 13, 10, 0, 4, 1, 12, 8, 6, 5, 14, 11][e - 1],
						n = [0, 1, 3, 6, 10, 1 / 0].findIndex(function (e) {
							return t < e
						}) - 1,
						o = t - n * (n + 1) / 2,
						i = l.default.radius + .1;
					return new cc.Vec2(i * (2 * o - n), 233.5 + i * n * 1.732)
				}, t.prototype.makeNoise = function (e, t) {
					return e.x += (2 * Math.random() - 1) * t, e.y += (2 * Math.random() - 1) * t, e
				}, t.prototype.getBallResetPosition = function (e, t) {
					void 0 === e && (e = 0), void 0 === t && (t = new cc.Vec2);
					for (var n = l.default.radius + .1, o = this.ballList.filter(function (t) {
						return t && t.getBallStatus() == u.BallStatus.OnTable && t.getBallNum() != e
					}); this.checkOverlap(t, n, o, null);) t = cc.Vec2.random(t, 150 * Math.random());
					return t
				}, t.prototype.checkOverlap = function (e, t, n, o) {
					for (var i = !1, r = 0; r < n.length; ++r) {
						var a = n[r];
						if (a != o && e.sub(a.node.getPosition()).lengthSqr() <= t * t * 4) {
							i = !0;
							break
						}
					}
					return i
				}, t.prototype.resetCueBall = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return [4, this.resetBall(0)];
								case 1:
									return e.sent(), [2]
							}
						})
					})
				}, t.prototype.resetBall = function (e, t) {
					return void 0 === t && (t = new cc.Vec2), r(this, void 0, void 0, function () {
						var n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return (n = this.ballList[e]) && n.getBallStatus() == u.BallStatus.OnTable ? [3, 2] : (this.removeBall(e), [4, this.getBall(e)]);
								case 1:
									if (!(n = o.sent())) return [2];
									n.reset(), t = this.getBallResetPosition(e, t), n.setBallPosition(t), o.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.prototype.specialStop = function () {
					this._ballRunning = !1
				}, t.prototype.startUpdate = function () {
					this.ballList.filter(function (e) {
						return e
					}).forEach(function (e) {
						return e.startUpdate(!1)
					}), this.unschedule(this.updateForRunning), this.schedule(this.updateForRunning, .1, 1 / 0, 0)
				}, t.prototype.stopUpdate = function () {
					this.ballList.filter(function (e) {
						return e
					}).forEach(function (e) {
						return e.stopUpdate()
					}), this.unschedule(this.updateForRunning)
				}, t.prototype.updateForRunning = function (e) {
					if (this._ballRunning) {
						for (var t = !0, n = 0, o = this.ballList.length; n < o; ++n) {
							var i = this.ballList[n];
							if (i && i.getBallStatus() != u.BallStatus.Potted)
								if (i.getRigidBody().awake) {
									t = !1;
									break
								}
						}
						t && (this._ballRunning = !1, this._objectBallsDirty = !0, this.node.emit(u.PoolEventId.BallStop), this.stopDraw(), this.ballList.forEach(function (e) {
							return e && e.getBallStatus() == u.BallStatus.OnTable && e.startUpdate(!0)
						}))
					}
				}, t.prototype.startDraw = function () { }, t.prototype.stopDraw = function () {
					0
				}, t.prototype.updateForDrawing = function () {
					var e = this.getComponentInChildren(cc.Graphics);
					this.ballList.forEach(function (t) {
						if (t && t.getBallStatus() == u.BallStatus.OnTable && t.getRigidBody().awake) {
							var n = t.node.getPosition();
							e.circle(n.x, n.y, 2), e.fill()
						}
					})
				}, t = i([y], t)
			}(cc.Component));
		n.default = g, cc._RF.pop()
	}, {
		"../../../Effect/EffectMgr": "EffectMgr",
		"../../../Res/ResLoader": "ResLoader",
		"../Calc": "Calc",
		"../PoolGlobal": "PoolGlobal",
		"../PoolTypes": "PoolTypes",
		"../ball/BallEvent": "BallEvent",
		"../ball/BallNode": "BallNode"
	}],
	BallNode: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "8195cMANEhCxqJM0ASqoPoY", "BallNode");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./BallExtra"),
			a = e("./BallPhysics"),
			s = e("../PoolTypes"),
			c = e("../../../Config/SoundID"),
			l = e("../PoolGlobal"),
			u = e("../../../Res/ResLoader"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._ballNum = 0, t._ballStatus = s.BallStatus.OnTable, t._body = null, t._ballPosition = new cc.Vec2, t
				}
				return o(t, e), t.prototype.start = function () { }, t.prototype.onDisable = function () {
					this.reset()
				}, t.prototype.reset = function () {
					this.setBallRollVelocity(cc.Vec2.ZERO), this.setNaturalRollEnabled(!1), this.setLightPosition(new cc.Vec3(0, 0, l.default.lightZ));
					var e = this.getRigidBody();
					e && (e.linearVelocity = cc.Vec2.ZERO, e.angularVelocity = 0, e.awake = !1), this.node.stopAllActions()
				}, t.prototype.setBallNum = function (e) {
					this._ballNum = e, this.getComponent(r.default).setBallNumber(e), this.node.ballNum = e
				}, t.prototype.getBallNum = function () {
					return this._ballNum
				}, t.prototype.setBallStatus = function (e) {
					this._ballStatus = e, this.getComponent(r.default).setBallStatus(e), e == s.BallStatus.OnTable && this.setBallCollideGroup("ball")
				}, t.prototype.getBallStatus = function () {
					return this._ballStatus
				}, t.prototype.setBallRollVelocity = function (e) {
					var t = this.getComponent(a.default);
					t && t.setRollVelocity(e)
				}, t.prototype.getBallRollVelocity = function () {
					var e = this.getComponent(a.default);
					return e ? e.getRollVelocity() : 0
				}, t.prototype.setNaturalRollEnabled = function (e) {
					this.getComponent(a.default).setNaturalRollEnabled(e)
				}, t.prototype.updateBallPosition = function () {
					this.getComponent(r.default).setBallPosition(this.node.getPosition())
				}, t.prototype.setBallPosition = function (e) {
					this.node.setPosition(e), this.updateBallPosition()
				}, t.prototype.getBallPosition = function () {
					return this._ballPosition.x = this.node.x, this._ballPosition.y = this.node.y, this._ballPosition
				}, t.prototype.setLightPosition = function (e) {
					this.getComponent(r.default).setLightPosition(e)
				}, t.prototype.getRigidBody = function () {
					return this._body || (this._body = this.getComponent(cc.RigidBody))
				}, t.prototype.getVelocity = function () {
					return this.getRigidBody().linearVelocity
				}, t.prototype.setTargetHintVisible = function (e) {
					this.getComponent(r.default).setTargetHintVisible(e)
				}, t.prototype.pot = function (e, t, n) {
					var o = this,
						i = this.getRigidBody(),
						r = n.node.getPosition().sub(t.node.getPosition()).normalizeSelf(),
						a = i.linearVelocity.normalize(),
						c = r.dot(a),
						l = cc.misc.lerp(200, 350, 1 - c),
						d = .2 * i.linearVelocity.len(),
						f = Math.max(l, d),
						p = a.mulSelf(.4).addSelf(r.mulSelf(.6)).normalizeSelf();
					i.linearVelocity = p.mul(f), this.setBallRollVelocity(cc.Vec2.ZERO), this.setBallCollideGroup("ball_potted");
					var h = Math.min(.1, 15 / f);
					return this._ballStatus = s.BallStatus.Potting, new Promise(function (e, t) {
						o.node.runAction(cc.sequence(cc.delayTime(h), cc.callFunc(function () {
							o.playPotSound(d), o.setBallStatus(s.BallStatus.Potting)
						}), cc.delayTime(.5), cc.callFunc(function () {
							o.setBallStatus(s.BallStatus.Potted), u.default.removeNode(o.node), e()
						})))
					})
				}, t.prototype.playPotSound = function (e) {
					SoundMgr.vibrateShort(), e > 250 ? SoundMgr.play(c.default.Pocket3) : e > 150 ? SoundMgr.play(c.default.Pocket2) : e > 50 ? SoundMgr.play(c.default.Pocket1) : SoundMgr.play(c.default.Pocket0)
				}, t.prototype.setBallCollideGroup = function (e) {
					this.node.group != e && (this.node.group = e, this.getComponent(cc.Collider).apply())
				}, t.prototype.updateBallRadius = function () {
					var e = l.default.radius,
						t = this.getComponent(cc.PhysicsCircleCollider);
					t && t.radius != e && (t.radius = e), this.getComponent(r.default).setBallRadius(e), this.node.width = this.node.height = 2 * e
				}, t.prototype.updateRotate = function (e) {
					var t = this.getComponent(a.default);
					t.patchRoll(e);
					var n = t.getRotationOffset(e);
					this.getComponent(r.default).rotateBy(n)
				}, t.prototype.randomRotate = function () {
					var e = cc.Vec3.random(new cc.Vec3, 3.14);
					this.getComponent(r.default).rotateBy(e)
				}, t.prototype.updateDisplay = function () {
					var e = 1 / cc.game.config.frameRate;
					this.updateBallPosition(), this.updateRotate(e)
				}, t.prototype.startUpdate = function (e) {
					this.unschedule(this.updateDisplay), e ? this.schedule(this.updateDisplay, .3, 1 / 0, 0) : this.schedule(this.updateDisplay, 0, 1 / 0, 0)
				}, t.prototype.stopUpdate = function () {
					this.unschedule(this.updateDisplay)
				}, t = i([f], t)
			}(cc.Component));
		n.default = p, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"../../../Res/ResLoader": "ResLoader",
		"../PoolGlobal": "PoolGlobal",
		"../PoolTypes": "PoolTypes",
		"./BallExtra": "BallExtra",
		"./BallPhysics": "BallPhysics"
	}],
	BallPhysics: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f3328exoV9Le5EM4KhHCYi8", "BallPhysics");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("./BallNode"),
			c = e("../PoolGlobal"),
			l = e("../../../Ui/base/AdaptForScreen"),
			u = e("./BallContact"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._body = null, t._rollVelocity = new cc.Vec2, t._lastVelocity = new cc.Vec2, t._naturalRollEnabled = !1, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					this._body = this.getComponent(cc.RigidBody);
					var e = this.getComponent(cc.PhysicsCollider),
						t = l.default.getScale(),
						n = c.default.radius / cc.PhysicsManager.PTM_RATIO * Math.pow(t, 1.5);
					e.density = c.default.mass / (Math.PI * n * n)
				}, t.prototype.start = function () {
					var e = this.getComponent(u.default);
					e.onCushionCollideCallback = this.patchCushionCollide.bind(this), e.onBallCollideCallback = this.patchBallCollide.bind(this), e.onPostSolveCallback = this.postSolve.bind(this), e.onPottedCallback = this.onBallPotted.bind(this)
				}, t.prototype.setRollVelocity = function (e) {
					this._rollVelocity.set(e)
				}, t.prototype.getRollVelocity = function () {
					return this._rollVelocity
				}, t.prototype.patchRoll = function (e) {
					var t = this._rollVelocity.len();
					t > .1 ? this.applyRoll(t, 80 * e) : this._rollVelocity.mulSelf(0)
				}, t.prototype.postSolve = function (e, t, n, o) {
					if (0 == n.node.ballNum) {
						var i = this._rollVelocity.len();
						this.applyRoll(i, .5 * i)
					}
					this.applyNaturalRoll()
				}, t.prototype.applyRoll = function (e, t) {
					if (e > .2) {
						t = Math.min(e, t);
						var n = this._rollVelocity.normalize();
						if (e > t ? this._rollVelocity.normalizeSelf().mulSelf(e - t) : this._rollVelocity.mulSelf(0), t > .1) {
							var o = n.mulSelf(t * c.default.inertia);
							this._body.applyLinearImpulse(o, this._body.getWorldCenter(), !0)
						}
					} else this._rollVelocity.mulSelf(0)
				}, t.prototype.setNaturalRollEnabled = function (e) {
					this._naturalRollEnabled = e
				}, t.prototype.applyNaturalRoll = function () {
					this._naturalRollEnabled && this._rollVelocity.fuzzyEquals(cc.Vec2.ZERO, .1) && this._body.applyLinearImpulse(this._lastVelocity.mulSelf(.1), this._body.getWorldCenter(), !0), this._lastVelocity.set(cc.Vec2.ZERO)
				}, t.prototype.patchCushionCollide = function (e, t, n, o) {
					this._lastVelocity.set(n.body.linearVelocity);
					var i = Math.abs(n.body.angularVelocity);
					if (i < 10) t.setFriction(0);
					else {
						var r = cc.misc.clamp01(i / 180 * Math.PI / 80);
						r = Math.pow(r, 4), t.setFriction(.4 * r)
					}
					t.setRestitution(c.default.cushionRestitution)
				}, t.prototype.patchBallCollide = function (e, t, n, o) {
					if (this._lastVelocity.set(n.body.linearVelocity), t._inverted) {
						var i = n.body.angularVelocity,
							r = o.body.angularVelocity;
						n.body.angularVelocity = .8 * i - .2 * r, o.body.angularVelocity = .8 * r - .2 * i
					}
				}, t.prototype.onBallPotted = function (e, t, n, o) {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return [4, this.node.getComponent(s.default).pot(t, n, o)];
								case 1:
									return e.sent(), [2]
							}
						})
					})
				}, t.prototype.getRotationOffset = function (e) {
					var t, n = 0,
						o = 0,
						i = this._body.linearVelocity,
						r = c.default.radius;
					return this._rollVelocity.lengthSqr() > .2 * .2 ? this._rollVelocity.dot(i) > 0 ? (n = this._rollVelocity.x * e + i.x * e / r, o = this._rollVelocity.y * e + i.y * e / r) : (n = this._rollVelocity.x * e, o = this._rollVelocity.y * e) : (n = i.x * e / r, o = i.y * e / r), t = this._body.angularVelocity / 180 * Math.PI * e, new cc.Vec3(o, n, t)
				}, t = i([f], t)
			}(cc.Component));
		n.default = p, cc._RF.pop()
	}, {
		"../../../Ui/base/AdaptForScreen": "AdaptForScreen",
		"../PoolGlobal": "PoolGlobal",
		"./BallContact": "BallContact",
		"./BallNode": "BallNode"
	}],
	BallRender: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "db184M9kANGBbzdg0QZpx+y", "BallRender");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../../Res/ResLoader"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, a.executeInEditMode),
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._rotateVec3 = new cc.Vec3, t._rotateMat = new cc.Mat4, t._rotateQuat = new cc.Quat, t._qx = new cc.Quat, t._qy = new cc.Quat, t._qz = new cc.Quat, t._ma = new cc.Mat4, t
				}
				return o(t, e), t.prototype.getRotateMat = function () {
					return this._rotateMat
				}, t.prototype.setRotateMat = function (e) {
					this._rotateMat.set(e), this._updateMat()
				}, t.prototype.setRotateQuat = function (e) {
					this._rotateMat.fromQuat(e), this._updateMat()
				}, t.prototype.getRotateQuat = function () {
					return this._rotateMat.getRotation(this._rotateQuat), this._rotateQuat
				}, t.prototype.getRotateVec3 = function () {
					return this._rotateMat.getRotation(this._rotateQuat), this._rotateQuat.toEuler(this._rotateVec3), this._rotateVec3.x = cc.misc.degreesToRadians(this._rotateVec3.x), this._rotateVec3.y = cc.misc.degreesToRadians(this._rotateVec3.y), this._rotateVec3.z = cc.misc.degreesToRadians(this._rotateVec3.z), this._rotateVec3
				}, t.prototype.rotateTo = function (e) {
					this._rotateMat.identity(), this.rotateBy(e)
				}, t.prototype.rotateBy = function (e) {
					var t = this._qx,
						n = this._qy,
						o = this._qz;
					cc.Quat.fromAxisAngle(t, cc.Vec3.RIGHT, e.x), cc.Quat.fromAxisAngle(n, cc.Vec3.UP, e.y), cc.Quat.fromAxisAngle(o, cc.Vec3.FORWARD, e.z);
					var i = t.mul(n).mul(o),
						r = this._ma.identity();
					cc.Mat4.fromQuat(r, i), cc.Mat4.multiply(this._rotateMat, r, this._rotateMat), this._updateMat()
				}, t.prototype._updateMat = function () {
					var e = this.node && this.getComponent(cc.Sprite);
					e && e.getMaterial(0).setProperty("rotateMat", this._rotateMat)
				}, t.prototype.setRadius = function (e) {
					var t = this.getComponent(cc.Sprite);
					if (t) {
						for (var n = e, o = this.node; o;) n *= o.scaleX, o = o.parent;
						t.getMaterial(0).setProperty("radius", n)
					}
				}, t.prototype.setBrightness = function (e) {
					var t = this.getComponent(cc.Sprite);
					t && t.getMaterial(0).setProperty("brightness", e)
				}, t.prototype.setLightDir = function (e) {
					var t = this.getComponent(cc.Sprite);
					t && t.getMaterial(0).setProperty("lightDir", e)
				}, t.getBallSpriteFrame = function (e) {
					var t = "game_newbie://dynamic/texture_ball/pl_ball_pool_0" + e;
					return r.default.getSpriteFrameRes(t)
				}, t.prototype.setBallSpriteFrame = function (e) {
					var t = this.getComponent(cc.Sprite);
					if (t) {
						t.spriteFrame = e;
						var n = e.getTexture();
						if (n) {
							var o = e.getRect(),
								i = n.width,
								r = n.height,
								a = 0 === i ? 0 : o.x / i,
								s = 0 === i ? 0 : (o.x + o.width) / i,
								c = 0 === r ? 0 : (o.y + o.height) / r,
								l = 0 === r ? 0 : o.y / r,
								u = new cc.Vec2(a, l),
								d = new cc.Vec2(s - a, c - l),
								f = t.getMaterial(0);
							f.setProperty("uvOrigin", u), f.setProperty("uvSize", d)
						}
					}
				}, t = i([s, c], t)
			}(cc.Component);
		n.default = l, cc._RF.pop()
	}, {
		"../../../Res/ResLoader": "ResLoader"
	}],
	BallRotator: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "765a5K4MKVJvrdmmmQpwIXj", "BallRotator");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./BallExtra"),
			a = e("./BallRender"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._rotateVec = new cc.Vec3, t._tween = null, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "rotateVec", {
					get: function () {
						return this._rotateVec
					},
					set: function (e) {
						this._rotateVec.set(e), this._updateDisplay()
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onDestroy = function () {
					this._tween && this._tween.stop(), this._tween = null
				}, t.prototype.setRotateVec = function (e) {
					this._tween && this._tween.stop(), this._tween = null, this.rotateVec = e
				}, t.prototype.rotateTo = function (e, t) {
					this._tween && this._tween.stop(), this._tween = cc.tween(this).to(t, {
						rotateVec: e
					}).start()
				}, t.prototype._updateDisplay = function () {
					var e = this.getComponent(r.default);
					if (e) e.rotateTo(this.rotateVec);
					else {
						var t = this.getComponent(a.default);
						t && t.rotateTo(this.rotateVec)
					}
				}, t = i([c], t)
			}(cc.Component));
		n.default = l, cc._RF.pop()
	}, {
		"./BallExtra": "BallExtra",
		"./BallRender": "BallRender"
	}],
	BalloonLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "2eab6C88/pNpJRHvNUMg7Xm", "BalloonLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.BalloonLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = e("../base/RewardBtn"),
			s = e("../../Base/ShareTypes"),
			c = e("./BalloonLogic"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, l.menu),
			f = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.BalloonLayerParam = f;
		var p = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), this.getComponentInChildren(a.default).sharePos = s.SharePos.Balloon
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () { }, t.prototype.onRewardCallback = function (e) {
				var t = this;
				e == a.RewardFuncParam.Click ? Utils.setAllBtnsEnabled(this.node, !1) : e == a.RewardFuncParam.Success ? c.default.instance.receive().then(function () {
					t.close()
				}) : Utils.setAllBtnsEnabled(this.node, !0)
			}, t.show = function () {
				return new Promise(function (e, t) {
					var o = new f;
					o.onClose = e, ui.showLayer(n, o)
				})
			}, t.prefabName = "home://dynamic/layer/balloonLayer", t = n = i([u, d("Layer/BalloonLayer")], t)
		}(r.default);
		n.default = p, window.BalloonLayer = p, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"./BalloonLogic": "BalloonLogic"
	}],
	BalloonLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "05c09Izk5VK96Z5zz5sBBgM", "BalloonLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Base/Share"),
			a = e("../../Base/ShareTypes"),
			s = e("../../Config/EventID"),
			c = e("../../Runtime/LevelConfig"),
			l = e("../../Runtime/game/item2/ReceiveItemLayer"),
			u = function () {
				function e() {
					this._timer = 0, this._config = [
						[{
							type: c.LevelPrizeType.energy,
							value: 3,
							weight: 60
						}, {
							type: c.LevelPrizeType.coins,
							value: 2e3,
							weight: 20
						}, {
							type: c.LevelPrizeType.move_item,
							value: 1,
							weight: 10
						}, {
							type: c.LevelPrizeType.free_item,
							value: 1,
							weight: 10
						}],
						[{
							type: c.LevelPrizeType.energy,
							value: 5,
							weight: 20
						}, {
							type: c.LevelPrizeType.coins,
							value: 5e3,
							weight: 60
						}, {
							type: c.LevelPrizeType.move_item,
							value: 2,
							weight: 10
						}, {
							type: c.LevelPrizeType.free_item,
							value: 2,
							weight: 10
						}],
						[{
							type: c.LevelPrizeType.energy,
							value: 10,
							weight: 30
						}, {
							type: c.LevelPrizeType.coins,
							value: 1e4,
							weight: 30
						}, {
							type: c.LevelPrizeType.move_item,
							value: 3,
							weight: 20
						}, {
							type: c.LevelPrizeType.free_item,
							value: 3,
							weight: 20
						}]
					]
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getMaxTimes = function () {
					return 3
				}, e.prototype.getTimes = function () {
					return DataBus.other.balloonTimes
				}, e.prototype.canShowBtn = function () {
					return 0 != this._timer ? (console.log("[气球]一分钟未到，不显示气球"), !1) : this.getTimes() >= this.getMaxTimes() ? (console.log("[气球]今日次数已用完，不显示气球"), !1) : r.default.isShareOrVideo(a.SharePos.Balloon) == a.RewardType.None ? (console.log("[气球]无激励，不显示气球"), !1) : (console.log("[气球]有次数和激励，显示气球"), !0)
				}, e.prototype.schedule = function () {
					var e = this;
					clearTimeout(this._timer), this._timer = setTimeout(function () {
						e._timer = 0, cc.systemEvent.emit(s.default.UPDATE_BALLOON)
					}, 6e4)
				}, e.prototype.unschedule = function () {
					clearTimeout(this._timer), this._timer = 0, cc.systemEvent.emit(s.default.UPDATE_BALLOON)
				}, e.prototype._hit = function (e) {
					for (var t = e.length, n = e.map(function (e) {
						return e.weight
					}).reduce(function (e, t) {
						return e + t
					}, 0), o = Math.random() * n, i = 0; i < t; ++i) {
						var r = e[i];
						if (o < r.weight) return i;
						o -= r.weight
					}
					return 0
				}, e.prototype.receive = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o;
						return i(this, function (i) {
							return e = this.getTimes(), t = this._config[e] || this._config[0], n = this._hit(t), o = t[n], DataBus.other.balloonTimes += 1, DataBus.other.save(), l.default.show([o]), [2]
						})
					})
				}, e._instance = null, e
			}();
		n.default = u, cc._RF.pop()
	}, {
		"../../Base/Share": "Share",
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/EventID": "EventID",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../../Runtime/game/item2/ReceiveItemLayer": "ReceiveItemLayer"
	}],
	BankItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a688evg3QlA+4mxEw9vaHiq", "BankItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Lib/tableView/viewCell"),
			c = e("./BankLogic"),
			l = e("../../Res/ResLoader"),
			u = e("../../Config/SoundID"),
			d = e("../../Base/Share"),
			f = e("../../Base/ShareTypes"),
			p = e("./BankLayer"),
			h = cc._decorator,
			y = h.ccclass,
			g = h.property,
			_ = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.avatarSf = null, t.working_obj = null, t.coins_obj = null, t.add_obj = null, t.data = null, t
				}
				return o(t, e), t.prototype.init = function (e, t, n, o) {
					this.working_node || Utils.loadVarFromNode(this.node, "$", this);
					var i = t[e];
					if (this.data = i, i)
						if (this.add_node.active = !1, 1 == i.is_complete) this.working_node.active = !1, this.coins_node.active = !0, this.coins_obj || Utils.loadVarFromNode(this.coins_node, "_", this.coins_obj = {}), this._setAvatar(this.coins_obj.avatar_sp, i.avatar), this.coins_obj.coins_lbl.string = "好友产出：" + c.default.instance.getWorkerProduct() + "金币";
						else {
							this.working_node.active = !0, this.coins_node.active = !1, this.working_obj || Utils.loadVarFromNode(this.working_node, "_", this.working_obj = {}), this._setAvatar(this.working_obj.avatar_sp, i.avatar), this.working_obj.nick_lbl.string = i.avatar ? i.name : i.name || "匿名好友";
							var r = 1e3 * parseInt(i.end_time) - c.default.instance.serverTime;
							this.working_obj.time_lbl.string = Utils.formatDuration3(r)
						}
					else this.working_node.active = !1, this.coins_node.active = !1, this.add_node.active = !0
				}, t.prototype._setAvatar = function (e, t) {
					return r(this, void 0, void 0, function () {
						var n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return t ? [4, l.default.getSpriteFrame(t)] : [3, 2];
								case 1:
									return n = o.sent(), this.isValid && e.isValid && this.data && this.data.avatar == t && (e.spriteFrame = n), [3, 3];
								case 2:
									e.spriteFrame = this.avatarSf, o.label = 3;
								case 3:
									return [2]
							}
						})
					})
				}, t.prototype.onBtnReceiveClick = function () {
					var e = this;
					SoundMgr.play(u.default.btn);
					var t = Utils.getComponentInParent(this.node, p.default);
					Utils.setAllBtnsEnabled(t.node, !1), c.default.instance.receiveWorkProduct(this.data).then(function () {
						e.isValid && (t.refreshForLocal(), Utils.setAllBtnsEnabled(t.node, !0))
					})
				}, t.prototype.onBtnAddClick = function () {
					SoundMgr.play(u.default.btn);
					var e = sdk.getSavedUserId("data");
					d.default.shareWithoutCallback(f.SharePos.Invite, {
						hostId: e
					})
				}, i([g(cc.SpriteFrame)], t.prototype, "avatarSf", void 0), t = i([y], t)
			}(s.default);
		n.default = _, cc._RF.pop()
	}, {
		"../../Base/Share": "Share",
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/SoundID": "SoundID",
		"../../Lib/tableView/viewCell": "viewCell",
		"../../Res/ResLoader": "ResLoader",
		"./BankLayer": "BankLayer",
		"./BankLogic": "BankLogic"
	}],
	BankLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "b13f8//A1ZE8bvAR60dAUKW", "BankLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.BankLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = e("./BankLogic"),
			l = e("../base/CountDown"),
			u = e("../other/TextTips"),
			d = e("../../Config/SoundID"),
			f = e("../base/RewardBtn"),
			p = e("../receive/DoubleItemLayer"),
			h = e("../../Runtime/LevelConfig"),
			y = e("../../Base/ShareTypes"),
			g = cc._decorator,
			_ = g.ccclass,
			v = (g.property, g.menu),
			b = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.BankLayerParam = b;
		var m = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t._data = null, t._coinsLblX = 0, t
			}
			return o(t, e), t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.free_btn.getComponent(f.default).sharePos = y.SharePos.FreeCoins, this.tableview = this.scrollview.getComponent(cc.tableView), this.time_lbl.string = "", this._coinsLblX = this.coins_lbl.node.x, this._init(), this._updateBankCoins()
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () { }, t.prototype._init = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return this._disableAllBtnsExcept([this.getCloseBtn()]), sdk.showLoading("请稍候...", !1), [4, c.default.instance.fetchWorkList()];
							case 1:
								return e = t.sent(), this.isValid && (e || (ui.showTips("Please try again later"), e = []), this._data = e, this._updateProduct(), sdk.hideLoading(), Utils.setAllBtnsEnabled(this.node, !0), this._updateScrollView()), [2]
						}
					})
				})
			}, t.prototype.refreshForLocal = function () {
				var e = c.default.instance.fetchWorkListLocal();
				this._data = e, this._updateScrollView()
			}, t.prototype._updateBankCoins = function () {
				this.coins_lbl.string = "+" + DataBus.user.bankCoins
			}, t.prototype._updateProduct = function () {
				var e = this,
					t = c.default.instance.serverTime,
					n = c.default.instance.calcProduct(t),
					o = this.time_lbl.getComponent(l.default);
				if (0 == n.duration) o.stop(), this.time_lbl.string = "金币产出已满";
				else if (o.formatFunc = function (e) {
					return "下次金币产出时间：" + Utils.formatDuration3(e)
				}, o.begin(n.duration / 1e3, function (t) {
					return e._init()
				}), n.product > 0) {
					var i = this.coins_lbl.node.convertToWorldSpaceAR(cc.Vec2.ZERO);
					u.default.instance.showTips("+" + n.product, i)
				}
				this._updateBankCoins()
			}, t.prototype._updateScrollView = function () {
				var e = this._data;
				this.tableview.initTableView(e.length, e)
			}, t.prototype._disableAllBtnsExcept = function (e) {
				Utils.setAllBtnsEnabled(this.node, !1), e.forEach(function (e) {
					return Utils.setAllBtnsEnabled(e, !0)
				})
			}, t.prototype.onBtnReceiveClick = function () {
				var e = this;
				SoundMgr.play(d.default.btn);
				var t = DataBus.user.bankCoins;
				if (t > 0) Utils.setAllBtnsEnabled(this.node, !1), p.default.show([{
					type: h.LevelPrizeType.coins,
					value: t
				}]).then(function () {
					return r(e, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return e = DataBus.user, [4, TimeMgr.getSmartServerTime()];
								case 1:
									return e.bankProductTime = t.sent(), DataBus.user.bankCoins = 0, DataBus.user.save(), this.isValid && (this._init(), this._updateBankCoins()), [2]
							}
						})
					})
				});
				else {
					Utils.disableAllBtnsAmoment(this.node, .1), ui.showTips("There are no gold coins to claim");
					var n = this.coins_lbl.node;
					n.stopAllActions(), n.color = cc.Color.RED;
					var o = n.y,
						i = this._coinsLblX;
					n.runAction(cc.sequence(cc.moveTo(.075, i + 7, o), cc.moveTo(.075, i - 7, o), cc.moveTo(.075, i + 7, o), cc.moveTo(.075, i, o), cc.tintTo(.3, 255, 255, 255)))
				}
			}, t.prototype.onRewardCallback = function (e, t) {
				var n = this;
				if (e == f.RewardFuncParam.Click) {
					if (!c.default.instance.hasFreeCoins()) return ui.showTips("Please come back tomorrow"), !0;
					Utils.setAllBtnsEnabled(this.node, !1)
				} else e == f.RewardFuncParam.Success ? c.default.instance.receiveFreeCoins(t.node.convertToWorldSpaceAR(cc.Vec2.ZERO)).then(function () {
					n.isValid && Utils.setAllBtnsEnabled(n.node, !0)
				}) : Utils.setAllBtnsEnabled(this.node, !0)
			}, t.prefabName = "home://dynamic/layer/bankLayer", t = i([_, v("Layer/BankLayer")], t)
		}(s.default);
		n.default = m, window.BankLayer = m, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/SoundID": "SoundID",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../base/CountDown": "CountDown",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"../other/TextTips": "TextTips",
		"../receive/DoubleItemLayer": "DoubleItemLayer",
		"./BankLogic": "BankLogic"
	}],
	BankLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "de356TdxzFGgo9X92DrZW99", "BankLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			},
			r = this && this.__spreadArrays || function () {
				for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
				var o = Array(e),
					i = 0;
				for (t = 0; t < n; t++)
					for (var r = arguments[t], a = 0, s = r.length; a < s; a++, i++) o[i] = r[a];
				return o
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var a = e("../../Data/DataBus_LocalData"),
			s = e("../../Runtime/LevelConfig"),
			c = e("../receive/DoubleItemLayer"),
			l = e("../../Data/wxsdk"),
			u = e("../../Data/EconomicLogic"),
			d = function () {
				function e() {
					this.serverTime = 0, this._incompleteList = []
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getProduct = function () {
					return 3e3
				}, e.prototype.getWorkerProduct = function () {
					return 3e3
				}, e.prototype.getWorkerPrize = function () {
					return 3
				}, e.prototype.hasBadage = function () {
					if (DataBus.user.bankCoins > 0) return !0;
					if (DataBus.user.workPrize > 0) return !0;
					var e = (new Date).getTime(),
						t = DataBus.user.bankProductTime;
					return Math.min(Utils.getNextHourTimestamp(t, 11), Utils.getNextHourTimestamp(t, 17)) <= e
				}, e.prototype.calcProduct = function (e) {
					if (DataBus.user.bankCoins > 0) return {
						product: 0,
						duration: 0
					};
					if (DataBus.user.bankCoins <= 0) {
						var t = DataBus.user.bankProductTime;
						if (TimeMgr.isMordenTime(t)) {
							var n = Math.min(Utils.getNextHourTimestamp(t, 11), Utils.getNextHourTimestamp(t, 17));
							if (n <= e) {
								var o = this.getProduct();
								return DataBus.user.bankCoins += o, DataBus.user.bankProductTime = n, DataBus.user.save(), {
									product: o,
									duration: 0
								}
							}
						} else DataBus.user.bankProductTime = e, DataBus.user.save();
						return {
							product: 0,
							duration: Math.min(Utils.getNextHourTimestamp(e, 11), Utils.getNextHourTimestamp(e, 17)) - e
						}
					}
				}, e.prototype.fetchWorkList = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o, r, a, s;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									if (!l.default.supportServer()) return [3, 6];
									i.label = 1;
								case 1:
									return i.trys.push([1, 4, , 5]), [4, new Promise(sdk.getUserCode.bind(sdk))];
								case 2:
									return t = i.sent(), [4, sdk.promisify(sdk.request.bind(sdk), {
										url: "",
										data: t
									})];
								case 3:
									return e = i.sent(), [3, 5];
								case 4:
									return n = i.sent(), console.error(n), [3, 5];
								case 5:
									return [3, 7];
								case 6:
									e = {
										data: {
											header: {
												Date: (new Date).toLocaleString()
											},
											code: 0,
											data: []
										}
									}, i.label = 7;
								case 7:
									return TimeMgr.setServerTime(e), this.serverTime = TimeMgr.serverTime, e && e.data && 0 == e.data.code && e.data.data ? (o = e.data.data, console.log("拉取打工列表成功：", o), this._incompleteList = o.filter(function (e) {
										return 1 != e.is_complete
									}), (r = o.filter(function (e) {
										return 1 == e.is_complete
									})).length > 0 && (a = this._addWorkPrizeInfo(r), DataBus.user.workPrize += a, DataBus.user.save()), (s = this._mergeWorkPrizeList()).push(null), [2, s]) : (console.log("拉取打工列表失败：", e), [2, null])
							}
						})
					})
				}, e.prototype.fetchWorkListLocal = function () {
					var e = this._mergeWorkPrizeList();
					return e.push(null), e
				}, e.prototype.receiveWorkProduct = function (e) {
					if (1 == e.is_complete) {
						var t = DataBus.user.workPrize;
						if (t > 0) {
							DataBus.user.workPrize = t - 1, this._delWordPrizeInfo(e);
							var n = this.getWorkerProduct();
							return c.default.show([{
								type: s.LevelPrizeType.coins,
								value: n
							}])
						}
					}
				}, e.prototype.hasFreeCoins = function () {
					return DataBus.other.bankFreeTimes < 2
				}, e.prototype.receiveFreeCoins = function (e) {
					return DataBus.other.bankFreeTimes += 1, DataBus.other.save(), c.default.show([{
						type: s.LevelPrizeType.coins,
						value: 1500
					}])
				}, e.prototype._addWorkPrizeInfo = function (e) {
					var t = 0;
					if (e.length > 0) {
						var n = a.default.data.workInfoList;
						e.forEach(function (e) {
							-1 == n.findIndex(function (t) {
								return t.name == e.name && t.avatar == e.avatar && - -e.begin_time - t.end_time <= 0
							}) && (n.push({
								name: e.name,
								avatar: e.avatar,
								end_time: e.end_time
							}), ++t)
						}), a.default.saveData()
					}
					return t
				}, e.prototype._delWordPrizeInfo = function (e) {
					var t = a.default.data.workInfoList,
						n = t.findIndex(function (t) {
							return t.name == e.name && t.avatar == e.avatar
						});
					n > -1 && (t.splice(n, 1), a.default.saveData())
				}, e.prototype._mergeWorkPrizeList = function () {
					for (var e = [], t = a.default.data.workInfoList, n = DataBus.user.workPrize, o = 0; o < n; ++o) {
						var i = t[o];
						e.push({
							name: i ? i.name : "",
							avatar: i ? i.avatar : "",
							begin_time: "0",
							end_time: "0",
							last_get_time: "0",
							is_complete: 1
						})
					}
					return r(e, this._incompleteList)
				}, e.prototype.addInvite = function (t) {
					return o(this, void 0, void 0, function () {
						var n, o, r, a, s, c, l, d, f;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return t && t.query && t.query.hostId ? (n = sdk.getSavedUserId("data"), o = t.query.hostId, n == o ? [3, 4] : [4, new Promise(sdk.getUserCode.bind(sdk))]) : [3, 4];
								case 1:
									return r = i.sent().code, [4, sdk.promisify(wx.getUserInfo, {
										withCredentials: !0,
										lang: "zh_CN"
									}).catch(function (e) {
										return null
									})];
								case 2:
									return a = i.sent(), s = {
										user_id: o,
										code: r
									}, a && (c = a.encryptedData, l = a.iv, s.encryptedData = c, s.iv = l), console.log("开始提交打工邀请：", s), [4, sdk.promisify(sdk.request.bind(sdk), {
										url: "",
										data: s
									})];
								case 3:
									(d = i.sent()) && d.data && 0 == d.data.code ? (console.log("提交打工邀请成功：", d), f = e.instance.getWorkerPrize(), ui.showTips("Get " + f ), u.default.instance.addBCoinsWithAnimation(f)) : console.log("提交打工邀请失败：", d), i.label = 4;
								case 4:
									return [2]
							}
						})
					})
				}, e._instance = null, e
			}();
		n.default = d, window.BankLogic = d, cc._RF.pop()
	}, {
		"../../Data/DataBus_LocalData": "DataBus_LocalData",
		"../../Data/EconomicLogic": "EconomicLogic",
		"../../Data/wxsdk": "wxsdk",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../receive/DoubleItemLayer": "DoubleItemLayer"
	}],
	BaseRule: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "16af6lqrERJmbv5TT3dVMD4", "BaseRule");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../PoolTypes"),
			a = e("../PoolStage"),
			s = e("./RuleTypes"),
			c = e("../PoolGlobal"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._poolStage = null, t._data = null, t._failReason = s.RuleFailReason.unkown, t._resultType = s.RuleResultType.none, t
				}
				return o(t, e), t.prototype.start = function () {
					this.getPoolStage()
				}, t.prototype.getPoolStage = function () {
					if (!this._poolStage) {
						this._poolStage = this.node.getComponent(a.default);
						var e = this._poolStage.node;
						e.on(r.PoolEventId.GameStart, this._onGameStart, this), e.on(r.PoolEventId.SightLinePosChanged, this._onSightLinePosChanged, this), this._poolStage.touchController.node.on(r.PoolEventId.CueBallMoveEnd, this._onCueBallMoveEnd, this);
						var t = this._poolStage.ballManager.node;
						t.on(r.PoolEventId.BallRunning, this._onBallRunning, this), t.on(r.PoolEventId.BallStop, this._onBallStop, this), t.on(r.PoolEventId.CueBallCollide, this._onCueBallCollide, this), t.on(r.PoolEventId.Potted, this._onPotted, this), t.on(r.PoolEventId.AddBall, this._onAddBall, this)
					}
					return this._poolStage
				}, t.prototype.setData = function (e) {
					this._data = e, this.reset()
				}, t.prototype._onSightLinePosChanged = function (e) {
					var t = this.getPoolStage().sightLine;
					e.objectBall && (t.objectColor = c.default.getBallColor(e.objectBall.getBallNum()))
				}, t.prototype._onCueBallMoveEnd = function () {
					var e = this.getPoolStage();
					e.ballManager.ballRunning || e.enableControlUi()
				}, t.prototype.getResultType = function () {
					return this._resultType
				}, t = i([u], t)
			}(cc.Component));
		n.default = d, cc._RF.pop()
	}, {
		"../PoolGlobal": "PoolGlobal",
		"../PoolStage": "PoolStage",
		"../PoolTypes": "PoolTypes",
		"./RuleTypes": "RuleTypes"
	}],
	BeforeGameLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9713cfjl9VMAJSUx1LUbLmg", "BeforeGameLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.BeforeGameLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, a.menu),
			l = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.BeforeGameLayerParam = l;
		var u = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.success = !1, t.trialCue = !0, t
			}
			return o(t, e), t.prefabName = "Prefab/layer/beforeGameLayer", t = i([s, c("Layer/BeforeGameLayer")], t)
		}(r.default);
		n.default = u, window.BeforeGameLayer = u, cc._RF.pop()
	}, {
		"../base/LayerBase": "LayerBase"
	}],
	BeyondNode: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d4fabeYo85K2b9U1bTyRwfU", "BeyondNode");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/EventID"),
			a = e("../base/Sub"),
			s = e("../../Data/wxsdk"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.start = function () {
					s.default.isTT() ? this.node.active = !1 : cc.systemEvent.on(r.default.LOAD_PUZZLE, this.onLevelChanged, this)
				}, t.prototype.onDestroy = function () {
					if (cc.systemEvent.off(r.default.LOAD_PUZZLE, this.onLevelChanged, this), s.default.isWX()) {
						sdk.subMsg({
							clearCache: !0
						}, void 0)
					}
				}, t.prototype.onLevelChanged = function (e) {
					var t = this.getComponent(a.default);
					e > 4 ? t.show({
						msg: "beyond",
						action: "show",
						key: "level",
						order: "desc",
						score: e
					}, 3) : t.hide()
				}, t = i([l], t)
			}(cc.Component));
		n.default = u, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Data/wxsdk": "wxsdk",
		"../base/Sub": "Sub"
	}],
	Calc: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d0bbdV7JphM25w6HmVrnlE9", "Calc");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__spreadArrays || function () {
				for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
				var o = Array(e),
					i = 0;
				for (t = 0; t < n; t++)
					for (var r = arguments[t], a = 0, s = r.length; a < s; a++, i++) o[i] = r[a];
				return o
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.CalcShapeFactory = n.CalcCircle = n.CalcLine = n.CalcShape = void 0;
		var a = function () {
			return function () {
				this.userData = null
			}
		}();
		n.CalcShape = a;
		var s = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.A = new cc.Vec2, t.B = new cc.Vec2, t.N = new cc.Vec2, t
			}
			return o(t, e), t.prototype.set = function (e, t, n) {
				return this.A.set(e), this.B.set(t), this.N.set(n), this
			}, t.prototype.collision = function (e, t, n) {
				return f.collisionWithLineHasNormal(e, t, n, this.A, this.B, this.N)
			}, t.prototype.reflect = function (e, t, n) {
				return f.reflect(e, this.N, n)
			}, t
		}(a);
		n.CalcLine = s;
		var c = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.center = new cc.Vec2, t.radius = 0, t
			}
			return o(t, e), t.prototype.set = function (e, t) {
				return this.center.set(e), this.radius = t, this
			}, t.prototype.collision = function (e, t, n) {
				return f.collisionWithCircle(e, t, this.center, this.radius, n)
			}, t.prototype.reflect = function (e, t, n) {
				return f.reflect(e, t.sub(this.center).normalizeSelf(), n)
			}, t
		}(a);
		n.CalcCircle = c;
		var l = function () {
			function e() { }
			return e.createLine = function (e, t, n) {
				var o = null;
				return (o = this.linePool.length <= 0 ? new s : this.linePool.pop()).userData = null, o.set(e, t, n), o
			}, e.createCircle = function (e, t) {
				var n = null;
				return (n = this.circlePool.length <= 0 ? new c : this.circlePool.pop()).userData = null, n.set(e, t), n
			}, e.recover = function (e) {
				e instanceof s ? this.linePool.push(e) : e instanceof c && this.circlePool.push(e)
			}, e.recoverAll = function (e) {
				var t = this;
				e.forEach(function (e) {
					return t.recover(e)
				})
			}, e.fromPolygon = function (e, t, n, o, i) {
				var r = this,
					a = [],
					s = (t = t.map(function (t) {
						var o = r.createCircle(t, 0);
						return o.center.rotateSelf(n).addSelf(e), a.push(o), o.center
					})).length;
				if (s > 1)
					for (var c = 0; c < s && (c != s - 1 || o); ++c) {
						var l = t[c],
							u = t[(c + 1) % s],
							d = f.getNormalForLine(l, u, cc.Vec2.ZERO);
						i || d.negSelf(), a.push(this.createLine(l, u, d))
					}
				return a
			}, e.fromBox = function (e, t, n, o, i) {
				var a = [new cc.Vec2(-t / 2, -n / 2), new cc.Vec2(t / 2, -n / 2), new cc.Vec2(t / 2, n / 2), new cc.Vec2(-t / 2, n / 2)];
				a.forEach(function (t) {
					t.rotateSelf(o).addSelf(e)
				});
				var s = [this.createLine(a[0], a[1], new cc.Vec2(0, -1)), this.createLine(a[1], a[2], new cc.Vec2(1, 0)), this.createLine(a[2], a[3], new cc.Vec2(0, 1)), this.createLine(a[3], a[0], new cc.Vec2(-1, 0))];
				return s.forEach(function (e) {
					e.N.rotateSelf(o), i && e.N.negSelf()
				}), r(s, [])
			}, e.linePool = [], e.circlePool = [], e
		}();
		n.CalcShapeFactory = l;
		var u = cc._decorator,
			d = u.ccclass,
			f = (u.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.collisionWithCircle = function (e, t, n, o, i) {
					var r = n.sub(e),
						a = r.dot(i);
					if (a <= 0) return 1 / 0;
					var s = (t + o) * (t + o) - (r.lengthSqr() - a * a);
					return s <= 0 ? 1 / 0 : a - Math.sqrt(s)
				}, t.getMoreInfoForCollisionWithCircle = function (e, t, n, o) {
					var i = n.mul(o).addSelf(e),
						r = t.sub(i).normalizeSelf(),
						a = n.dot(r);
					return r.mulSelf(a), {
						distance: o,
						pos: i,
						objectPos: t,
						objectDir: r,
						objectBall: null,
						objectMaxLength: -1,
						selfDir: n.sub(r),
						reflectDir: null,
						reflectMaxLength: -1
					}
				}, t.posDisSegment = function (e, t, n) {
					return cc.Intersection.pointLineDistance(e, t, n, !0)
				}, t.getNormalForLine = function (e, t, n) {
					var o = t.sub(e),
						i = n.sub(e),
						r = o.mul(o.dot(i) / o.dot(o));
					return i.sub(r).normalizeSelf()
				}, t.collisionWithLine = function (e, t, n, o, i) {
					var r = this.getNormalForLine(o, i, e);
					return this.collisionWithLineHasNormal(e, t, n, o, i, r)
				}, t.collisionWithLineHasNormal = function (e, t, n, o, i, r) {
					if (r.dot(n) > 0) return 1 / 0;
					var a = r.mul(t),
						s = o.add(a),
						c = i.add(a);
					return this.rayCollisionWithSegment(e, n, s, c)
				}, t.getMoreInfoForCollisionWithLine = function (e, t, n, o, i) {
					var r = this.getNormalForLine(n, o, e);
					return {
						distance: i,
						pos: e.add(t.mul(i)),
						objectPos: null,
						objectDir: null,
						objectColor: null,
						objectMaxLength: -1,
						selfDir: t.sub(r.mul(2 * t.dot(r)))
					}
				}, t.rayCollisionWithSegment = function (e, t, n, o) {
					var i = e.add(t),
						r = (o.x - n.x) * (e.y - n.y) - (o.y - n.y) * (e.x - n.x),
						a = (i.x - e.x) * (e.y - n.y) - (i.y - e.y) * (e.x - n.x),
						s = (o.y - n.y) * (i.x - e.x) - (o.x - n.x) * (i.y - e.y);
					if (0 !== s) {
						var c = r / s,
							l = a / s;
						if (0 <= c && 0 <= l && l <= 1) return c
					}
					return 1 / 0
				}, t.convertBoxToVertexs = function (e, t, n, o) {
					var i = [new cc.Vec2(-t / 2, -n / 2), new cc.Vec2(t / 2, -n / 2), new cc.Vec2(t / 2, n / 2), new cc.Vec2(-t / 2, n / 2)];
					return i.forEach(function (t) {
						t.rotateSelf(o).addSelf(e)
					}), i
				}, t.convertPolygonToVertexs = function (e, t, n) {
					return t.map(function (t) {
						return t.rotate(n).addSelf(e)
					})
				}, t.collisionWithBox = function (e, t, n, o, i, a, s, c) {
					var l = this,
						u = [new cc.Vec2(-i / 2, -a / 2), new cc.Vec2(i / 2, -a / 2), new cc.Vec2(i / 2, a / 2), new cc.Vec2(-i / 2, a / 2)],
						d = [{
							A: u[0],
							B: u[1],
							N: new cc.Vec2(0, -1)
						}, {
							A: u[1],
							B: u[2],
							N: new cc.Vec2(1, 0)
						}, {
							A: u[2],
							B: u[3],
							N: new cc.Vec2(0, 1)
						}, {
							A: u[3],
							B: u[0],
							N: new cc.Vec2(-1, 0)
						}];
					u.forEach(function (e) {
						e.rotateSelf(s).addSelf(o)
					}), d.forEach(function (e) {
						e.N.rotateSelf(s), c && e.N.negSelf()
					});
					var f = d.map(function (o) {
						return l.collisionWithLineHasNormal(e, t, n, o.A, o.B, o.N)
					}),
						p = u.map(function (o) {
							return l.collisionWithCircle(e, t, o, 0, n)
						});
					return Math.min.apply(Math, r(f, p))
				}, t.collisionWithPolygon = function (e, t, n, o, i, a, s, c) {
					var l = this,
						u = [],
						d = (i = i.map(function (e) {
							return (new cc.Vec2).set(e)
						})).length;
					if (d > 1)
						for (var f = 0; f < d && (f != d - 1 || s); ++f) {
							var p = i[f],
								h = i[(f + 1) % d],
								y = this.getNormalForLine(p, h, cc.Vec2.ZERO);
							c || y.negSelf(), u.push({
								A: p,
								B: h,
								N: y
							})
						}
					i.forEach(function (e) {
						e.rotateSelf(a).addSelf(o)
					}), u.forEach(function (e) {
						e.N.rotateSelf(a)
					});
					var g = u.map(function (o) {
						return l.collisionWithLineHasNormal(e, t, n, o.A, o.B, o.N)
					}),
						_ = i.map(function (o) {
							return l.collisionWithCircle(e, t, o, 0, n)
						});
					return Math.min.apply(Math, r(g, _))
				}, t.findGoodShotIndirectly = function (e, t, n, o, i, r, a, s) {
					var c = this._findGoodShot(e, t, n, o, i, r, !0, s);
					if (c.goodShotList.length > 0) return c.goodShotList.sort(function (e, t) {
						return e.score - t.score
					}), c.goodShotList;
					var l = c.fakePocketList,
						u = a ? t.concat(n) : t,
						d = a ? [] : n,
						f = this._findGoodShot(e, u, d, o, i, l, !1, s);
					return f.goodShotList.length > 0 ? (f.goodShotList.forEach(function (e) {
						e.pocket > -1 && (e.pocket = l[e.pocket].originPocket);
						var n = u[e.ball];
						e.ball = t.indexOf(n), e.score += e.cos3 + 1
					}), f.goodShotList.sort(function (e, t) {
						return e.score - t.score
					}), f.goodShotList) : []
				}, t.findGoodShot = function (e, t, n, o, i, r) {
					var a = this._findGoodShot(e, t, n, o, i, r, !1).goodShotList;
					return a.sort(function (e, t) {
						return e.score - t.score
					}), a
				}, t._findGoodShot = function (e, t, n, o, i, r, a, s) {
					for (var c = [], l = [], u = t.concat(n), d = 0; d < t.length; ++d)
						for (var f = t[d], p = 0; p < r.length; ++p) {
							var h = r[p],
								y = void 0,
								g = (y = s ? s(h.pos, h.pos.sub(f).len()) : h.pos).sub(f),
								_ = g.normalize(),
								v = _.dot(h.dir);
							if (!(v > -.4)) {
								var b = _.neg().mulSelf(2 * o).addSelf(f);
								if (!i || i.contains(b)) {
									var m = e || b,
										w = 0;
									if (e) {
										var S = m.sub(b).normalize();
										w = _.dot(S)
									} else w = -1;
									if (!(w > -.1)) {
										var C = h.except ? h.except.concat(f) : [f];
										if (!this.hasBlock(f, u, o, y, C) && (a && l.push({
											pos: b,
											dir: _.neg(),
											originPocket: p,
											except: C,
											cos: v
										}), !this.hasBlock(m, u, o, b, C))) {
											var P = {
												pos: b,
												pocket: p,
												ball: d,
												cos1: w,
												cos2: v,
												cos3: h.cos || 0,
												distance: g.len(),
												score: 0
											};
											P.score = P.distance / 500 + (P.cos1 + 1) + .3 * (P.cos2 + 1), c.push(P)
										}
									}
								}
							}
						}
					return {
						goodShotList: c,
						fakePocketList: l
					}
				}, t.findGoodShotForTouch = function (e, t, o, i) {
					for (var r = t.map(function (t) {
						return {
							pos: t,
							distance: e.sub(t).len()
						}
					}), a = 0, s = (r = r.sort(function (e, t) {
						return e.distance - t.distance
					})).length; a < s; ++a) {
						var c = r[a].pos,
							l = n.getAvoidBlockDirection(e, c, o, i);
						if (l) return [{
							pos: l.pos,
							pocket: -1,
							ball: a,
							cos1: -1,
							cos2: 1,
							distance: l.distance,
							score: 0
						}]
					}
					return []
				}, t.isOverlap = function (e, t, n) {
					for (var o = 0; o < t.length; ++o) {
						var i = t[o];
						if (e != i && i.sub(e).lengthSqr() < 4 * n * n) return !0
					}
					return !1
				}, t.hasBlock = function (e, t, n, o, i) {
					for (var r = 0; r < t.length; ++r) {
						var a = t[r];
						if (!(e == a || i.indexOf(a) > -1))
							if (cc.Intersection.pointLineDistance(a, e, o, !0) < 2 * n) return a
					}
					return null
				}, t.findNearetAndFarthest = function (e, t) {
					if (e.length <= 0 || t.length <= 0) return null;
					for (var n = {
						nearest: {
							ball: -1,
							pocket: -1,
							distanceSqr: 1 / 0
						},
						farthest: {
							ball: -1,
							pocket: -1,
							distanceSqr: -1 / 0
						}
					}, o = 0; o < e.length; ++o)
						for (var i = e[o], r = 0; r < t.length; ++r) {
							var a = t[r],
								s = i.sub(a).lengthSqr();
							s < n.nearest.distanceSqr && (n.nearest.ball = o, n.nearest.pocket = r, n.nearest.distanceSqr = s), s > n.farthest.distanceSqr && (n.farthest.ball = o, n.farthest.pocket = r, n.farthest.distanceSqr = s)
						}
					return n
				}, t.reflect = function (e, t, n) {
					return (n = n || new cc.Vec2).set(t).mulSelf(2 * cc.Vec2.dot(t, e)).negSelf().addSelf(e)
				}, t.getAvoidBlockDirection = function (e, t, o, i, r, a, s) {
					if (void 0 === s && (s = 0), s >= 8) return null;
					r || (r = t.sub(e).normalizeSelf()), a = a || 0, r.rotateSelf(a);
					var c = n.collisionWithCircle(e, i, t, i, r);
					if (!isFinite(c)) return null;
					var l = new cc.Vec2;
					l.set(r).mulSelf(c).addSelf(e);
					var u = n.hasBlock(e, o, i, l, [t]);
					if (u) {
						var d = u.sub(e),
							f = d.len();
						d.normalizeSelf();
						var p = Math.asin(2 * i * 1.01 / f);
						return d.cross(r) < 0 && (p = -p), p * a < 0 ? null : this.getAvoidBlockDirection(e, t, o, i, d, p, s + 1)
					}
					return {
						pos: l,
						distance: c,
						v: r
					}
				}, t = n = i([d], t)
			}(cc.Component));
		n.default = f, window.Calc = f, cc._RF.pop()
	}, {}],
	CashoutBar: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "4b322Xa72xIXLSBGfcxbECZ", "CashoutBar");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/SoundID"),
			a = e("./CashoutLayer"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, c.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.start = function () {
					var t = this.node.getChildByName("bcoins_pnl"),
						n = this.node.getChildByName("cashout_btn");
					t.active = true, n.active = false;
				}, t.prototype.onBtnCashoutClick = function (e) {
					SoundMgr.play(r.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2), ui.showLayer(a.default)
				}, t = i([l], t)
			}(cc.Component));
		n.default = u, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"./CashoutLayer": "CashoutLayer"
	}],
	CashoutLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7dcd4CQkGhNTrsHpAosnUym", "CashoutLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.CashoutLayerParam = void 0;
		var s = e("../../Config/ReportID"),
			c = e("../../Config/SoundID"),
			l = e("../base/LayerBase"),
			u = e("./BalanceLayer"),
			f = cc._decorator,
			p = f.ccclass,
			h = (f.property, f.menu),
			y = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.CashoutLayerParam = y;
		var g = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			return o(t, e), t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.help_node.active = !1, this.help_node.opacity = 0, this.dot_three_node.active = !1
			}, t.prototype.onDestroy = function () {
				sdk.hideLoading(), e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this.fetchData()
			}, t.prototype.fetchData = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						switch (t.label) {
							case 0:
							// return sdk.showLoading("加载中...", !1), [4, d.default.instance.getBalanceInfo()];
							case 1:
								return e = t.sent(), sdk.hideLoading(), this.isValid && (e ? this.updateDisplay() : this.close()), [2]
						}
					})
				})
			}, t.prototype.updateDisplay = function () {
				var e = d.default.instance.getBalance(),
					t = e >= d.default.instance.getMinCashout();
				this.dot_three_node.active = !t, Utils.setNodeBright(this.cashout_btn.node, t, !0), this.yuan_lbl.string = e.toFixed(2)
			}, t.prototype.onBtnCashoutClick = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n;
					return a(this, function (o) {
						switch (o.label) {
							case 0:
								return SoundMgr.play(c.default.btn), e = d.default.instance.getBalance(), t = d.default.instance.getMinCashout(), e < t ? (ui.showTips("不足" + t + "元无法提现"), [2]) : (Utils.setAllBtnsEnabled(this.node, !1), sdk.showLoading("加载中...", !1), [4, d.default.instance.cashout()]);
							case 1:
								return n = o.sent(), sdk.hideLoading(), n && Server.reportClick(s.default.cash_out), this.isValid && (this.updateDisplay(), Utils.setAllBtnsEnabled(this.node, !0)), [2]
						}
					})
				})
			}, t.prototype.onBtnContactClick = function () {
				SoundMgr.play(c.default.btn), Utils.disableAllBtnsAmoment(this.node, .2), d.default.instance.contact()
			}, t.prototype.onBtnBalanceClick = function () {
				SoundMgr.play(c.default.btn), ui.showLayer(u.default)
			}, t.prototype.onBtnHelpClick = function () {
				SoundMgr.play(c.default.btn), this.help_node.active = !0;
				var e = this.help_node;
				e.stopAllActions(), e.runAction(cc.fadeIn(.2))
			}, t.prototype.onHelpClick = function () {
				var e = this.help_node;
				e.stopAllActions(), e.runAction(cc.sequence(cc.fadeOut(.2), cc.callFunc(function () {
					e.active = !1
				})))
			}, t.prototype.close = function () {
				var e = this;
				this.node.runAction(cc.sequence(cc.spawn(cc.fadeOut(.2), cc.moveTo(.2, 0, -500)), cc.callFunc(function () {
					e.node.destroy()
				})))
			}, t.prefabName = "home://dynamic/layer/cashoutLayer", t = i([p, h("Layer/CashoutLayer")], t)
		}(l.default);
		n.default = g, window.CashoutLayer = g, cc._RF.pop()
	}, {
		"../../Config/ReportID": "ReportID",
		"../../Config/SoundID": "SoundID",
		"../base/LayerBase": "LayerBase",
		"./BalanceLayer": "BalanceLayer"
	}],
	ChallengeHelpLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "ce816aExkRL2KHLk4idbmZQ", "ChallengeHelpLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.ChallengeHelpLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = e("./HelpBtn"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, s.menu),
			u = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.ChallengeHelpLayerParam = u;
		var d = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				var t = this.getMaskNode();
				t && (t.stopAllActions(), t.opacity = 180), e.prototype.onLoad.call(this), n._instance = this
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this), n._instance = null
			}, t.prototype.onDataLoad = function () { }, t.prototype.close = function () {
				var t = this,
					n = cc.Canvas.instance.getComponentInChildren(a.default);
				if (n) {
					var o = this.getMaskNode();
					o && (o.stopAllActions(), o.opacity = 0);
					var i = Utils.covertToNodeSpaceAR(n.node, this.node.parent, cc.Vec2.ZERO);
					this.node.stopAllActions(), this.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5, 0).easing(cc.easeSineOut()), cc.moveTo(.5, i).easing(cc.easeSineOut())), cc.callFunc(function () {
						t.node.destroy()
					})))
				} else e.prototype.close.call(this)
			}, t.show = function () {
				return new Promise(function (e, t) {
					var o = new u;
					return o.onClose = e, ui.showLayer(n, o)
				})
			}, t.close = function () {
				n._instance && n._instance.close()
			}, t.prefabName = "game://dynamic/layer/challengeHelpLayer", t._instance = null, t = n = i([c, l("Layer/ChallengeHelpLayer")], t)
		}(r.default);
		n.default = d, window.ChallengeHelpLayer = d, cc._RF.pop()
	}, {
		"../base/LayerBase": "LayerBase",
		"./HelpBtn": "HelpBtn"
	}],
	ChallengeLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a0d35bdHnJF57NkyIFIrOZM", "ChallengeLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.ChallengeLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = e("../../Runtime/LevelConfig"),
			l = e("./ChallengeLogic"),
			u = e("../../Config/SoundID"),
			d = e("../base/RewardBtn"),
			f = e("../../Base/ShareTypes"),
			p = e("../../Runtime/Router"),
			h = e("../../Runtime/HomeScene"),
			y = e("../prize/PrizePanel"),
			g = cc._decorator,
			_ = g.ccclass,
			v = (g.property, g.menu),
			b = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.ChallengeLayerParam = b;
		var m = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), this.getComponentInChildren(d.default).sharePos = f.SharePos.Challenge, n._instance = this
			}, t.prototype.onDestroy = function () {
				n._instance = null, e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this._updateDisplay()
			}, t.prototype._updateDisplay = function () {
				var e = cc.find("dialog/contents", this.node),
					t = e.getChildByName("item_list").getComponent(y.default),
					n = l.default.instance.getPrizeIndex(),
					o = c.default.instance.getChallengeConfig(n);
				t.setData(o.prizeList.filter(function (e) {
					return e.value > 0
				}));
				var i = e.getChildByName("gray_btn"),
					r = e.getChildByName("start_btn"),
					a = e.getChildByName("retry_btn"),
					s = l.default.instance.getType();
				i.active = s == l.ChallengeEnterType.none, r.active = s == l.ChallengeEnterType.free, a.active = s == l.ChallengeEnterType.reward
			}, t.prototype.enterGame = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						return p.default.instance.enterChallenge(), this.close(), [2]
					})
				})
			}, t.prototype.onStartBtnClick = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						return SoundMgr.play(u.default.btn), Utils.setAllBtnsEnabled(this.node, !1), l.default.instance.isRewardGame = !1, this.enterGame(), [2]
					})
				})
			}, t.prototype.onRewardCallback = function (e) {
				e == d.RewardFuncParam.Click ? Utils.setAllBtnsEnabled(this.node, !1) : e == d.RewardFuncParam.Success ? (l.default.instance.isRewardGame = !0, this.enterGame()) : Utils.setAllBtnsEnabled(this.node, !0)
			}, t.prototype.close = function () {
				var t = this,
					n = h.default.instance;
				if (n) {
					var o = cc.find("hud/bottom/center/btn_challenge", n.node);
					if (o) {
						var i = this.getMaskNode();
						i && (i.stopAllActions(), i.opacity = 0);
						var r = Utils.covertToNodeSpaceAR(o, this.node.parent, cc.Vec2.ZERO);
						return this.node.stopAllActions(), void this.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5, 0).easing(cc.easeSineOut()), cc.moveTo(.5, r).easing(cc.easeSineOut())), cc.callFunc(function () {
							t.node.destroy()
						})))
					}
				}
				e.prototype.close.call(this)
			}, t.show = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						return [2, new Promise(function (e, t) {
							var o = new b;
							o.onClose = e, ui.showLayer(n, o)
						})]
					})
				})
			}, t.close = function () {
				n._instance && n._instance.close()
			}, t.prefabName = "home://dynamic/layer/challengeLayer", t._instance = null, t = n = i([_, v("Layer/ChallengeLayer")], t)
		}(s.default);
		n.default = m, window.ChallengeLayer = m, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/SoundID": "SoundID",
		"../../Runtime/HomeScene": "HomeScene",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../../Runtime/Router": "Router",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"../prize/PrizePanel": "PrizePanel",
		"./ChallengeLogic": "ChallengeLogic"
	}],
	ChallengeLevelLbl: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7fb4aWg4UlPRo2vBFiBDs1U", "ChallengeLevelLbl");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.label = null, t
				}
				return o(t, e), t.prototype.setString = function (e) {
					this.label.string = e
				}, i([s(cc.Label)], t.prototype, "label", void 0), t = i([a], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	ChallengeLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "5ec4bIBpCtGx6voisVfuRk5", "ChallengeLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.ChallengeEnterType = void 0;
		var r, a = e("../../Config/ServerConfig"),
			s = e("./ChallengeLayer"),
			c = e("../../Runtime/guide/GuideLogic"),
			l = e("../../Runtime/LevelConfig"),
			u = e("../../Runtime/game/item2/ReceiveItemLayer"),
			d = e("../../Runtime/Router"),
			f = e("../help/ChallengeHelpLayer"),
			p = e("./ChallengeResultLayer"),
			h = e("../../Config/ReportID"),
			y = function () {
				function e() {
					this.isRewardGame = !1
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getType = function () {
					var e = DataBus.other.challengeTimes;
					return e >= a.default.instance.getChallengeTimes() ? r.none : 0 == e ? r.free : r.reward
				}, e.prototype.addChallengeTimes = function () {
					DataBus.other.challengeTimes += 1, DataBus.other.save()
				}, e.prototype.addChallengeWinDays = function () {
					var e = TimeMgr.serverTime;
					Utils.isSameDay(e, DataBus.other.challengeWinTimestamp) || (DataBus.other.challengeWinDays += 1, DataBus.other.challengeWinTimestamp = e, DataBus.other.save())
				}, e.prototype.hasBadage = function () {
					return DataBus.other.challengeTimes <= 0
				}, e.prototype.getPrizeIndex = function () {
					var e = DataBus.other.challengeWinDays,
						t = TimeMgr.serverTime;
					return Utils.isSameDay(t, DataBus.other.challengeWinTimestamp) ? (e - 1) % 7 : e % 7
				}, e.prototype.showReceiveItemLayer = function () {
					return o(this, void 0, void 0, function () {
						var e, t;
						return i(this, function (n) {
							switch (n.label) {
								case 0:
									return this.isRewardGame ? Server.reportClick(h.default.chall2) : Server.reportClick(h.default.chall1), e = this.getPrizeIndex(), t = l.default.instance.getChallengeConfig(e), [4, p.default.show(!0)];
								case 1:
									return n.sent(), [4, u.default.show(t.prizeList)];
								case 2:
									return n.sent(), d.default.instance.enterHome(), [2]
							}
						})
					})
				}, e.prototype.showFailLayer = function () {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							switch (e.label) {
								case 0:
									return [4, p.default.show(!1)];
								case 1:
									return e.sent(), [2]
							}
						})
					})
				}, e.prototype.canShowLayer = function () {
					return DataBus.other._challengeLayerAutoPopped ? (console.log("[每日挑战自动弹窗]这次启动游戏已经弹过窗，不自动弹出挑战界面。"), !1) : this.getType() != r.free ? (console.log("[每日挑战自动弹窗]免费次数已用完，不自动弹出挑战界面。"), !1) : !!c.default.instance.isGuideFinished() || (console.log("[每日挑战自动弹窗]新手引导未完成，不自动弹出挑战界面。"), !1)
				}, e.prototype.tryToShowLayer = function () {
					if (this.canShowLayer()) return DataBus.other._challengeLayerAutoPopped = !0, console.log("[每日挑战自动弹窗]"), s.default.show()
				}, e.prototype.tryToAutoShowHelpLayer = function () {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							return 0 == DataBus.other.challengeTimes ? [2, f.default.show()] : [2]
						})
					})
				}, e._instance = null, e
			}();
		n.default = y,
			function (e) {
				e[e.none = 0] = "none", e[e.free = 1] = "free", e[e.reward = 2] = "reward"
			}(r = n.ChallengeEnterType || (n.ChallengeEnterType = {})), cc._RF.pop()
	}, {
		"../../Config/ReportID": "ReportID",
		"../../Config/ServerConfig": "ServerConfig",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../../Runtime/Router": "Router",
		"../../Runtime/game/item2/ReceiveItemLayer": "ReceiveItemLayer",
		"../../Runtime/guide/GuideLogic": "GuideLogic",
		"../help/ChallengeHelpLayer": "ChallengeHelpLayer",
		"./ChallengeLayer": "ChallengeLayer",
		"./ChallengeResultLayer": "ChallengeResultLayer"
	}],
	ChallengeResultLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "fc1bfjfH9lCWqkQfRLqaox3", "ChallengeResultLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.ChallengeResultLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = e("../base/RewardBtn"),
			s = e("../../Base/ShareTypes"),
			c = e("../../Config/SoundID"),
			l = e("../../Runtime/Router"),
			u = e("./ChallengeLogic"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, d.menu),
			h = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.ChallengeResultLayerParam = h;
		var y = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), this.getComponentInChildren(a.default).sharePos = s.SharePos.Challenge
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this._updateDisplay()
			}, t.prototype._updateDisplay = function () {
				var e = this,
					t = cc.find("dialog/contents/win_node", this.node),
					n = cc.find("dialog/contents/fail_node", this.node);
				if (this.data.isWin) {
					t.active = !0, n.active = !1;
					var o = t.getChildByName("title");
					o.stopAllActions(), o.x = -375, o.runAction(cc.sequence(cc.moveTo(1.2, 0, o.y).easing(cc.easeElasticOut(.3)), cc.callFunc(function () {
						e.close()
					}))), SoundMgr.play(c.default.victory1)
				} else {
					t.active = !1, n.active = !0;
					var i = n.getChildByName("retry_btn"),
						r = u.default.instance.getType();
					i.active = r != u.ChallengeEnterType.none, SoundMgr.play(c.default.fail)
				}
			}, t.prototype.onHomeBtnClick = function () {
				SoundMgr.play(c.default.btn), l.default.instance.enterHome(), this.close()
			}, t.prototype.onRewardCallback = function (e) {
				if (e == a.RewardFuncParam.Click) {
					if (u.default.instance.getType() == u.ChallengeEnterType.none) return ui.showTips("Please come back tomorrow"), !0;
					Utils.setAllBtnsEnabled(this.node, !1)
				} else e == a.RewardFuncParam.Success ? (l.default.instance.enterChallenge(), this.close()) : Utils.setAllBtnsEnabled(this.node, !0)
			}, t.show = function (e) {
				return new Promise(function (t, o) {
					var i = new h;
					i.isWin = e, i.onClose = t, ui.showLayer(n, i)
				})
			}, t.prefabName = "game://dynamic/layer/challengeResultLayer", t = n = i([f, p("Layer/ChallengeResultLayer")], t)
		}(r.default);
		n.default = y, window.ChallengeResultLayer = y, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/SoundID": "SoundID",
		"../../Runtime/Router": "Router",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"./ChallengeLogic": "ChallengeLogic"
	}],
	ChallengeRule: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "bf3c3IO7xVBPJ6KGrekaTwQ", "ChallengeRule");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../PoolTypes"),
			c = e("../ball/BallContact"),
			l = e("../PoolEffect"),
			u = e("./RuleTypes"),
			d = e("./BaseRule"),
			f = e("../PoolGlobal"),
			p = e("../../../Ui/levelItem/LevelItemLogic"),
			h = e("../../../Config/EventID"),
			y = e("../control/ObjectsPanel"),
			g = e("../../../Ui/challenge/ChallengeLogic"),
			_ = e("../../../Ui/challenge/ChallengeLevelLbl"),
			v = e("../AdditionLogic"),
			b = 28,
			m = new cc.Vec2(1, -6),
			w = cc._decorator,
			S = w.ccclass,
			C = (w.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._isFoul = !1, t._curObjectBalls = null, t._backup = null, t._puzzle = null, t._puzzleTimes = 0, t._puzzleTotalTimes = 1, t._alreadyShoot = !1, t._rangeRadius = b, t
				}
				return o(t, e), t.prototype.start = function () {
					e.prototype.start && e.prototype.start.call(this), v.default.instance.isPvp = !1
				}, t.prototype.reset = function () {
					this._isFoul = !1, this.clearObjectBallCountDisplay();
					var e = [2, 2, 2, 1.5, 1.5, 1.5, 1];
					this._rangeRadius = b * e[this._data.challengeWinDays % e.length], this._puzzleTimes = 0, this._puzzleTotalTimes = 2, this._updateLevelLbl(), this._randomPuzzle(), this.getPoolStage().loadData(this._puzzle)
				}, t.prototype.revive = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return this._isFoul = !1, this._resultType = u.RuleResultType.none, [4, this.restoreGame()];
								case 1:
									return e.sent(), this._continueGame(), [2]
							}
						})
					})
				}, t.prototype.pause = function () {
					cc.director.getScheduler().pauseTarget(cc.director.getPhysicsManager());
					var e = this.getPoolStage();
					e.ballManager.stopUpdate(), e.disableControlUi(), cc.systemEvent.emit(s.PoolEventId.GamePause)
				}, t.prototype.resume = function () {
					cc.director.getScheduler().resumeTarget(cc.director.getPhysicsManager());
					var e = this.getPoolStage();
					e.ballManager.startUpdate(), e.ballManager.ballRunning || this._resultType != u.RuleResultType.none || (e.enableControlUi(), e.sightLine.show()), cc.systemEvent.emit(s.PoolEventId.GameResume)
				}, t.prototype._onGameStart = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return this._resultType = u.RuleResultType.none, this.getPoolStage().disableControlUi(), this._beforeGameStart(), this._angleToNearestObjectBall(), this.initObjectBallCountDisplay(), this._setTargetHintVisible(!0), this.getPoolStage().resetControlUi(), this.getPoolStage().touchController.setCueBallMovable(!1), [4, this.initItems()];
								case 1:
									return e.sent(), [4, this._afterGameStart()];
								case 2:
									return e.sent(), this.resume(), [2]
							}
						})
					})
				}, t.prototype._onBallRunning = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return this._alreadyShoot || (this._alreadyShoot = !0, g.default.instance.addChallengeTimes()), l.default.playHitAnimation(this.getPoolStage(), DataBus.user.usedHitEffect), this._saveGame(), this._setTargetHintVisible(!1), this._curObjectBalls = this._getObjectBalls().map(function (e) {
								return e.getBallNum()
							}), this.getPoolStage().touchController.setCueBallMovable(!1), this.getPoolStage().disableControlUi(), this.getPoolStage().sightLine.hide(), [2]
						})
					})
				}, t.prototype._onBallStop = function () {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return this.getPoolStage().resetControlUi(), this._playBlinkAnimation(), this._checkFoul(), e = this, [4, this._checkOver()];
								case 1:
									return e._resultType = t.sent(), this._resultType == u.RuleResultType.none ? [3, 2] : (this._gameOver(), [3, 4]);
								case 2:
									return this._randomPuzzle(), [4, this.getPoolStage().ballManager.initBalls(this._puzzle.list)];
								case 3:
									t.sent(), this.initObjectBallCountDisplay(), this._continueGame(), t.label = 4;
								case 4:
									return [2]
							}
						})
					})
				}, t.prototype._gameOver = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return (e = this._resultType) == u.RuleResultType.lose && this.showGameOverTips(), [4, Utils.delayTime(.5, this)];
								case 1:
									return n.sent(), t = {
										resultType: e,
										failReason: this._failReason,
										objects: this._getTotalObjectBalls().length
									}, this.getPoolStage().node.emit(s.PoolEventId.GameOver, t), [2]
							}
						})
					})
				}, t.prototype._continueGame = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return this._setTargetHintVisible(!0), this.getPoolStage().enableControlUi(), this._angleToNearestObjectBall(), this._curObjectBalls = this._getObjectBalls().map(function (e) {
								return e.getBallNum()
							}), [2]
						})
					})
				}, t.prototype._onCueBallCollide = function (e, t) {
					return r(this, void 0, Promise, function () {
						var n, o, i;
						return a(this, function (r) {
							return (n = DataBus.user.usedHitEffect) > 0 && 1 == c.default.runtimeData.cueBallCollideCount && (o = e.convertToWorldSpaceAR(cc.Vec2.ZERO), i = t.convertToWorldSpaceAR(cc.Vec2.ZERO), l.default.playCollideAnimation(o, i, n)), [2]
						})
					})
				}, t.prototype._onPotted = function (e, t, n) {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return this._checkFoulForPotted(), this._resultType = this._checkOverForPotted(), this._resultType == u.RuleResultType.none ? [3, 2] : (this.getPoolStage().ballManager.specialStop(), [4, Utils.delayTime(1, this)]);
								case 1:
									e.sent(), this.getPoolStage().resetControlUi(), this._gameOver(), e.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.prototype._onAddBall = function (e) { }, t.prototype._onSightLinePosChanged = function (e) {
					var t = this.getPoolStage().sightLine,
						n = this._curObjectBalls || this._getObjectBalls().map(function (e) {
							return e.getBallNum()
						}),
						o = e.objectBall,
						i = o ? o.getBallNum() : -1,
						r = n.indexOf(i) > -1;
					o && r ? t.objectColor = f.default.getBallColor(i) : e.objectDir = null, t.aimLineColor = o && !r ? cc.Color.RED : cc.Color.WHITE
				}, t.prototype._checkFoulForPotted = function () {
					this._failReason = u.RuleFailReason.unkown;
					var e = c.default.runtimeData,
						t = e.pottedList;
					return this._isFoul = !e.isScratch && t.length > 0, this._isFoul
				}, t.prototype._checkFoul = function () {
					this._failReason = u.RuleFailReason.unkown;
					var e = c.default.runtimeData,
						t = e.pottedList;
					return this._isFoul = !e.isScratch && t.length > 0, this._isFoul
				}, t.prototype._checkOverForPotted = function () {
					return this._isFoul ? u.RuleResultType.lose : 0 == this._getObjectBalls().length ? u.RuleResultType.lose : u.RuleResultType.none
				}, t.prototype._checkOver = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return this._isFoul ? [2, u.RuleResultType.lose] : 0 == this._getObjectBalls().length ? [2, u.RuleResultType.lose] : this._getObjectDistance() <= this._rangeRadius ? (this._puzzleTimes += 1, this._updateLevelLbl(), this._playHitAnimation(), this._puzzleTimes >= this._puzzleTotalTimes ? [2, u.RuleResultType.win] : [2, u.RuleResultType.none]) : [2, u.RuleResultType.lose]
						})
					})
				}, t.prototype._getObjectBalls = function () {
					return this.getPoolStage().ballManager.getObjectBalls()
				}, t.prototype._getTotalObjectBalls = function () {
					return this.getPoolStage().ballManager.getObjectBalls()
				}, t.prototype._sortObjectBalls = function (e) { }, t.prototype._setTargetHintVisible = function (e) {
					this.getPoolStage().ballManager.getOnTableBalls().forEach(function (e) {
						return e.setTargetHintVisible(!1)
					}), e && this._getObjectBalls().forEach(function (e) {
						return e.setTargetHintVisible(!0)
					})
				}, t.prototype._getPositionFromBackUp = function (e) {
					var t = this._backup;
					if (t) {
						var n = t.balls.indexOf(e);
						return t.coord[n]
					}
					return null
				}, t.prototype._saveGame = function () {
					var e = this.getPoolStage().ballManager.getOnTableBalls();
					this._backup = {
						balls: e.map(function (e) {
							return e.getBallNum()
						}),
						coord: e.map(function (e) {
							return e.node.getPosition()
						})
					}
				}, t.prototype.restoreGame = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return (e = this._backup) ? (t = c.default.runtimeData, n = this.getComponentInChildren(y.default), t.pottedList.forEach(function (e) {
										return n.setBallInTable(e)
									}), [4, this.getPoolStage().ballManager.initBallsByBallNum(e.balls, e.coord)]) : [3, 2];
								case 1:
									o.sent(), o.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.prototype._angleToNearestObjectBall = function () {
					var e = this._getObjectBalls(),
						t = this.getPoolStage().ballManager.getNearestNoBlockAngleInList(e);
					if (void 0 !== t) this.getPoolStage().angleTo(t);
					else {
						var n = this.getPoolStage().ballManager.getNearestBallInList(e);
						this.getPoolStage().angleToBall(n)
					}
				}, t.prototype._updateLevelLbl = function () {
					var e = this.getComponentInChildren(_.default);
					if (e) {
						var t = Math.min(this._puzzleTimes + 1, this._puzzleTotalTimes);
						e.setString(t + "/" + this._puzzleTotalTimes)
					}
				}, t.prototype._playHitAnimation = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.prototype.showGameOverTips = function () {
					var e = c.default.runtimeData,
						t = e.collideMap[0] ? e.collideMap[0].filter(function (e) {
							return "ball" == e.type
						}) : [],
						n = (e.pottedList, this._getObjectDistance()),
						o = f.default.radius;
					if (n > this._rangeRadius && n < this._rangeRadius + 2 * o) {
						var i = this.getPoolStage().ballManager.node.convertToWorldSpaceAR(this._puzzle.destPos);
						return l.default.playLittleMistakeTips(i), !0
					}
					if (e.collideMap[0]) {
						var r = t[0];
						if (r) {
							var a = this.getPoolStage().ballManager.ballList[r.value];
							if (a) {
								i = a.node.convertToWorldSpaceAR(cc.Vec2.ZERO);
								return l.default.playFailTips(i), !0
							}
						}
					}
					return l.default.playFailTips(null), !0
				}, t.prototype.initItems = function () {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							return (e = this._data.itemData) && e.type == p.LevelItemType.Cue ? (cc.systemEvent.emit(h.default.CUE_CHANGED, e.value), this._data.itemData = null) : cc.systemEvent.emit(h.default.CUE_CHANGED, DataBus.user.usedCue1), [2]
						})
					})
				}, t.prototype.clearObjectBallCountDisplay = function () {
					this.getComponentInChildren(y.default).setBalls([])
				}, t.prototype.initObjectBallCountDisplay = function () {
					var e = this.getComponentInChildren(y.default),
						t = this._getTotalObjectBalls().map(function (e) {
							return e.getBallNum()
						});
					this._sortObjectBalls(t), e.setBalls(t)
				}, t.prototype.updateObjectBallPottedDisplay = function (e) {
					this.getComponentInChildren(y.default).setBallPotted(e)
				}, t.prototype._beforeGameStart = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.prototype._afterGameStart = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return [4, g.default.instance.tryToAutoShowHelpLayer()];
								case 1:
									return e.sent(), [2]
							}
						})
					})
				}, t.prototype._randomPuzzle = function () {
					var e = this.getPoolStage().ballManager.getCueBall(),
						t = e && e.getBallStatus() == s.BallStatus.OnTable ? e.node.getPosition() : null;
					this._puzzle = this._createRandomPuzzle(t), this._updatePuzzleDisplay()
				}, t.prototype._createRandomPuzzle = function (e) {
					void 0 === e && (e = null);
					var t = f.default.radius,
						n = new cc.Size(468 - 4 * t, 934 - 4 * t),
						o = new cc.Size(.7 * n.width, .7 * n.height);
					e || (e = this._getRandomPos(n));
					for (var i = this._getRandomPos(o); i.sub(e).magSqr() < 4e4;) i = this._getRandomPos(o);
					for (var r = this._getRandomPos(n); i.sub(r).magSqr() < 1e4 || r.sub(i).normalizeSelf().dot(e.sub(i).normalizeSelf()) > -.25;) r = this._getRandomPos(n);
					return {
						table: 0,
						list: [e, i],
						destPos: r
					}
				}, t.prototype._getRandomPos = function (e) {
					return new cc.Vec2(e.width * Utils.randFloat(-.5, .5), e.height * Utils.randFloat(-.5, .5))
				}, t.prototype._updatePuzzleDisplay = function () {
					var e = this._puzzle,
						t = this.getPoolStage().ballManager.node.getChildByName("challenge_node");
					if (t) {
						t.zIndex = f.default.challengeIndex;
						var n = t.getChildByName("range_bg"),
							o = t.getChildByName("range"),
							i = e.destPos.sub(m);
						n.setPosition(i), o.setPosition(i), o.scale = 2 * this._rangeRadius / o.width;
						n.opacity = 0, n.stopAllActions(), n.runAction(cc.fadeIn(.3)), o.opacity = 0, o.stopAllActions(), o.runAction(cc.fadeIn(.3))
					}
				}, t.prototype._playBlinkAnimation = function () {
					var e = this.getPoolStage().ballManager.node.getChildByName("challenge_node").getChildByName("range");
					e.stopAllActions(), e.runAction(cc.blink(1.5, 5))
				}, t.prototype._getObjectDistance = function () {
					var e = this._getObjectBalls();
					return 0 == e.length ? 1 / 0 : e[0].node.getPosition().sub(this._puzzle.destPos).mag()
				}, t = i([S], t)
			}(d.default));
		n.default = C, cc._RF.pop()
	}, {
		"../../../Config/EventID": "EventID",
		"../../../Ui/challenge/ChallengeLevelLbl": "ChallengeLevelLbl",
		"../../../Ui/challenge/ChallengeLogic": "ChallengeLogic",
		"../../../Ui/levelItem/LevelItemLogic": "LevelItemLogic",
		"../AdditionLogic": "AdditionLogic",
		"../PoolEffect": "PoolEffect",
		"../PoolGlobal": "PoolGlobal",
		"../PoolTypes": "PoolTypes",
		"../ball/BallContact": "BallContact",
		"../control/ObjectsPanel": "ObjectsPanel",
		"./BaseRule": "BaseRule",
		"./RuleTypes": "RuleTypes"
	}],
	ChallengeScene: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "e99e7BnEKxHFopftfWwp/Ip", "ChallengeScene");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../Config/SoundID"),
			c = e("../Ui/Ui"),
			l = e("../Base/Share"),
			u = e("../Base/ShareTypes"),
			d = e("./game/PoolStage"),
			f = e("./game/PoolTypes"),
			p = e("../Ui/pause/PauseLayer"),
			h = e("../Ui/revive/ReviveLayer"),
			y = e("../Ui/revive/ReviveConfig"),
			g = e("./game/control/ShootPointLayer"),
			_ = e("../Ui/cue/CueLayer"),
			v = e("./game/rule/RuleTypes"),
			b = e("./game/rule/BaseRule"),
			m = e("./game/rule/RuleFactory"),
			w = e("../Config/EventID"),
			S = e("../Ui/game/TaskLayer"),
			C = e("../Ui/help/HelpLayer"),
			P = e("../Config/ReportID"),
			L = e("./YdsdkBridge"),
			T = e("./game/item2/NoItemLayer"),
			D = e("./game/item2/UseItemLayer"),
			B = e("../Ui/challenge/ChallengeLogic"),
			k = e("./Router"),
			R = e("../Res/ResLoader"),
			E = e("../Ui/dailyTask/DailyTaskLogic"),
			I = e("../Ui/dailyTask/DailyTaskTypes"),
			O = cc._decorator,
			A = O.ccclass,
			x = (O.property, O.menu),
			N = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.reviveTimes = 0, t
				}
				var n;
				return o(t, e), n = t, Object.defineProperty(t, "prefabName", {
					get: function () {
						return "game://dynamic/scene/challengeScene"
					},
					enumerable: !1,
					configurable: !0
				}), t.loadSubPackage = function (e) {
					return void 0 === e && (e = !0), r(this, void 0, void 0, function () {
						var t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return t = !0, [4, R.default.getBundle("game_newbie", e)];
								case 1:
									return t = n.sent() && t, [4, R.default.getBundle("game", e)];
								case 2:
									return t = n.sent() && t, [4, R.default.getBundle("common", e)];
								case 3:
									return [2, t = n.sent() && t]
							}
						})
					})
				}, t.enterScene = function (e) {
					return void 0 === e && (e = !0), r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return [4, n.loadSubPackage(e)];
								case 1:
									return t.sent(), n.instance ? (n.instance.newGame(), [3, 4]) : [3, 2];
								case 2:
									return [4, ui.switchScene(n).then(function (e) {
										var t = e.getComponent(n);
										t.scheduleOnce(function () {
											t.newGame()
										})
									})];
								case 3:
									t.sent(), t.label = 4;
								case 4:
									return [2, !0]
							}
						})
					})
				}, t.prototype.start = function () {
					Server.reportClick(P.default.scene2), L.default.instance.onWeidu(1), n.instance = this, this.initUi(), this.getComponentInChildren(d.default).node.on(f.PoolEventId.GameOver, this.gameOver, this), (this.getComponent(c.SceneCtrl) || this.addComponent(c.SceneCtrl)).closeType = c.SceneCloseTypeEnum.self_fade_out_to_right, SoundMgr.stopMusic()
				}, t.prototype.onDestroy = function () {
					n.instance = null, this._closeAllLayer()
				}, t.prototype.initUi = function () { }, t.prototype.loadPuzzle = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return [4, Utils.delayTime(.02, this)];
								case 1:
									return n.sent(), cc.systemEvent.emit(w.default.LOAD_PUZZLE, -1, !1), e = this.getComponentInChildren(d.default), t = m.default.instance.createRule(e.node, v.RuleType.Challenge, !1), [4, Utils.delayTime(.02, this)];
								case 2:
									return n.sent(), t.setData({
										challengeWinDays: DataBus.other.challengeWinDays
									}), 0 == DataBus.other.dailyChallFlag && (DataBus.other.dailyChallFlag = 1, E.default.instance.addDailyProgress(I.DailyTaskID.challenge, 1)), [2]
							}
						})
					})
				}, t.prototype.newGame = function () {
					return this.reviveTimes = 0, this.loadPuzzle()
				}, t.prototype.revive = function (e) {
					return void 0 === e && (e = !0), r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return e ? (this.reviveTimes += 1, [4, this.getComponentInChildren(b.default).revive()]) : [3, 2];
								case 1:
									return t.sent(), [3, 2];
								case 2:
									return [2]
							}
						})
					})
				}, t.prototype._closeAllLayer = function () {
					p.default.close(), g.default.close(), _.default.close(), S.default.close(), C.default.close(), T.default.close(), D.default.close()
				}, t.prototype.gameOver = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n = this;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return Utils.setAllBtnsEnabled(this.node, !1), this._closeAllLayer(), e.resultType != v.RuleResultType.win ? [3, 2] : (console.log("挑战胜利"), B.default.instance.addChallengeWinDays(), [4, B.default.instance.showReceiveItemLayer()]);
								case 1:
									return o.sent(), [3, 8];
								case 2:
									return t = y.default.getMaxReviveTimes(), this.reviveTimes < t ? l.default.isShareOrVideo(u.SharePos.Revive) != u.RewardType.None ? [3, 4] : [4, B.default.instance.showFailLayer()] : [3, 7];
								case 3:
									return o.sent(), [3, 6];
								case 4:
									return [4, h.default.show(function () {
										n.revive()
									}, function () {
										B.default.instance.showFailLayer()
									})];
								case 5:
									o.sent(), o.label = 6;
								case 6:
									return [3, 8];
								case 7:
									B.default.instance.showFailLayer(), o.label = 8;
								case 8:
									return this.isValid && Utils.setAllBtnsEnabled(this.node, !0), [2]
							}
						})
					})
				}, t.prototype.pause = function () {
					if (this.isValid) {
						var e = this.getComponentInChildren(b.default);
						e && e.pause()
					}
				}, t.prototype.resume = function () {
					if (this.isValid) {
						var e = this.getComponentInChildren(b.default);
						e && e.resume()
					}
				}, t.prototype.onBtnPauseClick = function () {
					SoundMgr.play(s.default.btn), ui.getSceneLength() > 1 ? ui.popScene(n) : p.default.show()
				}, t.prototype.onBtnHomeClick = function () {
					SoundMgr.play(s.default.btn), Utils.setAllBtnsEnabled(this.node, !1), k.default.instance.enterHome()
				}, t.instance = null, t = n = i([A, x("Scene/ChallengeScene")], t)
			}(cc.Component);
		n.default = N, window.ChallengeScene = N, cc._RF.pop()
	}, {
		"../Base/Share": "Share",
		"../Base/ShareTypes": "ShareTypes",
		"../Config/EventID": "EventID",
		"../Config/ReportID": "ReportID",
		"../Config/SoundID": "SoundID",
		"../Res/ResLoader": "ResLoader",
		"../Ui/Ui": "Ui",
		"../Ui/challenge/ChallengeLogic": "ChallengeLogic",
		"../Ui/cue/CueLayer": "CueLayer",
		"../Ui/dailyTask/DailyTaskLogic": "DailyTaskLogic",
		"../Ui/dailyTask/DailyTaskTypes": "DailyTaskTypes",
		"../Ui/game/TaskLayer": "TaskLayer",
		"../Ui/help/HelpLayer": "HelpLayer",
		"../Ui/pause/PauseLayer": "PauseLayer",
		"../Ui/revive/ReviveConfig": "ReviveConfig",
		"../Ui/revive/ReviveLayer": "ReviveLayer",
		"./Router": "Router",
		"./YdsdkBridge": "YdsdkBridge",
		"./game/PoolStage": "PoolStage",
		"./game/PoolTypes": "PoolTypes",
		"./game/control/ShootPointLayer": "ShootPointLayer",
		"./game/item2/NoItemLayer": "NoItemLayer",
		"./game/item2/UseItemLayer": "UseItemLayer",
		"./game/rule/BaseRule": "BaseRule",
		"./game/rule/RuleFactory": "RuleFactory",
		"./game/rule/RuleTypes": "RuleTypes"
	}],
	CheatLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f7e84AOPrBJxr5z8X+AlEvb", "CheatLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Ui"),
			a = e("../base/LayerBase"),
			s = e("../../Config/EventID"),
			c = e("../../Runtime/LevelConfig"),
			l = e("../../Data/EconomicLogic"),
			u = e("../../Lib/bignumber"),
			d = e("../../Runtime/game/PoolGlobal"),
			f = e("../../Config/GameConfig"),
			p = e("../balloon/BalloonLogic"),
			h = e("../vip/VipLogic"),
			y = e("../../Data/wxsdk"),
			g = cc._decorator,
			_ = g.ccclass,
			v = (g.property, function () {
				return function () {
					this.onClose = function () { }
				}
			}()),
			b = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.closeTaskList = {}, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					e.prototype.onLoad.call(this)
				}, t.prototype.onDestroy = function () {
					var t = this;
					Object.keys(this.closeTaskList).forEach(function (e) {
						var n = t.closeTaskList[e];
						n && n()
					}), e.prototype.onDestroy.call(this)
				}, t.prototype.onDataLoad = function () {
					this.data, this.initRadiusEditBox()
				}, t.prototype.setCloseTask = function (e, t) {
					this.closeTaskList[e] = t
				}, t.prototype.clearData = function () {
					DataBus.clear(), DataBus.saveData(), Server.saveData("{}").then(function () {
						r.default.showTips("数据已清除!")
					}).catch(function () {
						r.default.showTips("数据保存到服务器失败!")
					})
				}, t.prototype.addCoins = function () {
					l.default.instance.addCoins(1e3), r.default.showTips("金币增加了1000")
				}, t.prototype.reduceCoins = function () {
					var e = new u.default(1e3),
						t = DataBus.user.coins;
					l.default.instance.setCoins(u.default.max(0, t.minus(e))), (e = t.minus(DataBus.user.coins)).gt(0) && (cc.systemEvent.emit(s.default.UPDATE_COINS), r.default.showTips("金币减少了" + e))
				}, t.prototype.addEnergy = function () {
					DataBus.user.energy += 1, cc.systemEvent.emit(s.default.UPDATE_ENERGY), r.default.showTips("体力增加了1")
				}, t.prototype.reduceEnergy = function () {
					var e = 1,
						t = DataBus.user.energy;
					DataBus.user.energy = Math.max(0, t - e), (e = t - DataBus.user.energy) > 0 && (cc.systemEvent.emit(s.default.UPDATE_ENERGY), r.default.showTips("体力减少了" + e))
				}, t.prototype.addLevel = function () {
					DataBus.user.level = (DataBus.user.level + 1) % f.GameConfig.MAX_LEVEL, cc.systemEvent.emit(s.default.UPDATE_LEVEL), r.default.showTips("当前关卡：" + (DataBus.user.level + 1))
				}, t.prototype.reduceLevel = function () {
					DataBus.user.level = (DataBus.user.level - 1 + f.GameConfig.MAX_LEVEL) % f.GameConfig.MAX_LEVEL, cc.systemEvent.emit(s.default.UPDATE_LEVEL), r.default.showTips("当前关卡：" + (DataBus.user.level + 1))
				}, t.prototype.addMoveItem = function () {
					DataBus.user.moveItem = DataBus.user.moveItem + 1, r.default.showTips("移动母球道具数量：" + DataBus.user.moveItem)
				}, t.prototype.reduceMoveItem = function () {
					DataBus.user.moveItem = Math.max(0, DataBus.user.moveItem - 1), r.default.showTips("移动母球道具数量：" + DataBus.user.moveItem)
				}, t.prototype.addFreeItem = function () {
					DataBus.user.freeItem = DataBus.user.freeItem + 1, r.default.showTips("自由击球道具数量：" + DataBus.user.freeItem)
				}, t.prototype.reduceFreeItem = function () {
					DataBus.user.freeItem = Math.max(0, DataBus.user.freeItem - 1), r.default.showTips("自由击球道具数量：" + DataBus.user.freeItem)
				}, t.prototype.clearCueData = function () {
					DataBus.user.unlockCueList2 = [0], DataBus.user.usedCue1 = 0, DataBus.user.save(), r.default.showTips("球杆数据已清除")
				}, t.prototype.randomCueData = function () { }, t.prototype.clearGuide = function () {
					DataBus.other.guide = 0, DataBus.saveData(), r.default.showTips("新手引导数据已清除")
				}, t.prototype.clearUpgrade = function () {
					DataBus.user.buildingLevel2 = DataBus.user.carLevel2 = DataBus.user.gardenLevel2 = DataBus.user.roleLevel2 = 0, DataBus.saveData(), r.default.showTips("升级数据已清除")
				}, t.prototype.clearChallenge = function () {
					DataBus.other.challengeTimes = 0, DataBus.other.challengeWinDays = 0, DataBus.other.challengeWinTimestamp = 0, DataBus.other._challengeLayerAutoPopped = !1, r.default.showTips("每日挑战数据已清除")
				}, t.prototype.clearReceivePrize = function () {
					DataBus.user.prizeReceived = 0, DataBus.user.save(), r.default.showTips("过关领奖已重置")
				}, t.prototype.clearWheelNumber = function () {
					DataBus.other.wheelNumber = 2, DataBus.other.wheelRewardTimes = 0, DataBus.other.save(), r.default.showTips("转盘次数/激励次数已重置")
				}, t.prototype.clearBalloon = function () {
					DataBus.other.balloonTimes = 0, DataBus.other.save(), p.default.instance.unschedule(), r.default.showTips("气球数据已重置")
				}, t.prototype.addStar = function () {
					DataBus.user.star += 1, DataBus.user.save();
					var e = c.default.instance.getDanConfig(DataBus.user.star);
					r.default.showTips("总星星：" + DataBus.user.star + "\n段位：" + (e.dan + 1) + "（" + (e.dan_name + e.level_name) + "）星星：" + e.sub_star), this.setCloseTask("star", function () {
						return Server.saveData(DataBus.getString()).catch(function (e) {
							return null
						})
					})
				}, t.prototype.reduceStar = function () {
					DataBus.user.star = Math.max(DataBus.user.star - 1, 0), DataBus.user.save();
					var e = c.default.instance.getDanConfig(DataBus.user.star);
					r.default.showTips("总星星：" + DataBus.user.star + "\n段位：" + (e.dan + 1) + "（" + (e.dan_name + e.level_name) + "）星星：" + e.sub_star), this.setCloseTask("star", function () {
						return Server.saveData(DataBus.getString()).catch(function (e) {
							return null
						})
					})
				}, t.prototype.onRadiusEditBoxEnded = function (e) {
					var t = parseFloat(e.string) || d.default.radius;
					e.string = t.toString(), d.default.radius = t
				}, t.prototype.onRadiusRecoveryBtnClick = function () {
					cc.find("dialog/contents/btns/radius/editbox", this.node).getComponent(cc.EditBox).string = "20", d.default.radius = 20
				}, t.prototype.initRadiusEditBox = function () {
					cc.find("dialog/contents/btns/radius/editbox", this.node).getComponent(cc.EditBox).string = d.default.radius + ""
				}, t.prototype.clearHonorTitleData = function () {
					0 == DataBus.user.honorTitleList.length ? (DataBus.user.honorTitleList = Utils.randMultiInt(1, 4, Utils.randInt(1, 4)), DataBus.user.usedHonorTitle = 0, DataBus.user.save(), r.default.showTips("称号数据已随机设置")) : (DataBus.user.honorTitleList = [], DataBus.user.usedHonorTitle = 0, DataBus.user.save(), r.default.showTips("称号数据已重置"))
				}, t.prototype.clearRoleData = function () {
					DataBus.user.roleList = [0], DataBus.user.usedRole = 0, DataBus.user.save(), r.default.showTips("皮肤数据已重置")
				}, t.prototype.addRoleFragment = function () {
					DataBus.user.roleFragment += 5, r.default.showTips("皮肤碎片数量：" + DataBus.user.roleFragment)
				}, t.prototype.reduceRoleFragment = function () {
					DataBus.user.roleFragment = Math.max(0, DataBus.user.roleFragment - 5), r.default.showTips("皮肤碎片数量：" + DataBus.user.roleFragment)
				}, t.prototype.addBCoins = function () {
					DataBus.user.bcoins += 10, cc.systemEvent.emit(s.default.UPDATE_BCOINS), r.default.showTips("建设币数量：" + DataBus.user.bcoins)
				}, t.prototype.reduceBCoins = function () {
					DataBus.user.bcoins = Math.max(0, DataBus.user.bcoins - 10), cc.systemEvent.emit(s.default.UPDATE_BCOINS), r.default.showTips("建设币数量：" + DataBus.user.bcoins)
				}, t.prototype.setTodayCanSignIn = function () {
					DataBus.other.signInTS = 0, DataBus.other.save(), r.default.showTips("今天可以签到了")
				}, t.prototype.clearNewbieGift = function () {
					DataBus.other.newbieGiftEndTime = 0, DataBus.other.newbieGiftVideoTimes = 0;
					var e = DataBus.user.unlockCueList2,
						t = e.indexOf(15);
					t > -1 && (e.splice(t, 1), DataBus.user.unlockCueList2 = e), DataBus.saveData(), r.default.showTips("新手活动数据已重置")
				}, t.prototype.clearVip = function () {
					h.default.instance.history.length = 0, h.default.instance.current = null, h.default.instance.clearInviteData(), h.default.instance.saveData(), cc.systemEvent.emit(s.default.VIP_CHANGED), r.default.showTips("VIP数据已重置")
				}, t.prototype.clearDailyTask = function () {
					DataBus.other.dailyTaskData = null, DataBus.other.dailyActiveData = null, DataBus.other.dailyActive = 0, DataBus.other.weeklyTaskData = null, DataBus.other.weeklyActiveData = null, DataBus.other.weeklyActive = 0, DataBus.other.dailyChallFlag = 0, DataBus.other.save(), cc.systemEvent.emit(s.default.UPDATE_DAILY_ACTIVE), cc.systemEvent.emit(s.default.UPDATE_WEEKLY_ACTIVE), cc.systemEvent.emit(s.default.WEEKLY_DATA_CLEAR), cc.systemEvent.emit(s.default.DAILY_DATA_CLEAR), r.default.showTips("每日任务数据已重置")
				}, t.prototype.clearNewbieEffect = function () {
					var e;
					DataBus.other.newbieEffectReceived = 0, DataBus.other.newbieEffectTs = 0, 1 == DataBus.user.usedHitEffect && (DataBus.user.usedHitEffect = 0), 1 == DataBus.user.usedPotEffect && (DataBus.user.usedPotEffect = 0), (e = DataBus.user.hitEffectList.indexOf(1)) > -1 && (DataBus.user.hitEffectList = DataBus.user.hitEffectList.splice(e, 1)), (e = DataBus.user.potEffectList.indexOf(1)) > -1 && (DataBus.user.potEffectList = DataBus.user.potEffectList.splice(e, 1)), DataBus.saveData(), r.default.showTips("新手特效数据已重置")
				}, t.prototype.clearShop = function () {
					DataBus.user.roleFragment = 0, DataBus.user.roleList = [], DataBus.user.usedRole = 0, DataBus.user.unlockCueList2 = [], DataBus.user.usedCue1 = 0, DataBus.user.cueVideoTimes = [], DataBus.user.potEffectList = DataBus.other.newbieEffectReceived ? [1] : [], DataBus.user.potEffectVideoTimes = [], DataBus.user.usedPotEffect = 0, DataBus.user.hitEffectList = DataBus.other.newbieEffectReceived ? [1] : [], DataBus.user.hitEffectVideoTimes = [], DataBus.user.usedHitEffect = 0, DataBus.user.avatarBorderList = [], DataBus.user.usedAvatarBorder = 0, DataBus.user.emojiList = [], DataBus.user.save(), r.default.showTips("商店数据已清除")
				}, t.prototype.exitGame = function () {
					y.default.isQg() ? qg.exitApplication && qg.exitApplication() : y.default.isWX() ? wx.exitMiniProgram() : window.location && window.location.reload && window.location.reload()
				}, t.prefabName = "common://dynamic/layer/cheatLayer", t.paramType = v, t = i([_], t)
			}(a.default);
		n.default = b, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Config/GameConfig": "GameConfig",
		"../../Data/EconomicLogic": "EconomicLogic",
		"../../Data/wxsdk": "wxsdk",
		"../../Lib/bignumber": "bignumber",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../../Runtime/game/PoolGlobal": "PoolGlobal",
		"../Ui": "Ui",
		"../balloon/BalloonLogic": "BalloonLogic",
		"../base/LayerBase": "LayerBase",
		"../vip/VipLogic": "VipLogic"
	}],
	CmgeBridge: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d7d69l5uA9PA6yiXxZxL9+8", "CmgeBridge");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Data/wxsdk"),
			a = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.init = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o, a, s, c, l, u;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return r.default.isWX() ? [4, Server.getUserId()] : [2, {
										code: 0
									}];
								case 1:
									return (e = i.sent()) ? (t = wx.getLaunchOptionsSync(), console.log(t), (n = new ThinkingDataAPI({
										appid: "a3a0f09c143c40d5b9a351dc21b3bc8b",
										server_url: "",
										autoTrack: {
											appShow: !0,
											appHide: !0
										}
									})).init(), o = e, a = e, s = (r.default.isQQ() ? "QQ" : "weixin") + "_" + (sdk.isIos() ? "ios" : "android"), c = "1", l = t && t.query && t.query.path || "0", u = "", this.superProperties = {
										user_id: e,
										account_id: o,
										device_id: a,
										channel: s,
										server_id: c,
										extend_id: l,
										openid: u
									}, n.login(e), this.ta = n, [2, {
										code: 0
									}]) : [2, {
										code: -1
									}]
							}
						})
					})
				}, e.prototype.reportLogin = function () {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							switch (e.label) {
								case 0:
									return DataBus.isNewUser ? [4, this._register()] : [3, 3];
								case 1:
									return e.sent(), [4, this._afterRegister()];
								case 2:
									e.sent(), e.label = 3;
								case 3:
									return [4, this._login()];
								case 4:
									return e.sent(), [4, this._afterLogin()];
								case 5:
									return e.sent(), [2, {
										code: 0
									}]
							}
						})
					})
				}, e.prototype._register = function () {
					return o(this, void 0, void 0, function () {
						var e = this;
						return i(this, function (t) {
							return this.ta ? [2, new Promise(function (t, n) {
								e.ta.track("register", sdk.extend({}, e.superProperties), new Date, t)
							})] : [2]
						})
					})
				}, e.prototype._login = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n = this;
						return i(this, function (o) {
							return this.ta ? (e = DataBus.user.level + 1, t = 1, [2, new Promise(function (o, i) {
								n.ta.track("login", sdk.extend({
									vip_level: t,
									level: e
								}, n.superProperties), new Date, o)
							})]) : [2]
						})
					})
				}, e.prototype._afterRegister = function () {
					return o(this, void 0, void 0, function () {
						var e = this;
						return i(this, function (t) {
							return this.ta ? [2, new Promise(function (t, n) {
								e.ta.userSet(sdk.extend({
									user_name: "NoBody",
									register_time: new Date,
									vip_level: 1,
									level: 1
								}, e.superProperties), new Date, t)
							})] : [2]
						})
					})
				}, e.prototype._afterLogin = function () {
					return o(this, void 0, void 0, function () {
						var e = this;
						return i(this, function (t) {
							return this.ta ? [2, new Promise(function (t, n) {
								e.ta.userSet({
									lastlogin_time: new Date,
									lastlogin_extend_id: e.superProperties.extend_id
								}, new Date, t)
							})] : [2]
						})
					})
				}, e.prototype.reportAdvert = function (e, t, n, r) {
					return void 0 === r && (r = -1), o(this, void 0, void 0, function () {
						var o = this;
						return i(this, function (i) {
							return this.ta ? [2, new Promise(function (i, a) {
								var s = o.superProperties,
									c = s.user_id,
									l = s.account_id,
									u = s.device_id,
									d = s.channel,
									f = s.server_id;
								o.ta.track("advert", {
									user_id: c,
									account_id: l,
									device_id: u,
									channel: d,
									server_id: f,
									ad_type: e,
									position_id: t,
									view_state: n,
									stay_time: r
								}, new Date, i)
							})] : [2]
						})
					})
				}, e.prototype.reportShare = function (e, t, n) {
					return o(this, void 0, void 0, function () {
						var o = this;
						return i(this, function (i) {
							return this.ta ? [2, new Promise(function (i, r) {
								var a = o.superProperties,
									s = a.user_id,
									c = a.account_id,
									l = a.device_id,
									u = a.channel,
									d = a.server_id;
								o.ta.track("share", {
									user_id: s,
									account_id: c,
									device_id: l,
									channel: u,
									server_id: d,
									share_id: e,
									position_id: t,
									share_state: n
								}, new Date, i)
							})] : [2]
						})
					})
				}, e._instance = null, e
			}();
		n.default = a, cc._RF.pop()
	}, {
		"../Data/wxsdk": "wxsdk"
	}],
	CoinsPanel: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "73afbMARxVEF5mMztArz9BT", "CoinsPanel");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/SoundID"),
			a = e("./FreeCoinsLayer"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, s.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.onBtnAddClick = function () {
					SoundMgr.play(r.default.btn), Utils.disableAllBtnsAmoment(this.node, .2, this), ui.showLayer(a.default)
				}, t = i([c], t)
			}(cc.Component));
		n.default = l, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"./FreeCoinsLayer": "FreeCoinsLayer"
	}],
	CountDown: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "54d03y+mg1K+6NNraXJjTEJ", "CountDown");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = (r.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._ts_end = 0, t._onComplete = null, t._onTiktok = null, t._remain_seconds = -1, t.formatFunc = null, t
				}
				return o(t, e), t.prototype.begin = function (e, t, n) {
					var o = this.getComponent(cc.Label);
					o && (o.string = this.formatFunc ? this.formatFunc(1e3 * e) : Utils.formatDuration2(1e3 * e)), this._remain_seconds = -1;
					var i = (new Date).getTime(),
						r = 1 - i % 1e3 / 1e3;
					this._ts_end = i + 1e3 * e, this._onComplete = t, this._onTiktok = n, this.unschedule(this._tiktok), this.schedule(this._tiktok, 1, 1 / 0, r)
				}, t.prototype.stop = function () {
					return this.unschedule(this._tiktok), this._getRemainSeconds()
				}, t.prototype._getRemainSeconds = function () {
					if (-1 == this._remain_seconds) {
						var e = (new Date).getTime(),
							t = Math.max(0, this._ts_end - e);
						this._remain_seconds = t / 1e3
					}
					return this._remain_seconds
				}, t.prototype._tiktok = function () {
					var e = (new Date).getTime(),
						t = this._ts_end - e;
					t <= 0 && (this.unschedule(this._tiktok), t = 0);
					var n = this.getComponent(cc.Label);
					n && (n.string = this.formatFunc ? this.formatFunc(t) : Utils.formatDuration2(t)), this._onTiktok && this._onTiktok(t / 1e3), t <= 0 && this._onComplete && this._onComplete(t / 1e3)
				}, t = i([a], t)
			}(cc.Component));
		n.default = s, cc._RF.pop()
	}, {}],
	Crypt: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "5b5beCwRpFJNZMZyAp5uufa", "Crypt"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = function () {
			function e() { }
			return e.prototype.encrypt = function (e) {
				if (!e) return "";
				for (var t = e.length, n = "", o = 0; o < t; ++o) n += String.fromCharCode((e.charCodeAt(o) - 32 + 10) % 95 + 32);
				return n
			}, e.prototype.decrypt = function (e) {
				if (!e) return "";
				for (var t = e.length, n = "", o = 0; o < t; ++o) n += String.fromCharCode((e.charCodeAt(o) - 32 + 85) % 95 + 32);
				return n
			}, e
		}();
		n.default = o, cc._RF.pop()
	}, {}],
	CueBallMover: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "dd038kgiYFEALxjswdPjBZr", "CueBallMover");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.CueBallMoveType = void 0;
		var r, a = e("../PoolGlobal"),
			s = e("./BallCast"),
			c = e("./BallManager"),
			l = e("../../../Config/EventID");
		(function (e) {
			e[e.None = 0] = "None", e[e.Normal = 1] = "Normal", e[e.Moving = 2] = "Moving", e[e.Error = 3] = "Error", e[e.End = 4] = "End"
		})(r = n.CueBallMoveType || (n.CueBallMoveType = {}));
		var u = cc._decorator,
			d = u.ccclass,
			f = u.property,
			p = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.tipsPrefab = null, t._tipsNormalNode = null, t._tipsMovingNode = null, t._tipsHandNode = null, t._tipsHandLeaveNode = null, t._tipsErrorNode = null, t._moveType = r.End, t._touchPosition = new cc.Vec2, t._tipsPosition = new cc.Vec2, t._ballPosition = new cc.Vec2, t._parentScale = new cc.Vec2, t._ballManager = null, t._moveRange = null, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					cc.systemEvent.on(l.default.CLOSE_SCENE, this.onCloseScene, this)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(l.default.CLOSE_SCENE, this.onCloseScene, this), this._destroyTipsNode()
				}, t.prototype.start = function () {
					this._ballManager = this.getComponent(c.default), this.init()
				}, t.prototype.init = function () {
					if (this.tipsPrefab) {
						var e = cc.instantiate(this.tipsPrefab);
						this._tipsNormalNode = e.children[0], this._tipsMovingNode = e.children[1], this._tipsErrorNode = e.children[2], this._tipsHandNode = e.children[3], this._tipsHandLeaveNode = e.children[4], this._initTipsParent(), this._initTipsZIndex(), this.setMoveType(r.None), e.destroy()
					}
				}, t.prototype.onCloseScene = function (e) {
					this.node.isChildOf(e) && this._destroyTipsNode()
				}, t.prototype.setMoveRange = function (e) {
					this._moveRange = e
				}, t.prototype._destroyTipsNode = function () {
					this._tipsNormalNode && this._tipsNormalNode.destroy(), this._tipsMovingNode && this._tipsMovingNode.destroy(), this._tipsHandNode && this._tipsHandNode.destroy(), this._tipsHandLeaveNode && this._tipsHandLeaveNode.destroy(), this._tipsErrorNode && this._tipsErrorNode.destroy(), this._tipsNormalNode = null, this._tipsMovingNode = null, this._tipsHandNode = null, this._tipsHandLeaveNode = null, this._tipsErrorNode = null
				}, t.prototype._initTipsParent = function () {
					var e = this._ballManager.node;
					this._tipsNormalNode && (this._tipsNormalNode.parent = e), this._tipsMovingNode && (this._tipsMovingNode.parent = e), this._tipsHandNode && (this._tipsHandNode.parent = e), this._tipsHandLeaveNode && (this._tipsHandLeaveNode.parent = e), this._tipsErrorNode && (this._tipsErrorNode.parent = e)
				}, t.prototype._initTipsZIndex = function () {
					this._tipsNormalNode && (this._tipsNormalNode.zIndex = a.default.moveBallTipsZIndex), this._tipsMovingNode && (this._tipsMovingNode.zIndex = a.default.moveBallTipsZIndex), this._tipsHandNode && (this._tipsHandNode.zIndex = a.default.moveBallHandZIndex), this._tipsHandLeaveNode && (this._tipsHandLeaveNode.zIndex = a.default.moveBallHandZIndex), this._tipsErrorNode && (this._tipsErrorNode.zIndex = a.default.moveBallHandZIndex)
				}, t.prototype._stopHandLeaveAnimation = function () {
					this._tipsHandLeaveNode && (this._tipsHandLeaveNode.opacity = 255, this._tipsHandLeaveNode.stopAllActions())
				}, t.prototype._runHandLeaveAnimation = function () {
					var e = this;
					if (this._tipsHandLeaveNode) {
						this._tipsPosition.set(this._ballPosition), this._syncTipsNodePosition(), this._tipsHandLeaveNode.opacity = 255;
						this._tipsHandLeaveNode.runAction(cc.sequence(cc.spawn(cc.moveBy(.5, 100, 100), cc.fadeOut(.5)), cc.callFunc(function () {
							e.setMoveType(r.Normal)
						})))
					} else this.setMoveType(r.Normal)
				}, t.prototype.setMoveType = function (e) {
					if (e != this._moveType) switch (this._moveType = e, this._tipsNormalNode && (this._tipsNormalNode.active = !1), this._tipsMovingNode && (this._tipsMovingNode.active = !1), this._tipsHandNode && (this._tipsHandNode.active = !1), this._tipsHandLeaveNode && (this._tipsHandLeaveNode.active = !1), this._tipsErrorNode && (this._tipsErrorNode.active = !1), this._stopHandLeaveAnimation(), e) {
						case r.None:
							break;
						case r.Normal:
							this._tipsNormalNode && (this._tipsNormalNode.active = !0), this.syncToCueBallPosition();
							break;
						case r.Moving:
							this._tipsMovingNode && (this._tipsMovingNode.active = !0), this._tipsHandNode && (this._tipsHandNode.active = !0);
							break;
						case r.Error:
							this._tipsMovingNode && (this._tipsMovingNode.active = !0), this._tipsErrorNode && (this._tipsErrorNode.active = !0);
							break;
						case r.End:
							this._tipsHandNode && (this._tipsHandNode.active = !1), this._tipsHandLeaveNode && (this._tipsHandLeaveNode.active = !0), this._runHandLeaveAnimation()
					}
				}, t.prototype.syncToCueBallPosition = function () {
					var e = this._ballManager.getCueBall();
					if (e) {
						var t = e.node.getPosition();
						this._touchPosition.set(t), this._tipsPosition.set(t), this._ballPosition.set(t), this._syncTipsNodePosition()
					}
				}, t.prototype._syncTipsNodePosition = function () {
					this._tipsNormalNode && this._tipsNormalNode.setPosition(this._tipsPosition), this._tipsMovingNode && this._tipsMovingNode.setPosition(this._tipsPosition), this._tipsHandNode && this._tipsHandNode.setPosition(this._tipsPosition), this._tipsHandLeaveNode && this._tipsHandLeaveNode.setPosition(this._tipsPosition), this._tipsErrorNode && this._tipsErrorNode.setPosition(this._tipsPosition)
				}, t.prototype._syncCueBallPosition = function () {
					var e = this._ballManager.getCueBall();
					e && e.setBallPosition(this._ballPosition)
				}, t.prototype._modifyPositon = function (e) {
					var t = this._ballManager,
						n = t.node,
						o = e.len(),
						i = e.normalize(),
						a = Math.atan2(e.y, e.x),
						c = s.default.instance.distanceForCushion(this._tipsPosition, a, n),
						l = o;
					if (c < o && (l = c, !0), this._tipsPosition.addSelf(i.mulSelf(l)), this._moveRange) {
						var u = this._tipsPosition,
							d = this._moveRange,
							f = d.xMin,
							p = d.xMax,
							h = d.yMin,
							y = d.yMax;
						u.x < f ? u.x = f : u.x > p && (u.x = p), u.y < h ? u.y = h : u.y > y && (u.y = y)
					}
					if (this._syncTipsNodePosition(), this.isOverlap(this._tipsPosition)) {
						var g = t.getObjectBalls(),
							_ = this._tipsPosition.sub(this._ballPosition),
							v = _.normalize(),
							b = Math.atan2(_.y, _.x),
							m = s.default.instance.distanceForBall(this._ballPosition, b, g, n);
						if (m > 0 && isFinite(m)) {
							var w = Math.min(m, l);
							this._ballPosition.addSelf(v.mulSelf(w))
						}
						this.setMoveType(r.Error)
					} else this._ballPosition.set(this._tipsPosition), this.setMoveType(r.Moving);
					this._syncCueBallPosition()
				}, t.prototype.isOverlap = function (e) {
					for (var t = this._ballManager.getObjectBalls(), n = a.default.radius * a.default.ballOverlapRatio, o = 0; o < t.length; ++o) {
						if (t[o].node.getPosition().sub(e).lengthSqr() < 4 * n * n) return !0
					}
					return !1
				}, t.prototype._calcParentScale = function () {
					for (var e = 1, t = 1, n = this._ballManager.node; n;) e *= n.scaleX, t *= n.scaleY, n = n.parent;
					0 == e && (e = 1), 0 == t && (t = 1), this._parentScale.x = e, this._parentScale.y = t
				}, t.prototype.onTouchStart = function (e) {
					this.onStart(), e.stopPropagation()
				}, t.prototype.onStart = function () {
					this._calcParentScale(), this.syncToCueBallPosition(), this.setMoveType(r.Moving)
				}, t.prototype.onTouchMove = function (e) {
					var t = e.getDelta();
					this.onMove(t), e.stopPropagation()
				}, t.prototype.onMove = function (e) {
					cc.Vec2.divide(e, e, this._parentScale), this._modifyPositon(e)
				}, t.prototype.onTouchEnd = function (e) {
					this.onEnd(), e.stopPropagation()
				}, t.prototype.onEnd = function () {
					this.setMoveType(r.End)
				}, i([f({
					type: cc.Prefab,
					displayName: "挪动提示预制体"
				})], t.prototype, "tipsPrefab", void 0), t = i([d], t)
			}(cc.Component);
		n.default = p, cc._RF.pop()
	}, {
		"../../../Config/EventID": "EventID",
		"../PoolGlobal": "PoolGlobal",
		"./BallCast": "BallCast",
		"./BallManager": "BallManager"
	}],
	CueItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "75d1eraOidCy5VV+wVNLvdp", "CueItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Lib/tableView/viewCell"),
			a = e("../../Runtime/game/control/CueSwitcher"),
			s = cc._decorator,
			c = s.ccclass,
			l = s.property,
			u = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.cueSwitcher = null, t.sssSp = null, t.selectedNode = null, t._index = -1, t
				}
				return o(t, e), i([l({
					type: a.default,
					displayName: "球杆切换器"
				})], t.prototype, "cueSwitcher", void 0), i([l({
					type: cc.Sprite,
					displayName: "球杆级别精灵"
				})], t.prototype, "sssSp", void 0), i([l({
					type: cc.Node,
					displayName: "球杆选中节点"
				})], t.prototype, "selectedNode", void 0), t = i([c], t)
			}(r.default);
		n.default = u, cc._RF.pop()
	}, {
		"../../Lib/tableView/viewCell": "viewCell",
		"../../Runtime/game/control/CueSwitcher": "CueSwitcher"
	}],
	CueLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "cbd3cyQUR9CErlwti+cwZDM", "CueLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.CueLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, a.menu),
			l = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.CueLayerParam = l;
		var u = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), n._instance = this
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this), n._instance = null
			}, t.prototype.onDataLoad = function () { }, t.close = function () {
				n._instance && n._instance.close()
			}, t.prefabName = "Prefab/layer/cueLayer", t._instance = null, t = n = i([s, c("Layer/CueLayer")], t)
		}(r.default);
		n.default = u, window.CueLayer = u, cc._RF.pop()
	}, {
		"../base/LayerBase": "LayerBase"
	}],
	CueLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "38ecajnt6lBup9660VakeB7", "CueLogic"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = function () {
			function e() { }
			return Object.defineProperty(e, "instance", {
				get: function () {
					return this._instance || (this._instance = new e)
				},
				enumerable: !1,
				configurable: !0
			}), e._instance = null, e
		}();
		n.default = o, window.CueLogic = o, cc._RF.pop()
	}, {}],
	CueSwitcher: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9c121H9IsJA1bpbswJLwu8H", "CueSwitcher");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../../Res/ResLoader"),
			c = e("../PoolGlobal"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._cueIndex = -1, t._curCueNode = null, t._curCueShadow = null, t._shadowPosition = null, t
				}
				return o(t, e), t.prototype.setCueId = function (e, t) {
					return void 0 === t && (t = .3), r(this, void 0, void 0, function () {
						var n, o, i, r;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return this._cueIndex == e ? [2, null] : (this._cueIndex = e, (n = this.node).childrenCount > 0 && n.children.slice(0).forEach(function (e) {
										e.stopAllActions(), t <= 0 ? s.default.removeNode(e) : e.runAction(cc.sequence(cc.fadeOut(t), cc.callFunc(function () {
											s.default.removeNode(e)
										})))
									}), o = e.toString(), (i = n.getChildByName(o)) ? [3, 2] : (r = c.default.getCueRes(e), [4, s.default.getNodeRes(r)]));
								case 1:
									if (!(i = a.sent())) return [2, null];
									if (this._cueIndex != e) return s.default.removeNode(i), [2, null];
									this._changeShadow(i), i.name = o, i.parent = n, a.label = 2;
								case 2:
									return i.stopAllActions(), t <= 0 ? i.opacity = 255 : (i.opacity = 0, i.runAction(cc.fadeIn(t))), [2, i]
							}
						})
					})
				}, t.prototype._changeShadow = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o, i, r;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return t = e.getChildByName("Ball_yinying"), this._curCueNode = e, this._curCueShadow = t, this._shadowPosition && t.setPosition(this._shadowPosition), n = "game_newbie://dynamic/texture_cue/cue_shadow", [4, s.default.getSpriteFrameRes(n)];
								case 1:
									return o = a.sent(), t.isValid && (t.getComponent(cc.Sprite).spriteFrame = o, i = e.getChildByName("Ball_1"), t.height = i.height + 50, r = o.getOriginalSize(), t.width = r.width / r.height * t.height, t.color = cc.Color.WHITE, t.opacity = 128), [2]
							}
						})
					})
				}, t.prototype.updateShadowDisplay = function (e, t) {
					var n = e.mag(),
						o = e.normalize(),
						i = (new cc.Vec2).set(o).mulSelf(n / 5).rotateSelf(90 - t);
					(this._shadowPosition || (this._shadowPosition = new cc.Vec2)).set(i);
					var r = this._curCueShadow;
					r && r.setPosition(i)
				}, t = i([u], t)
			}(cc.Component));
		n.default = d, cc._RF.pop()
	}, {
		"../../../Res/ResLoader": "ResLoader",
		"../PoolGlobal": "PoolGlobal"
	}],
	CueTrialLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "02dcbRWkHVFLq94MCbPLeeS", "CueTrialLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.CueTrialLayerParam = n.CueTrialLayerRet = void 0;
		var s = e("../base/LayerBase"),
			c = e("../base/RewardBtn"),
			l = e("../../Base/ShareTypes"),
			u = e("../../Config/SoundID"),
			d = e("../../Runtime/game/PoolGlobal"),
			f = e("../../Res/ResLoader"),
			p = e("../../Config/ReportID"),
			h = e("../../Runtime/game/pvp/WorldMatchLayer"),
			y = e("../../Runtime/Router"),
			g = e("../../Runtime/home/HomeUi"),
			_ = e("../skin/SkinLogic"),
			v = e("../../Runtime/guide/MaskLayer"),
			b = e("../../Runtime/guide/HandEffect"),
			m = e("../../Runtime/guide/GuideTips"),
			w = e("../base/ActionScaleIn"),
			S = cc._decorator,
			C = S.ccclass,
			P = (S.property, S.menu),
			L = function () {
				return function () {
					this.pvp = !1, this.success = !1
				}
			}();
		n.CueTrialLayerRet = L;
		var T = function () {
			return function () {
				this.ret = new L, this.onClose = function () { }
			}
		}();
		n.CueTrialLayerParam = T;
		var D = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.reward_btn.getComponent(c.default).sharePos = l.SharePos.LevelItem, Server.reportClick(p.default.cue1)
			}, t.prototype.onDestroy = function () {
				sdk.hideLoading(), e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this.updateDisplay()
			}, t.prototype.updateDisplay = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n, o, i, r, s, c = this;
					return a(this, function (a) {
						switch (a.label) {
							case 0:
								return e = 1 == this.data.guide || 2 == this.data.guide, t = 1 == this.data.guide, n = 2 == this.data.guide, this.reward_btn.node.active = !e, this.pvp_btn.node.active = !e, this.start_btn.node.active = !e, this.line_lbl.node.active = !e, this.free_btn.node.active = t, this.i_see_btn.node.active = n, e || (o = _.default.instance.fastGetCueConfig(this.data.cueIndex), this.line_lbl.string = "Boresight Growth:" + o.line), i = d.default.getCueThumbRes(this.data.cueIndex), [4, f.default.getSpriteFrameRes(i)];
							case 1:
								return r = a.sent(), this.isValid && (this.cue_sp.spriteFrame = r), e ? ((s = this.getComponentInChildren(w.default)) && (s.enabled = !1), Utils.setAllBtnsEnabled(this.node, !1), sdk.showLoading("加载中...", !1), [4, Utils.delayTime(0, this)]) : [3, 3];
							case 2:
								a.sent(), (t ? this.showStartGuide() : this.showEndGuide()).then(function () {
									sdk.hideLoading(), c.isValid && Utils.setAllBtnsEnabled(c.node, !0)
								}), a.label = 3;
							case 3:
								return [2]
						}
					})
				})
			}, t.prototype.onBtnStartClick = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						return Server.reportClick(p.default.cue2), SoundMgr.play(u.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.close(), [2]
					})
				})
			}, t.prototype.onRewardCallback = function (e, t) {
				e == c.RewardFuncParam.Click ? (Server.reportClick(p.default.cue3), Utils.setAllBtnsEnabled(this.node, !1)) : e == c.RewardFuncParam.Success ? (this.data.ret.success = !0, Server.reportClick(p.default.cue4), this.close()) : Utils.setAllBtnsEnabled(this.node, !0)
			}, t.prototype.onBtnPvpClick = function () {
				SoundMgr.play(u.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.data.ret.pvp = !0, y.default.instance.enterHome(), g.default.hasLayerToShow = !0, h.default.show(!1), this.close()
			}, t.prototype.onBtnFreeClick = function () {
				SoundMgr.play(u.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.data.ret.success = !0, this.close()
			}, t.prototype.onBtnISeeClick = function () {
				SoundMgr.play(u.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.close()
			}, t.prototype.close = function () {
				var t = cc.Canvas.instance.node;
				v.default.close(), b.default.stopHandAnimation(t), m.default.hide(t), e.prototype.close.call(this)
			}, t.prototype.showStartGuide = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n, o;
					return a(this, function (i) {
						switch (i.label) {
							case 0:
								return e = this.free_btn.node, t = Utils.getScaleInHierarchy(e), n = cc.Canvas.instance.node, o = Utils.covertToNodeSpaceAR(e, n, cc.Vec2.ZERO), [4, v.default.show({
									maskType: cc.Mask.Type.RECT,
									maskWidth: e.width * t.x,
									maskHeight: e.height * t.y,
									maskPosition: o,
									opacity: 192
								})];
							case 1:
								return i.sent(), b.default.playHandClickAnimation(o, "", 0, n), m.default.show("Want to try out the cool cue skins?", new cc.Vec2(50, 100).addSelf(o), n), [2]
						}
					})
				})
			}, t.prototype.showEndGuide = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n, o;
					return a(this, function (i) {
						switch (i.label) {
							case 0:
								return e = this.i_see_btn.node, t = Utils.getScaleInHierarchy(e), n = cc.Canvas.instance.node, o = Utils.covertToNodeSpaceAR(e, n, cc.Vec2.ZERO), [4, v.default.show({
									maskType: cc.Mask.Type.RECT,
									maskWidth: e.width * t.x,
									maskHeight: e.height * t.y,
									maskPosition: o,
									opacity: 192
								})];
							case 1:
								return i.sent(), b.default.playHandClickAnimation(o, "", 0, n), m.default.show("Cue Trial Ended", new cc.Vec2(0, 120).addSelf(o), n), [2]
						}
					})
				})
			}, t.show = function (e, t) {
				return void 0 === t && (t = 0), r(this, void 0, void 0, function () {
					var o, i, r;
					return a(this, function (a) {
						switch (a.label) {
							case 0:
								return (o = new T).cueIndex = e, o.guide = t, [4, ui.showLayer(n, o)];
							case 1:
								return i = a.sent(), r = i.getComponent(n), [2, new Promise(function (e, t) {
									r.data.onClose = function () {
										e(r.data.ret)
									}
								})]
						}
					})
				})
			}, t.prefabName = "game_newbie://dynamic/layer/cueTrialLayer", t = n = i([C, P("Layer/CueTrialLayer")], t)
		}(s.default);
		n.default = D, window.CueTrialLayer = D, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/ReportID": "ReportID",
		"../../Config/SoundID": "SoundID",
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/Router": "Router",
		"../../Runtime/game/PoolGlobal": "PoolGlobal",
		"../../Runtime/game/pvp/WorldMatchLayer": "WorldMatchLayer",
		"../../Runtime/guide/GuideTips": "GuideTips",
		"../../Runtime/guide/HandEffect": "HandEffect",
		"../../Runtime/guide/MaskLayer": "MaskLayer",
		"../../Runtime/home/HomeUi": "HomeUi",
		"../base/ActionScaleIn": "ActionScaleIn",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"../skin/SkinLogic": "SkinLogic"
	}],
	CueTrialLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "c9db1cMoC5F5LU2TC8tIx14", "CueTrialLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/ServerConfig"),
			a = e("../skin/SkinLogic"),
			s = e("./CueTrialLayer"),
			c = e("../../Runtime/guide/GuideLogic"),
			l = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.canShowLayer = function (e) {
					return 0 == e && c.default.instance.exactNeedGuide(c.GuideStep.Level1) || e >= r.default.instance.getTrialCueLevel()
				}, e.prototype.showLayer = function (e) {
					return void 0 === e && (e = 0), o(this, void 0, void 0, function () {
						var t, n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return t = DataBus.user.usedCue1, n = 0 != e ? this.getGuideCue() : this.getRandomCue(), [4, s.default.show(n, e)];
								case 1:
									return (o = i.sent()).pvp ? [2, -1] : o.success ? [2, n] : [2, t]
							}
						})
					})
				}, e.prototype.getGuideCue = function () {
					return 6
				}, e.prototype.getRandomCue = function () {
					var e = a.default.instance.cueConfigList.map(function (e) {
						return e.id
					}),
						t = DataBus.user.unlockCueList2,
						n = e.filter(function (e) {
							return -1 == t.indexOf(e)
						});
					if (0 == n.length) {
						var o = DataBus.user.usedCue1;
						n = e.filter(function (e) {
							return 0 != e && e != o
						})
					}
					return Utils.randElement(n)
				}, e._instance = null, e
			}();
		n.default = l, cc._RF.pop()
	}, {
		"../../Config/ServerConfig": "ServerConfig",
		"../../Runtime/guide/GuideLogic": "GuideLogic",
		"../skin/SkinLogic": "SkinLogic",
		"./CueTrialLayer": "CueTrialLayer"
	}],
	DailyTaskActiveItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "0ea12bnFY9ASKZxVmtDavuZ", "DailyTaskActiveItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./DailyTaskSystem"),
			a = e("../../Config/SoundID"),
			s = e("../../Runtime/game/item2/ReceiveItemLayer"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, c.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.onLoad = function () {
					Utils.bindBtnEvent(this.node, this.node, "DailyTaskActiveItem", "onClick")
				}, t.prototype.setData = function (e) {
					this.data = e, this.updateDisplay()
				}, t.prototype.updateDisplay = function () {
					var e = this.data;
					this.value_lbl || Utils.loadVarFromNode(this.node, "#", this), this.box0.active = this.box1.active = this.box2.active = !1;
					var t = this["box" + e.status];
					t && (t.active = !0), this.value_lbl.string = e.dest + ""
				}, t.prototype.onClick = function () {
					var e = this.data;
					e && 1 == e.status && (SoundMgr.play(a.default.btn), r.default.instance.setPrizeReceived(e.setId, e.taskId), s.default.show(e.prizeList), e.status = 2, this.updateDisplay())
				}, t = i([l], t)
			}(cc.Component));
		n.default = u, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../../Runtime/game/item2/ReceiveItemLayer": "ReceiveItemLayer",
		"./DailyTaskSystem": "DailyTaskSystem"
	}],
	DailyTaskItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "e9597t/CQFN3pqjl602tvLE", "DailyTaskItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/SoundID"),
			a = e("../../Lib/tableView/viewCell"),
			s = e("../../Runtime/game/item2/ReceiveItemLayer"),
			c = e("../prize/PrizePanel"),
			l = e("./DailyTaskLogic"),
			u = e("./DailyTaskSystem"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, d.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.data = null, t
				}
				return o(t, e), t.prototype.init = function (e, t) {
					this.title_lbl || Utils.loadVarFromNode(this.node, "#", this), this.data = t[e], this.updateDisplay()
				}, t.prototype.updateDisplay = function () {
					var e = this.data;
					this.progress_lbl.string =  Math.min(e.curr, e.dest) + "/" + e.dest, this.title_lbl.string = e.desc || "", this.btn0.active = 0 == e.status, this.btn1.active = 1 == e.status, this.btn2.active = 2 == e.status, this.prize_node.getComponent(c.default).setData(e.prizeList)
				}, t.prototype.onClick = function () {
					var e = this.data;
					e && (1 == e.status ? (SoundMgr.play(r.default.btn), u.default.instance.setPrizeReceived(e.setId, e.taskId), s.default.show(e.prizeList), e.status = 2, this.updateDisplay()) : 0 == e.status && l.default.instance.gotoExecTask(e.setId, e.taskId))
				}, t = i([f], t)
			}(a.default));
		n.default = p, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../../Lib/tableView/viewCell": "viewCell",
		"../../Runtime/game/item2/ReceiveItemLayer": "ReceiveItemLayer",
		"../prize/PrizePanel": "PrizePanel",
		"./DailyTaskLogic": "DailyTaskLogic",
		"./DailyTaskSystem": "DailyTaskSystem"
	}],
	DailyTaskLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a19c871JyFG87/Femv1hKCp", "DailyTaskLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.DailyTaskLayerParam = void 0;
		var r = e("../../Config/EventID"),
			a = e("../base/LayerBase"),
			s = e("../base/Table"),
			c = e("./DailyTaskLogic"),
			l = e("./DailyTaskPanel"),
			u = e("./DailyTaskSystem"),
			d = e("./DailyTaskTypes"),
			f = cc._decorator,
			p = f.ccclass,
			h = (f.property, f.menu),
			y = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.DailyTaskLayerParam = y;
		var g = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), n._instance = this, Utils.loadVarFromNode(this.node, "$", this), this._switchFirstPanel(), this.table_node.on("table_changed", this._onTableChanged, this), this._updateFunc = Utils.debounce(this._updateAllDisplay, 30).bind(this), cc.systemEvent.on(r.default.UPDATE_DAILY_ACTIVE, this._updateFunc, this), cc.systemEvent.on(r.default.UPDATE_WEEKLY_ACTIVE, this._updateFunc, this), cc.systemEvent.on(r.default.UPDATE_COINS, this._updateFunc, this), cc.systemEvent.on(r.default.DAILY_DATA_CLEAR, this._updateFunc, this), cc.systemEvent.on(r.default.WEEKLY_DATA_CLEAR, this._updateFunc, this), cc.systemEvent.on(r.default.DAILY_TASK_RECEIVE, this._updateFunc, this)
			}, t.prototype.onDestroy = function () {
				cc.systemEvent.off(r.default.UPDATE_DAILY_ACTIVE, this._updateFunc, this), cc.systemEvent.off(r.default.UPDATE_WEEKLY_ACTIVE, this._updateFunc, this), cc.systemEvent.off(r.default.UPDATE_COINS, this._updateFunc, this), cc.systemEvent.off(r.default.DAILY_DATA_CLEAR, this._updateFunc, this), cc.systemEvent.off(r.default.WEEKLY_DATA_CLEAR, this._updateFunc, this), cc.systemEvent.off(r.default.DAILY_TASK_RECEIVE, this._updateFunc, this), n._instance = null, e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this._updateAllDisplay()
			}, t.prototype._switchFirstPanel = function () {
				var e = !0;
				u.default.instance.hasTaskNotFinish(d.DailyTaskSetID.daily) || u.default.instance.hasTaskNotFinish(d.DailyTaskSetID.dailyActive) ? e = !0 : (u.default.instance.hasTaskNotFinish(d.DailyTaskSetID.weekly) || u.default.instance.hasTaskNotFinish(d.DailyTaskSetID.weeklyActive)) && (e = !1), e ? (this._switchPanel(this.daily_node, this.weekly_node, 0), this.table_node.getComponent(s.default).setItemBright("daily", 0)) : (this._switchPanel(this.weekly_node, this.daily_node, 0), this.table_node.getComponent(s.default).setItemBright("weekly", 0))
			}, t.prototype._onTableChanged = function (e, t) {
				var n = "daily" == t,
					o = n ? this.daily_node : this.weekly_node,
					i = n ? this.weekly_node : this.daily_node;
				this._switchPanel(o, i, 0)
			}, t.prototype._switchPanel = function (e, t, n) {
				e.stopAllActions(), t.stopAllActions(), e.active = !0, cc.tween(e).to(n, {
					opacity: 255
				}).start(), t.active && cc.tween(t).to(n, {
					opacity: 0
				}).call(function () {
					return t.active = !1
				}).start()
			}, t.prototype._updateAllDisplay = function () {
				this.isValid && (this._udpateDisplay(d.DailyTaskSetID.daily), this._udpateDisplay(d.DailyTaskSetID.dailyActive), this._udpateDisplay(d.DailyTaskSetID.weekly), this._udpateDisplay(d.DailyTaskSetID.weeklyActive))
			}, t.prototype._udpateDisplay = function (e) {
				var t = e == d.DailyTaskSetID.daily || e == d.DailyTaskSetID.dailyActive ? this.daily_node : this.weekly_node;
				if (t) {
					var n = t.getComponent(l.default) || t.addComponent(l.default),
						o = u.default.instance.getTaskDataList(e);
					if (e == d.DailyTaskSetID.dailyActive || e == d.DailyTaskSetID.weeklyActive) n.setActiveData(o);
					else {
						var i = [1, 0, 2];
						(o = o.sort(function (e, t) {
							return i[e.status] - i[t.status]
						})).forEach(function (e) {
							return e.desc = c.default.instance.getTaskDesc(e.setId, e.taskId, e.dest)
						}), n.setData(o)
					}
				}
			}, t.show = function () {
				return new Promise(function (e, t) {
					var o = new y;
					return o.onClose = e, ui.showLayer(n, o)
				})
			}, t.close = function () {
				this._instance && this._instance.close()
			}, t.prefabName = "home://dynamic/layer/dailyTaskLayer", t._instance = null, t = n = i([p, h("Layer/DailyTaskLayer")], t)
		}(a.default);
		n.default = g, window.DailyTaskLayer = g, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../base/LayerBase": "LayerBase",
		"../base/Table": "Table",
		"./DailyTaskLogic": "DailyTaskLogic",
		"./DailyTaskPanel": "DailyTaskPanel",
		"./DailyTaskSystem": "DailyTaskSystem",
		"./DailyTaskTypes": "DailyTaskTypes"
	}],
	DailyTaskLogic: [function (e, t, n) {
		"use strict";
		var o, i;
		cc._RF.push(t, "636de4bxuhN+rlv9NsrFbHT", "DailyTaskLogic"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), e("../base/RewardBtn");
		var r = e("../../Config/EventID"),
			a = e("../../Runtime/game/pvp/WorldMatchLayer"),
			s = e("../../Runtime/LevelConfig"),
			c = e("../challenge/ChallengeLayer"),
			l = e("../superLine/SuperLineLayer"),
			u = e("./DailyTaskLayer"),
			d = e("./DailyTaskSystem"),
			f = e("./DailyTaskTypes"),
			p = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.initSystem = function () {
					var e, t = this,
						n = Utils.debounce(DataBus.other.save, 20).bind(DataBus.other);
					d.default.instance.initConfig(((e = {})[f.DailyTaskSetID.daily] = {
						list: this._formatDailyConfig(),
						saveData: function (e) {
							DataBus.other.dailyTaskData = e, n()
						},
						loadData: function () {
							return DataBus.other.dailyTaskData
						}
					}, e[f.DailyTaskSetID.weekly] = {
						list: this._formatWeeklyConfig(),
						saveData: function (e) {
							DataBus.other.weeklyTaskData = e, n()
						},
						loadData: function () {
							return DataBus.other.weeklyTaskData
						}
					}, e[f.DailyTaskSetID.dailyActive] = {
						list: this._formatActiveConfig(C),
						saveData: function (e) {
							DataBus.other.dailyActiveData = e, n()
						},
						loadData: function () {
							return DataBus.other.dailyActiveData
						}
					}, e[f.DailyTaskSetID.weeklyActive] = {
						list: this._formatActiveConfig(P),
						saveData: function (e) {
							DataBus.other.weeklyActiveData = e, n()
						},
						loadData: function () {
							return DataBus.other.weeklyActiveData
						}
					}, e)), d.default.instance.setTaskProgress(f.DailyTaskSetID.daily, f.DailyTaskID.login, 1), 0 == DataBus.other.weeklyLoginDays && (DataBus.other.weeklyLoginDays = 1), d.default.instance.setTaskProgress(f.DailyTaskSetID.weekly, f.DailyTaskID.login, DataBus.other.weeklyLoginDays), cc.systemEvent.on(r.default.DAILY_DATA_CLEAR, function () {
						d.default.instance.reloadData(f.DailyTaskSetID.daily), d.default.instance.reloadData(f.DailyTaskSetID.dailyActive), d.default.instance.setTaskProgress(f.DailyTaskSetID.daily, f.DailyTaskID.login, 1), d.default.instance.setTaskProgress(f.DailyTaskSetID.weekly, f.DailyTaskID.login, DataBus.other.weeklyLoginDays)
					}, d.default.instance), cc.systemEvent.on(r.default.WEEKLY_DATA_CLEAR, function () {
						d.default.instance.reloadData(f.DailyTaskSetID.weekly), d.default.instance.reloadData(f.DailyTaskSetID.weeklyActive), d.default.instance.setTaskProgress(f.DailyTaskSetID.weekly, f.DailyTaskID.login, DataBus.other.weeklyLoginDays)
					}, d.default.instance), cc.systemEvent.on(r.default.UPDATE_DAILY_ACTIVE, function () {
						t.setActiveProgress(f.DailyTaskSetID.dailyActive, DataBus.other.dailyActive)
					}, this), cc.systemEvent.on(r.default.UPDATE_WEEKLY_ACTIVE, function () {
						t.setActiveProgress(f.DailyTaskSetID.weeklyActive, DataBus.other.weeklyActive)
					}, this)
				}, e.prototype.addDailyProgress = function (e, t) {
					d.default.instance.addTaskProgress(f.DailyTaskSetID.daily, e, t), d.default.instance.addTaskProgress(f.DailyTaskSetID.weekly, e, t)
				}, e.prototype.setDailyProgress = function (e, t) {
					d.default.instance.setTaskProgress(f.DailyTaskSetID.daily, e, t), d.default.instance.setTaskProgress(f.DailyTaskSetID.weekly, e, t)
				}, e.prototype.setActiveProgress = function (e, t) {
					Object.keys(d.default.instance._taskMap).forEach(function (n) {
						var o = Number(n);
						d.default.instance.setTaskProgress(e, o, t)
					})
				}, e.prototype._formatDailyConfig = function () {
					var e = {};
					return w.forEach(function (t) {
						var n = t[0],
							o = t[1],
							i = t[2],
							r = t[3],
							a = t[4],
							c = t[5],
							l = t[6],
							u = t[7],
							d = _[n];
						e[d] = {
							dest: o,
							prizeList: [{
								type: g[i],
								value: r
							}, {
								type: g[a],
								value: c
							}, {
								type: g[l],
								value: u
							}].filter(function (e) {
								return void 0 != e.type
							})
						};
						var p = s.default.instance.getDanConfig(DataBus.user.star).dan;
						d == f.DailyTaskID.earn_coins && (e[d].dest = b[p] || b[b.length - 1]), e[d].prizeList.forEach(function (e) {
							e.type == s.LevelPrizeType.coins && (e.value *= m[p] || m[0])
						})
					}), e
				}, e.prototype._formatWeeklyConfig = function () {
					var e = {};
					return S.forEach(function (t) {
						var n = t[0],
							o = t[1],
							i = t[2],
							r = t[3],
							a = t[4],
							c = t[5],
							l = t[6],
							u = t[7],
							d = v[n];
						e[d] = {
							dest: o,
							prizeList: [{
								type: g[i],
								value: r
							}, {
								type: g[a],
								value: c
							}, {
								type: g[l],
								value: u
							}].filter(function (e) {
								return void 0 != e.type
							})
						};
						var f = s.default.instance.getDanConfig(DataBus.user.star).dan;
						e[d].prizeList.forEach(function (e) {
							e.type == s.LevelPrizeType.coins && (e.value *= m[f] || m[0])
						})
					}), e
				}, e.prototype._formatActiveConfig = function (e) {
					var t = {};
					return e.forEach(function (e, n) {
						e[0];
						var o = e[1],
							i = e[2],
							r = e[3],
							a = e[4],
							c = e[5],
							l = e[6],
							u = e[7];
						t[n] = {
							dest: o,
							prizeList: [{
								type: g[i],
								value: r
							}, {
								type: g[a],
								value: c
							}, {
								type: g[l],
								value: u
							}].filter(function (e) {
								return void 0 != e.type
							})
						};
						var d = s.default.instance.getDanConfig(DataBus.user.star).dan;
						t[n].prizeList.forEach(function (e) {
							e.type == s.LevelPrizeType.coins && (e.value *= m[d] || m[0])
						})
					}), t
				}, e.prototype.getTaskDesc = function (e, t, n) {
					var o = h[e],
						i = y[t],
						r = i.split("||||");
					return "【" + o + "】" + (i = (i = 1 == n ? r[0] : r[1] || r[0]).replace("${smart_count}", n + ""))
				}, e.prototype.gotoExecTask = function (e, t) {
					switch (t) {
						case f.DailyTaskID.login:
							ui.showTips("Please come back tomorrow");
							break;
						case f.DailyTaskID.pvp_win:
						case f.DailyTaskID.pvp_openning_pot:
							u.default.close(), a.default.show(!1);
							break;
						case f.DailyTaskID.pvp_combo4:
						case f.DailyTaskID.pvp_combo4_3:
							u.default.close(), a.default.show(!1);
							break;
						case f.DailyTaskID.earn_coins:
							u.default.close();
							break;
						case f.DailyTaskID.view_video:
							u.default.close(), l.default.show(!1);
							break;
						case f.DailyTaskID.challenge:
							u.default.close(), c.default.show()
					}
				}, e._instance = null, e
			}();
		n.default = p;
		var h = ((o = {})[f.DailyTaskSetID.daily] = "daily", o[f.DailyTaskSetID.weekly] = "weekly", o[f.DailyTaskSetID.dailyActive] = "日活跃值", o[f.DailyTaskSetID.weeklyActive] = "周活跃值", o),
			y = ((i = {})[f.DailyTaskID.login] = "Sign||||Sign *${smart_count}", i[f.DailyTaskID.pvp_win] = "gain ${smart_count} Qualifying victory", i[f.DailyTaskID.pvp_openning_pot] = "The opening goal ${smart_count} times", i[f.DailyTaskID.pvp_combo4] = "${smart_count} Second 4 links", i[f.DailyTaskID.pvp_combo4_3] = "${smart_count} Second 4 links", i[f.DailyTaskID.earn_coins] = "earn ${smart_count} Gold", i[f.DailyTaskID.view_video] = "Watch the video ${smart_count} times", i[f.DailyTaskID.challenge] = "attend ${smart_count} daily challenge||||${smart_count} day to Daily Challenge", i),
			g = {
				1: s.LevelPrizeType.daily_active,
				2: s.LevelPrizeType.weekly_active,
				3: s.LevelPrizeType.coins,
				4: s.LevelPrizeType.energy,
				5: s.LevelPrizeType.bcoins,
				6: s.LevelPrizeType.lottery_tickets
			},
			_ = {
				1: f.DailyTaskID.login,
				2: f.DailyTaskID.pvp_win,
				3: f.DailyTaskID.pvp_openning_pot,
				4: f.DailyTaskID.pvp_combo4,
				5: f.DailyTaskID.earn_coins,
				6: f.DailyTaskID.view_video,
				7: f.DailyTaskID.challenge
			},
			v = {
				1: f.DailyTaskID.login,
				2: f.DailyTaskID.pvp_win,
				3: f.DailyTaskID.pvp_openning_pot,
				4: f.DailyTaskID.pvp_combo4,
				5: f.DailyTaskID.pvp_combo4_3,
				6: f.DailyTaskID.view_video,
				7: f.DailyTaskID.challenge
			},
			b = [4500, 6e3, 8e3, 1e4, 13e3, 16e3, 2e4],
			m = [2, 3, 5, 6, 9, 10, 12],
			w = [
				[1, 1, 3, 1e3, 2, 25, 1, 25],
				[2, 1, 3, 1e3, 2, 35, 1, 35],
				[3, 1, 3, 1e3, 2, 35, 1, 35],
				[4, 1, 5, 500, 2, 25, 1, 25],
				[5, 1, 3, 1e3, 2, 25, 1, 25],
				[6, 1, 5, 1e3, 2, 35, 1, 35],
				[7, 1, 3, 1e3, 2, 25, 1, 25]
			],
			S = [
				[1, 3, 3, 3e3, 2, 45, 0, 0],
				[2, 10, 3, 3e3, 2, 60, 0, 0],
				[3, 6, 3, 5e3, 2, 45, 0, 0],
				[4, 1, 5, 1e3, 2, 45, 0, 0],
				[5, 3, 3, 3e3, 2, 45, 0, 0],
				[6, 5, 3, 6e3, 2, 60, 0, 0],
				[7, 5, 3, 3e3, 2, 60, 0, 0]
			],
			C = [
				[1, 30, 3, 500, 5, 100, 0, 0],
				[2, 60, 3, 1e3, 6, 3, 0, 0],
				[3, 90, 3, 1500, 5, 300, 0, 0],
				[4, 120, 3, 2e3, 6, 6, 5, 300]
			],
			P = [
				[1, 400, 5, 1500, 6, 15, 0, 0],
				[2, 800, 5, 4e3, 6, 30, 0, 0]
			];
		cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../../Runtime/game/pvp/WorldMatchLayer": "WorldMatchLayer",
		"../base/RewardBtn": "RewardBtn",
		"../challenge/ChallengeLayer": "ChallengeLayer",
		"../superLine/SuperLineLayer": "SuperLineLayer",
		"./DailyTaskLayer": "DailyTaskLayer",
		"./DailyTaskSystem": "DailyTaskSystem",
		"./DailyTaskTypes": "DailyTaskTypes"
	}],
	DailyTaskPanel: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "0c1e8cEBy5I65U5sQUUcAAC", "DailyTaskPanel");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./DailyTaskActiveItem"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, a.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.setData = function (e) {
					this.scrollview || Utils.loadVarFromNode(this.node, "_", this), this.scrollview.getComponent(cc.tableView).initTableView(e.length, e)
				}, t.prototype.setActiveData = function (e) {
					this.active_progress || Utils.loadVarFromNode(this.node, "_", this);
					var t = e[e.length - 1],
						n = Math.ceil(1.2 * t.dest);
					this.active_progress.progress = Math.min(1, t.curr / n);
					for (var o = this.active_progress.node.width, i = this.prize_node.children, a = Math.max(e.length, i.length), s = 0; s < a; ++s) {
						var c = e[s],
							l = i[s];
						if (c) l || ((l = cc.instantiate(i[0])).parent = this.prize_node), l.x = o * c.dest / n, (l.getComponent(r.default) || l.addComponent(r.default)).setData(c);
						else l && (l.active = !1)
					}
				}, t = i([s], t)
			}(cc.Component));
		n.default = c, cc._RF.pop()
	}, {
		"./DailyTaskActiveItem": "DailyTaskActiveItem"
	}],
	DailyTaskSystem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "15a3fyyzxFLRpW/T/oF45jx", "DailyTaskSystem"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = e("../../Config/EventID"),
			i = function () {
				function e() {
					this._configMap = {}, this._taskMap = {}
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype._saveData = function (e) {
					var t = this._configMap[e];
					t && t.saveData && this._taskMap[e] && t.saveData(this._taskMap[e])
				}, e.prototype.reloadData = function (e) {
					var t = this._configMap[e];
					t && t.loadData && (this._taskMap[e] = t.loadData() || {})
				}, e.prototype._loadAllData = function () {
					var e = this;
					Object.keys(this._configMap).forEach(function (t) {
						e.reloadData(Number(t))
					})
				}, e.prototype.initConfig = function (e) {
					this._configMap = e, this._loadAllData()
				}, e.prototype._getSaveTaskList = function (e) {
					return this._taskMap[e] || (this._taskMap[e] = {}), this._taskMap[e]
				}, e.prototype._getSaveTask = function (e, t) {
					var n = this._getSaveTaskList(e);
					return n[t] || (n[t] = [0, 0]), n[t]
				}, e.prototype._isTaskConfigExist = function (e, t) {
					var n = e.list;
					return n[t] && void 0 !== n[t].dest
				}, e.prototype.addTaskProgress = function (e, t, n) {
					this._configMap[e] && (this._getSaveTask(e, t)[0] += n, this._afterTaskProgressChanged(e, t))
				}, e.prototype.setTaskProgress = function (e, t, n) {
					this._configMap[e] && (this._getSaveTask(e, t)[0] = n, this._afterTaskProgressChanged(e, t))
				}, e.prototype._afterTaskProgressChanged = function (e, t) {
					var n = this._configMap[e],
						i = this._getSaveTask(e, t);
					if (this._isTaskConfigExist(n, t)) {
						var r = i[1],
							a = i[0],
							s = n.list[t].dest;
						a >= s && 0 == r && (i[1] = 1, cc.systemEvent.emit(o.default.DAILY_TASK_FINISHED, e, t, a, s)), this._saveData(e)
					} else this._saveData(e)
				}, e.prototype.setPrizeReceived = function (e, t) {
					if (!this._configMap[e]) return !1;
					var n = this._getSaveTask(e, t);
					return 1 == n[1] && (n[1] = 2, this._saveData(e), cc.systemEvent.emit(o.default.DAILY_TASK_RECEIVE, e, t), !0)
				}, e.prototype.getTaskDataList = function (e) {
					var t = this,
						n = this._configMap[e];
					return n ? Object.keys(n.list).map(function (o) {
						var i = Number(o),
							r = n.list[i],
							a = t._getSaveTask(e, i);
						return {
							setId: e,
							taskId: i,
							curr: a[0],
							dest: r.dest,
							status: a[1],
							prizeList: r.prizeList
						}
					}).sort(function (e, t) {
						return e.taskId - t.taskId
					}) : []
				}, e.prototype.getTaskProgress = function (e, t) {
					return this._getSaveTask(e, t)[0] || 0
				}, e.prototype.hasTaskNotFinish = function (e) {
					var t = this._configMap[e];
					if (!t) return !1;
					for (var n = Object.keys(t.list), o = 0; o < n.length; ++o) {
						var i = n[o],
							r = Number(i);
						if (this._getSaveTask(e, r)[1] <= 1) return !0
					}
					return !1
				}, e._instance = null, e
			}();
		n.default = i, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID"
	}],
	DailyTaskTypes: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "ad4ebRS/1FA9raxMeqISpQ3", "DailyTaskTypes"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.DailyTaskID = n.DailyTaskSetID = void 0,
			function (e) {
				e[e.daily = 0] = "daily", e[e.weekly = 1] = "weekly", e[e.dailyActive = 2] = "dailyActive", e[e.weeklyActive = 3] = "weeklyActive"
			}(n.DailyTaskSetID || (n.DailyTaskSetID = {})),
			function (e) {
				e[e.login = 0] = "login", e[e.pvp_win = 1] = "pvp_win", e[e.pvp_openning_pot = 2] = "pvp_openning_pot", e[e.pvp_combo4 = 3] = "pvp_combo4", e[e.pvp_combo4_3 = 4] = "pvp_combo4_3", e[e.earn_coins = 5] = "earn_coins", e[e.view_video = 6] = "view_video", e[e.challenge = 7] = "challenge"
			}(n.DailyTaskID || (n.DailyTaskID = {})), cc._RF.pop()
	}, {}],
	DataBus_BaseSaveData: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "07174yDmxxFEYn3Kv0HrZ06", "DataBus_BaseSaveData");
		var o = this && this.__decorate || function (e, t, n, o) {
			var i, r = arguments.length,
				a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
			else
				for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
			return r > 3 && a && Object.defineProperty(t, n, a), a
		},
			i = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			r = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var a = e("./decorator"),
			s = function () {
				function e() { }
				return e.prototype.getKey = function () {
					return "base"
				}, e.prototype.fromObj = function (e) {
					for (var t in e) this[t] = e[t];
					for (var t in this) "function" != typeof this[t] && void 0 === e[t] && this["_init_" + t] && (this[t] = this["_init_" + t])
				}, e.prototype.save = function () {
					SDK.setStorage(this.getKey(), JSON.stringify(this))
				}, e.prototype.load = function () {
					return i(this, void 0, void 0, function () {
						var e, t, n = this;
						return r(this, function (o) {
							switch (o.label) {
								case 0:
									return [4, new Promise(function (e, t) {
										SDK.getStorage(n.getKey(), e)
									})];
								case 1:
									if (e = o.sent()) {
										t = null;
										try {
											t = JSON.parse(e)
										} catch (e) {
											t = null
										}
										return t ? (this.fromObj(t), [2, !0]) : [2, !1]
									}
									return [2, !1]
							}
						})
					})
				}, e.prototype.toJSON = function () {
					var e = {};
					for (var t in this) "_" != t[0] && (e[t] = this[t]);
					return e
				}, o([a.enumerable(!1)], e.prototype, "getKey", null), o([a.enumerable(!1)], e.prototype, "fromObj", null), o([a.enumerable(!1)], e.prototype, "save", null), o([a.enumerable(!1)], e.prototype, "load", null), o([a.enumerable(!1)], e.prototype, "toJSON", null), e
			}();
		n.default = s, cc._RF.pop()
	}, {
		"./decorator": "decorator"
	}],
	DataBus_LocalData: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "041dbc9eutPv4Etd9M4TYn9", "DataBus_LocalData"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = function () {
			function e() {
				this.badageMap = {}, this.noticeTimes = {}, this.workInfoList = [], this.trialList = []
			}
			return e.prototype.clearTrialList = function () {
				this.trialList = this.trialList.filter(function (e) {
					return 0 == e.status
				})
			}, Object.defineProperty(e, "data", {
				get: function () {
					return this._data || this.loadData(), this._data
				},
				enumerable: !1,
				configurable: !0
			}), e.saveData = function () {
				sdk.setStorage("localData", e.data)
			}, e.loadData = function () {
				var t = sdk.getStorageSync("localData");
				this._data = new e, t && sdk.extend(this._data, t)
			}, e
		}();
		n.default = o, cc._RF.pop()
	}, {}],
	DataBus_OtherSaveData: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "64836TfL35JmZ5jo7DLcvCp", "DataBus_OtherSaveData");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./DataBus_BaseSaveData"),
			a = e("./decorator"),
			s = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.todayTS = 0, t.week = 0, t.signInTimes = 0, t.signInTS = 0, t.guide = 0, t.inviteReceiveList = [], t.challengeWinTimestamp = 0, t.newbieGiftEndTime = 0, t.lastPvpResult = 0, t.resultTimes = 0, t.lastPvpTs = 0, t.newbieEffectTs = 0, t.newbieEffectReceived = 0, t.pvpRedpacketPoped = 0, t.shareTimes = 0, t.reported = 0, t._challengeLayerAutoPopped = !1, t._signInLayerAutoPopped = !1, t.inviteNoRemind = !1, t.lastPvpUsingSuperLine = 0, t.weeklyLoginDays = 0, t.dailyChallFlag = 0, t.shortcutTimes = 0, t.timestamp = 0, t
				}
				return o(t, e), t.prototype.toJSON = function () {
					return this.timestamp = (new Date).getTime(), e.prototype.toJSON.call(this)
				}, t.prototype.getKey = function () {
					return "other1"
				}, i([a.cryptData("number", 0)], t.prototype, "challengeWinDays", void 0), i([a.cryptData("number", 0)], t.prototype, "newbieGiftVideoTimes", void 0), i([a.cryptData("number", 0)], t.prototype, "challengeTimes", void 0), i([a.cryptData("number", 2)], t.prototype, "wheelNumber", void 0), i([a.cryptData("number", 0)], t.prototype, "wheelRewardTimes", void 0), i([a.cryptData("number", 0)], t.prototype, "balloonTimes", void 0), i([a.cryptData("number", 0)], t.prototype, "bankFreeTimes", void 0), i([a.cryptData("number", 0)], t.prototype, "pvpTicketsTimes", void 0), i([a.cryptData("number", 0)], t.prototype, "coinsBuyEnergyTimes", void 0), i([a.cryptData("number", 0)], t.prototype, "rewardEnergyTimes", void 0), i([a.cryptData("number", 0)], t.prototype, "dailyActive", void 0), i([a.cryptData("number", 0)], t.prototype, "weeklyActive", void 0), i([a.enumerable(!1)], t.prototype, "toJSON", null), i([a.enumerable(!1)], t.prototype, "getKey", null), t
			}(r.default);
		n.default = s, cc._RF.pop()
	}, {
		"./DataBus_BaseSaveData": "DataBus_BaseSaveData",
		"./decorator": "decorator"
	}],
	DataBus_UserSaveData: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "65bcf0W/ghJK5V64++tkTNt", "DataBus_UserSaveData");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./DataBus_BaseSaveData"),
			a = e("./decorator"),
			s = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.energy_start_time = 0, t.nickname = "", t.avatar = "", t.bankProductTime = 0, t.usedHonorTitle = 0, t.usedHitEffect = 0, t.usedPotEffect = 0, t.usedAvatarBorder = 0, t.timestamp = 0, t
				}
				return o(t, e), t.prototype.getKey = function () {
					return "user1"
				}, t.prototype.toJSON = function () {
					return this.timestamp = (new Date).getTime(), e.prototype.toJSON.call(this)
				}, i([a.cryptData("BigNumber", 1e3)], t.prototype, "coins", void 0), i([a.cryptData("number", 0)], t.prototype, "level", void 0), i([a.cryptData("number", 0)], t.prototype, "roleLevel", void 0), i([a.cryptData("number", 0)], t.prototype, "buildingLevel", void 0), i([a.cryptData("number", 0)], t.prototype, "gardenLevel", void 0), i([a.cryptData("number", 0)], t.prototype, "carLevel", void 0), i([a.cryptData("number", 0)], t.prototype, "roleLevel2", void 0), i([a.cryptData("number", 0)], t.prototype, "buildingLevel2", void 0), i([a.cryptData("number", 0)], t.prototype, "gardenLevel2", void 0), i([a.cryptData("number", 0)], t.prototype, "carLevel2", void 0), i([a.cryptData("number", 0)], t.prototype, "buildingExp", void 0), i([a.cryptData("number", 0)], t.prototype, "gardenExp", void 0), i([a.cryptData("number", 0)], t.prototype, "carExp", void 0), i([a.cryptData("number", 0)], t.prototype, "buildingProfit", void 0), i([a.cryptData("number", 0)], t.prototype, "gardenProfit", void 0), i([a.cryptData("number", 0)], t.prototype, "carProfit", void 0), i([a.cryptData("number", 0)], t.prototype, "buildingCapacity", void 0), i([a.cryptData("number", 0)], t.prototype, "gardenCapacity", void 0), i([a.cryptData("number", 0)], t.prototype, "carCapacity", void 0), i([a.cryptData("number", 0)], t.prototype, "force", void 0), i([a.cryptData("number", 0)], t.prototype, "sight", void 0), i([a.cryptData("number", 0)], t.prototype, "english", void 0), i([a.cryptData("number", 0)], t.prototype, "cue_force", void 0), i([a.cryptData("number", 0)], t.prototype, "cue_sight", void 0), i([a.cryptData("number", 0)], t.prototype, "cue_english", void 0), i([a.cryptData("number", 0)], t.prototype, "loginDays", void 0), i([a.cryptData("number", 0)], t.prototype, "prizeReceived", void 0), i([a.cryptData("number", 0)], t.prototype, "roleFragment", void 0), i([a.cryptData("number[]", [])], t.prototype, "roleList", void 0), i([a.cryptData("number[]", [0])], t.prototype, "unlockCueList2", void 0), i([a.cryptData("{number}", {})], t.prototype, "cueVideoTimes", void 0), i([a.cryptData("number", 0)], t.prototype, "usedCue1", void 0), i([a.cryptData("number", 5)], t.prototype, "energy", void 0), i([a.cryptData("number", 0)], t.prototype, "moveItem", void 0), i([a.cryptData("number", 0)], t.prototype, "freeItem", void 0), i([a.cryptData("number", 0)], t.prototype, "star", void 0), i([a.cryptData("number", 0)], t.prototype, "usedRole", void 0), i([a.cryptData("number", 0)], t.prototype, "rank", void 0), i([a.cryptData("number", 300)], t.prototype, "bcoins", void 0), i([a.cryptData("number", 0)], t.prototype, "prizeDan", void 0), i([a.cryptData("number", 0)], t.prototype, "season", void 0), i([a.cryptData("number", 0)], t.prototype, "workPrize", void 0), i([a.cryptData("number", 0)], t.prototype, "inviteNumber", void 0), i([a.cryptData("nonzero[]", [])], t.prototype, "honorTitleList", void 0), i([a.cryptData("nonzero[]", [])], t.prototype, "emojiList", void 0), i([a.cryptData("number", 0)], t.prototype, "superLineTimes", void 0), i([a.cryptData("number", 0)], t.prototype, "bankCoins", void 0), i([a.cryptData("nonzero[]", [])], t.prototype, "hitEffectList", void 0), i([a.cryptData("{number}", {})], t.prototype, "hitEffectVideoTimes", void 0), i([a.cryptData("nonzero[]", [])], t.prototype, "potEffectList", void 0), i([a.cryptData("{number}", {})], t.prototype, "potEffectVideoTimes", void 0), i([a.cryptData("nonzero[]", [])], t.prototype, "avatarBorderList", void 0), i([a.enumerable(!1)], t.prototype, "getKey", null), i([a.enumerable(!1)], t.prototype, "toJSON", null), t
			}(r.default);
		n.default = s, cc._RF.pop()
	}, {
		"./DataBus_BaseSaveData": "DataBus_BaseSaveData",
		"./decorator": "decorator"
	}],
	DataBus: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "1e636ZFkUZOb7jT1jK3KTVQ", "DataBus");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Lib/bignumber"),
			a = e("./DataBus_OtherSaveData"),
			s = e("./DataBus_BaseSaveData"),
			c = e("./Databus_ServerUserData"),
			l = e("./DataBus_LocalData"),
			u = e("./DataBus_UserSaveData"),
			d = e("../Config/ServerConfig"),
			f = e("../Config/EventID");
		r.default.config({
			EXPONENTIAL_AT: 1e9
		});
		var p = function () {
			function e() {
				this._isNewUser = !1, this._dataLoaded = !1, this._dailyCalled = !1, this._dailyUpdated = !1, this._weeklyUpdated = !1, this.launchTimestamp = (new Date).getTime(), this.user = new u.default, this.other = new a.default, this.serverUserInfo = new c.default
			}
			return Object.defineProperty(e.prototype, "isNewUser", {
				get: function () {
					return this._isNewUser
				},
				enumerable: !1,
				configurable: !0
			}), Object.defineProperty(e.prototype, "dataLoaded", {
				get: function () {
					return this._dataLoaded
				},
				enumerable: !1,
				configurable: !0
			}), Object.defineProperty(e.prototype, "dailyCalled", {
				get: function () {
					return this._dailyCalled
				},
				enumerable: !1,
				configurable: !0
			}), Object.defineProperty(e.prototype, "dailyUpdated", {
				get: function () {
					return this._dailyUpdated
				},
				enumerable: !1,
				configurable: !0
			}), Object.defineProperty(e.prototype, "weeklyUpdated", {
				get: function () {
					return this._weeklyUpdated
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype.clear = function () {
				var e = this.user.uuid;
				this.user = new u.default, this.user.uuid = e, this.other = new a.default, this._initValue()
			}, e.prototype.updateDailyData = function () {
				var e = this;
				return TimeMgr.getSmartServerTime().then(function (t) {
					if (TimeMgr.isMordenTime(t)) {
						var n = !1;
						e._weeklyUpdated = !1;
						var o = e.other,
							i = o.week,
							r = Utils.getWeek(t);
						i != r && (o.week = r, o.weeklyTaskData = null, o.weeklyActiveData = null, o.weeklyActive = 0, o.weeklyLoginDays = 1, n = !0, e._weeklyUpdated = !0, cc.systemEvent.emit(f.default.WEEKLY_DATA_CLEAR), console.log("更新每周数据")), e._dailyUpdated = !1;
						var a = o.todayTS,
							s = t;
						return Utils.isSameDay(a, s) || (o.todayTS = s, o.shareTimes = 0, o.reported = 0, o.challengeTimes = 0, o._challengeLayerAutoPopped = !1, o.wheelNumber = 2, o.wheelRewardTimes = 0, o.balloonTimes = 0, o.bankFreeTimes = 0, o._signInLayerAutoPopped = !1, o.pvpTicketsTimes = 0, o.inviteNoRemind = !1, o.lastPvpUsingSuperLine = 0, o.coinsBuyEnergyTimes = 0, o.rewardEnergyTimes = 0, o.dailyTaskData = null, o.dailyActiveData = null, o.dailyActive = 0, n || (o.weeklyLoginDays += 1), o.dailyChallFlag = 0, o.shortcutTimes = 0, e.user.loginDays += 1, !DataBus.isNewUser && TimeMgr.isMordenTime(153e10) || (e.user.regTime = t), l.default.data.badageMap = {}, l.default.data.noticeTimes = {}, l.default.data.clearTrialList(), l.default.saveData(), n = !0, e._dailyUpdated = !0, cc.systemEvent.emit(f.default.DAILY_DATA_CLEAR), console.log("更新每日数据")), n && e.saveData(), e.updateDailyDataNextDay(t), e._dailyCalled = !0, !0
					}
					return !1
				})
			}, e.prototype.updateDailyDataNextDay = function (e) {
				var t = this,
					n = Utils.getNextDaysTimestamp(e),
					o = Math.max(20, n - e + 1e3);
				console.info("等待" + Utils.formatDuration(o, "hms") + "之后再次更新每日数据"), setTimeout(function () {
					t.updateDailyData()
				}, o)
			}, e.prototype._initValue = function () {
				this.user.uuid || (this.user.uuid = Utils.generateUUID());
				var e = d.default.instance.getEnergyInitValue();
				e > 0 && (DataBus.user.energy = e)
			}, e.prototype.getString = function () {
				var e = {};
				for (var t in this) {
					var n = this[t];
					n instanceof s.default && (e[t] = n)
				}
				return JSON.stringify(e)
			}, e.prototype._stringToObj = function (e) {
				var t = null;
				try {
					t = JSON.parse(e)
				} catch (e) {
					t = null
				}
				return t
			}, e.prototype._fromObj = function (e) {
				if (e) {
					for (var t in this) {
						var n = this[t];
						e[t] && n instanceof s.default && n.fromObj(e[t])
					}
					return !0
				}
				return !1
			}, e.prototype.fromServer = function (e) {
				if (this._dataLoaded = !0, "" === e || "{}" === e) this._isNewUser = !0;
				else {
					this._isNewUser = !1;
					var t = this._stringToObj(e);
					if (t && t.other) {
						var n = new a.default;
						if (n.fromObj(t.other), n.timestamp > this.other.timestamp) return console.log("服务器数据更新, 使用服务器数据"), void this._fromObj(t);
						console.log("服务器数据较旧, 使用本地数据")
					} else console.log("服务器数据不存在, 使用本地数据")
				}
			}, e.prototype.saveData = function () {
				for (var e in console.log("保存数据到本地"), this) {
					var t = this[e];
					t instanceof s.default && t.save()
				}
			}, e.prototype.loadData = function () {
				return o(this, void 0, void 0, function () {
					var e, t, n, o, r, a;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								for (n in console.log("从本地加载数据"), e = !0, t = [], this) t.push(n);
								o = 0, i.label = 1;
							case 1:
								return o < t.length ? (r = t[o], (a = this[r]) instanceof s.default ? [4, a.load()] : [3, 3]) : [3, 4];
							case 2:
								i.sent() && (e = !1), i.label = 3;
							case 3:
								return o++, [3, 1];
							case 4:
								return this._isNewUser = e, this.isNewUser && this._initValue(), [2]
						}
					})
				})
			}, e
		}();
		n.default = p, cc._RF.pop()
	}, {
		"../Config/EventID": "EventID",
		"../Config/ServerConfig": "ServerConfig",
		"../Lib/bignumber": "bignumber",
		"./DataBus_BaseSaveData": "DataBus_BaseSaveData",
		"./DataBus_LocalData": "DataBus_LocalData",
		"./DataBus_OtherSaveData": "DataBus_OtherSaveData",
		"./DataBus_UserSaveData": "DataBus_UserSaveData",
		"./Databus_ServerUserData": "Databus_ServerUserData"
	}],
	DataSaver: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a29cfSvs1dJcawrZNKsWN5r", "DataSaver");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./wxsdk"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, 1200),
			l = 7200,
			u = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._localDirty = !1, t._remoteDirty = !1, t._localIndex = c, t._remoteIndex = l, t
				}
				var n;
				return o(t, e), n = t, Object.defineProperty(t, "instance", {
					get: function () {
						return this._instance || (this._instance = new n)
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.saveLocal = function () {
					DataBus.saveData(), r.default.saveData(), this._localDirty = !1, this._localIndex = c
				}, t.prototype.saveRemote = function () {
					Server.saveData(DataBus.getString()).catch(function (e) { }), this._remoteDirty = !1, this._remoteIndex = l
				}, t.prototype.saveAll = function () {
					n.instance.saveLocal(), n.instance.saveRemote()
				}, t.prototype.savePerFrame = function () {
					--this._localIndex, this._localIndex <= 0 && (this._localIndex = c, this._localDirty && this.saveLocal()), --this._remoteIndex, this._remoteIndex <= 0 && (this._remoteIndex = l, this._remoteDirty && this.saveRemote())
				}, t.prototype.run = function () {
					this.schedule(this.savePerFrame, 0), r.default.isWX() && (wx.offHide(this.saveAll), wx.onHide(this.saveAll))
				}, t.prototype.setDirty = function () {
					this.setLocalDirty(), this.setRemoteDirty()
				}, t.prototype.setLocalDirty = function () {
					this._localDirty = !0
				}, t.prototype.setRemoteDirty = function () {
					this._remoteDirty = !0
				}, t = n = i([s], t)
			}(cc.Component);
		n.default = u, cc._RF.pop()
	}, {
		"./wxsdk": "wxsdk"
	}],
	Databus_ServerUserData: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "83af02erfJH5p9q6N/ANGrt", "Databus_ServerUserData");
		var o = this && this.__decorate || function (e, t, n, o) {
			var i, r = arguments.length,
				a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
			else
				for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
			return r > 3 && a && Object.defineProperty(t, n, a), a
		};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var i = e("./decorator"),
			r = function () {
				function e() { }
				return Object.defineProperty(e.prototype, "user_id", {
					get: function () {
						return sdk.getSavedUserId("data") || ""
					},
					enumerable: !1,
					configurable: !0
				}), o([i.cryptData("number", 0)], e.prototype, "cash_amount", void 0), e
			}();
		n.default = r, cc._RF.pop()
	}, {
		"./decorator": "decorator"
	}],
	DoubleItemLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "343b7MtmVlKBqfhtin4rQJ4", "DoubleItemLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Runtime/game/item2/ReceiveItemLayer"),
			c = e("../base/RewardBtn"),
			l = e("../../Base/ShareTypes"),
			u = e("../prize/PrizePanel"),
			d = e("../../Config/ServerConfig"),
			f = e("../../Config/GameConfig"),
			p = cc._decorator,
			h = p.ccclass,
			y = (p.property, p.menu),
			g = function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					e.prototype.onLoad.call(this), this.getComponentsInChildren(c.default).forEach(function (e) {
						return e.sharePos = l.SharePos.DoublePrize
					});
					var t = this.getCloseBtn();
					if (t) {
						t.active = !1;
						var n = d.default.instance.getRewardCloseBtnDelay();
						this.scheduleOnce(function () {
							t.active = !0
						}, n)
					}
					Utils.loadVarFromNode(this.node, "$", this);
					var o = d.default.instance.useToggleReward();
					this.old_mode_node.active = !o, this.toggle_mode_node.active = o
				}, t.prototype.onDestroy = function () {
					e.prototype.onDestroy.call(this)
				}, t.prototype.onDataLoad = function () {
					e.prototype.onDataLoad.call(this)
				}, t.prototype._receiveDouble = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return this.data.success = !0, this.data.config.forEach(function (e) {
										e.value *= 2
									}), (e = this.node.getComponentInChildren(u.default)).receivePrize(), t = e.noticePrizeReceived(), [4, Utils.delayTime(t, this)];
								case 1:
									return n.sent(), this.close(), [2]
							}
						})
					})
				}, t.prototype.onRewardCallback = function (e, t) {
					e == c.RewardFuncParam.NoReward || e == c.RewardFuncParam.Other ? this.receivePrize() : e == c.RewardFuncParam.Click ? Utils.setAllBtnsEnabled(this.node, !1) : e == c.RewardFuncParam.Success ? this._receiveDouble() : f.GameConfig.VIDEO_FAIL_HAS_PRIZE ? this.receivePrize() : Utils.setAllBtnsEnabled(this.node, !0)
				}, t.show = function (e) {
					return new Promise(function (t, o) {
						var i = new s.ReceiveItemLayerParam;
						i.config = e, i.onClose = function () {
							return t(i.success)
						}, ui.showLayer(n, i)
					})
				}, t.prefabName = "common://dynamic/layer/doubleItemLayer", t = n = i([h, y("Layer/DoubleItemLayer")], t)
			}(s.default);
		n.default = g, window.DoubleItemLayer = g, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/GameConfig": "GameConfig",
		"../../Config/ServerConfig": "ServerConfig",
		"../../Runtime/game/item2/ReceiveItemLayer": "ReceiveItemLayer",
		"../base/RewardBtn": "RewardBtn",
		"../prize/PrizePanel": "PrizePanel"
	}],
	DoubleUpgradeLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "016c99/qZ5LWYiVJM/NJxGw", "DoubleUpgradeLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.DoubleUpgradeLayerParam = void 0;
		var s = e("../../Ui/base/LayerBase"),
			c = e("../../Ui/base/RewardBtn"),
			l = e("../../Config/SoundID"),
			u = e("../../Base/ShareTypes"),
			d = e("../../Config/ReportID"),
			f = cc._decorator,
			p = f.ccclass,
			h = (f.property, f.menu),
			y = function () {
				return function () {
					this.bet = 0, this.onClose = function () { }
				}
			}();
		n.DoubleUpgradeLayerParam = y;
		var g = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.success = !1, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), this.getComponentsInChildren(c.default).forEach(function (e) {
					e.sharePos = u.SharePos.DoubleUpgrade
				}), Server.reportClick(d.default.bet1)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this.updateDisplay()
			}, t.prototype.updateDisplay = function () {
				cc.find("dialog/contents/lbl", this.node).getComponent(cc.Label).string = "获得了本次建造度X" + this.data.bet + "倍的奖励！"
			}, t.prototype.onRewardCallback = function (e) {
				e == c.RewardFuncParam.Click ? Utils.setAllBtnsEnabled(this.node, !1, !1) : e == c.RewardFuncParam.Success ? (this.success = !0, this.close(), Server.reportClick(d.default.bet2)) : Utils.setAllBtnsEnabled(this.node, !0, !1)
			}, t.prototype.onNormalBtnClick = function () {
				SoundMgr.play(l.default.btn), this.success = !1, this.close()
			}, t.show = function (e) {
				return r(this, void 0, void 0, function () {
					var t, o;
					return a(this, function (i) {
						switch (i.label) {
							case 0:
								return (t = new y).bet = e, [4, ui.showLayer(n, t)];
							case 1:
								return o = i.sent(), [2, new Promise(function (e, t) {
									var i = o.getComponent(n);
									i.data.onClose = function () {
										return e(i.success)
									}
								})]
						}
					})
				})
			}, t.prefabName = "home://dynamic/layer/doubleUpgradeLayer", t = n = i([p, h("Layer/DoubleUpgradeLayer")], t)
		}(s.default);
		n.default = g, window.DoubleUpgradeLayer = g, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/ReportID": "ReportID",
		"../../Config/SoundID": "SoundID",
		"../../Ui/base/LayerBase": "LayerBase",
		"../../Ui/base/RewardBtn": "RewardBtn"
	}],
	Draggable: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7db4e5j+W5DrIIjoVaAaFYO", "Draggable");
		var o, i, r = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			a = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}),
			function (e) {
				e[e.Click = 0] = "Click", e[e.Slide = 1] = "Slide"
			}(o || (o = {})),
			function (e) {
				e.DragStart = "dragstart", e.Dragging = "dragging", e.DragEnd = "dragend", e.DragCancel = "dragcancel", e.DragClick = "dragclick"
			}(i || (i = {}));
		var s = cc._decorator,
			c = s.ccclass,
			l = s.property,
			u = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.target = null, t._isDragging = !1, t._touchMode = o.Click, t.dragRect = null, t.minOffset = 0, t.lockX = !1, t.lockY = !1, t._parentScaleX = 1, t._parentScaleY = 1, t.onDragStart = null, t.onDragging = null, t.onDragEnd = null, t.onDragCancel = null, t.onDragClick = null, t
				}
				return r(t, e), t.prototype.onLoad = function () {
					this.target = this.target || this.node
				}, t.prototype.onEnable = function () {
					this._setTouchStartEnable(!0)
				}, t.prototype.onDisable = function () {
					this._setTouchStartEnable(!1), this._setTouchOtherEnable(!1), this._isDragging && (this._onTouchCancel(null), this.node.emit(i.DragCancel, null))
				}, t.prototype.onDestroy = function () {
					this._setTouchStartEnable(!1), this._setTouchOtherEnable(!1), this.onDragStart = null, this.onDragCancel = null, this.onDragEnd = null
				}, t.prototype._calcParentScale = function () {
					this._parentScaleX = 1, this._parentScaleY = 1;
					for (var e = this.node.parent; e;) this._parentScaleX *= e.scaleX, this._parentScaleY *= e.scaleY, e = e.parent;
					0 == this._parentScaleX && (this._parentScaleX = 1), 0 == this._parentScaleY && (this._parentScaleY = 1)
				}, t.prototype._onTouchStart = function (e) {
					this._calcParentScale(), this._isDragging = !0, e.stopPropagation(), this._setTouchOtherEnable(!0), this._touchMode = o.Click
				}, t.prototype._onTouchMove = function (e) {
					if (this._touchMode == o.Click) {
						var t = e.getStartLocation();
						e.getLocation().sub(t).multiply(new cc.Vec2(this._parentScaleX, this._parentScaleY)).lengthSqr() >= this.minOffset * this.minOffset && (this._touchMode = o.Slide, this.onDragStart && this.onDragStart(e), this.node.emit(i.DragStart, e))
					}
					if (this._touchMode == o.Slide) {
						var n = e.getDelta(),
							r = n.x / this._parentScaleX,
							a = n.y / this._parentScaleY;
						this.lockX || (this.target.x += r), this.lockY || (this.target.y += a), this.dragRect && (this.target.x < this.dragRect.xMin ? this.target.x = this.dragRect.xMin : this.target.x > this.dragRect.xMax && (this.target.x = this.dragRect.xMax), this.target.y < this.dragRect.yMin ? this.target.y = this.dragRect.yMin : this.target.y > this.dragRect.yMax && (this.target.y = this.dragRect.yMax)), this.onDragging && this.onDragging(e, r, a), this.node.emit(i.Dragging, e, r, a)
					}
					e.stopPropagation()
				}, t.prototype._onTouchEnd = function (e) {
					this._touchMode == o.Click ? (this.onDragClick && this.onDragClick(e), this.node.emit(i.DragClick, e)) : (this.onDragEnd && this.onDragEnd(e), this.node.emit(i.DragEnd, e)), this._setTouchOtherEnable(!1), this._isDragging = !1
				}, t.prototype._onTouchCancel = function (e) {
					this.onDragCancel && this.onDragCancel(e), this.node.emit(i.DragCancel, e), this._setTouchOtherEnable(!1), this._isDragging = !1
				}, t.prototype._setTouchStartEnable = function (e) {
					e ? this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchStart, this) : this.node.off(cc.Node.EventType.TOUCH_START, this._onTouchStart, this)
				}, t.prototype._setTouchOtherEnable = function (e) {
					e ? (this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMove, this), this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnd, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this)) : (this.node.off(cc.Node.EventType.TOUCH_MOVE, this._onTouchMove, this), this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchEnd, this), this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this))
				}, t.EventType = i, a([l(cc.Node)], t.prototype, "target", void 0), t = a([c], t)
			}(cc.Component);
		n.default = u, cc._RF.pop()
	}, {}],
	EconomicLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "b80161SwE5GNbar+IvIqal4", "EconomicLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Lib/bignumber"),
			a = e("../Config/EventID"),
			s = e("../Ui/dailyTask/DailyTaskLogic"),
			c = e("../Ui/dailyTask/DailyTaskTypes"),
			l = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.setCoins = function (e) {
					var t = DataBus.user.coins;
					DataBus.user.coins = new r.default(e);
					var n = DataBus.user.coins.minus(t);
					n.gt(0) && s.default.instance.addDailyProgress(c.DailyTaskID.earn_coins, n.toNumber())
				}, e.prototype.addCoins = function (e) {
					this.setCoins(DataBus.user.coins.plus(e)), cc.systemEvent.emit(a.default.UPDATE_COINS)
				}, e.prototype.subCoins = function (e) {
					this.setCoins(r.default.max(0, DataBus.user.coins.minus(e))), cc.systemEvent.emit(a.default.UPDATE_COINS)
				}, e.prototype.addCoinsWithAnimation = function (e, t, n) {
					return void 0 === n && (n = 0), o(this, void 0, void 0, function () {
						return i(this, function (o) {
							return this.setCoins(DataBus.user.coins.plus(e)), cc.systemEvent.emit(a.default.UPDATE_COINS, {
								pos: t,
								value: e,
								delay: n
							}), [2]
						})
					})
				}, e.prototype.addBCoins = function (e) {
					DataBus.user.bcoins = DataBus.user.bcoins + e, cc.systemEvent.emit(a.default.UPDATE_BCOINS)
				}, e.prototype.subBCoins = function (e) {
					DataBus.user.bcoins = Math.max(0, DataBus.user.bcoins - e), cc.systemEvent.emit(a.default.UPDATE_BCOINS)
				}, e.prototype.addBCoinsWithAnimation = function (e, t, n) {
					return void 0 === n && (n = 0), o(this, void 0, void 0, function () {
						return i(this, function (o) {
							return DataBus.user.bcoins = DataBus.user.bcoins + e, cc.systemEvent.emit(a.default.UPDATE_BCOINS, {
								pos: t,
								value: e,
								delay: n
							}), [2]
						})
					})
				}, e.prototype.save = function () {
					DataBus.user.save()
				}, e._instance = null, e
			}();
		n.default = l, window.EconomicLogic = l, cc._RF.pop()
	}, {
		"../Config/EventID": "EventID",
		"../Lib/bignumber": "bignumber",
		"../Ui/dailyTask/DailyTaskLogic": "DailyTaskLogic",
		"../Ui/dailyTask/DailyTaskTypes": "DailyTaskTypes"
	}],
	EditorBallManager: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "79069gTrZpDQ4q9Z6GELpi4", "EditorBallManager");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../game/PoolGlobal"),
			a = e("../game/ball/BallRender"),
			s = cc._decorator,
			c = s.ccclass,
			l = s.property,
			u = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.offStageNode = null, t.stageNode = null, t.ballList = [], t.offStageBallList = [], t.onStageBallList = [], t.selectedBallList = [], t
				}
				return o(t, e), t.prototype.onLoad = function () { }, t.prototype.createAllBall = function () {
					for (var e = 0; e <= 15; ++e) this.createBall(e);
					var t = this.getBall(0);
					this.setBallOnStage(t, !0), this.resetBallPosition(t)
				}, t.prototype.createBall = function (e) {
					var t = this.offStageNode.children[e],
						n = t.getComponent(a.default);
					t.zIndex = 5, this.setBallNum(t, e);
					var o = r.default.radius;
					return t.width = t.height = 2 * o, n.setRadius(o), n.rotateTo(new cc.Vec3(.3, -.3, 0)), a.default.getBallSpriteFrame(e).then(function (e) {
						n.isValid && n.setBallSpriteFrame(e)
					}), this.ballList[e] = t, this.setBallOnStage(t, !1), this.resetBallPosition(t), this.setBallSelected(t, !1), t
				}, t.prototype.setBallNum = function (e, t) {
					e.name = t.toString()
				}, t.prototype.getBallNum = function (e) {
					return parseInt(e.name)
				}, t.prototype.isBallNumValid = function (e) {
					return e >= 0 && e <= 15
				}, t.prototype.getBall = function (e) {
					return this.ballList[e]
				}, t.prototype.setBallOnStage = function (e, t) {
					var n = this.getBallNum(e),
						o = e.getComponent(a.default);
					this.isBallNumValid(n) && (t ? (e.parent = this.stageNode, this.onStageBallList[n] = e, this.offStageBallList[n] = null, o.setBrightness(.8)) : (e.parent = this.offStageNode, this.onStageBallList[n] = null, this.offStageBallList[n] = e, o.setBrightness(.3)), e.real_pos = null)
				}, t.prototype.isBallOnStage = function (e) {
					return e.parent == this.stageNode
				}, t.prototype.resetBallPosition = function (e) {
					if (this.isBallOnStage(e)) {
						var t = this.getBallPositionOnStage();
						e.setPosition(t)
					} else {
						var n = this.getBallNum(e);
						t = this.getBallPositionOffStage(n);
						e.setPosition(t)
					}
					e.real_pos = null
				}, t.prototype.getBallPositionOnStage = function () {
					for (var e = new cc.Vec2, t = r.default.radius + .1, n = this.onStageBallList.filter(function (e) {
						return e
					}); this.checkOverlap(e, t, n, null);) e = cc.Vec2.random(e, 200 * Math.random());
					return e
				}, t.prototype.getBallPositionOffStage = function (e) {
					var t = e,
						n = 48 * Math.floor(t / 8) - 24,
						o = 175 + t % 8 * -50;
					return new cc.Vec2(n, o)
				}, t.prototype.checkOverlap = function (e, t, n, o) {
					for (var i = !1, r = 0; r < n.length; ++r) {
						var a = n[r];
						if (a != o && e.sub(a.getPosition()).lengthSqr() <= t * t * 4) {
							i = !0;
							break
						}
					}
					return i
				}, t.prototype.setBallSelected = function (e, t) {
					var n = this.getBallNum(e);
					this.isBallNumValid(n) && (this.selectedBallList[n] = t ? e : null), this.setSelectedTipsVisible(e, t)
				}, t.prototype.isBallSelected = function (e) {
					var t = this.getBallNum(e);
					return !!this.selectedBallList[t]
				}, t.prototype.setSelectedTipsVisible = function (e, t) {
					var n = e.getChildByName("select");
					n && (n.active = t)
				}, i([l({
					type: cc.Node,
					displayName: "台下球节点"
				})], t.prototype, "offStageNode", void 0), i([l({
					type: cc.Node,
					displayName: "台上球节点"
				})], t.prototype, "stageNode", void 0), t = i([c], t)
			}(cc.Component);
		n.default = u, cc._RF.pop()
	}, {
		"../game/PoolGlobal": "PoolGlobal",
		"../game/ball/BallRender": "BallRender"
	}],
	EditorFixedLevelData: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9ba04bRg8ZIepDxe6+6HIJh", "EditorFixedLevelData");
		var o = this && this.__spreadArrays || function () {
			for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
			var o = Array(e),
				i = 0;
			for (t = 0; t < n; t++)
				for (var r = arguments[t], a = 0, s = r.length; a < s; a++, i++) o[i] = r[a];
			return o
		};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var i = function () {
			function e() {
				this.data = null, this.dataLoaded = !1, this._input = null
			}
			return Object.defineProperty(e, "instance", {
				get: function () {
					return this._instance || (this._instance = new e)
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype.getDataItem = function (e) {
				return this.data[e] || (this.data[e] = this.createBlankDataItem())
			}, e.prototype.convertDataToSaveData = function (e) {
				var t = this;
				return e.filter(function (e) {
					return e.coords.length > 1 && e.balls.indexOf(0) > -1
				}).map(function (e) {
					var n = [];
					return e.coords.forEach(function (o, i) {
						return o && n.push(e.balls[i], t.convertNumberToFixedTwo(o.x), t.convertNumberToFixedTwo(o.y))
					}), o([e.table, e.object, e.coords.length], n, [e.event])
				})
			}, e.prototype.convertSaveDataToData = function (e) {
				return e.map(function (e) {
					for (var t = [], n = [], o = e[2], i = 0; i < o; ++i) {
						var r = 3 + 3 * i;
						n.push(e[r]), t.push(new cc.Vec2(e[r + 1], e[r + 2]))
					}
					return {
						table: e[0],
						object: e[1] ? 1 : 0,
						event: e[3 + 3 * o] || 0,
						coords: t,
						balls: n
					}
				})
			}, e.prototype.convertSaveDataToSaveString = function (e) {
				var t = "";
				return e.forEach(function (e, n) {
					t += '"' + (n + 1) + '":' + JSON.stringify(e) + "\n"
				}), t += '"version":[2]\n'
			}, e.prototype.convertSaveStringToSaveData = function (e) {
				e = "{" + e.split("\n").filter(function (e) {
					return e
				}).join(",") + "}";
				var t = null;
				try {
					t = JSON.parse(e)
				} catch (e) {
					t = null, console.error(e)
				}
				return t.version && 2 == t.version[0] ? (delete t.version, Object.keys(t).sort(function (e, t) {
					return parseInt(e) - parseInt(t)
				}).map(function (e) {
					return t[e]
				})) : Object.keys(t).sort(function (e, t) {
					return parseInt(e) - parseInt(t)
				}).map(function (e) {
					for (var n = t[e], o = [n[0], 0, 0], i = 0, r = 1; r < n.length; r += 2) o.push(i, n[r], n[r + 1] || 0), i += 1;
					return o[2] = i, o.push(0), o
				})
			}, e.prototype.convertNumberToFixedTwo = function (e) {
				return Math.floor(100 * e) / 100
			}, e.prototype.convertVec2ToArray = function (e) {
				return [this.convertNumberToFixedTwo(e.x), this.convertNumberToFixedTwo(e.y)]
			}, e.prototype.createBlankDataItem = function () {
				return {
					table: 0,
					coords: [new cc.Vec2, new cc.Vec2(0, 100)],
					balls: [0, 8],
					object: 0,
					event: 0
				}
			}, e.prototype.loadLocal = function () {
				var e = sdk.getStorageSync("editor_level_data_2");
				e && e.length > 0 ? (e = this.convertSaveStringToSaveData(e), this.data = this.convertSaveDataToData(e)) : this.data = [this.createBlankDataItem()], this.dataLoaded = !0
			}, e.prototype.saveLocal = function () {
				var e = this.convertDataToSaveData(this.data),
					t = this.convertSaveDataToSaveString(e);
				sdk.setStorage("editor_level_data_2", t)
			}, e.prototype.loadFile = function () {
				var e = this;
				return new Promise(function (t, n) {
					if (!e._input) {
						var o = document.createElement("input");
						o.type = "file", e._input = o
					}
					e._input.onchange = function (n) {
						var o = n.target.files;
						if (0 != o.length) {
							var i = new FileReader;
							i.onload = function (n) {
								var o = n.target.result,
									i = null;
								try {
									(i = '"' == o[0] ? e.convertSaveStringToSaveData(o) : JSON.parse(o)) && i.length > 0 ? e.data = e.convertSaveDataToData(i) : e.data = [e.createBlankDataItem()], e.dataLoaded = !0
								} catch (e) {
									i = null, console.error(e)
								}
								t(!!i), e._input.value = null
							}, i.readAsText(o[0])
						}
					}, e._input.click()
				})
			}, e.prototype.saveFile = function () {
				var e = this.convertDataToSaveData(this.data),
					t = this.convertSaveDataToSaveString(e),
					n = new Blob([t], {
						type: "text/plain;charset=utf-8"
					});
				window.FileSaver.saveAs(n, "fixed-level-" + this._getDateString() + ".json")
			}, e.prototype.saveFileForJson = function () {
				var e = this.convertDataToSaveData(this.data),
					t = JSON.stringify(e),
					n = new Blob([t], {
						type: "text/plain;charset=utf-8"
					});
				window.FileSaver.saveAs(n, "fixed-level-config-" + this._getDateString() + ".json")
			}, e.prototype._getDateString = function () {
				var e = new Date;
				return e.getFullYear() + this._twoWords(e.getMonth() + 1) + this._twoWords(e.getDate()) + "-" + this._twoWords(e.getHours()) + this._twoWords(e.getMinutes()) + this._twoWords(e.getSeconds())
			}, e.prototype._twoWords = function (e) {
				return "number" == typeof e && (e += ""), 1 == e.length ? "0" + e : e
			}, e._instance = null, e
		}();
		n.default = i, cc._RF.pop()
	}, {}],
	EditorFixedScene: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "66f1678lMtDxo1MOht5VofT", "EditorFixedScene");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			},
			s = this && this.__spreadArrays || function () {
				for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
				var o = Array(e),
					i = 0;
				for (t = 0; t < n; t++)
					for (var r = arguments[t], a = 0, s = r.length; a < s; a++, i++) o[i] = r[a];
				return o
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var c, l = e("../../Config/SoundID"),
			u = e("../../Ui/Ui"),
			d = e("./EditorBallManager"),
			f = e("./EditorTableManager"),
			p = e("../../Ui/base/Draggable"),
			h = e("../game/PoolGlobal"),
			y = e("../game/Calc"),
			g = e("./EditorFixedLevelData"),
			_ = e("../GameScene"),
			v = e("../../Ui/base/AdaptForScreen"),
			b = e("../game/ball/BallRender"),
			m = e("../../Effect/EffectMgr"),
			w = e("../Router"),
			S = e("../../Res/ResLoader");
		(function (e) {
			e[e.None = 0] = "None", e[e.Line = 1] = "Line", e[e.Rect = 2] = "Rect", e[e.Ellipse = 3] = "Ellipse"
		})(c || (c = {}));
		var C = cc._decorator,
			P = C.ccclass,
			L = C.property,
			T = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.btnListNode = null, t.ballManager = null, t.tableManager = null, t.g = null, t._ctrlHold = !1, t._shiftHold = !1, t._keyMoveDelta = new cc.Vec2, t._isCtrlHoldWhenTouchStart = !1, t._isShiftHoldWhenTouchStart = !1, t._selectedListBeforeTouch = null, t._selectRect = null, t._drawPoint1 = null, t._drawPoint2 = null, t._guideShapes = [], t._discardGuideShapes = [], t._drawType = c.None, t._history = [], t._historyCurIndex = 0, t._tableCurIndex = 0, t._objectBallType = 0, t._levelIndex = 0, t._levelLoadedIndex = -1, t._eventTag = 0, t
				}
				var n;
				return o(t, e), n = t, t.enterScene = function () {
					return r(this, void 0, void 0, function () {
						var e, t, o;
						return a(this, function (i) {
							switch (i.label) {
								case 0:
									return t = (e = Promise).all, [4, S.default.getBundle("game_newbie", !1)];
								case 1:
									return o = [i.sent()], [4, S.default.getBundle("game", !1)];
								case 2:
									return o = o.concat([i.sent()]), [4, S.default.getBundle("common", !1)];
								case 3:
									return [4, t.apply(e, [o.concat([i.sent()])])];
								case 4:
									return i.sent(), [4, ui.switchScene(n)];
								case 5:
									return i.sent(), [2, !0]
							}
						})
					})
				}, t.prototype.start = function () {
					(this.getComponent(u.SceneCtrl) || this.addComponent(u.SceneCtrl)).closeType = u.SceneCloseTypeEnum.self_fade_out_to_right, this.initUi(), SoundMgr.stopMusic()
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off("keydown", this.onKeyDown, this), cc.systemEvent.off("keyup", this.onKeyUp, this)
				}, t.prototype.initUi = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return this.ballManager = this.getComponentInChildren(d.default), this.tableManager = this.getComponentInChildren(f.default), this.g = this.getComponent(cc.Graphics) || this.getComponentInChildren(cc.Graphics), this.g.node.zIndex = 10, g.default.instance.dataLoaded || g.default.instance.loadLocal(), [4, this.updateTableUi()];
								case 1:
									return e.sent(), this.ballManager.createAllBall(), this.initOperation(), this.schedule(this.updateForCheckOverlap, .1, 1 / 0, 0), [4, Utils.delayTime(.02, this)];
								case 2:
									return e.sent(), this.g.node.setPosition(Utils.covertToNodeSpaceAR(this.ballManager.stageNode, this.g.node.parent, cc.Vec2.ZERO)), [2]
							}
						})
					})
				}, t.prototype.onBtnBackClick = function () {
					SoundMgr.play(l.default.btn), w.default.instance.enterHome()
				}, t.prototype.setPhysicsWorldEnalbed = function (e) {
					cc.director.getPhysicsManager().enabled = e
				}, t.prototype.initOperation = function () {
					var e = this;
					cc.systemEvent.on("keydown", this.onKeyDown, this), cc.systemEvent.on("keyup", this.onKeyUp, this), this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this), this.ballManager.ballList.filter(function (e) {
						return e
					}).forEach(function (t) {
						var n = t.getComponent(p.default) || t.addComponent(p.default);
						n.minOffset = 5, n.lockX = n.lockY = !0, t.on(p.default.EventType.DragClick, e.onBallClick, e), t.on(p.default.EventType.DragStart, e.onBallDragStart, e), t.on(p.default.EventType.Dragging, e.onBallDragging, e), t.on(p.default.EventType.DragEnd, e.onBallDragEnd, e), t.on(p.default.EventType.DragCancel, e.onBallDragEnd, e)
					});
					var t = this.btnListNode.getChildByName("select_btn");
					Utils.bindBtnEvent(t, this.node, "EditorFixedScene", "onSelectBtnClick");
					var n = this.btnListNode.getChildByName("add_btn");
					Utils.bindBtnEvent(n, this.node, "EditorFixedScene", "onAddBtnClick"), this.updateBallUi();
					var o = this.btnListNode.getChildByName("output_btn"),
						i = this.btnListNode.getChildByName("save_btn"),
						r = this.btnListNode.getChildByName("load_btn"),
						a = this.btnListNode.getChildByName("check_btn");
					Utils.bindBtnEvent(o, this.node, "EditorFixedScene", "onOutputBtnClick"), Utils.bindBtnEvent(i, this.node, "EditorFixedScene", "onSaveBtnClick"), Utils.bindBtnEvent(r, this.node, "EditorFixedScene", "onLoadBtnClick"), Utils.bindBtnEvent(a, this.node, "EditorFixedScene", "onCheckBtnClick");
					var s = this.btnListNode.getChildByName("play_btn");
					Utils.bindBtnEvent(s, this.node, "EditorFixedScene", "onPlayBtnClick");
					var c = this.btnListNode.getChildByName("history"),
						l = c.getChildByName("left_btn"),
						u = c.getChildByName("right_btn");
					Utils.bindBtnEvent(l, this.node, "EditorFixedScene", "onHistoryPrevBtnClick"), Utils.bindBtnEvent(u, this.node, "EditorFixedScene", "onHistoryNextBtnClick"), this.updateHistoryUi();
					var d = this.btnListNode.getChildByName("table"),
						f = (l = d.getChildByName("left_btn"), u = d.getChildByName("right_btn"), d.getChildByName("show_btn"));
					Utils.bindBtnEvent(l, this.node, "EditorFixedScene", "onTablePrevBtnClick"), Utils.bindBtnEvent(u, this.node, "EditorFixedScene", "onTableNextBtnClick"), Utils.bindBtnEvent(f, this.node, "EditorFixedScene", "onTableShowBtnClick");
					var h = this.btnListNode.getChildByName("ball_type"),
						y = h.getChildByName("solid_btn"),
						g = h.getChildByName("stripe_btn");
					Utils.bindBtnEvent(y, this.node, "EditorFixedScene", "onSolidBtnClick"), Utils.bindBtnEvent(g, this.node, "EditorFixedScene", "onStripeBtnClick"), h.getComponentsInChildren(b.default).forEach(function (e) {
						e.setBallSpriteFrame(e.getComponent(cc.Sprite).spriteFrame), e.rotateTo(new cc.Vec3(-.3, 0, -.3))
					});
					var _ = this.btnListNode.getChildByName("event"),
						v = _.getChildByName("tips");
					v.active = !1, v.opacity = 0;
					var m = _.getChildByName("question");
					m.on(cc.Node.EventType.MOUSE_ENTER, this.onEventTipMouseEnter, this), m.on(cc.Node.EventType.MOUSE_LEAVE, this.onEventTipMouseLeave, this), Utils.bindBtnEvent(m, this.node, "EditorFixedScene", "onEventTipClick"), _.children.forEach(function (t) {
						if (t.name.match(/^\d+_btn$/)) {
							var n = parseInt(t.name);
							Utils.bindBtnEvent(t, e.node, "EditorFixedScene", "onEventBtnClick", n + "")
						}
					});
					var w = this.btnListNode.getChildByName("level"),
						S = (l = w.getChildByName("left_btn"), u = w.getChildByName("right_btn"), w.getChildByName("insert_btn")),
						C = w.getChildByName("editbox").getComponent(cc.EditBox);
					Utils.bindBtnEvent(l, this.node, "EditorFixedScene", "onLevelPrevBtnClick"), Utils.bindBtnEvent(u, this.node, "EditorFixedScene", "onLevelNextBtnClick"), Utils.bindBtnEvent(S, this.node, "EditorFixedScene", "onLevelInsertBtnClick"), C.node.on("editing-did-began", this.onLevelEditBoxBegan, this), C.node.on("editing-did-ended", this.onLevelEditBoxEnded, this), this.goToLastLevel();
					var P = this.btnListNode.getChildByName("align"),
						L = P.getChildByName("line_btn"),
						T = P.getChildByName("rect_btn"),
						D = P.getChildByName("ellipse_btn");
					l = P.getChildByName("left_btn"), u = P.getChildByName("right_btn");
					Utils.bindBtnEvent(L, this.node, "EditorFixedScene", "onDrawLineBtnClick"), Utils.bindBtnEvent(T, this.node, "EditorFixedScene", "onDrawRectBtnClick"), Utils.bindBtnEvent(D, this.node, "EditorFixedScene", "onDrawEllipseBtnClick"), Utils.bindBtnEvent(l, this.node, "EditorFixedScene", "onDrawPrevBtnClick"), Utils.bindBtnEvent(u, this.node, "EditorFixedScene", "onDrawNextBtnClick"), this.updateAlignUi()
				}, t.prototype.onKeyDown = function (e) {
					var t = !1;
					switch (e.keyCode) {
						case cc.macro.KEY.ctrl:
							this._ctrlHold = !0, this.btnListNode.getChildByName("ctrl_lbl").color = cc.Color.YELLOW;
							break;
						case cc.macro.KEY.shift:
							this._shiftHold = !0, this.btnListNode.getChildByName("shift_lbl").color = cc.Color.YELLOW;
							break;
						case cc.macro.KEY.up:
						case cc.macro.KEY.w:
							this._keyMoveDelta.y = 1, t = !0;
							break;
						case cc.macro.KEY.down:
						case cc.macro.KEY.s:
							this._keyMoveDelta.y = -1, t = !0;
							break;
						case cc.macro.KEY.left:
						case cc.macro.KEY.a:
							this._keyMoveDelta.x = -1, t = !0;
							break;
						case cc.macro.KEY.right:
						case cc.macro.KEY.d:
							this._keyMoveDelta.x = 1, t = !0
					}
					t && (this.moveSelectedBalls(), this.schedule(this.moveSelectedBalls, .2, 1 / 0, .5))
				}, t.prototype.onKeyUp = function (e) {
					var t = this;
					switch (e.keyCode) {
						case cc.macro.KEY.ctrl:
							this._ctrlHold = !1, this.btnListNode.getChildByName("ctrl_lbl").color = cc.Color.GRAY;
							break;
						case cc.macro.KEY.shift:
							this._shiftHold = !1, this.btnListNode.getChildByName("shift_lbl").color = cc.Color.GRAY;
							break;
						case cc.macro.KEY.up:
						case cc.macro.KEY.w:
							this._keyMoveDelta.y = 0;
							break;
						case cc.macro.KEY.down:
						case cc.macro.KEY.s:
							this._keyMoveDelta.y = 0;
							break;
						case cc.macro.KEY.left:
						case cc.macro.KEY.a:
							this._keyMoveDelta.x = 0;
							break;
						case cc.macro.KEY.right:
						case cc.macro.KEY.d:
							this._keyMoveDelta.x = 0
					}
					this._keyMoveDelta.fuzzyEquals(cc.Vec2.ZERO, .1) && (this.unschedule(this.moveSelectedBalls), this.ballManager.selectedBallList.filter(function (e) {
						return e && t.ballManager.isBallOnStage(e)
					}).forEach(function (e) {
						e.real_pos = null
					}), this.recordHistory())
				}, t.prototype.moveSelectedBalls = function () {
					var e = this,
						t = this._ctrlHold ? 10 * this._keyMoveDelta.x : this._keyMoveDelta.x,
						n = this._ctrlHold ? 10 * this._keyMoveDelta.y : this._keyMoveDelta.y;
					this.ballManager.selectedBallList.filter(function (t) {
						return t && e.ballManager.isBallOnStage(t)
					}).forEach(function (o) {
						e.changeBallPosition(o, t, n)
					})
				}, t.prototype.onBallClick = function (e) {
					var t = this,
						n = e.target,
						o = this.ballManager.isBallSelected(n);
					o || this._ctrlHold || this.ballManager.selectedBallList.filter(function (e) {
						return e
					}).forEach(function (e) {
						return t.ballManager.setBallSelected(e, !1)
					});
					this.ballManager.setBallSelected(n, !o), this.updateBallUi(), e.stopPropagation()
				}, t.prototype.onBallDragStart = function (e) {
					var t = this,
						n = e.target;
					this.ballManager.isBallSelected(n) || (this.ballManager.selectedBallList.filter(function (e) {
						return e
					}).forEach(function (e) {
						return t.ballManager.setBallSelected(e, !1)
					}), this.ballManager.setBallSelected(n, !0), this.updateBallUi())
				}, t.prototype.onBallDragging = function (e, t, n) {
					var o = this;
					e.target;
					this.ballManager.selectedBallList.filter(function (e) {
						return e
					}).forEach(function (e) {
						o.changeBallPosition(e, t, n);
						var i = o.ballManager.isBallOnStage(e);
						if (!i && e.x < -50) {
							var r = Utils.covertToNodeSpaceAR(o.ballManager.offStageNode, o.ballManager.stageNode, e.getPosition());
							e.setPosition(r), o.ballManager.setBallOnStage(e, !0)
						} else if (i) {
							(r = Utils.covertToNodeSpaceAR(o.ballManager.stageNode, o.ballManager.offStageNode, e.getPosition())).x > -50 && (e.setPosition(r), o.ballManager.setBallOnStage(e, !1))
						}
					})
				}, t.prototype.onBallDragEnd = function (e) {
					var t = this;
					this.ballManager.selectedBallList.filter(function (e) {
						return e
					}).forEach(function (e) {
						t.ballManager.isBallOnStage(e) || t.ballManager.resetBallPosition(e), e.real_pos = null
					}), this.recordHistory()
				}, t.prototype.onTouchStart = function (e) {
					this._isCtrlHoldWhenTouchStart = this._ctrlHold, this._isShiftHoldWhenTouchStart = this._shiftHold, this._drawType != c.None ? this.onTouchStartForDraw() : this.onTouchStartForSelect(), e.stopPropagation()
				}, t.prototype.onTouchMove = function (e) {
					var t = this.g.node.convertToNodeSpaceAR(e.getStartLocation()),
						n = this.g.node.convertToNodeSpaceAR(e.getLocation());
					this._drawType != c.None ? this.onTouchMoveForDraw(t, n) : this.onTouchMoveForSelect(t, n), e.stopPropagation()
				}, t.prototype.onTouchEnd = function (e) {
					this._drawType != c.None ? this.onTouchEndForDraw() : this.onTouchEndForSelect(), e.stopPropagation()
				}, t.prototype.onTouchStartForSelect = function () {
					var e = this,
						t = this.ballManager.selectedBallList.filter(function (e) {
							return e
						});
					this._ctrlHold ? this._selectedListBeforeTouch = t : (t.forEach(function (t) {
						return e.ballManager.setBallSelected(t, !1)
					}), this._selectedListBeforeTouch = null), this.updateBallUi()
				}, t.prototype.onTouchMoveForSelect = function (e, t) {
					var n = this;
					this._selectRect || (this._selectRect = new cc.Rect);
					var o = this._selectRect;
					o.xMin = Math.min(e.x, t.x), o.yMin = Math.min(e.y, t.y), o.xMax = Math.max(e.x, t.x), o.yMax = Math.max(e.y, t.y), this.ballManager.ballList.filter(function (e) {
						return e
					}).forEach(function (e) {
						var t = Utils.covertToNodeSpaceAR(e, n.g.node, cc.Vec2.ZERO);
						t.x >= o.xMin && t.x < o.xMax && t.y >= o.yMin && t.y < o.yMax ? n.ballManager.setBallSelected(e, !0) : n.ballManager.setBallSelected(e, n._selectedListBeforeTouch && n._selectedListBeforeTouch.indexOf(e) > -1)
					}), this.updateBallUi()
				}, t.prototype.onTouchEndForSelect = function () {
					this._selectRect = null
				}, t.prototype.onTouchStartForDraw = function () { }, t.prototype.onTouchMoveForDraw = function (e, t) {
					if (this._drawPoint1 || (this._drawPoint1 = new cc.Vec2), this._drawPoint2 || (this._drawPoint2 = new cc.Vec2), this._shiftHold) {
						var n = Math.abs(t.x - e.x),
							o = Math.abs(t.y - e.y);
						if (this._drawType == c.Line && n < .5 * o) t.x = e.x;
						else if (this._drawType == c.Line && o < .5 * n) t.y = e.y;
						else {
							var i = Math.max(n, o);
							t.x = e.x + (t.x - e.x) / n * i, t.y = e.y + (t.y - e.y) / o * i
						}
					}
					this._drawPoint1.set(e), this._drawPoint2.set(t)
				}, t.prototype.onTouchEndForDraw = function () {
					var e = this._drawPoint1,
						t = this._drawPoint2;
					e && t && (e.sub(t).len() > 10 && this._drawType != c.None && (this._guideShapes.push({
						type: this._drawType,
						data: [e, t]
					}), this._discardGuideShapes.length = 0));
					this._drawPoint1 = null, this._drawPoint2 = null, this._drawType = c.None, this.updateAlignUi()
				}, t.prototype.onDrawLineBtnClick = function (e) {
					SoundMgr.play(l.default.btn), this._drawType = c.Line, this.updateAlignUi()
				}, t.prototype.onDrawRectBtnClick = function (e) {
					SoundMgr.play(l.default.btn), this._drawType = c.Rect, this.updateAlignUi()
				}, t.prototype.onDrawEllipseBtnClick = function (e) {
					SoundMgr.play(l.default.btn), this._drawType = c.Ellipse, this.updateAlignUi()
				}, t.prototype.onDrawPrevBtnClick = function (e) {
					SoundMgr.play(l.default.btn), this._guideShapes.length > 0 && (this._discardGuideShapes.push(this._guideShapes.pop()), this.updateAlignUi())
				}, t.prototype.onDrawNextBtnClick = function (e) {
					SoundMgr.play(l.default.btn), this._discardGuideShapes.length > 0 && (this._guideShapes.push(this._discardGuideShapes.pop()), this.updateAlignUi())
				}, t.prototype.updateAlignUi = function () {
					var e = this.btnListNode.getChildByName("align"),
						t = e.getChildByName("line_btn"),
						n = e.getChildByName("rect_btn"),
						o = e.getChildByName("ellipse_btn"),
						i = e.getChildByName("left_btn").getComponent(cc.Button),
						r = e.getChildByName("right_btn").getComponent(cc.Button),
						a = e.getChildByName("lbl").getComponent(cc.Label);
					switch (t.color = n.color = o.color = cc.Color.WHITE, this.setCursor("crosshair"), this._drawType) {
						case c.Line:
							t.color = cc.Color.YELLOW;
							break;
						case c.Rect:
							n.color = cc.Color.YELLOW;
							break;
						case c.Ellipse:
							o.color = cc.Color.YELLOW;
							break;
						case c.None:
						default:
							this.setCursor("auto")
					}
					var s = this._guideShapes.length,
						l = this._discardGuideShapes.length;
					i.interactable = s > 0, r.interactable = l > 0, a.string = "形状" + s + "/" + (s + l)
				}, t.prototype.changeBallPosition = function (e, t, n) {
					var o = e.real_pos || (e.real_pos = new cc.Vec2(e.x, e.y));
					if (o.x += t, o.y += n, e.x = o.x, e.y = o.y, this._shiftHold && this.ballManager.isBallOnStage(e))
						for (var i = v.default.getScale(), r = 0; r < this._guideShapes.length; ++r) {
							var a = this._guideShapes[r];
							switch (a.type) {
								case c.Line:
									var s = a.data.map(function (e) {
										return e.div(i)
									}),
										l = s[0],
										u = s[1],
										d = y.default.posDisSegment(o, l, u);
									if (d <= 20) {
										var f = y.default.getNormalForLine(l, u, o),
											p = o.sub(f.mulSelf(d));
										return void e.setPosition(p)
									}
									break;
								case c.Rect:
									var h = a.data.map(function (e) {
										return e.div(i)
									}),
										g = (l = h[0], u = h[1], !1),
										_ = Math.min(l.x, u.x),
										b = Math.max(l.x, u.x),
										m = Math.min(l.y, u.y),
										w = Math.max(l.y, u.y);
									if (o.y >= m && o.y < w && (Math.abs(o.x - l.x) <= 20 ? (e.x = l.x, g = !0) : Math.abs(o.x - u.x) <= 20 && (e.x = u.x, g = !0)), o.x >= _ && o.x < b && (Math.abs(o.y - l.y) <= 20 ? (e.y = l.y, g = !0) : Math.abs(o.y - u.y) <= 20 && (e.y = u.y, g = !0)), g) return;
									break;
								case c.Ellipse:
									var S = a.data.map(function (e) {
										return e.div(i)
									}),
										C = S[0],
										P = S[1],
										L = C.add(P).mulSelf(.5),
										T = (l = Math.abs(C.x - P.x) / 2, u = Math.abs(C.y - P.y) / 2, o.sub(L)),
										D = Math.atan2(T.y * l, T.x * u),
										B = L.add(new cc.Vec2(l * Math.cos(D), u * Math.sin(D)));
									if (B.sub(o).lengthSqr() <= 400) return void e.setPosition(B);
									break;
								case c.None:
							}
						}
				}, t.prototype.setCursor = function (e) {
					cc.game.canvas.style && (cc.game.canvas.style.cursor = e)
				}, t.prototype.onSelectBtnClick = function () {
					var e = this;
					SoundMgr.play(l.default.btn);
					var t = this.ballManager.selectedBallList.filter(function (e) {
						return e
					}),
						n = this.ballManager.onStageBallList.filter(function (e) {
							return e
						}),
						o = this.ballManager.offStageBallList.filter(function (e) {
							return e
						});
					t.forEach(function (t) {
						return e.ballManager.setBallSelected(t, !1)
					}), 0 == t.length ? n.length > 0 ? n.forEach(function (t) {
						return e.ballManager.setBallSelected(t, !0)
					}) : o.forEach(function (t) {
						return e.ballManager.setBallSelected(t, !0)
					}) : this.ballManager.isBallOnStage(t[0]) && o.length > 0 && o.forEach(function (t) {
						return e.ballManager.setBallSelected(t, !0)
					}), this.updateBallUi()
				}, t.prototype.onAddBtnClick = function () {
					var e = this;
					SoundMgr.play(l.default.btn), this.ballManager.selectedBallList.filter(function (e) {
						return e
					}).forEach(function (t) {
						e.ballManager.setBallOnStage(t, !e.ballManager.isBallOnStage(t)), e.ballManager.resetBallPosition(t)
					}), this.recordHistory()
				}, t.prototype.updateBallUi = function () {
					this.btnListNode.getChildByName("select_btn").getComponent(cc.Button);
					this.btnListNode.getChildByName("add_btn").getComponent(cc.Button).interactable = this.ballManager.selectedBallList.filter(function (e) {
						return e
					}).length > 0
				}, t.prototype.onOutputBtnClick = function () {
					SoundMgr.play(l.default.btn), g.default.instance.saveFileForJson()
				}, t.prototype.onSaveBtnClick = function () {
					SoundMgr.play(l.default.btn), g.default.instance.saveFile()
				}, t.prototype.onLoadBtnClick = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return SoundMgr.play(l.default.btn), [4, g.default.instance.loadFile()];
								case 1:
									return e.sent() ? (this.goToLastLevel(), this.loadLevelData(), ui.showTips("Load successfully!")) : ui.showTips("加载失败！"), [2]
							}
						})
					})
				}, t.prototype.goToLastLevel = function () {
					var e = g.default.instance.data.length - 1;
					this.updateLevelCurIndex(e)
				}, t.prototype.onPlayBtnClick = function () {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return SoundMgr.play(l.default.btn), [4, ui.showLoading()];
								case 1:
									return t.sent(), [4, ui.pushScene(_.default)];
								case 2:
									return e = t.sent(), [4, e.getComponent(_.default).loadEightSingleEditorPuzzle(this._levelLoadedIndex)];
								case 3:
									return t.sent(), ui.hideLoading(), [2]
							}
						})
					})
				}, t.prototype.onHistoryPrevBtnClick = function () {
					SoundMgr.play(l.default.btn), this._historyCurIndex = Math.max(0, this._historyCurIndex - 1), this.loadHistory()
				}, t.prototype.onHistoryNextBtnClick = function () {
					SoundMgr.play(l.default.btn), this._historyCurIndex = Math.min(this._history.length - 1, this._historyCurIndex + 1), this.loadHistory()
				}, t.prototype.recordHistory = function () {
					var e = this,
						t = this.ballManager.ballList.map(function (t) {
							return t && e.ballManager.isBallOnStage(t) ? t.getPosition() : null
						}),
						n = {
							table: this._tableCurIndex,
							object: this._objectBallType,
							event: this._eventTag,
							list: t
						};
					if (0 == this._history.length) this._history.push(n), this._historyCurIndex = 0;
					else {
						var o = this._history[this._historyCurIndex];
						if (o) {
							var i = o.list;
							if (o.table == n.table && o.object == n.object && o.event == n.event && i.filter(function (e, n) {
								return e == t[n] || e && e.equals(t[n])
							}).length == i.length) return
						}
						this._historyCurIndex += 1, this._history[this._historyCurIndex] = n, this._history.length = this._historyCurIndex + 1
					}
					this.updateHistoryUi(), this.saveLevelData()
				}, t.prototype.loadHistory = function () {
					var e = this,
						t = this._history[this._historyCurIndex];
					t && (t.list.forEach(function (t, n) {
						var o = e.ballManager.getBall(n);
						t ? (o.setPosition(t), e.ballManager.setBallOnStage(o, !0)) : (e.ballManager.setBallOnStage(o, !1), e.ballManager.resetBallPosition(o))
					}), this._tableCurIndex = t.table, this._objectBallType = t.object, this._eventTag = t.event, this.updateHistoryUi(), this.updateTableUi(), this.updateObjectBallTypeUi(), this.updateEventUi(), this.saveLevelData())
				}, t.prototype.updateHistoryUi = function () {
					var e = this.btnListNode.getChildByName("history"),
						t = e.getChildByName("left_btn").getComponent(cc.Button),
						n = e.getChildByName("right_btn").getComponent(cc.Button),
						o = e.getChildByName("lbl").getComponent(cc.Label);
					t.interactable = this._historyCurIndex > 0, n.interactable = this._historyCurIndex < this._history.length - 1, o.string = "历史" + (this._historyCurIndex + 1) + "/" + this._history.length
				}, t.prototype.onTablePrevBtnClick = function () {
					SoundMgr.play(l.default.btn);
					var e = this.tableManager.getTableLength();
					this._tableCurIndex = this._tableCurIndex - 1, this._tableCurIndex < 0 && (this._tableCurIndex = e - 1), this.updateTableUi(), this.recordHistory()
				}, t.prototype.onTableNextBtnClick = function () {
					SoundMgr.play(l.default.btn);
					var e = this.tableManager.getTableLength();
					this._tableCurIndex = this._tableCurIndex + 1, this._tableCurIndex >= e && (this._tableCurIndex = 0), this.updateTableUi(), this.recordHistory()
				}, t.prototype.onTableShowBtnClick = function () {
					if (SoundMgr.play(l.default.btn), this.tableManager.tableNode) {
						var e = this.tableManager.tableNode.getChildByName("table_sprite");
						e && (e.active = !e.active)
					}
				}, t.prototype.updateTableUi = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return e = this.btnListNode.getChildByName("table"), t = e.getChildByName("lbl").getComponent(cc.Label), n = this.tableManager.getTableLength(), t.string = "球桌" + (this._tableCurIndex + 1) + "/" + n, [4, this.tableManager.switchTable(this._tableCurIndex)];
								case 1:
									return o.sent(), [2]
							}
						})
					})
				}, t.prototype.onSolidBtnClick = function () {
					SoundMgr.play(l.default.btn), 0 != this._objectBallType && (this._objectBallType = 0, this.updateObjectBallTypeUi(), this.recordHistory()), this.playAllObjectBallsEffect()
				}, t.prototype.onStripeBtnClick = function () {
					SoundMgr.play(l.default.btn), 1 != this._objectBallType && (this._objectBallType = 1, this.updateObjectBallTypeUi(), this.recordHistory()), this.playAllObjectBallsEffect()
				}, t.prototype.updateObjectBallTypeUi = function () {
					var e = this.btnListNode.getChildByName("ball_type"),
						t = e.getChildByName("lbl").getComponent(cc.Label),
						n = e.getChildByName("solid_btn").children[0],
						o = e.getChildByName("stripe_btn").children[0];
					n.color = 0 == this._objectBallType ? cc.Color.YELLOW : cc.Color.WHITE, o.color = 0 == this._objectBallType ? cc.Color.WHITE : cc.Color.YELLOW, t.string = 0 == this._objectBallType ? "目标球：小球" : "目标球：大球"
				}, t.prototype.playAllObjectBallsEffect = function () {
					var e = this;
					this.ballManager.onStageBallList.filter(function (t) {
						if (!t) return !1;
						var n = e.ballManager.getBallNum(t);
						return 0 != n && 8 != n && (0 == e._objectBallType && e.ballManager.getBallNum(t) < 8 || 0 != e._objectBallType && e.ballManager.getBallNum(t) > 8)
					}).forEach(function (t) {
						e.playObjectBallEffect(t)
					})
				}, t.prototype.playObjectBallEffect = function (e) {
					var t = Utils.covertToNodeSpaceAR(e, m.default.root, cc.Vec2.ZERO);
					m.default.play("game_newbie://dynamic/prefab_effect/ballclick", t)
				}, t.prototype.onLevelPrevBtnClick = function () {
					SoundMgr.play(l.default.btn), this.updateLevelCurIndex(this._levelIndex - 1)
				}, t.prototype.onLevelNextBtnClick = function () {
					SoundMgr.play(l.default.btn), this.updateLevelCurIndex(this._levelIndex + 1)
				}, t.prototype.onLevelInsertBtnClick = function () {
					SoundMgr.play(l.default.btn), this.insertLevel(this._levelIndex)
				}, t.prototype.onLevelEditBoxBegan = function (e) {
					e.string = (this._levelLoadedIndex + 1).toString()
				}, t.prototype.onLevelEditBoxEnded = function (e) {
					var t = parseInt(e.string);
					this.updateLevelCurIndex(t - 1)
				}, t.prototype.updateLevelCurIndex = function (e) {
					(isNaN(e) || e < 0) && (e = this._levelIndex);
					var t = g.default.instance.data,
						n = t.length;
					if (this._levelIndex != e)
						if (e >= n) {
							var o = t[this._levelIndex] || t[n - 1];
							this._levelIndex = e = n;
							var i = g.default.instance.createBlankDataItem();
							o && (i.table = o.table, i.object = o.object), t.push(i)
						} else this._levelIndex = e;
					this.updateLevelUi()
				}, t.prototype.insertLevel = function (e) {
					var t = g.default.instance.data,
						n = t.length,
						o = t[this._levelIndex] || t[n - 1],
						i = g.default.instance.createBlankDataItem();
					o && (i.table = o.table, i.object = o.object), t.splice(e, 0, i), this._levelLoadedIndex = -1, this.updateLevelUi()
				}, t.prototype.updateLevelUi = function () {
					var e = this.btnListNode.getChildByName("level"),
						t = e.getChildByName("left_btn").getComponent(cc.Button),
						n = (e.getChildByName("right_btn").getComponent(cc.Button), e.getChildByName("editbox").getComponent(cc.EditBox)),
						o = g.default.instance.data.length;
					n.string = this._levelIndex + 1 + "/" + o, t.interactable = this._levelIndex > 0, this._levelLoadedIndex != this._levelIndex && (this._levelLoadedIndex = this._levelIndex, this.loadLevelData())
				}, t.prototype.loadLevelData = function () {
					var e = this,
						t = g.default.instance.getDataItem(this._levelLoadedIndex);
					this._tableCurIndex = t.table, this.updateTableUi(), this._objectBallType = t.object, this.updateObjectBallTypeUi(), this._eventTag = t.event, this.updateEventUi(), this.ballManager.ballList.filter(function (e) {
						return e
					}).forEach(function (n) {
						var o = t.balls.indexOf(e.ballManager.getBallNum(n));
						if (o > -1) {
							var i = t.coords[o];
							n.setPosition(i), e.ballManager.setBallOnStage(n, !0)
						} else e.ballManager.setBallOnStage(n, !1), e.ballManager.resetBallPosition(n)
					}), this._history.length = 0, this._historyCurIndex = 0, this.recordHistory()
				}, t.prototype.saveLevelData = function () {
					var e = this,
						t = g.default.instance.getDataItem(this._levelLoadedIndex);
					t.table = this._tableCurIndex, t.object = this._objectBallType, t.event = this._eventTag, t.coords = this.ballManager.onStageBallList.filter(function (e) {
						return e
					}).map(function (e) {
						return e.getPosition()
					}), t.balls = this.ballManager.onStageBallList.filter(function (e) {
						return e
					}).map(function (t) {
						return e.ballManager.getBallNum(t)
					}), g.default.instance.saveLocal()
				}, t.prototype.onCheckBtnClick = function () {
					var e = this;
					SoundMgr.play(l.default.btn);
					var t = new cc.Size(466, 934),
						n = cc.view.getVisibleSize(),
						o = [];
					if (g.default.instance.data.forEach(function (i, r) {
						for (var a = 0; a < i.coords.length; ++a) {
							var s = i.coords[a],
								c = e.ballManager.stageNode.convertToWorldSpaceAR(s);
							c.x < 0 || c.y < 0 || c.x > n.width || c.y > n.height ? (o.push("关卡" + (r + 1) + "有球" + i.balls[a] + "在屏幕外面, 已移除！"), i.coords.splice(a, 1), i.balls.splice(a, 1), e._levelLoadedIndex == r && e.loadLevelData(), --a) : (s.x < -t.width / 2 || s.y < -t.height / 2 || s.x > t.width / 2 || s.y > t.height / 2) && o.push("关卡" + (r + 1) + "有球" + i.balls[a] + "在球桌外面！")
						} - 1 == i.balls.indexOf(0) && o.push("关卡" + (r + 1) + "没有母球！"), -1 == i.balls.indexOf(8) && o.push("关卡" + (r + 1) + "没有黑8！");
						var l = h.default.radius + .1;
						for (a = 0; a < i.coords.length; ++a) {
							s = i.coords[a];
							for (var u = a + 1; u < i.coords.length; ++u) {
								var d = i.coords[u];
								if (s.sub(d).lengthSqr() < l * l * 4) {
									o.push("关卡" + (r + 1) + "有球重叠！"), a = i.coords.length;
									break
								}
							}
						}
					}), o.length > 0) {
						var i = o.join("\n");
						ui.showTips(i), console.log(i)
					} else ui.showTips("No problem found!")
				}, t.prototype.updateEventUi = function () {
					var e = this;
					this.btnListNode.getChildByName("event").children.forEach(function (t) {
						if (t.name.match(/^\d+_btn$/)) {
							var n = parseInt(t.name);
							t.color = 0 != (1 << n - 1 & e._eventTag) ? cc.Color.YELLOW : cc.Color.WHITE
						}
					})
				}, t.prototype.onEventBtnClick = function (e, t) {
					var n = parseInt(t);
					SoundMgr.play(l.default.btn), this._eventTag ^= 1 << n - 1, this.updateEventUi(), this.recordHistory()
				}, t.prototype.onEventTipMouseEnter = function () {
					var e = this.btnListNode.getChildByName("event").getChildByName("tips");
					e.active = !0, e.stopAllActions(), e.runAction(cc.fadeIn(.5))
				}, t.prototype.onEventTipMouseLeave = function () {
					var e = this.btnListNode.getChildByName("event").getChildByName("tips");
					e.active && (e.stopAllActions(), e.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(function () {
						return e.active = !1
					}))))
				}, t.prototype.onEventTipClick = function () {
					var e = this.btnListNode.getChildByName("event").getChildByName("tips");
					e.active = !e.active, e.opacity = e.active ? 255 : 0
				}, t.prototype.updateForCheckOverlap = function () {
					this.ballManager.ballList.filter(function (e) {
						return e
					}).forEach(function (e) {
						return e.color = cc.Color.WHITE
					});
					for (var e = this.ballManager.onStageBallList.filter(function (e) {
						return e
					}), t = h.default.radius + .1, n = function (n) {
						for (var i = e[n], r = n + 1; r < e.length; ++r) {
							var a = e[r];
							i.getPosition().sub(a.getPosition()).lengthSqr() < t * t * 4 && (i.color = a.color = cc.Color.RED)
						}
						o.tableManager.tableNode && o.tableManager.tableNode.getComponentsInChildren(cc.PhysicsCollider).forEach(function (e) {
							if (e instanceof cc.PhysicsBoxCollider) {
								var n = e,
									o = y.default.convertBoxToVertexs(n.node.getPosition(), n.size.width, n.size.height, cc.misc.degreesToRadians(n.node.angle));
								if (cc.Intersection.polygonCircle(o, {
									position: i.getPosition(),
									radius: t
								})) return void (i.color = cc.Color.RED)
							} else if (e instanceof cc.PhysicsCircleCollider) {
								n = e;
								if (cc.Intersection.circleCircle({
									position: i.getPosition(),
									radius: t
								}, {
									position: Utils.covertToNodeSpaceAR(n.node.parent, i.parent, n.node.getPosition()),
									radius: n.radius
								})) return void (i.color = cc.Color.RED)
							} else if (e instanceof cc.PhysicsChainCollider) {
								n = e;
								for (var r = 0, a = (o = y.default.convertPolygonToVertexs(n.node.getPosition(), n.points, cc.misc.degreesToRadians(n.node.angle))).length; r < a; ++r)
									if ((r < a - 1 || n.loop) && cc.Intersection.pointLineDistance(i.getPosition(), o[r], o[(r + 1) % a], !0) < t) return void (i.color = cc.Color.RED)
							}
						})
					}, o = this, i = 0; i < e.length; ++i) n(i)
				}, t.prototype.drawShape = function (e, t, n, o) {
					switch (t) {
						case c.Line:
							e.moveTo(n.x, n.y), e.lineTo(o.x, o.y), e.stroke();
							break;
						case c.Rect:
							e.rect(n.x, n.y, o.x - n.x, o.y - n.y), e.stroke();
							break;
						case c.Ellipse:
							e.ellipse((n.x + o.x) / 2, (n.y + o.y) / 2, Math.abs(o.x - n.x) / 2, Math.abs(o.y - n.y) / 2), e.stroke();
							break;
						case c.None:
					}
				}, t.prototype.update = function () {
					var e = this,
						t = this.g;
					t.clear(), t.strokeColor = this._drawType == c.None && this._shiftHold ? cc.Color.MAGENTA : new cc.Color(255, 0, 255, 60), this._guideShapes.forEach(function (n) {
						e.drawShape.apply(e, s([t, n.type], n.data))
					});
					var n = this._drawPoint1,
						o = this._drawPoint2;
					n && o && (t.strokeColor = cc.Color.MAGENTA, this.drawShape(t, this._drawType, n, o));
					var i = this._selectRect;
					i && (t.strokeColor = cc.Color.YELLOW, t.fillColor = new cc.Color(255, 235, 4, 20), t.fillRect(i.x, i.y, i.width, i.height), t.rect(i.x, i.y, i.width, i.height), t.stroke())
				}, t.prefabName = "Prefab/scene/editorFixedScene", i([L({
					type: cc.Node,
					displayName: "按钮列表"
				})], t.prototype, "btnListNode", void 0), t = n = i([P], t)
			}(cc.Component);
		n.default = T, window.EditorFixedScene = T, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../../Effect/EffectMgr": "EffectMgr",
		"../../Res/ResLoader": "ResLoader",
		"../../Ui/Ui": "Ui",
		"../../Ui/base/AdaptForScreen": "AdaptForScreen",
		"../../Ui/base/Draggable": "Draggable",
		"../GameScene": "GameScene",
		"../Router": "Router",
		"../game/Calc": "Calc",
		"../game/PoolGlobal": "PoolGlobal",
		"../game/ball/BallRender": "BallRender",
		"./EditorBallManager": "EditorBallManager",
		"./EditorFixedLevelData": "EditorFixedLevelData",
		"./EditorTableManager": "EditorTableManager"
	}],
	EditorLevelData: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f4f20bd1x9IdbgJoUhf1YM4", "EditorLevelData");
		var o = this && this.__spreadArrays || function () {
			for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
			var o = Array(e),
				i = 0;
			for (t = 0; t < n; t++)
				for (var r = arguments[t], a = 0, s = r.length; a < s; a++, i++) o[i] = r[a];
			return o
		};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var i = function () {
			function e() {
				this.data = null, this.dataLoaded = !1, this._input = null
			}
			return Object.defineProperty(e, "instance", {
				get: function () {
					return this._instance || (this._instance = new e)
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype.getDataItem = function (e) {
				return this.data[e] || (this.data[e] = this.createBlankDataItem())
			}, e.prototype.convertDataToSaveData = function (e) {
				var t = this;
				return e.filter(function (e) {
					return e.list.length > 1
				}).map(function (e) {
					var n = [];
					return e.list.forEach(function (e) {
						return e && n.push(t.convertNumberToFixedTwo(e.x), t.convertNumberToFixedTwo(e.y))
					}), o([e.table], n)
				})
			}, e.prototype.convertSaveDataToData = function (e) {
				return e.map(function (e) {
					for (var t = [], n = 1, o = e.length; n < o; n += 2) t.push(new cc.Vec2(e[n], e[n + 1]));
					return {
						table: e[0],
						list: t
					}
				})
			}, e.prototype.convertSaveDataToSaveString = function (e) {
				var t = "";
				return e.forEach(function (e, n) {
					t += '"' + (n + 1) + '":' + JSON.stringify(e) + "\n"
				}), t
			}, e.prototype.convertSaveStringToSaveData = function (e) {
				e = "{" + e.split("\n").filter(function (e) {
					return e
				}).join(",") + "}";
				var t = null;
				try {
					t = JSON.parse(e)
				} catch (e) {
					t = null, console.error(e)
				}
				return Object.keys(t).sort(function (e, t) {
					return parseInt(e) - parseInt(t)
				}).map(function (e) {
					return t[e]
				})
			}, e.prototype.convertNumberToFixedTwo = function (e) {
				return Math.floor(100 * e) / 100
			}, e.prototype.createBlankDataItem = function () {
				return {
					table: 0,
					list: [new cc.Vec2]
				}
			}, e.prototype.loadLocal = function () {
				var e = sdk.getStorageSync("editor_level_data_1");
				e && e.length > 0 ? (e = this.convertSaveStringToSaveData(e), this.data = this.convertSaveDataToData(e)) : this.data = [this.createBlankDataItem()], this.dataLoaded = !0
			}, e.prototype.saveLocal = function () {
				var e = this.convertDataToSaveData(this.data),
					t = this.convertSaveDataToSaveString(e);
				sdk.setStorage("editor_level_data_1", t)
			}, e.prototype.loadFile = function () {
				var e = this;
				return new Promise(function (t, n) {
					if (!e._input) {
						var o = document.createElement("input");
						o.type = "file", e._input = o
					}
					e._input.onchange = function (n) {
						var o = n.target.files;
						if (0 != o.length) {
							var i = new FileReader;
							i.onload = function (n) {
								var o = n.target.result,
									i = null;
								try {
									(i = '"' == o[0] ? e.convertSaveStringToSaveData(o) : JSON.parse(o)) && i.length > 0 ? e.data = e.convertSaveDataToData(i) : e.data = [e.createBlankDataItem()], e.dataLoaded = !0
								} catch (e) {
									i = null, console.error(e)
								}
								t(!!i)
							}, i.readAsText(o[0])
						}
					}, e._input.click()
				})
			}, e.prototype.saveFile = function () {
				var e = this.convertDataToSaveData(this.data),
					t = this.convertSaveDataToSaveString(e),
					n = new Blob([t], {
						type: "text/plain;charset=utf-8"
					});
				window.FileSaver.saveAs(n, "level-" + this._getDateString() + ".json")
			}, e.prototype.saveFileForJson = function () {
				var e = this.convertDataToSaveData(this.data),
					t = JSON.stringify(e),
					n = new Blob([t], {
						type: "text/plain;charset=utf-8"
					});
				window.FileSaver.saveAs(n, "level-config-" + this._getDateString() + ".json")
			}, e.prototype._getDateString = function () {
				var e = new Date;
				return e.getFullYear() + this._twoWords(e.getMonth() + 1) + this._twoWords(e.getDate()) + "-" + this._twoWords(e.getHours()) + this._twoWords(e.getMinutes()) + this._twoWords(e.getSeconds())
			}, e.prototype._twoWords = function (e) {
				return "number" == typeof e && (e += ""), 1 == e.length ? "0" + e : e
			}, e._instance = null, e
		}();
		n.default = i, cc._RF.pop()
	}, {}],
	EditorScene: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "2e167hX4FBGBLaPLd3hdOD+", "EditorScene");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s;
		(function (e) {
			e[e.None = 0] = "None", e[e.Line = 1] = "Line", e[e.Rect = 2] = "Rect", e[e.Ellipse = 3] = "Ellipse"
		})(s || (s = {}));
		var c = cc._decorator,
			l = c.ccclass,
			u = c.property,
			d = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.btnListNode = null, t
				}
				return o(t, e), t.enterScene = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2, !0]
						})
					})
				}, t.prefabName = "Prefab/scene/editorScene", i([u({
					type: cc.Node,
					displayName: "按钮列表"
				})], t.prototype, "btnListNode", void 0), t = i([l], t)
			}(cc.Component);
		n.default = d, window.EditorScene = d, cc._RF.pop()
	}, {}],
	EditorTableManager: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "b6f55CeXnhKILBOCA0BBO0d", "EditorTableManager");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Res/ResLoader"),
			c = e("../game/PoolGlobal"),
			l = cc._decorator,
			u = l.ccclass,
			d = l.property,
			f = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.stageNode = null, t.tableNode = null, t._tableIndex = 0, t
				}
				return o(t, e), t.prototype.getTableLength = function () {
					return c.default.tableNumber
				}, t.prototype.switchTable = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o, i, r, l;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									if (t = c.default.tableNumber, e %= t, this._tableIndex = e, n = "table" + (e + 1), (o = this.stageNode.getChildByName(n)) && this.tableNode == o) return [2, o];
									for (i = 0; i < t; ++i) i != e && (r = this.stageNode.getChildByName("table" + (i + 1))) && (r.active = !1);
									if (this.tableNode = null, o) return [3, 6];
									ui.showLoading(), l = c.default.getTableRes(e), a.label = 1;
								case 1:
									return a.trys.push([1, 3, , 4]), [4, s.default.getNodeRes(l)];
								case 2:
									return o = a.sent(), [3, 4];
								case 3:
									return a.sent(), [3, 4];
								case 4:
									return [4, Utils.delayTime(.032, this)];
								case 5:
									if (a.sent(), ui.hideLoading(), !o) return ui.showTips("球桌资源不存在！"), [2, null];
									if (o.name = n, !this.isValid) return s.default.removeNode(o), [2, null];
									o.parent = this.stageNode, a.label = 6;
								case 6:
									return this.isValid ? (this._tableIndex != e ? o.active = !1 : (o.active = !0, this.tableNode = o, this._initTable()), [2, o]) : [2, null]
							}
						})
					})
				}, t.prototype._initTable = function () {
					var e = this.tableNode;
					e.zIndex = 0, e.getChildByName("table_physics") && e.getComponentsInChildren(cc.PhysicsCircleCollider).forEach(function (e) {
						"pocket" == e.node.group && e.radius > 20 && (e.radius -= c.default.radius)
					});
					var t = e.getChildByName("table_sprite");
					t && (this.node.width = t.width, this.node.height = t.height)
				}, i([d({
					type: cc.Node,
					displayName: "台上球节点"
				})], t.prototype, "stageNode", void 0), t = i([u], t)
			}(cc.Component);
		n.default = f, cc._RF.pop()
	}, {
		"../../Res/ResLoader": "ResLoader",
		"../game/PoolGlobal": "PoolGlobal"
	}],
	EffectMgr: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a099axe+dROppTyE2Tp7SL6", "EffectMgr");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Res/ResLoader"),
			a = new (function () {
				function e() {
					this.root = null, this._noAnimWarnMap = {}, this._singleTonIndexMap = {}
				}
				return e.prototype.play = function (e, t, n, a) {
					return o(this, void 0, void 0, function () {
						var o, s, c, l;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return o = e, [4, r.default.getNodeRes(o)];
								case 1:
									return (s = i.sent()) ? (n = n || this.root || cc.Canvas.instance.node).isValid ? (t = t || new cc.Vec2, s.name = this._getNodeName(e), s.setPosition(t), s.parent = n, (c = Utils.getComponentInChildren(s, cc.Animation)) ? (c.play(), c.targetOff(c), c.once("finished", function (e) {
										r.default.removeNode(s), a && a()
									}, c)) : (l = Utils.getComponentInChildren(s, dragonBones.ArmatureDisplay)) ? (l.playAnimation(l.animationName, l.playTimes), l.off(dragonBones.EventObject.COMPLETE), l.once(dragonBones.EventObject.COMPLETE, function (e) {
										r.default.removeNode(s), a && a()
									})) : this._noAnimWarnMap[e] || (console.warn("特效" + e + "不包含动画组件哦!"), this._noAnimWarnMap[e] = !0), [2, s]) : (r.default.removeNode(s), [2]) : [2]
							}
						})
					})
				}, e.prototype.playSingleton = function (e, t, n, a) {
					return o(this, void 0, void 0, function () {
						var o, s, c, l, u;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return o = this._singleTonIndexMap[e] = (this._singleTonIndexMap[e] || 0) + 1, s = e, [4, r.default.getNodeRes(s)];
								case 1:
									return c = i.sent(), (n = n || this.root || cc.Canvas.instance.node).isValid ? o != this._singleTonIndexMap[e] ? (r.default.removeNode(c), [2]) : (this.remove(e, n), t = t || new cc.Vec2, c.name = this._getNodeName(e), c.setPosition(t), c.parent = n, (l = Utils.getComponentInChildren(c, cc.Animation)) ? (l.play(), l.targetOff(l), l.once("finished", function (e) {
										r.default.removeNode(c), a && a()
									}, l)) : (u = Utils.getComponentInChildren(c, dragonBones.ArmatureDisplay)) ? (u.playAnimation(u.animationName, u.playTimes), u.off(dragonBones.EventObject.COMPLETE), u.once(dragonBones.EventObject.COMPLETE, function (e) {
										r.default.removeNode(c), a && a()
									})) : this._noAnimWarnMap[e] || (console.warn("特效" + e + "不包含动画组件哦!"), this._noAnimWarnMap[e] = !0), [2, c]) : (r.default.removeNode(c), [2])
							}
						})
					})
				}, e.prototype.remove = function (e, t) {
					void 0 === t && (t = null), t = t || this.root || cc.Canvas.instance.node;
					for (var n = this._getNodeName(e), o = null; o = t.getChildByName(n);) r.default.removeNode(o)
				}, e.prototype.getNode = function (e, t) {
					void 0 === t && (t = null), t = t || this.root || cc.Canvas.instance.node;
					var n = this._getNodeName(e);
					return t.getChildByName(n)
				}, e.prototype._getNodeName = function (e) {
					return e.replace(/\//g, "|")
				}, e
			}());
		n.default = a, window.EffectMgr = a, cc._RF.pop()
	}, {
		"../Res/ResLoader": "ResLoader"
	}],
	EffectMount: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "354d1w6TbBPsZcqmnGJPkrn", "EffectMount");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./EffectMgr"),
			a = e("./MoneyAnim"),
			s = e("./ItemAnim"),
			c = cc._decorator,
			l = c.ccclass,
			u = c.property,
			d = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.effectPnl = null, t.moneyAnimPnl = null, t.itemAnimPnl = null, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					r.default.root = this.effectPnl, a.default.root = this.moneyAnimPnl, s.default.root = this.itemAnimPnl
				}, i([u(cc.Node)], t.prototype, "effectPnl", void 0), i([u(cc.Node)], t.prototype, "moneyAnimPnl", void 0), i([u(cc.Node)], t.prototype, "itemAnimPnl", void 0), t = i([l], t)
			}(cc.Component);
		n.default = d, cc._RF.pop()
	}, {
		"./EffectMgr": "EffectMgr",
		"./ItemAnim": "ItemAnim",
		"./MoneyAnim": "MoneyAnim"
	}],
	EightSingleGuideRule: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "03dfeLi7mhIZbps4YmhAEhS", "EightSingleGuideRule");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("./EightSingleRule"),
			c = e("../control/ShootPointLayer"),
			l = e("../../GameScene"),
			u = e("../PoolTypes"),
			d = e("../../guide/HandEffect"),
			f = e("../../../Config/EventID"),
			p = e("./RuleTypes"),
			h = e("../../guide/GuideTips"),
			y = e("../Calc"),
			g = e("../../guide/GuideLogic"),
			_ = e("../PoolGlobal"),
			v = e("../../../Ui/help/HelpLayer"),
			b = e("../../../Ui/help/HelpBtn"),
			m = e("../../../Ui/base/AdaptForScreen"),
			w = e("../../../Ui/game/CueTrialLogic"),
			S = e("../../../Ui/superLine/SuperLineLogic"),
			C = e("../../../Base/StatusStack"),
			P = e("../../../Config/StatusStackID"),
			L = cc._decorator,
			T = L.ccclass,
			D = (L.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._controlUiFunc = null, t._destroyFuncMap = {}, t._tuningTipsLeft = void 0, t
				}
				var n;
				return o(t, e), n = t, t.needGuide0 = function () {
					return 0 == l.default.instance.curLevel && g.default.instance.exactNeedGuide(g.GuideStep.Level1)
				}, t.needGuide1 = function () {
					return 1 == l.default.instance.curLevel && g.default.instance.exactNeedGuide(g.GuideStep.Level2)
				}, t.prototype.onLoad = function () {
					e.prototype.onLoad && e.prototype.onLoad.call(this), C.default.instance.addStatus(P.default.banner, this.uuid, !1), cc.systemEvent.on(f.default.CLOSE_SCENE, this.onCloseScene, this)
				}, t.prototype.onDestroy = function () {
					C.default.instance.removeStatus(P.default.banner, this.uuid), cc.systemEvent.off(f.default.CLOSE_SCENE, this.onCloseScene, this), e.prototype.onDestroy && e.prototype.onDestroy.call(this)
				}, t.prototype.onCloseScene = function (e) {
					var t = this;
					this.node.isChildOf(e) && (Object.keys(this._destroyFuncMap).forEach(function (e) {
						t._destroyFuncMap[e] && t._destroyFuncMap[e]()
					}), this._destroyFuncMap = {})
				}, t.prototype.getAnimParent = function () {
					return cc.Canvas.instance.node
				}, t.prototype.pause = function () {
					e.prototype.pause.call(this)
				}, t.prototype.resume = function () {
					cc.director.getScheduler().resumeTarget(cc.director.getPhysicsManager());
					var e = this.getPoolStage();
					e.ballManager.startUpdate(), e.ballManager.ballRunning || this._resultType != p.RuleResultType.none || (this._controlUiFunc ? this._controlUiFunc() : e.enableControlUi(), e.sightLine.show()), cc.systemEvent.emit(u.PoolEventId.GameResume)
				}, t.prototype._onGameStart = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							return n.needGuide0() ? [2, this._onGameStartForGuide0()] : n.needGuide1() ? [2, this._onGameStartForGuide1()] : [2, e.prototype._onGameStart.call(this)]
						})
					})
				}, t.prototype._onGameStartForGuide0 = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return this._resultType = p.RuleResultType.none, this.initObjectBallCountDisplay(), this._setTargetHintVisible(!0), this._disposeSkipRemainLifeAnimation(), e = this.getPoolStage(), Utils.setAllBtnsEnabled(e.node, !1), (t = cc.Canvas.instance.getComponentInChildren(b.default)) && Utils.setAllBtnsEnabled(t.node, !1), this._controlUiFunc = function () {
										e.tuningBar.enabled = !0, e.touchController.enabled = !1, e.forceBar.enabled = !1, e.shootPointBtn.enabled = !1, c.default.close()
									}, e.resetControlUi(), e.touchController.setCueBallMovable(!1), this._angleToNearestObjectBall(), e.touchController.angle = this.getDirectAngle(), e.angleAnimator.stopAnimation(!0), [4, this.initItems()];
								case 1:
									return o.sent(), this.resume(), [4, w.default.instance.showLayer(1)];
								case 2:
									return n = o.sent(), this.getPoolStage().superLineLength = S.default.instance.getLength(), cc.systemEvent.emit(f.default.CUE_CHANGED, n), this.showTuningTips(), e.angleAnimator.node.on(u.PoolEventId.AngleAnimationChanged, this.onAngleChangedForGuide0, this), [2]
							}
						})
					})
				}, t.prototype.onAngleChangedForGuide0 = function (e) {
					var t = this.getPoolStage(),
						n = this.getDestAngle();
					Math.abs(e - n) < .003 ? (t.angleAnimator.node.off(u.PoolEventId.AngleAnimationChanged, this.onAngleChangedForGuide0, this), t.touchController.angle = n, t.angleAnimator.stopAnimation(!0), t.tuningBar.enabled = !1, t.touchController.enabled = !1, this._controlUiFunc = function () { }, this.showForceGuide()) : this.showTuningTips(e, n)
				}, t.prototype.hideAllTips = function () {
					var e = this.getAnimParent();
					d.default.stopHandAnimation(e), h.default.hide(e), this._tuningTipsLeft = void 0
				}, t.prototype.showForceTips = function () {
					var e = this.getPoolStage(),
						t = this.getAnimParent(),
						n = Utils.covertToNodeSpaceAR(e.forceBar.node, t, new cc.Vec2(0, 300)),
						o = Utils.covertToNodeSpaceAR(e.forceBar.node, t, new cc.Vec2(0, -300));
					d.default.playHandSlipAnimation(n, o, 0, t);
					var i = m.default.getScale(),
						r = new cc.Vec2(0, -120).mulSelf(i);
					h.default.show("Pull down to adjust the strength, let go to shoot", r, t)
				}, t.prototype.showTuningTips = function (e, t) {
					var n = this.getPoolStage();
					e = void 0 === e ? n.touchController.angle : e, t = void 0 === t ? this.getDestAngle() : t;
					var o = this.calcTuningTipsDir(e, t);
					if (o !== this._tuningTipsLeft) {
						this._tuningTipsLeft = o;
						var i = this.getAnimParent(),
							r = Utils.covertToNodeSpaceAR(n.tuningBar.node, i, cc.Vec2.ZERO),
							a = Utils.covertToNodeSpaceAR(n.tuningBar.node, i, new cc.Vec2(o ? -200 : 200, 0));
						d.default.playHandSlipAnimation(r, a, 0, i);
						var s = m.default.getScale(),
							c = new cc.Vec2(-60, -430).mulSelf(s);
						h.default.showUnique("tuning_tips", "Swipe to adjust the direction to aim at the hole", c, i)
					}
				}, t.prototype.getDirectAngle = function () {
					var e = this.getPoolStage().ballManager.getCueBall().node.getPosition(),
						t = this._getObjectBalls().map(function (e) {
							return e.node.getPosition()
						})[0].sub(e);
					return Math.atan2(t.y, t.x)
				}, t.prototype.getDestAngle = function () {
					var e = this.getPoolStage(),
						t = e.ballManager,
						n = e.tableManager,
						o = t.getCueBall().node.getPosition(),
						i = this._getObjectBalls().map(function (e) {
							return e.node.getPosition()
						}),
						r = n.getPocketInfoList(),
						a = _.default.radius,
						s = y.default.findGoodShot(o, i, [], a, null, r)[0].pos.sub(o);
					return Math.atan2(s.y, s.x)
				}, t.prototype.calcTuningTipsDir = function (e, t) {
					return e = this.clampAngle(e), this.clampAngle(t - e) < 0
				}, t.prototype.clampAngle = function (e) {
					var t = Math.PI,
						n = e % (2 * t);
					return n >= t ? n - 2 * t : n < -t ? n + 2 * t : n
				}, t.prototype.showForceGuide = function () {
					var e = this;
					this.hideAllTips(), this.scheduleOnce(function () {
						e.showForceTips();
						var t = e.getPoolStage();
						e._controlUiFunc = function () {
							t.forceBar.enabled = !0, t.forceBar.minForce = .4
						}, e._controlUiFunc(), t.forceBar.node.on(u.PoolEventId.ForceBarShoot, e.onForceBarShoot, e)
					}, .1)
				}, t.prototype.onForceBarShoot = function () {
					this._controlUiFunc = function () { };
					var e = this.getPoolStage();
					e.forceBar.node.off(u.PoolEventId.ForceBarShoot, this.onForceBarShoot, this), e.forceBar.resetMinForce(), this.hideAllTips()
				}, t.prototype._angleToBall8 = function () {
					var e = this._getObjectBalls()[0];
					e && !this._isFoul && 8 != e.getBallNum() && n.needGuide1() && this.getPoolStage().angleToBall(8)
				}, t.prototype._onGameStartForGuide1 = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n = this;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return this._resultType = p.RuleResultType.none, this.initObjectBallCountDisplay(), this._setTargetHintVisible(!0), this._disposeSkipRemainLifeAnimation(), e = this.getPoolStage(), Utils.setAllBtnsEnabled(e.node, !1), (t = cc.Canvas.instance.getComponentInChildren(b.default)) && Utils.setAllBtnsEnabled(t.node, !1), this._controlUiFunc = function () {
										e.tuningBar.enabled = !1, e.touchController.onlyClickBall = !0, e.touchController.enabled = !0, e.forceBar.enabled = !1, e.shootPointBtn.enabled = !1, c.default.close()
									}, e.resetControlUi(), e.touchController.setCueBallMovable(!1), this._angleToBall8(), [4, this.initItems()];
								case 1:
									return o.sent(), this.getPoolStage().superLineLength = S.default.instance.getLength(), cc.systemEvent.emit(f.default.CUE_CHANGED, 0), v.default.show(function () {
										n.scheduleOnce(function () {
											n.resume();
											var e = n.getAnimParent();
											n.hideAllTips();
											var t = n._getObjectBalls()[0];
											if (t) {
												var o = Utils.covertToNodeSpaceAR(t.node, e, new cc.Vec2(25, -25));
												d.default.playHandClickAnimation(o, "", 0, e), h.default.show("Click to quickly aim at the target ball", new cc.Vec2(0, -150).addSelf(o), e)
											}
										}, .04)
									}), e.angleAnimator.node.on(u.PoolEventId.AngleAnimationChanged, this.onAngleChanged1, this), [2]
							}
						})
					})
				}, t.prototype.onAngleChanged1 = function (e) {
					var t = this.getPoolStage(),
						n = this.getDirectAngle();
					Math.abs(e - n) < .003 && (t.angleAnimator.node.off(u.PoolEventId.AngleAnimationChanged, this.onAngleChanged1, this), t.touchController.angle = n, t.angleAnimator.stopAnimation(!0), this._controlUiFunc = function () {
						t.tuningBar.enabled = !0, t.touchController.onlyClickBall = !1, t.touchController.enabled = !1, t.forceBar.enabled = !1, t.shootPointBtn.enabled = !1, c.default.close()
					}, this._controlUiFunc(), this.hideAllTips(), this.showTuningTips(), t.angleAnimator.node.on(u.PoolEventId.AngleAnimationChanged, this.onAngleChanged2, this))
				}, t.prototype.onAngleChanged2 = function (e) {
					var t = this.getPoolStage(),
						n = this.getDestAngle();
					Math.abs(e - n) < .003 ? (t.angleAnimator.node.off(u.PoolEventId.AngleAnimationChanged, this.onAngleChanged2, this), t.touchController.angle = n, t.angleAnimator.stopAnimation(!0), t.tuningBar.enabled = !1, t.touchController.enabled = !1, this._controlUiFunc = function () { }, this.showForceGuide()) : this.showTuningTips(e, n)
				}, t.prototype.onAngleChanged8 = function (e) {
					var t = this.getPoolStage(),
						n = this.getDestAngle();
					Math.abs(e - n) < .003 ? (t.angleAnimator.node.off(u.PoolEventId.AngleAnimationChanged, this.onAngleChanged8, this), t.touchController.angle = n, t.angleAnimator.stopAnimation(!0), t.tuningBar.enabled = !1, t.touchController.enabled = !1, this._controlUiFunc = function () { }, this.showForceGuide()) : this.showTuningTips(e, n)
				}, t.prototype._continueGame = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n, o;
						return a(this, function (i) {
							return this._setTargetHintVisible(!0), e = this.getPoolStage(), this._controlUiFunc = function () {
								e.tuningBar.enabled = !0, e.touchController.enabled = !1, e.forceBar.enabled = !1, e.shootPointBtn.enabled = !1, c.default.close()
							}, this._controlUiFunc(), e.resetControlUi(), this._angleToNearestObjectBall(), t = this.getAnimParent(), this.hideAllTips(), n = m.default.getScale(), o = new cc.Vec2(-60, 350).mulSelf(n), h.default.show("Now please hit black 8", o, t), this.showTuningTips(), this.getPoolStage().angleAnimator.node.on(u.PoolEventId.AngleAnimationChanged, this.onAngleChanged8, this), this._curObjectBalls = this._getObjectBalls().map(function (e) {
								return e.getBallNum()
							}), this._noFoul = !1, [2]
						})
					})
				}, t.prototype._gameOver = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return this.hideAllTips(), this._controlUiFunc = null, this._resultType != p.RuleResultType.win ? [3, 3] : n.needGuide0() ? [4, w.default.instance.showLayer(2)] : [3, 2];
								case 1:
									return t.sent(), g.default.instance.finishGuide(g.GuideStep.Level1), [3, 3];
								case 2:
									n.needGuide1() && g.default.instance.finishGuide(g.GuideStep.Level2), t.label = 3;
								case 3:
									return [4, e.prototype._gameOver.call(this)];
								case 4:
									return t.sent(), [2]
							}
						})
					})
				}, t = n = i([T], t)
			}(s.default));
		n.default = D, cc._RF.pop()
	}, {
		"../../../Base/StatusStack": "StatusStack",
		"../../../Config/EventID": "EventID",
		"../../../Config/StatusStackID": "StatusStackID",
		"../../../Ui/base/AdaptForScreen": "AdaptForScreen",
		"../../../Ui/game/CueTrialLogic": "CueTrialLogic",
		"../../../Ui/help/HelpBtn": "HelpBtn",
		"../../../Ui/help/HelpLayer": "HelpLayer",
		"../../../Ui/superLine/SuperLineLogic": "SuperLineLogic",
		"../../GameScene": "GameScene",
		"../../guide/GuideLogic": "GuideLogic",
		"../../guide/GuideTips": "GuideTips",
		"../../guide/HandEffect": "HandEffect",
		"../Calc": "Calc",
		"../PoolGlobal": "PoolGlobal",
		"../PoolTypes": "PoolTypes",
		"../control/ShootPointLayer": "ShootPointLayer",
		"./EightSingleRule": "EightSingleRule",
		"./RuleTypes": "RuleTypes"
	}],
	EightSingleRule: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f4263KxA/FOpKCJaDoHQU6p", "EightSingleRule");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../PoolTypes"),
			c = e("../ball/BallContact"),
			l = e("../PoolEffect"),
			u = e("./RuleTypes"),
			d = e("./BaseRule"),
			f = e("../../../Ui/revive/ReviveConfig"),
			p = e("../Calc"),
			h = e("../PoolGlobal"),
			y = e("../../../Ui/levelItem/LevelItemLogic"),
			g = e("../../../Config/EventID"),
			_ = e("../control/ObjectsPanel"),
			v = e("../../../Ui/game/TaskLogic"),
			b = e("../../../Ui/other/TextTips"),
			m = e("../../../Ui/superLine/SuperLineLogic"),
			w = e("../../../Ui/game/CueTrialLogic"),
			S = e("../AdditionLogic"),
			C = cc._decorator,
			P = C.ccclass,
			L = (C.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._life = 0, t._score = 0, t._star = 0, t._progress = 0, t._starProgress = [.3, .6, 1], t._combo = 0, t._maxCombo = 0, t._isFoul = !1, t._pottedCount = 0, t._curObjectBalls = null, t._eventTag = 0, t._pottedList = [], t._backup = null, t._noFoul = !1, t
				}
				return o(t, e), t.prototype.start = function () {
					e.prototype.start && e.prototype.start.call(this), S.default.instance.isPvp = !1
				}, t.prototype.reset = function () {
					this._life = this._data.totalLife, this._score = this._combo = this._maxCombo = this._star = this._progress = 0, this._isFoul = !1, this._pottedCount = 0, this._eventTag = this._getEventTagInitValue(), this._pottedList.length = 0, this.updateLifeCountDisplay(), this.clearObjectBallCountDisplay(), this.resetScoreDisplay()
				}, t.prototype.revive = function () {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return e = f.default.getReviveLifeNumber(), this._life = e, this.updateLifeCountDisplay(), this._isFoul = !1, this._resultType = u.RuleResultType.none, [4, this.restoreGame()];
								case 1:
									return t.sent(), this._continueGame(), [2]
							}
						})
					})
				}, t.prototype.pause = function () {
					cc.director.getScheduler().pauseTarget(cc.director.getPhysicsManager());
					var e = this.getPoolStage();
					e.ballManager.stopUpdate(), e.disableControlUi(), cc.systemEvent.emit(s.PoolEventId.GamePause)
				}, t.prototype.resume = function () {
					cc.director.getScheduler().resumeTarget(cc.director.getPhysicsManager());
					var e = this.getPoolStage();
					e.ballManager.startUpdate(), e.ballManager.ballRunning || this._resultType != u.RuleResultType.none || (e.enableControlUi(), e.sightLine.show()), cc.systemEvent.emit(s.PoolEventId.GameResume)
				}, t.prototype._onGameStart = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return this._resultType = u.RuleResultType.none, this._beforeGameStart(), this._angleToNearestObjectBall(), this.initObjectBallCountDisplay(), this._setTargetHintVisible(!0), this._disposeSkipRemainLifeAnimation(), this.getPoolStage().resetControlUi(), this.getPoolStage().touchController.setCueBallMovable(!1), [4, this.initItems()];
								case 1:
									return e.sent(), [4, this._afterGameStart()];
								case 2:
									return e.sent(), this.isValid ? (this.resume(), [2]) : [2]
							}
						})
					})
				}, t.prototype._onBallRunning = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return l.default.playHitAnimation(this.getPoolStage(), DataBus.user.usedHitEffect), this._saveGame(), this._setTargetHintVisible(!1), this._curObjectBalls = this._getObjectBalls().map(function (e) {
								return e.getBallNum()
							}), this.getPoolStage().touchController.setCueBallMovable(!1), this._pottedCount = 0, this.getPoolStage().disableControlUi(), this.getPoolStage().sightLine.hide(), [2]
						})
					})
				}, t.prototype._onBallStop = function () {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return this.getPoolStage().resetControlUi(), 0 == c.default.runtimeData.pottedList.length && (this._combo = 0), this._checkFoul(), e = this, [4, this._checkOver()];
								case 1:
									return e._resultType = t.sent(), this._resultType != u.RuleResultType.none ? this._gameOver() : (this._calcEventTag(), this._continueGame()), [2]
							}
						})
					})
				}, t.prototype._gameOver = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return this._calcEventTag(), (e = this._resultType) != u.RuleResultType.win ? [3, 2] : [4, Promise.race([this._disposeRemainLife(), this._skipRemainLifeAnimation()])];
								case 1:
									n.sent(), n.label = 2;
								case 2:
									return this._isFoul ? (this.showGameOverTips(), [4, Utils.delayTime(.5, this)]) : [3, 4];
								case 3:
									n.sent(), n.label = 4;
								case 4:
									return t = {
										resultType: e,
										failReason: this._failReason,
										score: this._score,
										star: this._star,
										life: this._life,
										maxCombo: this._maxCombo,
										objects: this._getTotalObjectBalls().length,
										targetEvent: this._data.eventTag,
										finishedEvent: this._eventTag
									}, this.getPoolStage().node.emit(s.PoolEventId.GameOver, t), [2]
							}
						})
					})
				}, t.prototype._continueGame = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return this._setTargetHintVisible(!0), this.getPoolStage().enableControlUi(), this._angleToNearestObjectBall(), this._curObjectBalls = this._getObjectBalls().map(function (e) {
								return e.getBallNum()
							}), this._noFoul = !1, [2]
						})
					})
				}, t.prototype._onCueBallCollide = function (e, t) {
					return r(this, void 0, Promise, function () {
						var n, o, i;
						return a(this, function (r) {
							return (n = DataBus.user.usedHitEffect) > 0 && 1 == c.default.runtimeData.cueBallCollideCount && (o = e.convertToWorldSpaceAR(cc.Vec2.ZERO), i = t.convertToWorldSpaceAR(cc.Vec2.ZERO), l.default.playCollideAnimation(o, i, n)), [2]
						})
					})
				}, t.prototype._onPotted = function (e, t, n) {
					return r(this, void 0, void 0, function () {
						var t, o, i, r, s;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return -1 == this._pottedList.indexOf(e) && this._pottedList.push(e), t = this._checkFoulForPotted(), o = this._curObjectBalls.indexOf(e) > -1, i = 8 == e, r = 0 == this._getObjectBalls().length, (!t || this._noFoul) && (o || i && r) ? (++this._combo, this._combo > this._maxCombo && (this._maxCombo = this._combo), ++this._pottedCount, s = n.convertToWorldSpaceAR(cc.Vec2.ZERO), this._calcScorePerPot(s), this.updateObjectBallPottedDisplay(e)) : this._combo = 0, this._resultType = this._checkOverForPotted(), this._resultType == u.RuleResultType.none ? [3, 2] : (this.getPoolStage().ballManager.specialStop(), [4, Utils.delayTime(1, this)]);
								case 1:
									a.sent(), this.getPoolStage().resetControlUi(), this._gameOver(), a.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.prototype._onAddBall = function (e) { }, t.prototype._onSightLinePosChanged = function (e) {
					var t = this.getPoolStage().sightLine,
						n = this._curObjectBalls || this._getObjectBalls().map(function (e) {
							return e.getBallNum()
						}),
						o = e.objectBall,
						i = o ? o.getBallNum() : -1,
						r = n.indexOf(i) > -1;
					o && r ? t.objectColor = h.default.getBallColor(i) : e.objectDir = null, t.aimLineColor = o && !r ? cc.Color.RED : cc.Color.WHITE
				}, t.prototype._checkFoulForPotted = function () {
					this._failReason = u.RuleFailReason.unkown;
					var e = c.default.runtimeData,
						t = e.pottedList,
						n = this._curObjectBalls;
					if (this._isFoul = e.isScratch, !this._isFoul) {
						var o = t.indexOf(8) > -1,
							i = 0 == n.filter(function (e) {
								return -1 == t.indexOf(e)
							}).length;
						if (this._isFoul = o && !i, !this._isFoul && 8 != n[0] && o && i) {
							var r = t.filter(function (e) {
								return 8 == e || n.indexOf(e) > -1
							});
							this._isFoul = r.indexOf(8) != r.length - 1
						}
					}
					if (!this._isFoul && e.collideMap[0]) {
						var a = e.collideMap[0].filter(function (e) {
							return "ball" == e.type
						})[0];
						a && (this._isFoul = -1 == n.indexOf(a.value), this._isFoul && (this._failReason = u.RuleFailReason.touchOther))
					}
					return this._isFoul && this._failReason == u.RuleFailReason.unkown && (this._failReason = u.RuleFailReason.foul), this._isFoul
				}, t.prototype._checkFoul = function () {
					this._failReason = u.RuleFailReason.unkown;
					var e = c.default.runtimeData,
						t = e.pottedList,
						n = this._curObjectBalls;
					if (this._isFoul = e.isScratch || 0 == t.length || 0 == t.filter(function (e) {
						return n.indexOf(e) > -1
					}).length, !this._isFoul) {
						var o = t.indexOf(8) > -1,
							i = 0 == n.filter(function (e) {
								return -1 == t.indexOf(e)
							}).length;
						if (this._isFoul = o && !i, !this._isFoul && 8 != n[0] && o && i) {
							var r = t.filter(function (e) {
								return 8 == e || n.indexOf(e) > -1
							});
							this._isFoul = r.indexOf(8) != r.length - 1
						}
					}
					if (!this._isFoul && e.collideMap[0]) {
						var a = e.collideMap[0].filter(function (e) {
							return "ball" == e.type
						})[0];
						a && (this._isFoul = -1 == n.indexOf(a.value), this._isFoul && (this._failReason = u.RuleFailReason.touchOther))
					}
					return this._isFoul && this._failReason == u.RuleFailReason.unkown && (0 == t.length ? this._failReason = u.RuleFailReason.noPot : this._failReason = u.RuleFailReason.foul), this._isFoul
				}, t.prototype._checkOverForPotted = function () {
					return this._isFoul && !this._noFoul ? u.RuleResultType.lose : 0 == this._getObjectBalls().length ? u.RuleResultType.win : u.RuleResultType.none
				}, t.prototype._checkOver = function () {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return this._isFoul ? this._noFoul ? this._getObjectBalls().length > 0 ? (e = c.default.runtimeData).isScratch ? [4, this.getPoolStage().ballManager.resetBall(0, this._getPositionFromBackUp(0))] : [3, 2] : [3, 4] : [3, 5] : [3, 6];
								case 1:
									t.sent(), t.label = 2;
								case 2:
									return e.pottedList.indexOf(8) > -1 ? [4, this.getPoolStage().ballManager.resetBall(8, this._getPositionFromBackUp(8))] : [3, 4];
								case 3:
									t.sent(), t.label = 4;
								case 4:
									return [3, 6];
								case 5:
									return [2, u.RuleResultType.lose];
								case 6:
									return 0 == this._getObjectBalls().length ? [2, u.RuleResultType.win] : [2, u.RuleResultType.none]
							}
						})
					})
				}, t.prototype._getObjectBalls = function () {
					var e = this.getPoolStage().ballManager.ballList.filter(function (e) {
						return e && 0 != e.getBallNum() && e.getBallStatus() == s.BallStatus.OnTable
					}),
						t = this._data.objectBallType == u.ObjectBallType.Solid,
						n = e.filter(function (e) {
							return t ? e.getBallNum() < 8 : e.getBallNum() > 8
						});
					return n.length > 0 ? n : e.filter(function (e) {
						return 8 == e.getBallNum()
					})
				}, t.prototype._getTotalObjectBalls = function () {
					var e = this.getPoolStage().ballManager.ballList.filter(function (e) {
						return e && 0 != e.getBallNum() && e.getBallStatus() == s.BallStatus.OnTable
					}),
						t = this._data.objectBallType == u.ObjectBallType.Solid;
					return e.filter(function (e) {
						return t ? e.getBallNum() <= 8 : e.getBallNum() >= 8
					})
				}, t.prototype._sortObjectBalls = function (e) {
					var t = function (e) {
						return 8 == e ? 100 : e
					};
					return e = e.sort(function (e, n) {
						return t(e) - t(n)
					})
				}, t.prototype._setTargetHintVisible = function (e) {
					this.getPoolStage().ballManager.getOnTableBalls().forEach(function (e) {
						return e.setTargetHintVisible(!1)
					}), e && this._getObjectBalls().forEach(function (e) {
						return e.setTargetHintVisible(!0)
					})
				}, t.prototype._getEventTagInitValue = function () {
					return u.RuleEventBit.objectAirball | u.RuleEventBit.cueNoTouchCushion | u.RuleEventBit.potInOrder | u.RuleEventBit.cueNoTouchOtherBall
				}, t.prototype._setEventTag = function (e, t) {
					t ? this._eventTag |= e : this._eventTag &= ~e
				}, t.prototype._getEventTag = function (e) {
					return 0 != (this._eventTag & e)
				}, t.prototype._calcEventTag = function () {
					var e = this,
						t = c.default.runtimeData;
					this._getEventTag(u.RuleEventBit.doubleBall) || t.pottedList.length >= 2 && this._setEventTag(u.RuleEventBit.doubleBall, !0), this._getEventTag(u.RuleEventBit.threeBall) || t.pottedList.length >= 3 && this._setEventTag(u.RuleEventBit.threeBall, !0), t.pottedList.forEach(function (n) {
						var o = t.collideMap[n];
						e._getEventTag(u.RuleEventBit.objectAirball) && o.findIndex(function (e) {
							return "cushion" == e.type
						}) > -1 && e._setEventTag(u.RuleEventBit.objectAirball, !1)
					});
					var n = t.collideMap[0];
					if (n && (this._getEventTag(u.RuleEventBit.cueNoTouchCushion) && n.findIndex(function (e) {
						return "cushion" == e.type
					}) > -1 && this._setEventTag(u.RuleEventBit.cueNoTouchCushion, !1), this._getEventTag(u.RuleEventBit.cueNoTouchOtherBall))) {
						var o = this._curObjectBalls;
						n.findIndex(function (e) {
							return "ball" == e.type && -1 == o.indexOf(e.value)
						}) > -1 && this._setEventTag(u.RuleEventBit.cueNoTouchOtherBall, !1)
					}
					this._getEventTag(u.RuleEventBit.potInOrder) && (this._sortObjectBalls(this._pottedList.slice(0)).findIndex(function (t, n) {
						return t != e._pottedList[n]
					}) > -1 && this._setEventTag(u.RuleEventBit.potInOrder, !1))
				}, t.prototype._getPositionFromBackUp = function (e) {
					var t = this._backup;
					if (t) {
						var n = t.balls.indexOf(e);
						return t.coord[n]
					}
					return null
				}, t.prototype._saveGame = function () {
					var e = this.getPoolStage().ballManager.getOnTableBalls();
					this._backup = {
						balls: e.map(function (e) {
							return e.getBallNum()
						}),
						coord: e.map(function (e) {
							return e.node.getPosition()
						}),
						combo: this._combo,
						maxCombo: this._maxCombo,
						eventTag: this._eventTag,
						pottedList: this._pottedList.slice(0)
					}
				}, t.prototype.restoreGame = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return (e = this._backup) ? (this._combo = e.combo, this._maxCombo = e.maxCombo, this._eventTag = e.eventTag, this._pottedList = e.pottedList, t = c.default.runtimeData, n = this.getComponentInChildren(_.default), t.pottedList.forEach(function (e) {
										return n.setBallInTable(e)
									}), [4, this.getPoolStage().ballManager.initBallsByBallNum(e.balls, e.coord)]) : [3, 2];
								case 1:
									o.sent(), o.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.prototype._angleToNearestObjectBall = function () {
					var e = this._getObjectBalls(),
						t = this.getPoolStage().ballManager.getNearestNoBlockAngleInList(e);
					if (void 0 !== t) this.getPoolStage().angleTo(t);
					else {
						var n = this.getPoolStage().ballManager.getNearestBallInList(e);
						this.getPoolStage().angleToBall(n)
					}
				}, t.prototype._updateLife = function () { }, t.prototype.addLifeWithoutDisplay = function (e) {
					void 0 === e && (e = 1), this._life += e
				}, t.prototype.addScoreForHandItem = function () {
					this._score += 10 * this._combo + 50, this._calcStar(), this._calcProgress()
				}, t.prototype._calcScorePerPot = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o;
						return a(this, function (i) {
							return t = 10 * this._combo, n = 0, this._pottedCount > 1 && (n = 200 * (this._pottedCount - 1)), this._score += t + n, n > 0 && l.default.playAmazingEffect(), (o = DataBus.user.usedPotEffect) > 0 ? l.default.playPotAnimation(e, o) : l.default.playPotTips(e), [2]
						})
					})
				}, t.prototype.showGameOverTips = function () {
					var e = this;
					if (this._isFoul && !this._noFoul) {
						var t = c.default.runtimeData,
							n = t.collideMap[0] ? t.collideMap[0].filter(function (e) {
								return "ball" == e.type
							}) : [],
							o = t.pottedList,
							i = this._curObjectBalls;
						if (t.isScratch) {
							var r = t.collideMap[0].filter(function (e) {
								return "pocket" == e.type
							})[0],
								a = this.getPoolStage().ballManager.node.convertToWorldSpaceAR(r.position);
							return l.default.playFoulTips(a), !0
						}
						if (0 == n.length) {
							var u = this.getPoolStage().ballManager.ballList[0];
							a = u ? u.node.convertToWorldSpaceAR(cc.Vec2.ZERO) : null;
							return l.default.playFoulTips(a), !0
						}
						if (t.collideMap[0])
							if ((d = n[0]) && -1 == i.indexOf(d.value)) {
								a = this.getPoolStage().ballManager.node.convertToWorldSpaceAR(d.position);
								return l.default.playWrongBallTips(a), !0
							} var d, f = !1,
								y = o.indexOf(8) > -1,
								g = 0 == i.filter(function (e) {
									return -1 == o.indexOf(e)
								}).length;
						if (!(f = y && !g) && 8 != i[0] && y && g) {
							var _ = o.filter(function (e) {
								return 8 == e || i.indexOf(e) > -1
							});
							f = _.indexOf(8) != _.length - 1
						}
						if (f) {
							a = null;
							return (r = t.collideMap[8].filter(function (e) {
								return "pocket" == e.type
							})[0]) && (a = this.getPoolStage().ballManager.node.convertToWorldSpaceAR(r.position)), l.default.playWrongBallTips(a), !0
						}
						if (0 == o.length) {
							var v = new Set;
							Object.keys(t.collideMap).forEach(function (e) {
								t.collideMap[e].forEach(function (e) {
									"ball" == e.type && i.indexOf(e.value) > -1 && v.add(e.value)
								})
							});
							var b = [];
							v.forEach(function (t) {
								var n = e.getPoolStage().ballManager.ballList[t];
								n && n.getBallStatus() == s.BallStatus.OnTable && b.push(n)
							});
							var m = b.map(function (e) {
								return e.node.getPosition()
							}),
								w = this.getPoolStage().tableManager.getPocketInfoList(),
								S = w.map(function (e) {
									return e.center
								}),
								C = p.default.findNearetAndFarthest(m, S),
								P = 3 * h.default.radius;
							if (C && C.nearest && isFinite(C.nearest.distanceSqr) && C.nearest.distanceSqr < P * P) {
								a = w[C.nearest.pocket].pocket.convertToWorldSpaceAR(cc.Vec2.ZERO);
								return l.default.playLittleMistakeTips(a), !0
							}
						}
						if (t.collideMap[0])
							if (d = n[0]) {
								var L = this.getPoolStage().ballManager.ballList[d.value];
								if (L) {
									a = L.node.convertToWorldSpaceAR(cc.Vec2.ZERO);
									return l.default.playFailTips(a), !0
								}
							} return l.default.playFailTips(null), !0
					}
					return !1
				}, t.prototype._calcStar = function () { }, t.prototype._calcProgress = function () { }, t.prototype._disposeRemainLife = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.prototype._skipRemainLifeAnimation = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.prototype._disposeSkipRemainLifeAnimation = function () { }, t.prototype.initItems = function () {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							return (e = this._data.itemData) && e.type == y.LevelItemType.Cue ? (cc.systemEvent.emit(g.default.CUE_CHANGED, e.value), this._data.itemData = null) : cc.systemEvent.emit(g.default.CUE_CHANGED, DataBus.user.usedCue1), [2]
						})
					})
				}, t.prototype.processItemForPotted = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.prototype.processItemForStop = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.prototype.updateLifeCountDisplay = function () { }, t.prototype.updateObjectBallCountDisplay = function () { }, t.prototype.clearObjectBallCountDisplay = function () {
					this.getComponentInChildren(_.default).setBalls([])
				}, t.prototype.initObjectBallCountDisplay = function () {
					var e = this.getComponentInChildren(_.default),
						t = this._getTotalObjectBalls().map(function (e) {
							return e.getBallNum()
						});
					this._sortObjectBalls(t), e.setBalls(t)
				}, t.prototype.updateObjectBallPottedDisplay = function (e) {
					this.getComponentInChildren(_.default).setBallPotted(e)
				}, t.prototype.updateScoreDisplay = function () { }, t.prototype.resetScoreDisplay = function () { }, t.prototype._beforeGameStart = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return v.default.instance.hideTaskBtn(), this._noFoul = !1, [2]
						})
					})
				}, t.prototype._afterGameStart = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n, o, i, r, s, c;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return e = this._data.level, (t = this._data.isEditor) ? [3, 5] : (n = this.getPoolStage(), Utils.setAllBtnsEnabled(n.node, !1), o = DataBus.user.usedCue1, i = m.default.instance.isLevelEnough(), r = i && m.default.instance.tryToShowOnceLayer(), r ? [4, r] : [3, 2]);
								case 1:
									a.sent(), a.label = 2;
								case 2:
									return s = r ? .4 : 1, c = Math.random(), console.log("[超级辅助线后弹球杆试用]随机" + c.toFixed(2) + "/" + s + "，超级辅助线弹窗" + !!r + "，弹球杆试用" + (c < s)), c < s && w.default.instance.canShowLayer(e) ? [4, w.default.instance.showLayer()] : [3, 4];
								case 3:
									if (-1 == (o = a.sent())) return DataBus.user.energy += 1, DataBus.user.save(), cc.systemEvent.emit(g.default.UPDATE_ENERGY, null, 1), b.default.instance && b.default.instance.showTips("体力+1", null, b.default.RedColor), [2];
									a.label = 4;
								case 4:
									n.superLineLength = m.default.instance.use(!1) ? m.default.instance.getLength() : 0, cc.systemEvent.emit(g.default.CUE_CHANGED, o), Utils.setAllBtnsEnabled(n.node, !0), a.label = 5;
								case 5:
									return v.default.instance.tryToShowTaskBtn(e, t), [2]
							}
						})
					})
				}, t.prototype.setNoFoul = function () {
					var e = this.getPoolStage();
					this._curObjectBalls = e.ballManager.getObjectBalls().map(function (e) {
						return e.getBallNum()
					}), this._noFoul = !0
				}, t = i([P], t)
			}(d.default));
		n.default = L, cc._RF.pop()
	}, {
		"../../../Config/EventID": "EventID",
		"../../../Ui/game/CueTrialLogic": "CueTrialLogic",
		"../../../Ui/game/TaskLogic": "TaskLogic",
		"../../../Ui/levelItem/LevelItemLogic": "LevelItemLogic",
		"../../../Ui/other/TextTips": "TextTips",
		"../../../Ui/revive/ReviveConfig": "ReviveConfig",
		"../../../Ui/superLine/SuperLineLogic": "SuperLineLogic",
		"../AdditionLogic": "AdditionLogic",
		"../Calc": "Calc",
		"../PoolEffect": "PoolEffect",
		"../PoolGlobal": "PoolGlobal",
		"../PoolTypes": "PoolTypes",
		"../ball/BallContact": "BallContact",
		"../control/ObjectsPanel": "ObjectsPanel",
		"./BaseRule": "BaseRule",
		"./RuleTypes": "RuleTypes"
	}],
	EmojiItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "2a6773YNtBL6byBCUSqF+o6", "EmojiItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./EmojiLogic"),
			a = e("../../Config/SoundID"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, s.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.data = null, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					this.emoji_sp || Utils.loadVarFromNode(this.node, "_", this)
				}, t.prototype.setData = function (e) {
					this.data = e, this.emoji_sp || Utils.loadVarFromNode(this.node, "_", this), this.normal_bg && (this.normal_bg.active = e.unlocked), this.locked_bg && (this.locked_bg.active = !e.unlocked), this.locked.active = !e.unlocked, r.default.instance.setEmojiUi(this.emoji_sp, e.res)
				}, t.prototype.playUnlockAnimation = function () {
					var e = this.locked;
					e.active = !0, e.opacity = 255, e.scale = 1;
					e.stopAllActions(), e.runAction(cc.sequence(cc.spawn(cc.fadeOut(.4), cc.scaleTo(.4, 3, 3)), cc.callFunc(function () {
						e.active = !1, e.opacity = 255, e.scale = 1
					}))), SoundMgr.play(a.default.right)
				}, t = i([c], t)
			}(cc.Component));
		n.default = l, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"./EmojiLogic": "EmojiLogic"
	}],
	EmojiLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "aaa26H9NBJCP5NbjoGpqBcI", "EmojiLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.EmojiLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = e("./EmojiLogic"),
			s = e("./EmojiItem"),
			c = e("../base/RewardBtn"),
			l = e("../../Base/ShareTypes"),
			u = cc._decorator,
			d = u.ccclass,
			f = (u.property, u.menu),
			p = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.EmojiLayerParam = p;
		var h = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.dataList = null, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.unlock_btn.getComponent(c.default).sharePos = l.SharePos.UnlockEmoji, this.dataList = a.default.instance.getItemDataList(), this._initListNode(), this._updateDisplay()
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () { }, t.prototype._initListNode = function () {
				for (var e = a.default.instance.getLength(), t = 0; t < e; ++t) {
					(n = this.list_node.children[t]) || ((n = cc.instantiate(this.list_node.children[0])).parent = this.list_node), n.active = !0
				}
				for (t = e; t < this.list_node.childrenCount; ++t) {
					var n;
					(n = this.list_node.children[t]).active = !1
				}
			}, t.prototype._updateDisplay = function () {
				for (var e = this.dataList, t = 0; t < e.length; ++t) {
					this.list_node.children[t].getComponent(s.default).setData(e[t])
				}
				this.unlock_btn.node.active = !!this._getRandomLockedItemData()
			}, t.prototype._getRandomLockedItemData = function () {
				var e = this.dataList.filter(function (e) {
					return !e.unlocked
				});
				return e.length > 0 ? Utils.randElement(e) : null
			}, t.prototype._playUnlockAnimation = function (e) {
				var t = this.getComponentsInChildren(s.default),
					n = t.findIndex(function (t) {
						return t.data && t.data.id == e
					});
				n > -1 && t[n].playUnlockAnimation()
			}, t.prototype.onRewardCallback = function (e) {
				if (e == c.RewardFuncParam.Click) {
					if (!this._getRandomLockedItemData()) return !0;
					Utils.setAllBtnsEnabled(this.node, !1, !1)
				} else if (e == c.RewardFuncParam.Success) {
					var t = this._getRandomLockedItemData();
					t && (t.unlocked = !0, a.default.instance.unlockItem(t.id), this._updateDisplay(), this._playUnlockAnimation(t.id)), Utils.setAllBtnsEnabled(this.node, !0, !1)
				} else Utils.setAllBtnsEnabled(this.node, !0, !1)
			}, t.show = function () {
				return new Promise(function (e, t) {
					var o = new p;
					return o.onClose = e, ui.showLayer(n, o)
				})
			}, t.prefabName = "home://dynamic/layer/emojiLayer", t = n = i([d, f("Layer/EmojiLayer")], t)
		}(r.default);
		n.default = h, window.EmojiLayer = h, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"./EmojiItem": "EmojiItem",
		"./EmojiLogic": "EmojiLogic"
	}],
	EmojiLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "bb59bHWFdZIrqzwew/q+bs/", "EmojiLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.EmojiScene = n.EmojiUnlockType = void 0;
		var r, a = e("../../Res/ResLoader"),
			s = function () {
				function e() {
					this.config = [{
						id: 1,
						name: "",
						unlockType: r.default,
						res: 1
					}, {
						id: 2,
						name: "",
						unlockType: r.default,
						res: 2
					}, {
						id: 3,
						name: "",
						unlockType: r.default,
						res: 3
					}, {
						id: 4,
						name: "",
						unlockType: r.video,
						res: 4
					}, {
						id: 5,
						name: "",
						unlockType: r.video,
						res: 5
					}, {
						id: 6,
						name: "",
						unlockType: r.video,
						res: 6
					}], this._aiConfigArr = [
						[101, 1, 5, 10, 0, 0, 30, 10, 50],
						[102, 2, 10, 10, 0, 0, 30, 10, 50],
						[103, 3, 15, 10, 0, 0, 30, 10, 50],
						[104, 4, 30, 10, 0, 0, 30, 10, 50],
						[105, 5, 40, 10, 0, 0, 30, 10, 50],
						[106, 6, 50, 10, 0, 0, 30, 10, 50],
						[107, 7, 10, 5, 5, 50, 10, 25, 5],
						[108, 8, 5, 10, 10, 20, 0, 60, 0],
						[109, 9, 20, 0, 10, 10, 10, 70, 0],
						[110, 10, 40, 20, 20, 20, 20, 20, 0],
						[111, 11, 50, 5, 10, 10, 5, 70, 0],
						[112, 12, 70, 0, 10, 0, 0, 90, 0],
						[113, 13, 100, 10, 50, 0, 5, 30, 5],
						[114, 14, 20, 0, 0, 10, 80, 10, 0],
						[115, 15, 40, 20, 10, 0, 0, 10, 60],
						[116, 16, 50, 0, 0, 80, 20, 0, 0],
						[117, 17, 50, 0, 70, 0, 30, 0, 0],
						[118, 18, 50, 20, 0, 20, 20, 20, 20],
						[119, 19, 50, 0, 0, 70, 30, 0, 0],
						[120, 20, 50, 30, 0, 30, 30, 0, 10],
						[121, 21, 50, 30, 0, 70, 0, 0, 0],
						[122, 22, 30, 0, 25, 25, 0, 50, 0]
					]
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getLength = function () {
					return this.config.length
				}, e.prototype.getRes = function (e) {
					return "Texture/表情/表情" + e
				}, e.prototype.getBigResById = function (e) {
					return "Texture/表情大/" + e
				}, e.prototype.getItemDataList = function () {
					var e = DataBus.user.emojiList;
					return this.config.map(function (t) {
						return {
							id: t.id,
							res: t.res,
							unlocked: t.unlockType == r.default || e.indexOf(t.id) > -1
						}
					})
				}, e.prototype.unlockItem = function (e) {
					var t = DataBus.user.emojiList; - 1 == t.indexOf(e) && (t.push(e), DataBus.user.emojiList = t, DataBus.user.save())
				}, e.prototype.setEmojiUiById = function (e, t) {
					return o(this, void 0, void 0, function () {
						var n, o;
						return i(this, function (i) {
							return (n = this.config.findIndex(function (e) {
								return e.id == t
							})) > -1 ? (o = this.config[n], [2, this.setEmojiUi(e, o.res)]) : [2]
						})
					})
				}, e.prototype.setEmojiUi = function (e, t) {
					return o(this, void 0, void 0, function () {
						var n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return e._emoji_ = t, n = this.getRes(t), [4, a.default.getSpriteFrameRes(n)];
								case 1:
									return o = i.sent(), e.isValid && e._emoji_ == t && (e.spriteFrame = o), [2]
							}
						})
					})
				}, e.prototype.triggerScene = function (e) {
					var t = this.getAiConfigByScene(e);
					if (!t) return 0;
					if (100 * Math.random() < t.chance)
						for (var n = 100 * Math.random(), o = Object.keys(t.weight), i = 0; i < o.length; ++i) {
							var r = o[i],
								a = t.weight[r];
							if (n < a) return r;
							n -= a
						}
					return 0
				}, e.prototype.getAiConfigByScene = function (e) {
					var t = this._aiConfigArr.findIndex(function (t) {
						return t[1] == e
					});
					return t > -1 ? this._arrToConfig(this._aiConfigArr[t]) : null
				}, e.prototype._arrToConfig = function (e) {
					return {
						id: e[0],
						scene: e[1],
						chance: e[2],
						weight: {
							1: e[3],
							2: e[4],
							3: e[5],
							4: e[6],
							5: e[7],
							6: e[8]
						}
					}
				}, e._instance = null, e
			}();
		n.default = s, window.EmojiLogic = s,
			function (e) {
				e[e.default = 1] = "default", e[e.video = 2] = "video"
			}(r = n.EmojiUnlockType || (n.EmojiUnlockType = {})),
			function (e) {
				e[e.ai_pot_2 = 1] = "ai_pot_2", e[e.ai_pot_3 = 2] = "ai_pot_3", e[e.ai_pot_4 = 3] = "ai_pot_4", e[e.ai_pot_5 = 4] = "ai_pot_5", e[e.ai_pot_6 = 5] = "ai_pot_6", e[e.ai_pot_7 = 6] = "ai_pot_7", e[e.player_pot_2 = 7] = "player_pot_2", e[e.player_pot_3 = 8] = "player_pot_3", e[e.player_pot_4 = 9] = "player_pot_4", e[e.player_pot_5 = 10] = "player_pot_5", e[e.player_pot_6 = 11] = "player_pot_6", e[e.player_pot_7 = 12] = "player_pot_7", e[e.player_b8 = 13] = "player_b8", e[e.player_miss = 14] = "player_miss", e[e.ai_b8 = 15] = "ai_b8", e[e.emoji1 = 16] = "emoji1", e[e.emoji2 = 17] = "emoji2", e[e.emoji3 = 18] = "emoji3", e[e.emoji4 = 19] = "emoji4", e[e.emoji5 = 20] = "emoji5", e[e.emoji6 = 21] = "emoji6", e[e.ai_miss = 22] = "ai_miss"
			}(n.EmojiScene || (n.EmojiScene = {})), cc._RF.pop()
	}, {
		"../../Res/ResLoader": "ResLoader"
	}],
	EmojiNode: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f8fb2pkmaVGHbpSJQY3ip9r", "EmojiNode");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/SoundID"),
			a = e("./EmojiLogic"),
			s = e("../../Config/EventID"),
			c = e("../base/RewardBtn"),
			l = e("./EmojiItem"),
			u = e("../../Base/ShareTypes"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, d.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.start = function () {
					Utils.loadVarFromNode(this.node, "#", this), Utils.bindBtnEvent(this.enter_btn.node, this.node, "EmojiNode", "onBtnEnterClick"), Utils.bindBtnEvent(this.close_btn.node, this.node, "EmojiNode", "onBtnCloseClick"), Utils.bindBtnEvent(this.mask_btn.node, this.node, "EmojiNode", "onBtnMaskClick"), this.emojiData = a.default.instance.getItemDataList(), this.initDisplay()
				}, t.prototype.initDisplay = function () {
					this.dialog.active = !1, this.dialog.scale = 0, this.dialog.opacity = 0, this.mask_btn.node.active = !1;
					for (var e = this.emojiData, t = 0; t < e.length; ++t) {
						(i = this.layout.children[t]) || ((i = cc.instantiate(this.layout.children[0])).parent = this.layout), i.active = !0;
						var n = e[t],
							o = i.getComponent(l.default);
						o.setData(n), this.updateItem(o)
					}
					for (t = e.length; t < this.layout.childrenCount; ++t) {
						var i;
						(i = this.layout.children[t]) && (i.active = !1)
					}
					this.getComponentsInChildren(c.default).forEach(function (e) {
						return e.sharePos = u.SharePos.UnlockEmoji
					})
				}, t.prototype.updateItem = function (e) {
					var t = e.data,
						n = e.node,
						o = n.getComponent(c.default),
						i = n.getChildByName("video_icon");
					t.unlocked ? (i.active = !1, o.enabled = !1, Utils.bindBtnEvent(n, this.node, "EmojiNode", "onEmojiClick", "" + t.id)) : (i.active = !0, o.enabled = !0)
				}, t.prototype.showDialog = function () {
					this.mask_btn.node.active = !0;
					var e = this.dialog;
					e.active = !0;
					e.stopAllActions(), e.runAction(cc.spawn(cc.fadeIn(.2), cc.scaleTo(.2, 1, 1)))
				}, t.prototype.hideDialog = function () {
					this.mask_btn.node.active = !1;
					var e = this.dialog;
					e.stopAllActions(), e.runAction(cc.sequence(cc.spawn(cc.fadeOut(.2), cc.scaleTo(.2, 0, 0)), cc.callFunc(function () {
						e.active = !1
					})))
				}, t.prototype.onEmojiClick = function (e, t) {
					var n = parseInt(t) || 1,
						o = this.emojiData.findIndex(function (e) {
							return e.id == n
						});
					if (o > -1 && !this.emojiData[o].unlocked) return;
					SoundMgr.play(r.default.btn), cc.systemEvent.emit(s.default.SELF_EMOJI, n), this.hideDialog()
				}, t.prototype.onBtnEnterClick = function () {
					SoundMgr.play(r.default.btn), this.showDialog()
				}, t.prototype.onBtnCloseClick = function () {
					SoundMgr.play(r.default.btn), this.hideDialog()
				}, t.prototype.onBtnMaskClick = function () {
					this.hideDialog()
				}, t.prototype.onRewardCallback = function (e, t) {
					if (e == c.RewardFuncParam.Click) Utils.setAllBtnsEnabled(this.node, !1, !1);
					else if (e == c.RewardFuncParam.Success) {
						var n = t.getComponent(l.default),
							o = n.data;
						o && (o.unlocked = !0, a.default.instance.unlockItem(o.id), n.playUnlockAnimation(), this.updateItem(n)), Utils.setAllBtnsEnabled(this.node, !0, !1)
					} else Utils.setAllBtnsEnabled(this.node, !0, !1)
				}, t = i([f], t)
			}(cc.Component));
		n.default = p, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/EventID": "EventID",
		"../../Config/SoundID": "SoundID",
		"../base/RewardBtn": "RewardBtn",
		"./EmojiItem": "EmojiItem",
		"./EmojiLogic": "EmojiLogic"
	}],
	EnergyLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "ae97cXeendHr5gr1DcspNIo", "EnergyLogic"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = e("../../Config/EventID"),
			i = e("./NoEnergyLayer"),
			r = e("../../Data/DataSaver"),
			a = e("../../Config/ServerConfig"),
			s = e("../money/RecoverVar"),
			c = function () {
				function e() {
					this.energyKey = "energy"
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(e.prototype, "need_time", {
					get: function () {
						return 1e3 * a.default.instance.getEnergyInterval()
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(e.prototype, "max_energy", {
					get: function () {
						return a.default.instance.getEnergyMaxValue()
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(e.prototype, "reward_energy", {
					get: function () {
						return a.default.instance.getEnergyRewardValue()
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(e.prototype, "max_reward_times", {
					get: function () {
						return a.default.instance.getEnergyRewardTimes()
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(e.prototype, "max_coins_times", {
					get: function () {
						return a.default.instance.getEnergyCoinsTimes()
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(e.prototype, "coins_price", {
					get: function () {
						var e = ["1000", "3000"],
							t = DataBus.other.coinsBuyEnergyTimes;
						return Number(e[t] || e[e.length - 1])
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.setEnergy = function (e) {
					DataBus.user.energy = e, DataBus.user.save(), cc.systemEvent.emit(o.default.UPDATE_ENERGY)
				}, e.prototype.init = function () {
					var e = this;
					s.default.instance.addVar({
						key: this.energyKey,
						getValueFunc: function () {
							return DataBus.user.energy
						},
						setValueFunc: function (t) {
							return e.setEnergy(t)
						},
						getStartTimeFunc: function () {
							return DataBus.user.energy_start_time
						},
						setStartTimeFunc: function (e) {
							DataBus.user.energy_start_time = e, DataBus.user.save()
						},
						interval: this.need_time,
						maxValue: this.max_energy,
						minValue: this.max_energy,
						unitValue: 1,
						maxTimes: 1 / 0,
						eventName: o.default.UPDATE_ENERGY,
						emitName: o.default.UPDATE_ENERGY_TIMER
					})
				}, e.prototype.tryToCostEnergy = function (e) {
					return DataBus.user.energy > 0 ? (DataBus.user.energy -= 1, cc.systemEvent.emit(o.default.UPDATE_ENERGY, {
						pos: e,
						value: -1
					}), DataBus.user.energy < this.max_energy && 0 == DataBus.user.energy_start_time && (DataBus.user.energy_start_time = (new Date).getTime(), cc.systemEvent.emit(o.default.UPDATE_ENERGY_TIMER)), r.default.instance.saveLocal(), !0) : (ui.showLayer(i.default), !1)
				}, e
			}();
		n.default = c, window.EnergyLogic = c, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Config/ServerConfig": "ServerConfig",
		"../../Data/DataSaver": "DataSaver",
		"../money/RecoverVar": "RecoverVar",
		"./NoEnergyLayer": "NoEnergyLayer"
	}],
	EnergyPanel: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "638b9stpsZOAoNYeJYvoVmk", "EnergyPanel");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Config/EventID"),
			c = e("../base/CountDown"),
			l = e("./EnergyLogic"),
			u = e("../../Config/SoundID"),
			d = e("./NoEnergyLayer"),
			f = e("../money/RecoverVar"),
			p = cc._decorator,
			h = p.ccclass,
			y = (p.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.onLoad = function () {
					cc.systemEvent.on(s.default.UPDATE_ENERGY_TIMER, this.updateEnergyTimerUi, this)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(s.default.UPDATE_ENERGY_TIMER, this.updateEnergyTimerUi, this)
				}, t.prototype.onEnable = function () {
					this.updateEnergyTimerUi()
				}, t.prototype.updateEnergyTimerUi = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n, o;
						return a(this, function (i) {
							switch (i.label) {
								case 0:
									return (e = this.node.getComponentInChildren(c.default)).formatFunc || (e.formatFunc = function (e) {
										return Utils.formatDuration2(e)
									}), t = cc.find("full", this.node), n = l.default.instance.energyKey, [4, f.default.instance.getRemainTimeForKey(n)];
								case 1:
									return o = i.sent(), this.isValid && (o >= 0 ? (t.active = !1, e.node.active = !0, e.begin(o / 1e3, function () {
										return cc.systemEvent.emit(s.default.UPDATE_ENERGY)
									})) : (t.active = !0, e.node.active = !1)), [2]
							}
						})
					})
				}, t.prototype.onBtnAddClick = function () {
					SoundMgr.play(u.default.btn), Utils.disableAllBtnsAmoment(this.node, .2, this), DataBus.user.energy < l.default.instance.max_energy ? d.default.show() : ui.showTips("Max")
				}, t = i([h], t)
			}(cc.Component));
		n.default = y, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Config/SoundID": "SoundID",
		"../base/CountDown": "CountDown",
		"../money/RecoverVar": "RecoverVar",
		"./EnergyLogic": "EnergyLogic",
		"./NoEnergyLayer": "NoEnergyLayer"
	}],
	ErrorTypes: [function (e, t, n) {
		"use strict";
		var o, i;
		cc._RF.push(t, "cb0f7iDbphBy6y0Q7xWlxiM", "ErrorTypes"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.createError = n.ErrorContent = n.ErrorTypes = void 0,
			function (e) {
				e[e.Unknown = 5e3] = "Unknown", e[e.NetError = 5001] = "NetError", e[e.ParseError = 5002] = "ParseError", e[e.ServerError = 5003] = "ServerError", e[e.PlatformError = 5004] = "PlatformError", e[e.NoVideoError = 5005] = "NoVideoError", e[e.UserCloseVideo = 5006] = "UserCloseVideo", e[e.ShareDurationFail = 5007] = "ShareDurationFail", e[e.ShareChanceFail = 5008] = "ShareChanceFail", e[e.ShareTimeOutFail = 5009] = "ShareTimeOutFail", e[e.VideoCheckFail = 5010] = "VideoCheckFail"
			}(i = n.ErrorTypes || (n.ErrorTypes = {})), n.ErrorContent = ((o = {})[i.Unknown] = "未知错误", o[i.NetError] = "网络错误", o[i.ParseError] = "格式化错误", o[i.ServerError] = "服务器错误", o[i.PlatformError] = "环境错误", o[i.NoVideoError] = "没有视频", o[i.UserCloseVideo] = "用户中止视频", o[i.ShareDurationFail] = "分享错误1", o[i.ShareChanceFail] = "分享错误2", o[i.ShareTimeOutFail] = "分享错误3", o[i.VideoCheckFail] = "服务端视频校验失败", o), n.createError = function (e, t) {
				return {
					errCode: e,
					errMsg: n.ErrorContent[e],
					info: t
				}
			}, cc._RF.pop()
	}, {}],
	EscapeLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "ba388l9FPNPR4dVueUl0bDu", "EscapeLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.EscapeLayerParam = void 0;
		var r = e("../../../Ui/base/LayerBase"),
			a = e("../../../Config/SoundID"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, s.menu),
			u = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.EscapeLayerParam = u;
		var d = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.confirmed = !1, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), n._instance = this
			}, t.prototype.onDestroy = function () {
				n._instance = null, e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () { }, t.prototype.onBtnOkClick = function () {
				SoundMgr.play(a.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.confirmed = !0, this.close()
			}, t.prototype.onBtnCancelClick = function () {
				SoundMgr.play(a.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.confirmed = !1, this.close()
			}, t.prototype.onBtnCloseClick = function () {
				SoundMgr.play(a.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.confirmed = !1, this.close()
			}, t.show = function () {
				return new Promise(function (e, t) {
					var o = new u;
					ui.showLayer(n, o).then(function (t) {
						var o = t.getComponent(n);
						o.data.onClose = function () {
							e(o.confirmed)
						}
					})
				})
			}, t.close = function () {
				this._instance && this._instance.close()
			}, t.prefabName = "common://dynamic/layer/escapeLayer", t._instance = null, t = n = i([c, l("Layer/EscapeLayer")], t)
		}(r.default);
		n.default = d, window.EscapeLayer = d, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"../../../Ui/base/LayerBase": "LayerBase"
	}],
	EventID: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "51576c/B/hHfrEOd03E6j9e", "EventID"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		n.default = {
			INSIDE_ADS_CHANGED: "INSIDE_ADS_CHANGED",
			INSIDE_ADS_CLICKED: "INSIDE_ADS_CLICKED",
			BANNER_CHANGED: "BANNER_CHANGED",
			MY_BANNER_CHANGED: "MY_BANNER_CHANGED",
			VIDEO_CHANGED: "VIDEO_CHANGED",
			NATIVE_ADS_LOAD: "NATIVE_ADS_LOAD",
			NATIVE_ADS_ERROR: "NATIVE_ADS_ERROR",
			CLOSE_LAYER: "CLOSE_LAYER",
			OPEN_LAYER: "OPEN_LAYER",
			CLOSE_SCENE: "CLOSE_SCENE",
			POP_UNLOCK: "POP_UNLOCK",
			CLOSE_UNLOCK: "CLOSE_UNLOCK",
			UPDATE_SERVER_TIME: "UPDATE_SERVER_TIME",
			TICKETS_CHANGED: "TICKETS_CHANGED",
			POP_RESULT: "POP_RESULT",
			SHARE_TO_FRIEND: "SHARE_TO_FRIEND",
			TASK_BADAGE_CHANGED: "TASK_BADAGE_CHANGED",
			REWARD_BTN_CHANGED: "REWARD_BTN_CHANGED",
			UPDATE_COINS: "UPDATE_COINS",
			UPDATE_ENERGY: "UPDATE_ENERGY",
			UPDATE_ENERGY_TIMER: "UPDATE_ENERGY_TIMER",
			UPDATE_LEVEL: "UPDATE_LEVEL",
			UPDATE_BALLOON: "UPDATE_BALLOON",
			GUIDE_STEP: "GUIDE_STEP",
			GUIDE_REFRESH: "GUIDE_REFRESH",
			CUE_CHANGED: "CUE_CHANGED",
			LOAD_PUZZLE: "LOAD_PUZZLE",
			UPDATE_BCOINS: "UPDATE_BCOINS",
			SEASON_CHANGED: "SEASON_CHANGED",
			SELF_EMOJI: "SELF_EMOJI",
			OPPO_EMOJI: "OPPO_EMOJI",
			INVITE_GIFT_CHANGED: "INVITE_GIFT_CHANGED",
			CAN_COLLECT_PROFIT: "CAN_COLLECT_PROFIT",
			CUE_UNLOCKED: "CUE_UNLOCKED",
			VIP_CHANGED: "VIP_CHANGED",
			VIP_INVITE_CHANGED: "VIP_INVITE_CHANGED",
			DAILY_TASK_FINISHED: "DAILY_TASK_FINISHED",
			DAILY_TASK_RECEIVE: "DAILY_TASK_RECEIVE",
			DAILY_DATA_CLEAR: "DAILY_DATA_CLEAR",
			WEEKLY_DATA_CLEAR: "WEEKLY_DATA_CLEAR",
			UPDATE_DAILY_ACTIVE: "UPDATE_DAILY_ACTIVE",
			UPDATE_WEEKLY_ACTIVE: "UPDATE_WEEKLY_ACTIVE"
		}, cc._RF.pop()
	}, {}],
	ExpandPanel: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "01d4aPNHLVH0IxRL9LW7IM7", "ExpandPanel");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/SoundID"),
			a = cc._decorator,
			s = a.ccclass,
			c = a.property,
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.expandNode = null, t.showPos = new cc.Vec2, t.hideDirection = new cc.Vec2, t.btnNode = null, t.showOnLoad = !1, t.arrowNode = null, t._maskNode = null, t._expandVisible = !1, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "expandVisible", {
					get: function () {
						return this._expandVisible
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onLoad = function () {
					this.expandNode = this.expandNode || cc.find("mask/pnl", this.node), this._maskNode = this.expandNode.parent.getComponent(cc.Mask) ? this.expandNode.parent : null, this.btnNode = this.btnNode || this.node.getChildByName("btn"), this.btnNode && Utils.bindBtnEvent(this.btnNode, this.node, "ExpandPanel", "onBtnClick"), this.arrowNode = this.arrowNode || this.btnNode && this.btnNode.getChildByName("arrow"), 0 != this.hideDirection.x && (this.hideDirection.x = this.hideDirection.x / Math.abs(this.hideDirection.x)), 0 != this.hideDirection.y && (this.hideDirection.y = this.hideDirection.y / Math.abs(this.hideDirection.y)), this.showOnLoad ? this.showExpandPanel(0) : this.hideExpandPanel(0)
				}, t.prototype.showExpandPanel = function (e) {
					void 0 === e && (e = .2), this._expandVisible = !0;
					var t = this.arrowNode,
						n = this.expandNode;
					this._maskNode.active = !0, n.stopAllActions(), t && t.stopAllActions(), e > 0 ? (n.runAction(cc.moveTo(e, this.showPos)), t && t.runAction(cc.rotateTo(e, -180))) : (n.position = this.showPos, t && (t.angle = -180))
				}, t.prototype.hideExpandPanel = function (e) {
					var t = this;
					void 0 === e && (e = .2), this._expandVisible = !1;
					var n = this.arrowNode,
						o = this.expandNode,
						i = new cc.Vec2(o.width, o.height).scaleSelf(this.hideDirection).addSelf(this.showPos);
					o.stopAllActions(), n && n.stopAllActions(), e > 0 ? (o.runAction(cc.sequence(cc.moveTo(e, i), cc.callFunc(function () {
						t._maskNode.active = !1
					}))), n && n.runAction(cc.rotateTo(e, 0))) : (o.position = i, n && (n.angle = 0), this._maskNode.active = !1)
				}, t.prototype.switchExpandPanel = function () {
					this._expandVisible ? this.hideExpandPanel() : this.showExpandPanel()
				}, t.prototype.onBtnClick = function () {
					SoundMgr.play(r.default.btn), this.switchExpandPanel(), this.btnNode && this.btnNode.emit("expand_click")
				}, i([c({
					type: cc.Node,
					displayName: "显示隐藏的面板"
				})], t.prototype, "expandNode", void 0), i([c({
					displayName: "显示时面板坐标"
				})], t.prototype, "showPos", void 0), i([c({
					displayName: "隐藏的方向",
					tooltip: "隐藏的方向, 可选值(-1, 0, 1)"
				})], t.prototype, "hideDirection", void 0), i([c({
					type: cc.Node,
					displayName: "切换按钮"
				})], t.prototype, "btnNode", void 0), i([c({
					displayName: "加载时显示面板"
				})], t.prototype, "showOnLoad", void 0), t = i([s], t)
			}(cc.Component);
		n.default = l, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID"
	}],
	FeedbackBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "3ea852p+mdMf7Zybcu+YYzv", "FeedbackBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Data/wxsdk"),
			a = e("./WxBtn"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					e.prototype.onLoad.call(this), n.instance = this
				}, t.prototype.onDestroy = function () {
					e.prototype.onDestroy.call(this), n.instance = null
				}, t.prototype.createWxBtn = function () {
					if (r.default.isWX() && "function" == typeof wx.createFeedbackButton) {
						var e = this.node.convertToWorldSpaceAR(cc.v2(0, 0)),
							t = cc.view.getVisibleSize(),
							n = e.x - this.node.width / 2,
							o = t.height - e.y - this.node.height / 2,
							i = wx.getSystemInfoSync(),
							a = i.screenWidth,
							s = i.screenHeight,
							c = n / t.width * a,
							l = o / t.height * s,
							u = this.node.width / t.width * a,
							d = this.node.height / t.height * s,
							f = wx.createFeedbackButton({
								type: "text",
								text: " ",
								style: {
									left: c,
									top: l,
									width: u,
									height: d,
									backgroundColor: "#00000001",
									borderColor: "#00000001",
									color: "#00000001",
									borderWidth: 0,
									borderRadius: 0,
									textAlign: "center",
									fontSize: 1,
									lineHeight: 1
								}
							});
						return f.onTap && f.onTap(function () { }), f
					}
					return null
				}, t.prototype.afterCreateWxBtn = function () {
					this.node.active = !!this._wxBtn
				}, t.instance = null, t = n = i([c], t)
			}(a.default));
		n.default = l, window.FeedbackBtn = l, cc._RF.pop()
	}, {
		"../Data/wxsdk": "wxsdk",
		"./WxBtn": "WxBtn"
	}],
	ForceAnimator: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "0ea66QfO5RM25WBXIFxT2lo", "ForceAnimator");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../PoolTypes"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.cueNode = null, t.haloNode = null, t.force = 0, t._displayForce = 0, t._forcePos = 0, t._displayEnabled = !0, t._shootAnimationTween = null, t.useVibrate = !0, t.useFullForceAnimation = !0, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "displayForce", {
					get: function () {
						return this._displayForce
					},
					set: function (e) {
						this._displayForce = e, this.node.emit(r.PoolEventId.ForceBarAnimationChanged, this.displayForce)
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onLoad = function () {
					this.cueNode = cc.find("mask/cue", this.node), this.haloNode = this.node.getChildByName("halo"), this.haloNode.active = !1, this._forcePos = cc.find("mask/cue/arrow", this.node).height, this.node.on(r.PoolEventId.ForceBarChanged, this._onForceBarChanged, this), this.node.on(r.PoolEventId.ForceBarShoot, this._onForceBarShoot, this), this.node.on(r.PoolEventId.ForceBarShootEnd, this._onForceBarShootEnd, this)
				}, t.prototype._onForceBarChanged = function (e) {
					this.stopShootAnimation(), this._playFullForceAnimation(this.force, e), this.force = e
				}, t.prototype._onForceBarShoot = function (e) {
					this.displayForce = this.force = e, this.updateDisplay()
				}, t.prototype._onForceBarShootEnd = function () {
					this._displayForce = this.force = 0, this.updateDisplay()
				}, t.prototype.start = function () {
					this.updateDisplay()
				}, t.prototype.onDestroy = function () {
					this.stopShootAnimation()
				}, t.prototype.setDisplayEnabled = function (e) {
					this._displayEnabled = e, e || this.cueNode && (this.cueNode.y = 0)
				}, t.prototype.updateDisplay = function () {
					this.cueNode && this._displayEnabled && (this.cueNode.y = -this._forcePos * this.displayForce)
				}, t.prototype.update = function (e) {
					this.displayForce < this.force ? (this.displayForce += .15, this.displayForce > this.force && (this.displayForce = this.force), this.updateDisplay()) : this.displayForce > this.force && (this.displayForce -= .15, this.displayForce < this.force && (this.displayForce = this.force), this.updateDisplay())
				}, Object.defineProperty(t.prototype, "shootAnimationForce", {
					get: function () {
						return this._shootAnimationForce
					},
					set: function (e) {
						this._shootAnimationForce = e, this._updateDisplayForShootAnimation()
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.playShootAnimation = function () {
					var e = this;
					this._shootAnimationTween && this._shootAnimationTween.stop(), this._playFullForceAnimation(this.force, 0), this.shootAnimationForce = this.force;
					this._shootAnimationTween = cc.tween(this).to(.11, {
						shootAnimationForce: 0
					}, {
						easing: cc.easing.sineIn
					}).call(function () {
						e.node.emit(r.PoolEventId.ForceBarShootEnd)
					}).start()
				}, t.prototype.stopShootAnimation = function () {
					this._shootAnimationTween && this._shootAnimationTween.stop(), this._shootAnimationTween = null
				}, t.prototype._updateDisplayForShootAnimation = function () {
					this.cueNode && this._displayEnabled && (this.cueNode.y = -this._forcePos * this.shootAnimationForce)
				}, t.prototype._playFullForceAnimation = function (e, t) {
					if (this.useFullForceAnimation) {
						var n = this.haloNode;
						e < 1 && t >= 1 ? (n.stopAllActions(), n.scale = 0, n.active = !0, n.runAction(cc.scaleTo(.2, 1)), this.useVibrate && (Utils.shakeCamera(void 0, {
							times: 6,
							duration: .2,
							amp: 5,
							srcPos: cc.Vec2.ZERO
						}), SoundMgr.vibrateShort())) : 1 == e && t < 1 && (n.stopAllActions(), n.runAction(cc.sequence(cc.scaleTo(.2, 0), cc.callFunc(function () {
							return n.active = !1
						}))))
					} else this.haloNode.active && (this.haloNode.active = !1)
				}, t = i([s], t)
			}(cc.Component));
		n.default = c, cc._RF.pop()
	}, {
		"../PoolTypes": "PoolTypes"
	}],
	ForceBar: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "fedd6W0EFxIE40xSlzdHBAt", "ForceBar");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../PoolTypes"),
			c = e("../../../Res/ResLoader"),
			l = e("../PoolGlobal"),
			u = .03,
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.cueNode = null, t.forceLbl = null, t.cueIndex = 0, t.minForce = u, t._force = 0, t.displayMaxForce = 100, t._touchID = null, t
				}
				return o(t, e), t.prototype.resetMinForce = function () {
					this.minForce = u
				}, Object.defineProperty(t.prototype, "force", {
					get: function () {
						return this._force
					},
					set: function (e) {
						this._force = cc.misc.clamp01(e), this.node.emit(s.PoolEventId.ForceBarChanged, this.force)
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onLoad = function () {
					this.cueNode = cc.find("mask/cue", this.node);
					var e = this.node.getChildByName("lbl");
					this.forceLbl = e && e.getComponent(cc.Label), this.setCueIndex(this.cueIndex)
				}, t.prototype.setCueIndex = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return this.cueIndex = e, t = l.default.getCueThumbRes(e), [4, c.default.getSpriteFrameRes(t)];
								case 1:
									return n = o.sent(), this.cueIndex == e && this.isValid && this.cueNode && (this.cueNode.getChildByName("sp").getComponent(cc.Sprite).spriteFrame = n), [2]
							}
						})
					})
				}, t.prototype._updateLblDisplay = function () {
					this.forceLbl && (this.forceLbl.string = "" + Math.floor(this.force * this.displayMaxForce))
				}, t.prototype._setLblVisible = function (e) {
					this.forceLbl && (this.forceLbl.node.active = e)
				}, t.prototype.onEnable = function () {
					this._touchID = null, this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this)
				}, t.prototype.onDisable = function () {
					this.node.off(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), this.node.off(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this), this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this), this._setLblVisible(!1)
				}, t.prototype.onTouchStart = function (e) {
					if (null === this._touchID) {
						this._touchID = e.getID();
						var t = this.node,
							n = this.node.convertToNodeSpaceAR(e.getLocation()),
							o = (1 - t.anchorY) * t.height;
						this.force = (o - n.y) / t.height, this._setLblVisible(!0), this._updateLblDisplay(), e.stopPropagation()
					}
				}, t.prototype.onTouchMove = function (e) {
					if (this._touchID === e.getID()) {
						var t = this.node,
							n = this.node.convertToNodeSpaceAR(e.getLocation()),
							o = 400 * (1 - t.anchorX),
							i = (1 - t.anchorY) * t.height;
						n.x < o - 400 || n.x > o || n.y > i ? this.force = 0 : this.force = (i - n.y) / t.height, this._updateLblDisplay(), e.stopPropagation()
					}
				}, t.prototype.onTouchEnd = function (e) {
					this._touchID === e.getID() && (this._touchID = null, Math.floor(this.force * this.displayMaxForce) / 100 < this.minForce ? this.force = 0 : this.node.emit(s.PoolEventId.ForceBarShoot, this.force), this._setLblVisible(!1), e.stopPropagation())
				}, t = i([f], t)
			}(cc.Component));
		n.default = p, cc._RF.pop()
	}, {
		"../../../Res/ResLoader": "ResLoader",
		"../PoolGlobal": "PoolGlobal",
		"../PoolTypes": "PoolTypes"
	}],
	FreeCoinsLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9dd95wwL39PaIGZ43sRci1Y", "FreeCoinsLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.FreeCoinsLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = e("../base/RewardBtn"),
			l = e("../receive/DoubleItemLayer"),
			u = e("../../Runtime/LevelConfig"),
			d = e("../../Base/ShareTypes"),
			f = e("../prize/PrizeItem"),
			p = e("./FreeCoinsLogic"),
			h = cc._decorator,
			y = h.ccclass,
			g = (h.property, h.menu),
			_ = function () {
				return function () {
					this.isNoCoins = !1, this.onClose = function () { }
				}
			}();
		n.FreeCoinsLayerParam = _;
		var v = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.getComponentInChildren(f.default).setData({
					type: u.LevelPrizeType.coins,
					value: p.default.instance.getRewardCoins()
				}), this.reward_node.getComponent(c.default).sharePos = d.SharePos.FreeCoins
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				var e = this.data && this.data.isNoCoins;
				this.reward_title.active = !e, this.no_coins_title.active = e
			}, t.prototype.receivePrize = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						return e = p.default.instance.getRewardCoins(), l.default.show([{
							type: u.LevelPrizeType.coins,
							value: e
						}]), this.close(), [2]
					})
				})
			}, t.prototype.onRewardCallback = function (e) {
				e == c.RewardFuncParam.Click ? Utils.setAllBtnsEnabled(this.node, !1, !1) : e == c.RewardFuncParam.Success ? this.receivePrize() : Utils.setAllBtnsEnabled(this.node, !0, !1)
			}, t.show = function (e) {
				return new Promise(function (t, o) {
					var i = new _;
					i.isNoCoins = e, i.onClose = t, ui.showLayer(n, i)
				})
			}, t.prefabName = "common://dynamic/layer/freeCoinsLayer", t = n = i([y, g("Layer/FreeCoinsLayer")], t)
		}(s.default);
		n.default = v, window.FreeCoinsLayer = v, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"../prize/PrizeItem": "PrizeItem",
		"../receive/DoubleItemLayer": "DoubleItemLayer",
		"./FreeCoinsLogic": "FreeCoinsLogic"
	}],
	FreeCoinsLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "65ebefLFdVNfYDVzUN6FD/I", "FreeCoinsLogic"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = e("../../Runtime/LevelConfig"),
			i = function () {
				function e() {
					this.rewardConfig = [3e3, 4500, 6e3, 9e3, 12e3, 15e3, 2e4]
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getRewardCoins = function () {
					var e = DataBus.user.star,
						t = o.default.instance.getDanConfig(e).dan;
					return this.rewardConfig[t] || this.rewardConfig[0]
				}, e._instance = null, e
			}();
		n.default = i, cc._RF.pop()
	}, {
		"../../Runtime/LevelConfig": "LevelConfig"
	}],
	FullScreen: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "809c4SzpK1OEIh/WEmlQyJb", "FullScreen");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = (r.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.onEnable = function () {
					var e = cc.view.getVisibleSize(),
						t = this.node;
					t.anchorX = .5, t.anchorY = .5;
					var n = Utils.getScaleInHierarchy(this.node.parent);
					t.scaleX = 1 / (n.x || 1), t.scaleY = 1 / (n.y || 1), t.angle = 0, t.width = e.width, t.height = e.height;
					var o = t.parent.convertToNodeSpaceAR(new cc.Vec2(.5 * e.width, .5 * e.height));
					t.x = o.x, t.y = o.y
				}, t = i([a], t)
			}(cc.Component));
		n.default = s, cc._RF.pop()
	}, {}],
	GameConfig: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "c5c3dfEASFDsp5IvK6pjw0v", "GameConfig"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.GameConfig = void 0;
		var o = e("../Data/wxsdk");
		n.GameConfig = {
			DEBUG: !1,
			ENCRYPT: !1,
			MAX_LEVEL: 100,
			EIGHT_RULE: !0,
			USE_YDSDK: !1,
			USE_CMGE_SDK: !0,
			VIDEO_FAIL_HAS_PRIZE: !0,
			get SdkConfig() {
				return o.default.isQQ() ? {
					game_id: "poolchampionqq01",
					game_version: 8,
					videoId: "d1cea344960b6c8d721c6609ed9369d9",
					bannerId: "3976703c9a32d4cb921ffc72dfd46b41",
					interId: "ed1d01cc085ec645339ce5dafd643b11",
					saveLog: !1
				} : o.default.isTT() ? {
					game_id: "poolchampiontt01",
					game_version: 2,
					videoId: "4bb4ah9169n3b1jmk5",
					bannerId: "cks76aaroc7kbp3keq",
					interId: "3ce4d6q4j2k5ee0cf0",
					saveLog: !1
				} : o.default.isVivo() ? {
					game_id: "poolchampionvivo01",
					game_version: 3,
					videoId: "c5c5ab58c5a64c3b992f736d5e772686",
					bannerId: "e1183637143344b8ba0fc65cbf03a085",
					interId: "e29a32cd128142df871c46ca66f7e6fb",
					nativeId: "1e00ed4ed8f64ac3a495d80beba14fdb",
					saveLog: !1
				} : o.default.isQg() ? {
					game_id: "poolchampionoppo01",
					game_version: 3,
					videoId: "268825",
					bannerId: "268824",
					interId: "",
					nativeId: "270710",
					saveLog: !1
				} : {
					game_id: "poolchampion01",
					game_version: 48,
					videoId: "adunit-f522c1e4a48fe02f",
					bannerId: "adunit-9d287c7056da8ef1",
					interId: "adunit-491a5df9955633fa"
				}
			}
		}, cc._RF.pop()
	}, {
		"../Data/wxsdk": "wxsdk"
	}],
	GameScene: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f25594xZ01CdawYJCnV1rkB", "GameScene");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s, c = e("../Config/SoundID"),
			l = e("./LevelConfig"),
			u = e("../Ui/Ui"),
			d = e("../Config/GameConfig"),
			f = e("../Base/Share"),
			p = e("../Base/ShareTypes"),
			h = e("./editor/EditorLevelData"),
			y = e("./game/PoolStage"),
			g = e("./game/PoolTypes"),
			_ = e("../Ui/pause/PauseLayer"),
			v = e("../Ui/revive/ReviveLayer"),
			b = e("../Ui/energy/EnergyLogic"),
			m = e("../Ui/revive/ReviveConfig"),
			w = e("./game/control/ShootPointLayer"),
			S = e("../Ui/cue/CueLayer"),
			C = e("./game/rule/RuleTypes"),
			P = e("./game/rule/BaseRule"),
			L = e("./game/rule/RuleFactory"),
			T = e("./editor/EditorFixedLevelData"),
			D = e("../Ui/game/AfterGameLayer"),
			B = e("../Config/EventID"),
			k = e("../Ui/game/TaskLayer"),
			R = e("./guide/GuideLogic"),
			E = e("../Ui/help/HelpLayer"),
			I = e("../Config/ReportID"),
			O = e("./YdsdkBridge"),
			A = e("./game/item2/PoolItem2Mgr"),
			x = e("../Ui/revive/ItemReviveLayer"),
			N = e("./game/item2/PoolItem2Handler"),
			M = e("./game/item2/NoItemLayer"),
			F = e("./game/item2/UseItemLayer"),
			j = e("../Ui/ads/SideAdsLayer"),
			U = e("../Res/ResLoader"),
			V = e("../Base/AdsMgr");
		(function (e) {
			e[e.Single = 0] = "Single", e[e.EightSingle = 1] = "EightSingle", e[e.SingleEditor = 2] = "SingleEditor", e[e.EightSingleEditor = 3] = "EightSingleEditor"
		})(s || (s = {}));
		var G = cc._decorator,
			H = G.ccclass,
			z = (G.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.gameDataType = s.Single, t.curLevel = 0, t.reviveTimes = 0, t
				}
				var n;
				return o(t, e), n = t, Object.defineProperty(t, "prefabName", {
					get: function () {
						return "game_newbie://dynamic/scene/" + (d.GameConfig.EIGHT_RULE ? "game2" : "game") + "Scene"
					},
					enumerable: !1,
					configurable: !0
				}), t.loadSubPackage = function (e, t) {
					return void 0 === t && (t = !0), r(this, void 0, void 0, function () {
						var e;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return e = !0, [4, U.default.getBundle("game_newbie", t)];
								case 1:
									return e = n.sent() && e, [4, U.default.getBundle("game", t)];
								case 2:
									return e = n.sent() && e, [4, U.default.getBundle("common", t)];
								case 3:
									return [2, e = n.sent() && e]
							}
						})
					})
				}, t.enterScene = function (e, t, o, i) {
					return void 0 === o && (o = null), void 0 === i && (i = !0), r(this, void 0, void 0, function () {
						return a(this, function (r) {
							switch (r.label) {
								case 0:
									return e >= d.GameConfig.MAX_LEVEL ? (ui.showTips("Please look forward to"), [2, !1]) : e > DataBus.user.level ? (ui.showTips("Level not unlocked!"), [2, !1]) : b.default.instance.tryToCostEnergy(t) ? [4, Utils.delayTime(.8)] : [2, !1];
								case 1:
									return r.sent(), [4, n.loadSubPackage(e, i)];
								case 2:
									return r.sent(), n.instance ? (n.instance.newGame(e, o), [3, 5]) : [3, 3];
								case 3:
									return [4, ui.switchScene(n).then(function (t) {
										var i = t.getComponent(n);
										i.scheduleOnce(function () {
											i.newGame(e, o)
										})
									})];
								case 4:
									r.sent(), r.label = 5;
								case 5:
									return [2, !0]
							}
						})
					})
				}, t.loadNewbieSubpackage = function (e) {
					return void 0 === e && (e = !0), r(this, void 0, void 0, function () {
						var t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return t = !0, [4, U.default.getBundle("game_newbie", e)];
								case 1:
									return t = n.sent() && t, [4, U.default.getBundle("common", e)];
								case 2:
									return [2, t = n.sent() && t]
							}
						})
					})
				}, t.enterNewbie = function (e) {
					return void 0 === e && (e = !0), r(this, void 0, void 0, function () {
						var t, o, i;
						return a(this, function (r) {
							switch (r.label) {
								case 0:
									return 1 == (t = R.default.instance.exactNeedGuide(R.GuideStep.Level1) ? 0 : 1) ? [2, this.enterScene(t, null, null)] : [4, n.loadNewbieSubpackage(e)];
								case 1:
									return r.sent(), n.instance ? (n.instance.newGame(t), [3, 4]) : [3, 2];
								case 2:
									return [4, ui.switchScene(n)];
								case 3:
									o = r.sent(), (i = o.getComponent(n)).scheduleOnce(function () {
										i.newGame(t)
									}), r.label = 4;
								case 4:
									return n.loadSubPackage(t, !1), U.default.getBundle("home"), [2]
							}
						})
					})
				}, t.prototype.start = function () {
					Server.reportClick(I.default.scene2), O.default.instance.onWeidu(1), n.instance = this, this.initUi(), this.getComponentInChildren(y.default).node.on(g.PoolEventId.GameOver, this.gameOver, this), (this.getComponent(u.SceneCtrl) || this.addComponent(u.SceneCtrl)).closeType = u.SceneCloseTypeEnum.self_fade_out_to_right, SoundMgr.stopMusic()
				}, t.prototype.onDestroy = function () {
					n.instance = null, _.default.close(), w.default.close(), S.default.close()
				}, t.prototype.initUi = function () { }, t.prototype.loadSinglePuzzle = function (e, t) {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.prototype.loadEightSinglePuzzle = function (e, t) {
					return r(this, void 0, void 0, function () {
						var n, o, i, r;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return [4, Utils.delayTime(.02, this)];
								case 1:
									return a.sent(), this.gameDataType = s.EightSingle, this.curLevel = e, cc.systemEvent.emit(B.default.LOAD_PUZZLE, e, !1), n = l.default.instance.getEightSingleLevelData(e), o = this.getComponentInChildren(y.default), i = L.default.instance.createRule(o.node, C.RuleType.EightSingle, !1), (r = l.default.instance.getEightSingleLevelConfig(e)).itemData = t, r.isEditor = !1, i.setData(r), n ? [4, o.loadDataForEightSingle(n)] : [3, 3];
								case 2:
									return a.sent(), [3, 5];
								case 3:
									return [4, o.loadEight()];
								case 4:
									a.sent(), a.label = 5;
								case 5:
									return Server.reportLevel(e + 1, 0), O.default.instance.onLevelStatistics(e, 0), [2]
							}
						})
					})
				}, t.prototype.loadSingleEditorPuzzle = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o, i;
						return a(this, function (r) {
							switch (r.label) {
								case 0:
									return [4, Utils.delayTime(.02, this)];
								case 1:
									return r.sent(), this.gameDataType = s.SingleEditor, this.curLevel = e, cc.systemEvent.emit(B.default.LOAD_PUZZLE, e, !0), t = h.default.instance.data && h.default.instance.data[e], n = this.getComponentInChildren(y.default), o = L.default.instance.createRule(n.node, C.RuleType.Single, !0), i = t.list.length - 1, o.setData({
										totalLife: 5,
										totalObjectBall: i,
										starScores: [10 * i, 15 * i, 20 * i],
										itemData: null,
										objectBallType: C.ObjectBallType.Solid,
										isEditor: !0,
										level: e
									}), t ? [4, n.loadData(t)] : [3, 3];
								case 2:
									return r.sent(), [3, 5];
								case 3:
									return [4, n.loadEight()];
								case 4:
									r.sent(), r.label = 5;
								case 5:
									return [2]
							}
						})
					})
				}, t.prototype.loadEightSingleEditorPuzzle = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o, i;
						return a(this, function (r) {
							switch (r.label) {
								case 0:
									return [4, Utils.delayTime(.02, this)];
								case 1:
									return r.sent(), this.gameDataType = s.EightSingleEditor, this.curLevel = e, cc.systemEvent.emit(B.default.LOAD_PUZZLE, e, !0), t = T.default.instance.data && T.default.instance.data[e], n = this.getComponentInChildren(y.default), o = L.default.instance.createRule(n.node, C.RuleType.EightSingle, !0), i = t.balls.length - 1, o.setData({
										totalLife: 5,
										totalObjectBall: i,
										starScores: [10 * i, 15 * i, 20 * i],
										itemData: null,
										objectBallType: 0 == t.object ? C.ObjectBallType.Solid : C.ObjectBallType.Stripe,
										eventTag: t.event,
										isEditor: !0,
										level: e
									}), t ? [4, n.loadDataForEightSingle(t)] : [3, 3];
								case 2:
									return r.sent(), [3, 5];
								case 3:
									return [4, n.loadEight()];
								case 4:
									r.sent(), r.label = 5;
								case 5:
									return [2]
							}
						})
					})
				}, t.prototype.newGame = function (e, t) {
					return this.reviveTimes = 0, d.GameConfig.EIGHT_RULE ? this.loadEightSinglePuzzle(e, t) : this.loadSinglePuzzle(e, t)
				}, t.prototype.revive = function (e) {
					return void 0 === e && (e = !0), r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return e ? (this.reviveTimes += 1, [4, this.getComponentInChildren(P.default).revive()]) : [3, 2];
								case 1:
									return t.sent(), [3, 2];
								case 2:
									return [2]
							}
						})
					})
				}, t.prototype._getFailReportType = function (e) {
					return e == C.RuleFailReason.touchOther ? 2 : e == C.RuleFailReason.noPot ? 4 : 3
				}, t.prototype.gameOver = function (e) {
					return r(this, void 0, void 0, function () {
						var t, o, i, r, c, l, u, d = this;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return Utils.setAllBtnsEnabled(this.node, !1), [4, n.loadSubPackage(this.curLevel, !1)];
								case 1:
									return a.sent(), _.default.close(), w.default.close(), S.default.close(), k.default.close(), E.default.close(), M.default.close(), F.default.close(), j.default.close(), this.gameDataType != s.SingleEditor ? [3, 3] : [4, this.loadSingleEditorPuzzle(this.curLevel)];
								case 2:
									return a.sent(), [3, 15];
								case 3:
									return this.gameDataType != s.EightSingleEditor ? [3, 5] : (e.resultType == C.RuleResultType.win ? (this.showEventTagTips(e), ui.showTips("victory")) : ui.showTips("failure"), [4, this.loadEightSingleEditorPuzzle(this.curLevel)]);
								case 4:
									return a.sent(), [3, 15];
								case 5:
									return e.resultType != C.RuleResultType.win ? [3, 7] : (console.log("过关"), t = !1, this.curLevel == DataBus.user.level && (DataBus.user.level += 1, t = !0), t && DataBus.saveData(), Server.reportLevel(this.curLevel + 1, 1), O.default.instance.onLevelStatistics(this.curLevel, 1), [4, D.default.show(this.curLevel, e)]);
								case 6:
									return a.sent(), [3, 15];
								case 7:
									return o = m.default.getMaxReviveTimes(), this.reviveTimes < o ? (i = f.default.isShareOrVideo(p.SharePos.Revive), r = A.default.instance.getTotalItemCount(), i != p.RewardType.None || 0 != r ? [3, 9] : (c = DataBus.user.coins, l = m.default.getRevivePrices(), c.lt(l) ? (Server.reportLevel(this.curLevel + 1, this._getFailReportType(e.failReason)), O.default.instance.onLevelStatistics(this.curLevel, 3), [4, D.default.show(this.curLevel, e)]) : [3, 9])) : [3, 14];
								case 8:
									return a.sent(), Utils.setAllBtnsEnabled(this.node, !0), [2];
								case 9:
									return u = function () {
										Server.reportLevel(d.curLevel + 1, d._getFailReportType(e.failReason)), O.default.instance.onLevelStatistics(d.curLevel, 3), D.default.show(d.curLevel, e)
									}, r > 0 ? [4, x.default.show(function (e) {
										d.revive().then(function () {
											null !== e && d.getComponentInChildren(N.default).useItem(e)
										}), O.default.instance.onLevelStatistics(d.curLevel, 2)
									}, u)] : [3, 11];
								case 10:
									return a.sent(), [3, 13];
								case 11:
									return [4, v.default.show(function () {
										d.revive(), O.default.instance.onLevelStatistics(d.curLevel, 2)
									}, u)];
								case 12:
									a.sent(), a.label = 13;
								case 13:
									return [3, 15];
								case 14:
									Server.reportLevel(this.curLevel + 1, this._getFailReportType(e.failReason)), O.default.instance.onLevelStatistics(this.curLevel, 3), D.default.show(this.curLevel, e), a.label = 15;
								case 15:
									return Utils.setAllBtnsEnabled(this.node, !0), [2]
							}
						})
					})
				}, t.prototype.showEventTagTips = function (e) {
					var t = [],
						n = l.default.instance.getEventNames(),
						o = l.default.instance.resolveEvent(e.targetEvent),
						i = l.default.instance.resolveEvent(e.finishedEvent);
					["objectAirball", "cueNoTouchCushion", "potInOrder", "cueNoTouchOtherBall", "doubleBall", "threeBall"].forEach(function (e) {
						o[e] && t.push(n[e] + "：" + (i[e] ? " complete" : "--"))
					}), t.length > 0 && ui.showTips(t.join("\n"), 4), console.log(t.join("\n"))
				}, t.prototype.pause = function () {
					if (this.isValid) {
						var e = this.getComponentInChildren(P.default);
						e && e.pause()
					}
				}, t.prototype.resume = function () {
					if (this.isValid) {
						var e = this.getComponentInChildren(P.default);
						e && e.resume()
					}
				}, t.prototype.onBtnPauseClick = function () {
					SoundMgr.play(c.default.btn), ui.getSceneLength() > 1 ? ui.popScene(n) : _.default.show()
				}, t.prototype.onBtnAdsClick = function () {
					SoundMgr.play(c.default.btn), V.default.instance.isValid() ? j.default.show(!1) : _.default.show()
				}, t.instance = null, t = n = i([H], t)
			}(cc.Component));
		n.default = z, window.GameScene = z, cc._RF.pop()
	}, {
		"../Base/AdsMgr": "AdsMgr",
		"../Base/Share": "Share",
		"../Base/ShareTypes": "ShareTypes",
		"../Config/EventID": "EventID",
		"../Config/GameConfig": "GameConfig",
		"../Config/ReportID": "ReportID",
		"../Config/SoundID": "SoundID",
		"../Res/ResLoader": "ResLoader",
		"../Ui/Ui": "Ui",
		"../Ui/ads/SideAdsLayer": "SideAdsLayer",
		"../Ui/cue/CueLayer": "CueLayer",
		"../Ui/energy/EnergyLogic": "EnergyLogic",
		"../Ui/game/AfterGameLayer": "AfterGameLayer",
		"../Ui/game/TaskLayer": "TaskLayer",
		"../Ui/help/HelpLayer": "HelpLayer",
		"../Ui/pause/PauseLayer": "PauseLayer",
		"../Ui/revive/ItemReviveLayer": "ItemReviveLayer",
		"../Ui/revive/ReviveConfig": "ReviveConfig",
		"../Ui/revive/ReviveLayer": "ReviveLayer",
		"./LevelConfig": "LevelConfig",
		"./YdsdkBridge": "YdsdkBridge",
		"./editor/EditorFixedLevelData": "EditorFixedLevelData",
		"./editor/EditorLevelData": "EditorLevelData",
		"./game/PoolStage": "PoolStage",
		"./game/PoolTypes": "PoolTypes",
		"./game/control/ShootPointLayer": "ShootPointLayer",
		"./game/item2/NoItemLayer": "NoItemLayer",
		"./game/item2/PoolItem2Handler": "PoolItem2Handler",
		"./game/item2/PoolItem2Mgr": "PoolItem2Mgr",
		"./game/item2/UseItemLayer": "UseItemLayer",
		"./game/rule/BaseRule": "BaseRule",
		"./game/rule/RuleFactory": "RuleFactory",
		"./game/rule/RuleTypes": "RuleTypes",
		"./guide/GuideLogic": "GuideLogic"
	}],
	GetPrizeLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a63f1Kn1pBLca+8ajg4Exmb", "GetPrizeLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.GetPrizeLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, a.menu),
			l = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.GetPrizeLayerParam = l;
		var u = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			return o(t, e), t = i([s, c("Layer/GetPrizeLayer")], t)
		}(r.default);
		n.default = u, window.GetPrizeLayer = u, cc._RF.pop()
	}, {
		"../base/LayerBase": "LayerBase"
	}],
	GuideLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "137104Ms0BM9a7wtSmzXRJZ", "GuideLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.GuideStep = void 0;
		var r, a = e("../../Ui/game/AfterGameLayer"),
			s = e("../../Ui/base/ActionScaleIn"),
			c = e("./MaskLayer"),
			l = e("../HomeScene"),
			u = e("../home/UpgradeLayer"),
			d = e("../home/UpgradePanel"),
			f = e("../home/UpgradeLogic"),
			p = e("./HandEffect"),
			h = e("./GuideTips"),
			y = e("../../Config/EventID"),
			g = e("../home/HomeUi"),
			_ = e("../game/pvp/PvpLogic"),
			v = e("../game/pvp/WorldMatchLayer"),
			b = e("../../Res/ResLoader"),
			m = e("../../Ui/superLine/SuperLineLogic"),
			w = e("../../Lib/bignumber"),
			S = e("../../Config/ServerConfig"),
			C = e("../game/pvp/PvpOpenLayer"),
			P = e("../Router"),
			L = e("../../Base/UserInfoBtn"),
			T = e("../../Data/EconomicLogic");
		(function (e) {
			e[e.Level1 = 0] = "Level1", e[e.NextLevel = 1] = "NextLevel", e[e.Level2 = 2] = "Level2", e[e.PvpOpen = 3] = "PvpOpen", e[e.Pvp = 4] = "Pvp", e[e.SuperLine = 5] = "SuperLine", e[e.Upgrade = 6] = "Upgrade", e[e.Finished = 7] = "Finished", e[e.PlayGame = 102] = "PlayGame", e[e.GoHome = 103] = "GoHome"
		})(r = n.GuideStep || (n.GuideStep = {}));
		var D = function () {
			function e() { }
			return Object.defineProperty(e, "instance", {
				get: function () {
					return this._instance || (this._instance = new e)
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype.getAnimParent = function () {
				return cc.Canvas.instance.node
			}, e.prototype.needGuide = function (e) {
				return DataBus.other.guide <= e
			}, e.prototype.exactNeedGuide = function (e) {
				return DataBus.other.guide == e
			}, e.prototype.finishGuide = function (e) {
				DataBus.other.guide = e + 1, DataBus.saveData(), cc.systemEvent.emit(y.default.GUIDE_STEP)
			}, e.prototype.isGuideFinished = function (e) {
				return void 0 === e && (e = r.Finished - 1), DataBus.other.guide > e
			}, e.prototype.repairForLevel = function () {
				var e = DataBus.user.level;
				e <= 0 ? (DataBus.user.level = 0, DataBus.other.guide = r.Level1) : 1 == e ? DataBus.other.guide = r.Level2 : DataBus.other.guide < r.Level2 && (DataBus.other.guide = r.Level2 + 1)
			}, e.prototype.tryToShowAfterGameLayerNextLevelGuide = function () {
				return o(this, void 0, void 0, function () {
					var t, n, o, l, u, d;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return e.instance.exactNeedGuide(r.NextLevel) ? (e.instance.finishGuide(r.NextLevel), t = cc.Canvas.instance.getComponentInChildren(a.default), (n = t.getComponentInChildren(s.default)) && (n.enabled = !1), (o = t.next_btn) ? [4, Utils.delayTime(.04, t)] : [3, 3]) : [3, 3];
							case 1:
								return i.sent(), o.isValid ? (l = this.getAnimParent(), u = Utils.covertToNodeSpaceAR(o.node, l, cc.Vec2.ZERO), d = Utils.getScaleInHierarchy(o.node), [4, c.default.show({
									maskType: cc.Mask.Type.RECT,
									maskWidth: o.node.width * d.x,
									maskHeight: o.node.height * d.y,
									maskPosition: u,
									opacity: 192
								})]) : [3, 3];
							case 2:
								i.sent(), p.default.playHandClickAnimation(u, "", 0, l), h.default.show("Click to enter the next level", new cc.Vec2(50, 100).addSelf(u), l), o.node.once("click", function () {
									c.default.close(), p.default.stopHandAnimation(l), h.default.hide(l)
								}, this), i.label = 3;
							case 3:
								return [2]
						}
					})
				})
			}, e.prototype.tryToShowAfterGameLayerGoHomeGuide = function () {
				return o(this, void 0, void 0, function () {
					var t, n, o, l, u, d, f, y, g, _, v;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return e.instance.exactNeedGuide(r.GoHome) ? (t = cc.Canvas.instance.getComponentInChildren(a.default), (n = t.getComponentInChildren(s.default)) && (n.enabled = !1), (o = t.home_btn) ? [4, Utils.delayTime(.04, t)] : [3, 2]) : [3, 2];
							case 1:
								i.sent(), o.isValid && (l = !1, u = null, d = null, f = null, y = function () {
									u && (u.destroy(), u = null), d && (b.default.removeNode(d), d = null), f && (b.default.removeNode(f), f = null)
								}, o.node.once("click", function () {
									l = !0, e.instance.finishGuide(r.GoHome), y()
								}, this), g = this.getAnimParent(), _ = Utils.covertToNodeSpaceAR(o.node, g, cc.Vec2.ZERO), v = Utils.getScaleInHierarchy(o.node), c.default.show({
									maskType: cc.Mask.Type.RECT,
									maskWidth: o.node.width * v.x,
									maskHeight: o.node.height * v.y,
									maskPosition: _,
									opacity: 192
								}).then(function (e) {
									u = e, o.isValid && !l || y()
								}), p.default.playHandClickAnimation(_, "", 0, g).then(function (e) {
									d = e, o.isValid && !l || y()
								}), h.default.show("Let's go back to the homepage first", new cc.Vec2(200, -150).addSelf(_), g).then(function (e) {
									f = e, o.isValid && !l || y()
								})), i.label = 2;
							case 2:
								return [2]
						}
					})
				})
			}, e.prototype.tryToShowUpgradeBtnGuide = function () {
				return o(this, void 0, void 0, function () {
					var t, n, o, a, s, u, d, y, g, _, v;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return e.instance.exactNeedGuide(r.Upgrade) ? (t = f.UpgradeType.building, 0 != f.default.instance.getLevel(t) ? (e.instance.finishGuide(r.Upgrade), [2]) : f.default.instance.getExp(t) > 0 ? (e.instance.finishGuide(r.Upgrade), [2]) : (n = f.default.instance.getLevel(t), o = DataBus.user.bcoins, a = f.default.instance.getExpPrice(t, n).bcoins, o < a ? (e.instance.finishGuide(r.Upgrade), [2]) : (s = cc.Canvas.instance.getComponentInChildren(l.default), u = s.getComponentsInChildren(cc.Button), (d = u.filter(function (e) {
									return "btn_upgrade" == e.node.name
								})[0]) ? [4, Utils.delayTime(.04, s)] : [3, 3]))) : [3, 3];
							case 1:
								return i.sent(), d.isValid ? (y = this.getAnimParent(), g = Utils.covertToNodeSpaceAR(d.node, y, cc.Vec2.ZERO), _ = Utils.getScaleInHierarchy(d.node), [4, c.default.show({
									maskType: cc.Mask.Type.RECT,
									maskWidth: d.node.width * _.x,
									maskHeight: d.node.height * _.y,
									maskPosition: g,
									opacity: 192
								})]) : [3, 3];
							case 2:
								i.sent(), v = Utils.covertToNodeSpaceAR(d.node, y, new cc.Vec2(100, 0)), p.default.playHandClickAnimation(v, "", 0, y), h.default.show("Click here to upgrade", new cc.Vec2(200, 120).addSelf(g), y), d.node.once("click", function () {
									c.default.close(), p.default.stopHandAnimation(y), h.default.hide(y)
								}, this), i.label = 3;
							case 3:
								return [2]
						}
					})
				})
			}, e.prototype.tryToShowUpgradeLayerGuide0 = function () {
				return o(this, void 0, void 0, function () {
					var t, n, o, a, l, d, h, y, g, _, v = this;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return e.instance.exactNeedGuide(r.Upgrade) ? (t = f.UpgradeType.building, f.default.instance.getExp(t) > 0 ? (e.instance.finishGuide(r.Upgrade), [2]) : (n = f.default.instance.getLevel(t), o = DataBus.user.bcoins, a = f.default.instance.getExpPrice(t, n).bcoins, o < a ? (e.instance.finishGuide(r.Upgrade), [2]) : (l = cc.Canvas.instance.getComponentInChildren(u.default), (d = l.getComponentInChildren(s.default)) && (d.enabled = !1), (h = l.tables_node && l.tables_node.getChildByName("item1")) ? [4, Utils.delayTime(.04, l)] : [3, 3]))) : [3, 3];
							case 1:
								return i.sent(), h.isValid ? (y = this.getAnimParent(), g = Utils.covertToNodeSpaceAR(h, y, cc.Vec2.ZERO), _ = Utils.getScaleInHierarchy(h), [4, c.default.show({
									maskType: cc.Mask.Type.RECT,
									maskWidth: h.width * _.x,
									maskHeight: h.height * _.y,
									maskPosition: g,
									opacity: 192
								})]) : [3, 3];
							case 2:
								i.sent(), p.default.playHandClickAnimation(g, "", 0, y), h.once("click", function () {
									c.default.close(), p.default.stopHandAnimation(y), v.tryToShowUpgradeLayerGuide1()
								}, this), i.label = 3;
							case 3:
								return [2]
						}
					})
				})
			}, e.prototype.tryToShowUpgradeLayerGuide1 = function () {
				return o(this, void 0, void 0, function () {
					var t, n, o, a, l, h, y, g, _, v, b, m = this;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return e.instance.exactNeedGuide(r.Upgrade) ? (t = cc.Canvas.instance.getComponentInChildren(u.default), (n = t.getComponentInChildren(s.default)) && (n.enabled = !1), o = t.getComponentsInChildren(d.default), (a = o.filter(function (e) {
									return e.type == f.UpgradeType.building
								})[0]) ? (l = a.exp_btn, h = a.upgrade_btn, y = a.node, l ? [4, Utils.delayTime(.04, t)] : [3, 3]) : [3, 3]) : [3, 3];
							case 1:
								return i.sent(), y.isValid && l.isValid ? (g = this.getAnimParent(), _ = Utils.covertToNodeSpaceAR(l.node, g, cc.Vec2.ZERO), v = Utils.getScaleInHierarchy(y), [4, c.default.show({
									maskType: cc.Mask.Type.RECT,
									maskWidth: l.node.width * v.x,
									maskHeight: l.node.height * v.y,
									maskPosition: _,
									opacity: 192
								})]) : [3, 3];
							case 2:
								i.sent(), p.default.playHandClickAnimation(_, "", 0, g), b = function () {
									e.instance.finishGuide(r.Upgrade), c.default.close(), p.default.stopHandAnimation(g), m.tryToShowUpgradeLayerGuide2(), l.node.off("click", b, m), h.node.off("click", b, m)
								}, l.node.once("click", b, this), h.node.once("click", b, this), i.label = 3;
							case 3:
								return [2]
						}
					})
				})
			}, e.prototype.tryToShowUpgradeLayerGuide2 = function () {
				return o(this, void 0, void 0, function () {
					var e, t, n, o, r, a, l;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return e = cc.Canvas.instance.getComponentInChildren(u.default), (t = e.getComponentInChildren(s.default)) && (t.enabled = !1), n = e.getCloseBtn(), (o = n.getComponent(cc.Button)) ? [4, Utils.delayTime(.04, e)] : [3, 3];
							case 1:
								return i.sent(), n.isValid && o.isValid ? (r = this.getAnimParent(), a = Utils.covertToNodeSpaceAR(o.node, r, cc.Vec2.ZERO), l = Utils.getScaleInHierarchy(n), [4, c.default.show({
									maskType: cc.Mask.Type.RECT,
									maskWidth: o.node.width * l.x,
									maskHeight: o.node.height * l.y,
									maskPosition: a,
									opacity: 192
								})]) : [3, 3];
							case 2:
								i.sent(), p.default.playHandClickAnimation(a, "", 0, r), o.node.once("click", function () {
									c.default.close(), p.default.stopHandAnimation(r)
								}, this), i.label = 3;
							case 3:
								return [2]
						}
					})
				})
			}, e.prototype.tryToShowPvpBtnGuide = function () {
				return o(this, void 0, void 0, function () {
					var t, n, o, a, s, l, u, d, f, y;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return e.instance.needGuide(r.Pvp) ? (t = cc.Canvas.instance.getComponentInChildren(g.default)) && (n = t.pvp_btn.node) ? [4, Utils.delayTime(.04, t)] : [2] : [3, 2];
							case 1:
								if (i.sent(), !n.isValid) return [2];
								o = cc.Canvas.instance.node, a = !1, s = null, l = null, u = null, d = function () {
									s && (s.destroy(), s = null), l && (b.default.removeNode(l), l = null), u && (b.default.removeNode(u), u = null)
								}, n.once("click", function () {
									a = !0, d()
								}, this), f = Utils.covertToNodeSpaceAR(n, o, cc.Vec2.ZERO), y = Utils.getScaleInHierarchy(n), c.default.show({
									maskType: cc.Mask.Type.RECT,
									maskWidth: n.width * y.x,
									maskHeight: n.height * y.y + 30,
									maskPosition: f,
									opacity: 192
								}).then(function (e) {
									s = e, n.isValid && !a || d()
								}), p.default.playHandClickAnimation(new cc.Vec2(80, 0).addSelf(f), "", 0, o).then(function (e) {
									l = e, n.isValid && !a || d()
								}), h.default.show("Enter the qualifying interface", new cc.Vec2(80, 130).addSelf(f), o).then(function (e) {
									u = e, n.isValid && !a || d()
								}), i.label = 2;
							case 2:
								return [2]
						}
					})
				})
			}, e.prototype.tryToShowWorldMatchLayerGuide = function () {
				return o(this, void 0, void 0, function () {
					var t, n, o, a, l, u, d, f;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return e.instance.needGuide(r.Pvp) ? (_.default.instance.worldMatchHasEnoughCoins() || T.default.instance.setCoins(new w.default(_.default.instance.getWorldMatchPrice())), t = cc.Canvas.instance.getComponentInChildren(v.default), (n = t.getComponentInChildren(s.default)) && (n.enabled = !1), (o = t.getComponentInChildren(L.default)) && (o.enabled = !1), (a = t.matching_btn.node) ? [4, Utils.delayTime(.04, t)] : [3, 2]) : [3, 2];
							case 1:
								i.sent(), a.isValid && (l = !1, u = this.getAnimParent(), d = Utils.covertToNodeSpaceAR(a, u, cc.Vec2.ZERO), f = Utils.getScaleInHierarchy(a), c.default.show({
									maskType: cc.Mask.Type.RECT,
									maskWidth: a.width * f.x,
									maskHeight: a.height * f.y,
									maskPosition: d,
									opacity: 192
								}).then(function () {
									a.isValid && !l || c.default.close()
								}), p.default.playHandClickAnimation(d, "", 0, u).then(function (e) {
									(!a.isValid || e && l) && b.default.removeNode(e)
								}), h.default.show("Let's fight with other players", new cc.Vec2(50, -200).addSelf(d), u).then(function (e) {
									(!a.isValid || e && l) && b.default.removeNode(e)
								}), a.once("click", function () {
									l = !0, e.instance.finishGuide(r.Pvp), c.default.close(), p.default.stopHandAnimation(u), h.default.hide()
								}, this)), i.label = 2;
							case 2:
								return [2]
						}
					})
				})
			}, e.prototype.tryToFinishSuperLineGuide = function () {
				return o(this, void 0, void 0, function () {
					return i(this, function (t) {
						if (e.instance.needGuide(r.SuperLine)) {
							if (0 == DataBus.user.superLineTimes) return [2, m.default.instance.showGuide()];
							e.instance.finishGuide(r.SuperLine)
						}
						return [2]
					})
				})
			}, e.prototype.tryToShowPvpOpenGuide = function () {
				return o(this, void 0, void 0, function () {
					var t, n, o;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return e.instance.needGuide(r.PvpOpen) ? (t = DataBus.user.level, S.default.instance.getPvpOpenLevel() != t ? [3, 4] : [4, C.default.show()]) : [3, 4];
							case 1:
								return n = i.sent(), e.instance.finishGuide(r.PvpOpen), n ? (o = cc.Canvas.instance.getComponentInChildren(a.default)) ? (Utils.setAllBtnsEnabled(o.node, !1), [4, o.receivePrizeAndClose()]) : [3, 3] : [3, 4];
							case 2:
								i.sent(), i.label = 3;
							case 3:
								P.default.instance.enterHome(), i.label = 4;
							case 4:
								return [2]
						}
					})
				})
			}, e._instance = null, e
		}();
		n.default = D, window.GuideLogic = D, cc._RF.pop()
	}, {
		"../../Base/UserInfoBtn": "UserInfoBtn",
		"../../Config/EventID": "EventID",
		"../../Config/ServerConfig": "ServerConfig",
		"../../Data/EconomicLogic": "EconomicLogic",
		"../../Lib/bignumber": "bignumber",
		"../../Res/ResLoader": "ResLoader",
		"../../Ui/base/ActionScaleIn": "ActionScaleIn",
		"../../Ui/game/AfterGameLayer": "AfterGameLayer",
		"../../Ui/superLine/SuperLineLogic": "SuperLineLogic",
		"../HomeScene": "HomeScene",
		"../Router": "Router",
		"../game/pvp/PvpLogic": "PvpLogic",
		"../game/pvp/PvpOpenLayer": "PvpOpenLayer",
		"../game/pvp/WorldMatchLayer": "WorldMatchLayer",
		"../home/HomeUi": "HomeUi",
		"../home/UpgradeLayer": "UpgradeLayer",
		"../home/UpgradeLogic": "UpgradeLogic",
		"../home/UpgradePanel": "UpgradePanel",
		"./GuideTips": "GuideTips",
		"./HandEffect": "HandEffect",
		"./MaskLayer": "MaskLayer"
	}],
	GuideTips: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "77499vMNDhI+J0QhvxNHUBX", "GuideTips");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Effect/EffectMgr"),
			c = e("../../Res/ResLoader"),
			l = cc._decorator,
			u = l.ccclass,
			d = l.property,
			f = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.label = null, t
				}
				var n;
				return o(t, e), n = t, t.prototype.setString = function (e) {
					var t = this.label;
					t.fontSize = 18;
					t.string = e, t._updateRenderData && t._updateRenderData(!0), t._forceUpdateRenderData && t._forceUpdateRenderData(), this.node.width = t.node.width + 100, this.node.height = t.node.height + 48
				}, t.prototype.show = function () {
					this.node.scale = 0, this.node.opacity = 0;
					this.node.stopAllActions(), this.node.runAction(cc.spawn(cc.fadeIn(.5), cc.scaleTo(.5, 1).easing(cc.easeElasticOut(.3))))
				}, t.prototype.hide = function () {
					var e = this;
					this.node.stopAllActions(), this.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(function () {
						c.default.removeNode(e.node)
					})))
				}, t.showUnique = function (e, t, n, o) {
					return r(this, void 0, void 0, function () {
						var i;
						return a(this, function (r) {
							switch (r.label) {
								case 0:
									return i = null, this._uniquePromise ? [4, this._uniquePromise] : [3, 2];
								case 1:
									return i = r.sent(), this._setParam(i, t, n, o), [3, 4];
								case 2:
									return this._uniquePromise = this.show(t, n, o), [4, this._uniquePromise];
								case 3:
									i = r.sent(), r.label = 4;
								case 4:
									return i && (i.name = e), [2, i]
							}
						})
					})
				}, t.show = function (e, t, n) {
					return r(this, void 0, void 0, function () {
						var o;
						return a(this, function (i) {
							switch (i.label) {
								case 0:
									return [4, s.default.play("Prefab/effect/guideTips")];
								case 1:
									return o = i.sent(), [2, this._setParam(o, e, t, n)]
							}
						})
					})
				}, t._setParam = function (e, t, o, i) {
					if (e) {
						e.setPosition(o), e.parent = i || cc.Canvas.instance.node;
						var r = e.getComponent(n);
						return r.setString(t), r.show(), e
					}
				}, t.hide = function (e) {
					e || (e = cc.Canvas.instance.node), e.getComponentsInChildren(n).map(function (e) {
						return e.hide()
					}), this._uniquePromise = null
				}, t._uniquePromise = null, i([d(cc.Label)], t.prototype, "label", void 0), t = n = i([u], t)
			}(cc.Component);
		n.default = f, cc._RF.pop()
	}, {
		"../../Effect/EffectMgr": "EffectMgr",
		"../../Res/ResLoader": "ResLoader"
	}],
	HandAnim: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a89d7zyIVFPdIflAff2YJjK", "HandAnim");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = (r.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.start = function () { }, t.prototype.showHandClickAction = function (e) {
					this.node.active = !0, this.node.stopAllActions(), this.node.runAction(cc.fadeIn(0)), this.node.position = e, this.node.getComponent(cc.Animation).play("hand_click")
				}, t.prototype.showHandSlipAction = function (e, t) {
					this.node.active = !0, this.node.getComponent(cc.Animation).play("hand_slip"), this.node.stopAllActions(), this.node.position = e, this.node.runAction(cc.repeatForever(cc.sequence(cc.place(e), cc.fadeIn(0), cc.moveTo(.8, t).easing(cc.easeSineOut()), cc.fadeOut(.5), cc.delayTime(.3))))
				}, t = i([a], t)
			}(cc.Component));
		n.default = s, cc._RF.pop()
	}, {}],
	HandEffect: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f0237xulPlEkJ3RhD2A57Su", "HandEffect");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Effect/EffectMgr"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.stopHandAnimation = function (e) {
					s.default.remove(this.url, e)
				}, t.playHandSlipAnimation = function (e, t, o, i) {
					return r(this, void 0, void 0, function () {
						var r;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return [4, s.default.playSingleton(this.url, e, i)];
								case 1:
									return (r = a.sent()) && r.getComponent(n).playHandSlipAnimation(t.sub(e), o), [2, r]
							}
						})
					})
				}, t.playHandClickAnimation = function (e, t, o, i) {
					return r(this, void 0, void 0, function () {
						var r;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return [4, s.default.playSingleton(this.url, e, i)];
								case 1:
									return (r = a.sent()) && r.getComponent(n).playHandClickAnimation(t, o), [2, r]
							}
						})
					})
				}, t.prototype.playHandSlipAnimation = function (e, t) {
					var n = this.node.getChildByName("hand"),
						o = this.node.getChildByName("arrow"),
						i = this.node.getChildByName("lbl").getComponent(cc.Label),
						r = this.node.getChildByName("circle");
					r.setPosition(e), r.active = !1, n.angle = t;
					n.stopAllActions(), n.runAction(cc.repeatForever(cc.sequence(cc.place(cc.Vec2.ZERO), cc.moveTo(1, e), cc.callFunc(function () { }), cc.delayTime(.2)))), o.active = !0, o.angle = cc.misc.radiansToDegrees(Math.atan2(e.y, e.x)), o.width = e.len(), i.node.active = !1
				}, t.prototype.playHandClickAnimation = function (e, t) {
					var n = this,
						o = this.node.getChildByName("hand"),
						i = this.node.getChildByName("arrow"),
						r = this.node.getChildByName("lbl").getComponent(cc.Label),
						a = this.node.getChildByName("circle");
					i.active = !1, e ? (r.node.active = !0, r.string = e, r._updateRenderData && r._updateRenderData(!0), r._forceUpdateRenderData && r._forceUpdateRenderData()) : r.node.active = !1;
					var s = cc.misc.degreesToRadians(t - 60),
						c = new cc.Vec2(Math.cos(s), Math.sin(s)).mulSelf(70),
						l = e ? new cc.Vec2(r.node.width / 2, -r.node.height / 2) : cc.Vec2.ZERO,
						u = l.add(c);
					a.setPosition(l), a.active = !1, o.angle = t;
					o.stopAllActions(), o.runAction(cc.repeatForever(cc.sequence(cc.place(u), cc.moveTo(1, l), cc.callFunc(function () {
						n._runCircleAnimation()
					}), cc.delayTime(.2))))
				}, t.prototype._runCircleAnimation = function () {
					var e = this.node.getChildByName("circle");
					e.active = !0, e.scale = 1, e.opacity = 255;
					e.stopAllActions(), e.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2, 3), cc.fadeOut(.2)), cc.callFunc(function () {
						e.active = !1
					})))
				}, t.url = "game_newbie://dynamic/prefab_effect/hand_anim", t = n = i([l], t)
			}(cc.Component));
		n.default = u, cc._RF.pop()
	}, {
		"../../Effect/EffectMgr": "EffectMgr"
	}],
	HelpBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "71b7f8KgINGb7GAti+S0ZRO", "HelpBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/SoundID"),
			a = e("./HelpLayer"),
			s = e("../../Runtime/ChallengeScene"),
			c = e("./ChallengeHelpLayer"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.onClick = function (e) {
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), SoundMgr.play(r.default.btn), s.default.instance ? c.default.show() : a.default.show()
				}, t = i([u], t)
			}(cc.Component));
		n.default = d, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../../Runtime/ChallengeScene": "ChallengeScene",
		"./ChallengeHelpLayer": "ChallengeHelpLayer",
		"./HelpLayer": "HelpLayer"
	}],
	HelpLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "86a5992OoZP0KPumEkwJ+pY", "HelpLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.HelpLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = e("./HelpBtn"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, s.menu),
			u = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.HelpLayerParam = u;
		var d = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				var t = this.getMaskNode();
				t && (t.stopAllActions(), t.opacity = 180), e.prototype.onLoad.call(this), n._instance = this
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this), n._instance = null
			}, t.prototype.onDataLoad = function () { }, t.prototype.close = function () {
				var t = this,
					n = cc.Canvas.instance.getComponentInChildren(a.default);
				if (n) {
					var o = this.getMaskNode();
					o && (o.stopAllActions(), o.opacity = 0);
					var i = Utils.covertToNodeSpaceAR(n.node, this.node.parent, cc.Vec2.ZERO);
					this.node.stopAllActions(), this.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5, 0).easing(cc.easeSineOut()), cc.moveTo(.5, i).easing(cc.easeSineOut())), cc.callFunc(function () {
						t.node.destroy()
					})))
				} else e.prototype.close.call(this)
			}, t.show = function (e) {
				var t = new u;
				return t.onClose = function () {
					return e && e()
				}, ui.showLayer(n, t)
			}, t.close = function () {
				n._instance && n._instance.close()
			}, t.prefabName = "game_newbie://dynamic/layer/helpLayer", t._instance = null, t = n = i([c, l("Layer/HelpLayer")], t)
		}(r.default);
		n.default = d, window.HelpLayer = d, cc._RF.pop()
	}, {
		"../base/LayerBase": "LayerBase",
		"./HelpBtn": "HelpBtn"
	}],
	HomeScene: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "bfe85H/Z1pFY4/ZQ8mO152n", "HomeScene");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../Config/SoundID"),
			c = e("../Config/ReportID"),
			l = e("./YdsdkBridge"),
			u = e("../Ui/Ui"),
			d = e("../Res/ResLoader"),
			p = cc._decorator,
			h = p.ccclass,
			y = (p.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.loadSubPackage = function (e) {
					return void 0 === e && (e = !0), r(this, void 0, void 0, function () {
						var t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return t = !0, [4, d.default.getBundle("home", e)];
								case 1:
									return t = n.sent() && t, [4, d.default.getBundle("common", e)];
								case 2:
									return [2, t = n.sent() && t]
							}
						})
					})
				}, t.loadSubPackageOnEntered = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return [4, Utils.delayTime(.5)];
								case 1:
									return n.sent(), e = !1, t = !0, [4, d.default.getBundle("game_newbie", e)];
								case 2:
									return t = n.sent() && t, [4, d.default.getBundle("game", e)];
								case 3:
									return [2, t = n.sent() && t]
							}
						})
					})
				}, t.enterScene = function (e) {
					return void 0 === e && (e = !0), r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return [4, n.loadSubPackage(e)];
								case 1:
									return t.sent(), n.instance ? [3, 3] : [4, ui.switchScene(n)];
								case 2:
									t.sent(), t.label = 3;
								case 3:
									return this.loadSubPackageOnEntered(), [2]
							}
						})
					})
				}, t.prototype.onLoad = function () {
					n.instance = this, Server.reportClick(c.default.scene1), l.default.instance.onWeidu(105), this.scheduleOnce(function () {
						SoundMgr.playMusic(s.default.bgm)
					}, .3)
				}, t.prototype.onDestroy = function () {
					SoundMgr.stopMusic(), n.instance = null
				}, t.resumeMusic = function (e) {
					return r(this, void 0, void 0, function () {
						var t;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return n.instance ? (t = n.instance.getComponent(u.SceneCtrl)) && t.isClosing ? [3, 6] : (e && console.log(e), sdk.isIos ? [4, Utils.delayTime(.2)] : [3, 4]) : [3, 6];
								case 1:
									return o.sent(), cc.audioEngine.resumeAll(), [4, Utils.delayTime(.2)];
								case 2:
									return o.sent(), SoundMgr.stopMusic(), [4, Utils.delayTime(.2)];
								case 3:
									return o.sent(), SoundMgr.playMusic(s.default.bgm), [3, 6];
								case 4:
									return [4, Utils.delayTime(.1)];
								case 5:
									o.sent(), cc.audioEngine.resumeAll(), SoundMgr.playMusic(s.default.bgm), o.label = 6;
								case 6:
									return [2]
							}
						})
					})
				}, t.prefabName = "home://dynamic/scene/homeScene", t.instance = null, t = n = i([h], t)
			}(cc.Component));
		n.default = y, cc._RF.pop()
	}, {
		"../Config/ReportID": "ReportID",
		"../Config/SoundID": "SoundID",
		"../Res/ResLoader": "ResLoader",
		"../Ui/Ui": "Ui",
		"./YdsdkBridge": "YdsdkBridge"
	}],
	HomeUi: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "c06acr+zbZDNZRuCJ75bKcx", "HomeUi");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Config/SoundID"),
			c = e("../../Ui/setting/SettingLayer"),
			l = e("../../Ui/rank/RankLayer"),
			u = e("../editor/EditorScene"),
			d = e("../../Base/Share"),
			f = e("../../Base/ShareTypes"),
			p = e("../skin/SkinScene"),
			h = e("../../Ui/other/CheatLayer"),
			y = e("../editor/EditorFixedScene"),
			g = e("../../Config/GameConfig"),
			_ = e("./UpgradeLayer"),
			v = e("../Router"),
			b = e("../guide/GuideLogic"),
			m = e("../../Config/EventID"),
			w = e("../guide/HandEffect"),
			S = e("./UpgradeObject"),
			C = e("./UpgradeLogic"),
			P = e("../../Data/wxsdk"),
			L = e("../../Base/FeedbackBtn"),
			T = e("../../Base/StatusStack"),
			D = e("../../Config/StatusStackID"),
			B = e("../../Config/ReportID"),
			k = e("../YdsdkBridge"),
			R = e("../../Ui/challenge/ChallengeLayer"),
			E = e("../../Ui/challenge/ChallengeLogic"),
			I = e("../../Ui/wheel/WheelLayer"),
			O = e("../../Ui/balloon/BalloonLogic"),
			A = e("../../Ui/balloon/BalloonLayer"),
			x = e("../game/pvp/WorldMatchLayer"),
			N = e("../game/pvp/PvpUiHelper"),
			M = e("../game/pvp/PvpLogic"),
			F = e("../../Ui/bank/BankLayer"),
			j = e("../../Ui/ads/SideAdsLayer"),
			U = e("../../Base/AdsMgr"),
			V = e("../../Ui/ads/TrialAdsLayer"),
			G = e("../../Ui/ads/TrialAdsLogic"),
			H = e("../../Ui/signIn/SignInLayer"),
			z = e("../../Ui/signIn/SignInLogic"),
			W = e("../guide/MaskLayer"),
			q = e("../../Ui/bank/BankLogic"),
			Y = e("../../Ui/newbieGift/NewbieGiftLogic"),
			K = e("../../Ui/superLine/SuperLineLogic"),
			Q = e("../../Ui/invite/InviteLogic"),
			X = e("../../Ui/invite/InviteLayer"),
			$ = e("../../Ui/vip/VipLayer"),
			ee = e("../../Ui/vip/VipLogic"),
			te = e("../../Ui/dailyTask/DailyTaskLayer"),
			ne = e("../../Ui/dailyTask/DailyTaskSystem"),
			oe = e("../../Ui/dailyTask/DailyTaskTypes"),
			ie = e("../../Ui/newbieEffect/NewbieEffectLogic"),
			re = e("../../Ui/skin2/Skin2Layer"),
			ae = e("../../Ui/skin2/Skin2Defines"),
			se = cc._decorator,
			ce = se.ccclass,
			le = (se.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._guideUiHasShow = !1, t
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					Utils.loadVarFromNode(this.node, "$", this)
				}, t.prototype.start = function () {
					var e = this;
					if(newLogin){
						newLogin = false;
						showBannerMini();
					}
					this.contact_us_btn.node.active = false;
					(this.updateDebugVisible(), n.hasLayerToShow || b.default.instance.exactNeedGuide(b.GuideStep.SuperLine) && b.default.instance.tryToFinishSuperLineGuide().then(function () {
						e.tryToShowUpgradeBtnGuide()
					}), n.hasLayerToShow || this.tryToShowUpgradeBtnGuide(), this.setPopVisible(!1), cc.systemEvent.on(m.default.OPEN_LAYER, this.onLayerOpen, this), cc.systemEvent.on(m.default.CLOSE_LAYER, this.onLayerClosed, this), n.hasLayerToShow || this.showPlayGameGuide(0), n.hasLayerToShow || b.default.instance.tryToShowPvpBtnGuide(), this.finishPvpOpenGuide(), cc.systemEvent.on(m.default.UPDATE_LEVEL, this.updateLevelLbl, this), this.updateLevelLbl(), this.autoPopLayer(), this.sign_in_badage.active = z.default.instance.hasBadage(), this.challenge_badage.active = E.default.instance.hasBadage(), this.updateBalloonBtn(), cc.systemEvent.on(m.default.UPDATE_BALLOON, this.updateBalloonBtn, this), this.onSeasonChanged(), cc.systemEvent.on(m.default.SEASON_CHANGED, this.onSeasonChanged, this), this.onAdsChanged(), cc.systemEvent.on(m.default.INSIDE_ADS_CHANGED, this.onAdsChanged, this), cc.systemEvent.on(m.default.INSIDE_ADS_CLICKED, this.onAdsChanged, this), this.side_ads_badage.active = !0, T.default.instance.addStatus(D.default.feedback, "home", !0), this.more_node.active = !1, this.more_drawer_node.y = this.more_drawer_node.height, this.more_arrow.angle = 180, this.updateBankBadage(), this.updateFeedbackBtn(), this.super_line_badage.active = !0, this.onInviteGiftChanged(), cc.systemEvent.on(m.default.INVITE_GIFT_CHANGED, this.onInviteGiftChanged, this), this.invite_badage.active = !0, this.vip_badage.active = !0, this.onDailyTaskChanged(), cc.systemEvent.on(m.default.DAILY_TASK_RECEIVE, this.onDailyTaskChanged, this), this.updateBottomUiPos(), P.default.isQg() || P.default.isTT()) && (this.more_drawer_node.getChildByName("ranking_btn").active = !1, this.contact_us_btn.node.active = !1)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(m.default.OPEN_LAYER, this.onLayerOpen, this), cc.systemEvent.off(m.default.CLOSE_LAYER, this.onLayerClosed, this), cc.systemEvent.off(m.default.UPDATE_LEVEL, this.updateLevelLbl, this), cc.systemEvent.off(m.default.UPDATE_BALLOON, this.updateBalloonBtn, this), cc.systemEvent.off(m.default.SEASON_CHANGED, this.onSeasonChanged, this), cc.systemEvent.off(m.default.INSIDE_ADS_CHANGED, this.onAdsChanged, this), cc.systemEvent.off(m.default.INSIDE_ADS_CLICKED, this.onAdsChanged, this), cc.systemEvent.off(m.default.INVITE_GIFT_CHANGED, this.onInviteGiftChanged, this), cc.systemEvent.off(m.default.DAILY_TASK_RECEIVE, this.onDailyTaskChanged, this), Utils.delayTime(.02).then(function () {
						T.default.instance.clearStatus(D.default.feedback)
					}), n.hasLayerToShow = !1
				}, t.prototype.onLayerOpen = function (e) {
					T.default.instance.addStatus(D.default.feedback, e.uuid, !1)
				}, t.prototype.onLayerClosed = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							return T.default.instance.removeStatus(D.default.feedback, e.uuid), e instanceof x.default && !e.success && (b.default.instance.exactNeedGuide(b.GuideStep.PlayGame) && this.showPlayGameGuide(2.8), this.tryToShowUpgradeBtnGuide()), e instanceof V.default && this.onAdsChanged(), e instanceof H.default && (this.sign_in_badage.active = z.default.instance.hasBadage()), e instanceof F.default && this.updateBankBadage(), e instanceof x.default && !e.success && this.autoPopLayer(), e instanceof j.default && (n.hasLayerToShow = !1, this.autoPopLayer()), [2]
						})
					})
				}, t.prototype.autoPopLayer = function () {
					return r(this, void 0, void 0, function () {
						var e, t, o, i = this;
						return a(this, function (s) {
							switch (s.label) {
								case 0:
									return n.hasLayerToShow ? [2] : b.default.instance.isGuideFinished() ? [4, C.default.instance.checkOldLevel()] : [3, 7];
								case 1:
									return s.sent(), e = 2, t = 0, [4, (o = function (n) {
										return r(i, void 0, void 0, function () {
											var o;
											return a(this, function (i) {
												switch (i.label) {
													case 0:
														return t < e && this.isValid ? (o = n.canShowLayer()) instanceof Promise ? [4, o] : [3, 2] : [3, 5];
													case 1:
														o = i.sent(), i.label = 2;
													case 2:
														return o ? (t += 1, Utils.setAllBtnsEnabled(this.node, !1), [4, Utils.delayTime(.2, this)]) : [3, 5];
													case 3:
														return i.sent(), [4, n.tryToShowLayer()];
													case 4:
														return i.sent(), this.isValid && Utils.setAllBtnsEnabled(this.node, !0), [2, !0];
													case 5:
														return [2, !1]
												}
											})
										})
									})(ie.default.instance)];
								case 2:
									return s.sent(), [4, o(Y.default.instance)];
								case 3:
									return s.sent(), [4, o(z.default.instance)];
								case 4:
									return s.sent(), [4, o(Q.default.instance)];
								case 5:
									return s.sent(), [4, o(ee.default.instance)];
								case 6:
									s.sent(), s.label = 7;
								case 7:
									return [2]
							}
						})
					})
				}, t.prototype.showPlayGameGuide = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o, i, r = this;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return b.default.instance.exactNeedGuide(b.GuideStep.PlayGame) ? !(t = this.start_btn.node) || this._guideUiHasShow ? [3, 3] : [4, Utils.delayTime(.04, this)] : [3, 3];
								case 1:
									return a.sent(), !t.isValid || this._guideUiHasShow ? [3, 3] : (this._guideUiHasShow = !0, this.setPopVisible(!0), n = this.node, o = !1, t.once("click", function () {
										b.default.instance.finishGuide(b.GuideStep.PlayGame), r.setPopVisible(!1), w.default.stopHandAnimation(n), o = !0
									}, this), [4, Utils.delayTime(e, this)]);
								case 2:
									a.sent(), o || (i = Utils.covertToNodeSpaceAR(t, n, new cc.Vec2(100, 0)), w.default.playHandClickAnimation(i, "", 0, n)), a.label = 3;
								case 3:
									return [2]
							}
						})
					})
				}, t.prototype.setPopVisible = function (e) {
					var t = this.getComponentsInChildren(S.default).filter(function (e) {
						return e.type == C.UpgradeType.role
					})[0];
					if (t) {
						var n = t.node.getChildByName("pop");
						n && (n.zIndex = 1, n.active = e)
					}
				}, t.prototype.tryToShowUpgradeBtnGuide = function () {
					return r(this, void 0, void 0, function () {
						var e = this;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return b.default.instance.exactNeedGuide(b.GuideStep.Upgrade) ? (Utils.setAllBtnsEnabled(this.node, !1), [4, Utils.delayTime(.35, this)]) : [3, 2];
								case 1:
									t.sent(), b.default.instance.tryToShowUpgradeBtnGuide().then(function () {
										e.isValid && Utils.setAllBtnsEnabled(e.node, !0)
									}), t.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.prototype.finishPvpOpenGuide = function () {
					b.default.instance.needGuide(b.GuideStep.PvpOpen) && b.default.instance.finishGuide(b.GuideStep.PvpOpen)
				}, t.prototype.updateLevelLbl = function () {
					this.level_lbl && (this.level_lbl.string = "" + (DataBus.user.level + 1))
				}, t.prototype.updateDebugVisible = function () {
					var e = this.edit_btn.node,
						t = this.cheat_btn.node;
					e.active = g.GameConfig.DEBUG && !P.default.isWX(), t.active = g.GameConfig.DEBUG
				}, t.prototype.updateFeedbackBtn = function () {
					var e = this.getComponentInChildren(L.default);
					e && (P.default.isQQ() || P.default.isQg() || P.default.isTT() ? e.node.active = !1 : this.schedule(function () {
						e.updateSize()
					}, .2, 5, .02))
				}, t.prototype.updateBottomUiPos = function () {
					var e = cc.view.getVisibleSize(),
						t = e.height / e.width,
						n = 50 + 250 * cc.misc.clamp01((t - 16 / 9) / (20 / 9 - 16 / 9));
					this.bottom_ui.y = n;
					
				}, t.prototype.onSeasonChanged = function () {
					N.default.instance.setPlayerDisplay(this.node, this, M.default.instance.getLocalPlayerInfo())
				}, t.prototype.updateBalloonBtn = function () {
					var e = O.default.instance.canShowBtn();
					this._setBalloonBtnVisible(e)
				}, t.prototype._setBalloonBtnVisible = function (e) {
					this.balloon_btn.node.active = e
				}, t.prototype.onBtnBalloonClick = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return SoundMgr.play(s.default.btn), this._setBalloonBtnVisible(!1), Utils.setAllBtnsEnabled(this.node, !1), [4, A.default.show()];
								case 1:
									return e.sent(), O.default.instance.schedule(), Utils.setAllBtnsEnabled(this.node, !0), [2]
							}
						})
					})
				}, t.prototype.onBtnSettingClick = function (e) {
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), SoundMgr.play(s.default.btn), ui.showLayer(c.default)
				}, t.prototype.onBtnShopClick = function (e) {
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), SoundMgr.play(s.default.btn), p.default.enterScene()
				}, t.prototype.onBtnRankClick = function (e) {
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), SoundMgr.play(s.default.btn), ui.showLayer(l.default)
				}, t.prototype.onBtnLotteryClick = function (e) {
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), SoundMgr.play(s.default.btn), ui.showLayer(I.default)
				}, t.prototype.onBtnEditClick = function (e) {
					return r(this, void 0, void 0, function () {
						var t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return t = e.target, Utils.disableAllBtnsAmoment(t, .2, this), SoundMgr.play(s.default.btn), g.GameConfig.EIGHT_RULE ? [4, y.default.enterScene()] : [3, 2];
								case 1:
									return n.sent() || Utils.setAllBtnsEnabled(this.node, !0), [3, 4];
								case 2:
									return [4, u.default.enterScene()];
								case 3:
									n.sent() || Utils.setAllBtnsEnabled(this.node, !0), n.label = 4;
								case 4:
									return [2]
							}
						})
					})
				}, t.prototype.onBtnCheatClick = function (e) {
					console.log(1)
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), SoundMgr.play(s.default.btn), ui.showLayer(h.default)
				}, t.prototype.onBtnShareClick = function (e) {
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), SoundMgr.play(s.default.btn), d.default.shareWithoutCallback(f.SharePos.Main)
				}, t.prototype.onBtnUpgradeClick = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return SoundMgr.play(s.default.btn), C.default.instance.hasUpgrade() ? Server.reportClick(B.default.up25) : Server.reportClick(B.default.up26), Utils.setAllBtnsEnabled(this.node, !1), [4, ui.showLayer(_.default)];
								case 1:
									return e.sent(), this.isValid && Utils.setAllBtnsEnabled(this.node, !0), [2]
							}
						})
					})
				}, t.prototype.onBtnPlayClick = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return Server.reportClick(B.default.home1), k.default.instance.onWeidu(108), SoundMgr.play(s.default.btn), Utils.setAllBtnsEnabled(this.node, !1), [4, v.default.instance.canEnterGame(void 0, !0, "start")];
								case 1:
									return o.sent() ? (t = e.target, n = t.convertToWorldSpaceAR(cc.Vec2.ZERO), [4, v.default.instance.enterGame(void 0, n)]) : [3, 3];
								case 2:
									o.sent(), k.default.instance.onWeidu(2), o.label = 3;
								case 3:
									return this.isValid && Utils.setAllBtnsEnabled(this.node, !0), [2]
							}
						})
					})
				}, t.prototype.onBtnChallengeClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), R.default.show()
				}, t.prototype.onBtnPvpClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .5, this), x.default.show(!1), w.default.stopHandAnimation(cc.Canvas.instance.node), W.default.close()
				}, t.prototype.onBtnBankClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), ui.showLayer(F.default)
				}, t.prototype.onBtnSkinClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), re.default.show()
				}, t.prototype.onBtnCueShopClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), this.cue_shop_badage.active = !1, re.default.show(ae.Skin2Type.Cue)
				}, t.prototype.onAdsChanged = function () {
					var e = U.default.instance.isValid();
					this.side_ads_btn.node.active = e, this.trial_ads_btn.node.active = e, this.trial_ads_badage.active = e && G.default.instance.hasBadage()
				}, t.prototype.onBtnSideAdsClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), j.default.show(!0), this.side_ads_badage.active = !1
				}, t.prototype.onBtnTrialAdsClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), ui.showLayer(V.default)
				}, t.prototype.onBtnSignInClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), ui.showLayer(H.default)
				}, t.prototype.onBtnMoreOpenClick = function () {
					Utils.setAllBtnsEnabled(this.more_node, !0), this.more_open_btn.node.active = !1, this.more_node.active = !0, this.more_close2_btn.node.active = !0, this.more_drawer_node.stopAllActions(), this.more_drawer_node.runAction(cc.moveTo(.2, 0, 0)), this.more_arrow.active = !0, this.more_arrow.stopAllActions(), this.more_arrow.runAction(cc.rotateTo(.2, 0))
				}, t.prototype.onBtnMoreCloseClick = function () {
					var e = this;
					Utils.setAllBtnsEnabled(this.more_node, !1), this.more_close2_btn.node.active = !1, this.more_drawer_node.stopAllActions(), this.more_drawer_node.runAction(cc.sequence(cc.moveTo(.2, 0, this.more_drawer_node.height), cc.callFunc(function () {
						e.more_node.active = !1, e.more_open_btn.node.active = !0
					}))), this.more_arrow.stopAllActions(), this.more_arrow.runAction(cc.sequence(cc.rotateTo(.16, 180), cc.callFunc(function () {
						e.more_arrow.active = !1
					})))
				}, t.prototype.updateBankBadage = function () {
					this.more_open_badage.active = false;
					//this.bank_badage.active = q.default.instance.hasBadage()
				}, t.prototype.onBtnContactUsClick = function (e) {
					// SoundMgr.play(s.default.btn);
					// var t = e.target;
					// Utils.disableAllBtnsAmoment(t, .2, this), ui.showLayer(Z.default)
				}, t.prototype.onBtnSuperLineClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), this.super_line_badage.active = !1, K.default.instance.showLayer()
				}, t.prototype.onInviteGiftChanged = function () {
					P.default.isQg() || P.default.isTT() ? this.invite_btn.node.active = !1 : this.invite_btn.node.active = !1;
				}, t.prototype.onBtnInviteClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), this.invite_badage.active = !1, X.default.show()
				}, t.prototype.onBtnRoleClick = function (e) {
					// SoundMgr.play(s.default.btn);
					// var t = e.target;
					// Utils.disableAllBtnsAmoment(t, .2, this), re.default.show(ae.Skin2Type.Role)
				}, t.prototype.onBtnBuildingClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), ui.showLayer(_.default).then(function (e) {
						e.getComponent(_.default).switchToPanel(C.UpgradeType.building)
					})
				}, t.prototype.onBtnCarClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), ui.showLayer(_.default).then(function (e) {
						e.getComponent(_.default).switchToPanel(C.UpgradeType.car)
					})
				}, t.prototype.onBtnGardenClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), ui.showLayer(_.default).then(function (e) {
						e.getComponent(_.default).switchToPanel(C.UpgradeType.garden)
					})
				}, t.prototype.onBtnVipClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), this.vip_badage.active = !1, $.default.show()
				}, t.prototype.onDailyTaskChanged = function () {
					this.task_badage.active = false;
					// ne.default.instance.hasTaskNotFinish(oe.DailyTaskSetID.daily) || ne.default.instance.hasTaskNotFinish(oe.DailyTaskSetID.dailyActive) || ne.default.instance.hasTaskNotFinish(oe.DailyTaskSetID.weekly) || ne.default.instance.hasTaskNotFinish(oe.DailyTaskSetID.weeklyActive)
				}, t.prototype.onBtnTaskClick = function (e) {
					SoundMgr.play(s.default.btn);
					var t = e.target;
					Utils.disableAllBtnsAmoment(t, .2, this), te.default.show()
				}, t.hasLayerToShow = !1, t = n = i([ce], t)
			}(cc.Component));
		n.default = le, cc._RF.pop()
	}, {
		"../../Base/AdsMgr": "AdsMgr",
		"../../Base/FeedbackBtn": "FeedbackBtn",
		"../../Base/Share": "Share",
		"../../Base/ShareTypes": "ShareTypes",
		"../../Base/StatusStack": "StatusStack",
		"../../Config/EventID": "EventID",
		"../../Config/GameConfig": "GameConfig",
		"../../Config/ReportID": "ReportID",
		"../../Config/SoundID": "SoundID",
		"../../Config/StatusStackID": "StatusStackID",
		"../../Data/wxsdk": "wxsdk",
		"../../Ui/ads/SideAdsLayer": "SideAdsLayer",
		"../../Ui/ads/TrialAdsLayer": "TrialAdsLayer",
		"../../Ui/ads/TrialAdsLogic": "TrialAdsLogic",
		"../../Ui/balloon/BalloonLayer": "BalloonLayer",
		"../../Ui/balloon/BalloonLogic": "BalloonLogic",
		"../../Ui/bank/BankLayer": "BankLayer",
		"../../Ui/bank/BankLogic": "BankLogic",
		"../../Ui/challenge/ChallengeLayer": "ChallengeLayer",
		"../../Ui/challenge/ChallengeLogic": "ChallengeLogic",
		"../../Ui/dailyTask/DailyTaskLayer": "DailyTaskLayer",
		"../../Ui/dailyTask/DailyTaskSystem": "DailyTaskSystem",
		"../../Ui/dailyTask/DailyTaskTypes": "DailyTaskTypes",
		"../../Ui/invite/InviteLayer": "InviteLayer",
		"../../Ui/invite/InviteLogic": "InviteLogic",
		"../../Ui/newbieEffect/NewbieEffectLogic": "NewbieEffectLogic",
		"../../Ui/newbieGift/NewbieGiftLogic": "NewbieGiftLogic",
		"../../Ui/other/CheatLayer": "CheatLayer",
		"../../Ui/rank/RankLayer": "RankLayer",
		"../../Ui/setting/SettingLayer": "SettingLayer",
		"../../Ui/signIn/SignInLayer": "SignInLayer",
		"../../Ui/signIn/SignInLogic": "SignInLogic",
		"../../Ui/skin2/Skin2Defines": "Skin2Defines",
		"../../Ui/skin2/Skin2Layer": "Skin2Layer",
		"../../Ui/superLine/SuperLineLogic": "SuperLineLogic",
		"../../Ui/vip/VipLayer": "VipLayer",
		"../../Ui/vip/VipLogic": "VipLogic",
		"../../Ui/wheel/WheelLayer": "WheelLayer",
		"../Router": "Router",
		"../YdsdkBridge": "YdsdkBridge",
		"../editor/EditorFixedScene": "EditorFixedScene",
		"../editor/EditorScene": "EditorScene",
		"../game/pvp/PvpLogic": "PvpLogic",
		"../game/pvp/PvpUiHelper": "PvpUiHelper",
		"../game/pvp/WorldMatchLayer": "WorldMatchLayer",
		"../guide/GuideLogic": "GuideLogic",
		"../guide/HandEffect": "HandEffect",
		"../guide/MaskLayer": "MaskLayer",
		"../skin/SkinScene": "SkinScene",
		"./UpgradeLayer": "UpgradeLayer",
		"./UpgradeLogic": "UpgradeLogic",
		"./UpgradeObject": "UpgradeObject"
	}],
	HonorTitleLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "dd428g8t/1N4ItC4xZsQcQD", "HonorTitleLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.HonorTitleLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = e("./HonorTitleLogic"),
			s = e("../../Config/SoundID"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, c.menu),
			d = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.HonorTitleLayerParam = d;
		var f = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.selectedId = 0, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.init()
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () { }, t.prototype.init = function () {
				var e = this,
					t = DataBus.user.honorTitleList.sort(function (e, t) {
						return e - t
					}),
					n = a.default.instance.getLevel(),
					o = [];
				t.forEach(function (i, r) {
					var c = e.list_node.children[r];
					c || ((c = cc.instantiate(e.list_node.children[0])).parent = e.list_node);
					var l = {
						id: i
					};
					o.push(l), Utils.loadVarFromNode(c, "_", l), a.default.instance.loadSpriteFrame(l.honor_title_sp, i), t.length > 1 && (c.targetOff(e), c.on(cc.Node.EventType.TOUCH_END, function () {
						SoundMgr.play(s.default.btn), o.forEach(function (t) {
							return e.setSelected(t, i)
						})
					}, e)), e.setSelected(l, n)
				}), this.scheduleOnce(function () {
					e.contents.getComponent(cc.Layout).updateLayout(), e.getComponentsInChildren(cc.Widget).forEach(function (e) {
						return e.updateAlignment()
					})
				}, .04)
			}, t.prototype.setSelected = function (e, t) {
				t == e.id && t != this.selectedId ? (e.selected_bg.active = !0, e.select_tick.active = !0, e.bg.active = !1, this.selectedId = e.id) : t != e.id && (e.selected_bg.active = !1, e.select_tick.active = !1, e.bg.active = !0)
			}, t.prototype.onBtnOKClick = function () {
				SoundMgr.play(s.default.btn), Utils.disableAllBtnsAmoment(this.node, .2, this), DataBus.user.usedHonorTitle != this.selectedId && this.selectedId > 0 && (DataBus.user.usedHonorTitle = this.selectedId, DataBus.user.save()), this.close()
			}, t.show = function () {
				return new Promise(function (e, t) {
					var o = new d;
					o.onClose = e, ui.showLayer(n, o)
				})
			}, t.prefabName = "home://dynamic/layer/honorTitleLayer", t = n = i([l, u("Layer/HonorTitleLayer")], t)
		}(r.default);
		n.default = f, window.HonorTitleLayer = f, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../base/LayerBase": "LayerBase",
		"./HonorTitleLogic": "HonorTitleLogic"
	}],
	HonorTitleLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "030fae+paJOzYrWscmzsdNu", "HonorTitleLogic"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = e("../../Res/ResLoader"),
			i = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getLevel = function () {
					var e = DataBus.user.honorTitleList;
					if (0 == e.length) return 0;
					var t = DataBus.user.usedHonorTitle;
					return e.indexOf(t) > -1 ? t : e[0]
				}, e.prototype.addHonorTitle = function (e) {
					if (e >= 1 && e <= 3) {
						var t = DataBus.user.honorTitleList;
						if (-1 == t.indexOf(e)) return t.push(e), DataBus.user.honorTitleList = t, 0 == DataBus.user.usedHonorTitle && (DataBus.user.usedHonorTitle = e), !0
					}
					return !1
				}, e.prototype.getRes = function (e) {
					return "home://dynamic/altas/称号/称号_0" + e
				}, e.prototype.loadSpriteFrame = function (e, t) {
					if (e.__honor_title = t, t <= 0 || t > 3) e.node.active = !1;
					else {
						e.node.active = !0;
						var n = this.getRes(t);
						o.default.getSpriteFrameRes(n).then(function (n) {
							e.isValid && e.__honor_title == t && (e.spriteFrame = n)
						}).catch(function (e) {
							return console.error(e)
						})
					}
				}, e._instance = null, e
			}();
		n.default = i, window.HonorTitleLogic = i, cc._RF.pop()
	}, {
		"../../Res/ResLoader": "ResLoader"
	}],
	HttpHelper: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "134f81mvAtKIJf1ftGykacd", "HttpHelper"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = function () {
			function e() { }
			return e.get = function (e, t) {
				var n = cc.loader.getXMLHttpRequest();
				n.open("GET", e, !0), n.onreadystatechange = function () {
					if (4 == n.readyState)
						if (n.status >= 200 && n.status <= 207) {
							n.statusText;
							t(!0, n)
						} else t(!1, n)
				}, n.send()
			}, e.post = function (e, t, n) {
				var o = cc.loader.getXMLHttpRequest();
				o.open("POST", e), o.setRequestHeader("Content-Type", "application/x-www-form-urlencoded;charset=UTF-8"), o.onreadystatechange = function () {
					if (4 == o.readyState)
						if (o.status >= 200 && o.status <= 207) {
							o.statusText;
							n(!0, o)
						} else n(!1, o)
				}, o.send(t)
			}, e
		}();
		n.default = o, cc._RF.pop()
	}, {}],
	InterAdMgr: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "1a006t0motNtL+Ayf2Ket59", "InterAdMgr");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}();
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var i = e("../Config/EventID"),
			r = e("../Config/ServerConfig"),
			a = e("../Runtime/guide/GuideLogic"),
			s = e("../Runtime/GameScene"),
			c = e("../Ui/Ui"),
			l = e("../Runtime/ChallengeScene"),
			u = e("../Runtime/game/pvp/PvpScene"),
			d = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._showInterAdTimer = 0, t
				}
				return o(t, e), Object.defineProperty(t, "instance", {
					get: function () {
						return this._instance || (this._instance = new t)
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.init = function () {
					cc.systemEvent.on(i.default.CLOSE_LAYER, this.onLayerClosed, this)
				}, t.prototype.onLayerClosed = function (e) {
					if (a.default.instance.isGuideFinished()) {
						var t;
						if (s.default.instance)
							if (!(t = s.default.instance.getComponent(c.SceneCtrl)) || !t.isClosing) return void console.log("[插屏]游戏界面不显示插屏广告");
						if (l.default.instance)
							if (!(t = l.default.instance.getComponent(c.SceneCtrl)) || !t.isClosing) return void console.log("[插屏]挑战界面不显示插屏广告");
						if (u.default.instance)
							if (!(t = u.default.instance.getComponent(c.SceneCtrl)) || !t.isClosing) return void console.log("[插屏]对战界面不显示插屏广告");
						for (var n = 0, o = r.default.instance.getInterAdWhiteList(); n < o.length; n++) {
							var i = o[n];
							if (e instanceof i) return void console.log("[插屏]弹窗" + i.prefabName + "不显示插屏广告")
						}
						this.tryToShowInterAd()
					} else console.log("[插屏]新手引导未完成，不显示插屏广告")
				}, t.prototype.tryToShowInterAd = function () {
					clearTimeout(this._showInterAdTimer), this._showInterAdTimer = setTimeout(function () {
						if (ui.instance.layerRoot.childrenCount > 0 || ui.instance.getLayerQueueLength() > 0) console.log("[插屏]有弹窗, 不显示插屏广告");
						else if (sdk.hasInterAd()) {
							var e = 100 * Math.random(),
								t = r.default.instance.getInterAdChance();
							e >= t ? console.log("[插屏]随机数" + e + ", 下发几率" + t + ", 几率未达成, 不显示插屏广告") : showInterstitialMini()
						} else console.log("[插屏]插屏广告尚未加载好")
					}, 250)
				}, t._instance = null, t
			}(cc.Component);
		n.default = d, cc._RF.pop()
	}, {
		"../Config/EventID": "EventID",
		"../Config/ServerConfig": "ServerConfig",
		"../Runtime/ChallengeScene": "ChallengeScene",
		"../Runtime/GameScene": "GameScene",
		"../Runtime/game/pvp/PvpScene": "PvpScene",
		"../Runtime/guide/GuideLogic": "GuideLogic",
		"../Ui/Ui": "Ui"
	}],
	InviteLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "bad0cOzGoVGI445a2IXkMEq", "InviteLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.InviteLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = e("./InviteLogic"),
			l = e("../../Config/SoundID"),
			u = e("../../Res/ResLoader"),
			d = e("../../Runtime/game/PoolGlobal"),
			f = cc._decorator,
			p = f.ccclass,
			h = f.property,
			y = f.menu,
			g = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.InviteLayerParam = g;
		var _ = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.avatarSf = null, t.btnSf = null, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				var t = this;
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.updateLabel(), this.updateListNode({
					invite_num: 0,
					list: []
				}), this.loadData(), this.no_remind_toggle.node.active = !1, DataBus.other.inviteNoRemind || (DataBus.other.inviteNoRemind = !0, DataBus.other.save());
				var n = c.default.instance.getCueId(),
					o = d.default.getCueRes(n);
				u.default.getNodeRes(o).then(function (e) {
					t.isValid ? e.parent = t.cue_node : u.default.removeNode(e)
				})
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this), sdk.hideLoading()
			}, t.prototype.onDataLoad = function () { }, t.prototype.loadData = function () {
				return r(this, void 0, void 0, function () {
					var e, t;
					return a(this, function (n) {
						switch (n.label) {
							case 0:
								return Utils.setAllBtnsEnabled(this.node, !1), (e = this.getCloseBtn()) && Utils.setAllBtnsEnabled(e, !0), sdk.showLoading("加载中...", !1), [4, c.default.instance.getServerData()];
							case 1:
								return t = n.sent(), sdk.hideLoading(), this.isValid && (t ? (this.updateLabel(), this.updateListNode(t), this.checkFinished()) : (this.close()), Utils.setAllBtnsEnabled(this.node, !0)), [2]
						}
					})
				})
			}, t.prototype.updateLabel = function () {
				this.number_lbl.string = "" + c.default.instance.getInviteNumber()
			}, t.prototype.updateListNode = function (e) {
				for (var t = this.list_node, n = c.default.instance.getInviteTotalNumber(), o = 0; o < n; ++o) {
					var i = t.children[o];
					i || ((i = cc.instantiate(t.children[0])).parent = t);
					var r = e.list[o],
						a = cc.find("mask/avatar", i).getComponent(cc.Sprite);
					r ? (Utils.loadImage(a, r.avatar, null, this.avatarSf), Utils.unbindBtnEvent(i)) : (Utils.loadImage(a, "", null, this.btnSf), Utils.bindBtnEvent(i, this.node, "InviteLayer", "onItemClick"))
				}
			}, t.prototype.onItemClick = function () {
				SoundMgr.play(l.default.btn), c.default.instance.shareForInvite()
			}, t.prototype.checkFinished = function () {
				DataBus.user.inviteNumber >= c.default.instance.getInviteTotalNumber() && (c.default.instance.receiveGift(), this.close())
			}, t.show = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return [4, u.default.getBundle("game", !0)];
							case 1:
								return e.sent(), [4, u.default.getBundle("game_newbie", !0)];
							case 2:
								return e.sent(), [2, new Promise(function (e, t) {
									var o = new g;
									o.onClose = e, ui.showLayer(n, o)
								})]
						}
					})
				})
			}, t.prefabName = "home://dynamic/layer/inviteLayer", i([h({
				type: cc.SpriteFrame,
				displayName: "头像材质"
			})], t.prototype, "avatarSf", void 0), i([h({
				type: cc.SpriteFrame,
				displayName: "按钮材质"
			})], t.prototype, "btnSf", void 0), t = n = i([p, y("Layer/InviteLayer")], t)
		}(s.default);
		n.default = _, window.InviteLayer = _, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/game/PoolGlobal": "PoolGlobal",
		"../base/LayerBase": "LayerBase",
		"./InviteLogic": "InviteLogic"
	}],
	InviteLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "44315NmtddOhKepkIFXTRrp", "InviteLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../skin/SkinLogic"),
			a = e("../../Base/Share"),
			s = e("../../Base/ShareTypes"),
			c = e("../../Data/wxsdk"),
			l = e("../../Runtime/guide/GuideLogic"),
			u = e("./InviteLayer"),
			d = e("../../Config/EventID"),
			f = e("../skin/SkinDefines"),
			p = e("../../Config/GameConfig"),
			h = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getInviteNumber = function () {
					return DataBus.user.inviteNumber
				}, e.prototype.getInviteTotalNumber = function () {
					return 5
				}, e.prototype.getCueId = function () {
					return 8
				}, e.prototype.isGiftReceived = function () {
					var e = this.getCueId();
					return DataBus.user.unlockCueList2.indexOf(e) > -1
				}, e.prototype.receiveGift = function () {
					var e = this.getCueId();
					r.default.instance.unlockCue(e) && DataBus.user.save();
					var t = r.default.instance.fastGetCueConfig(e);
					ui.showTips("Get 【" + t.name + "】"), cc.systemEvent.emit(d.default.INVITE_GIFT_CHANGED)
				}, e.prototype.modifySkinConfig = function () {
					if (c.default.isQg() || c.default.isTT()) {
						var e = this.getCueId(),
							t = r.default.instance.fastGetCueConfig(e);
						t && (t.title = "Watch five videos to unlock the skin", t.value = 5, t.unlock = f.SkinUnlockType.video)
					}
				}, e.prototype.canShowLayer = function () {
					return !c.default.isQg() && !c.default.isTT() && (DataBus.other.inviteNoRemind ? (console.log("[邀请自动弹窗]已设置今天不弹"), !1) : l.default.instance.isGuideFinished() ? !this.isGiftReceived() || (console.log("[邀请自动弹窗]邀请礼物已领取，不弹"), !1) : (console.log("[邀请自动弹窗]新手引导未完成，不弹"), !1))
				}, e.prototype.tryToShowLayer = function () {
					return this.canShowLayer() ? u.default.show() : null
				}, e.prototype.getServerData = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o, r;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									if (!c.default.supportServer()) return [3, 6];
									i.label = 1;
								case 1:
									return i.trys.push([1, 4, , 5]), [4, new Promise(sdk.getUserCode.bind(sdk))];
								case 2:
									return t = i.sent(), [4, sdk.promisify(sdk.request.bind(sdk), {
										url: "",
										data: t
									})];
								case 3:
									return n = i.sent(), TimeMgr.setServerTime(n), n && n.data && 0 == n.data.code && n.data.data && (e = n.data.data), [3, 5];
								case 4:
									return o = i.sent(), console.error(o), [3, 5];
								case 5:
									return [3, 7];
								case 6:
									p.GameConfig.DEBUG && (e = {
										invite_num: 2,
										list: [{
											name: "胡明阳",
											avatar: ""
										}, {
											name: "lester",
											avatar: ""
										}]
									}), i.label = 7;
								case 7:
									return e && (r = Number(e.invite_num) || (e.list ? e.list.length : 0) || 0, e.invite_num = r, DataBus.user.inviteNumber != r && (DataBus.user.inviteNumber = r, DataBus.user.save(), cc.systemEvent.emit(d.default.INVITE_GIFT_CHANGED)), e.list = e.list || []), [2, e]
							}
						})
					})
				}, e.prototype.addInvite = function (e) {
					return o(this, void 0, void 0, function () {
						var t, n, o, r, a, s, c, l, u, d;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return e && e.query && e.query.inviteId ? (t = sdk.getSavedUserId("data"), n = e.query.inviteId, t == n ? [3, 4] : [4, new Promise(sdk.getUserCode.bind(sdk))]) : [3, 4];
								case 1:
									return o = i.sent().code, [4, sdk.promisify(wx.getUserInfo, {
										withCredentials: !0,
										lang: "zh_CN"
									}).catch(function (e) {
										return null
									})];
								case 2:
									return r = i.sent(), a = {
										user_id: n,
										code: o
									}, r && (s = r.encryptedData, c = r.iv, l = r.signature, u = r.rawData, a.encryptedData = s, a.iv = c, a.signature = l, a.rawData = u), console.log("开始提交邀请：", a), [4, sdk.promisify(sdk.request.bind(sdk), {
										url: "",
										data: a
									})];
								case 3:
									(d = i.sent()) && d.data && 0 == d.data.code ? console.log("提交邀请成功：", d) : console.log("提交邀请失败：", d), i.label = 4;
								case 4:
									return [2]
							}
						})
					})
				}, e.prototype.shareForInvite = function () {
					var e = sdk.getSavedUserId("data");
					a.default.shareWithoutCallback(s.SharePos.Invite, {
						inviteId: e
					})
				}, e._instance = null, e
			}();
		n.default = h, cc._RF.pop()
	}, {
		"../../Base/Share": "Share",
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/EventID": "EventID",
		"../../Config/GameConfig": "GameConfig",
		"../../Data/wxsdk": "wxsdk",
		"../../Runtime/guide/GuideLogic": "GuideLogic",
		"../skin/SkinDefines": "SkinDefines",
		"../skin/SkinLogic": "SkinLogic",
		"./InviteLayer": "InviteLayer"
	}],
	ItemAnim: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "2b932PMHUdMOZE0og3d/Haj", "ItemAnim");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Res/ResLoader"),
			a = function () {
				function e() { }
				return e.play = function (e, t, n, r) {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							return [2]
						})
					})
				}, e.playForUrl = function (e, t, n, a, s, c) {
					return void 0 === s && (s = 2), void 0 === c && (c = .7), o(this, void 0, void 0, function () {
						var o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return [4, r.default.getSpriteFrameRes(e)];
								case 1:
									return o = i.sent(), [2, this.playForSpriteFrame(o, t, n, a, s, c)]
							}
						})
					})
				}, e.playForSpriteFrame = function (e, t, n, a, s, c) {
					return void 0 === s && (s = 2), void 0 === c && (c = .7), o(this, void 0, void 0, function () {
						var o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return [4, r.default.getNodeRes("Prefab/item/itemAnim")];
								case 1:
									return (o = i.sent()).getComponent(cc.Sprite).spriteFrame = e, [2, this.playForNode(o, t, n, a, s, c)]
							}
						})
					})
				}, e.playForNode = function (e, t, n, a, s, c) {
					return void 0 === s && (s = 2), void 0 === c && (c = .7), o(this, void 0, void 0, function () {
						var o, l, u, d, f;
						return i(this, function (i) {
							return a = a || this.root || cc.Canvas.instance.node, o = a.convertToNodeSpaceAR(t), l = a.convertToNodeSpaceAR(n), u = o.sub(l).mag(), d = .5, f = Math.min(.6, u / 1e3), a.addChild(e), e.stopAllActions(), e.scale = 0, [2, new Promise(function (t) {
								var n = setTimeout(function () {
									t()
								}, 1e3 * (d + f + .2));
								e.runAction(cc.sequence(cc.place(o), cc.scaleTo(d, s).easing(cc.easeElasticOut(.5)), cc.spawn(cc.scaleTo(f, c), cc.moveTo(f, l)), cc.callFunc(function () {
									r.default.removeNode(e), clearTimeout(n), t()
								})))
							})]
						})
					})
				}, e.root = null, e
			}();
		n.default = a, window.ItemAnim = a, cc._RF.pop()
	}, {
		"../Res/ResLoader": "ResLoader"
	}],
	ItemReviveLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "829994IgGNC5qKGG2Xz3XtH", "ItemReviveLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.ItemReviveLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = e("../../Runtime/game/item2/PoolItem2Mgr"),
			s = e("../../Config/SoundID"),
			c = e("../../Config/ReportID"),
			l = e("../../Runtime/guide/HandEffect"),
			u = e("../base/RewardBtn"),
			d = e("../../Base/ShareTypes"),
			f = cc._decorator,
			p = f.ccclass,
			h = (f.property, f.menu),
			y = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.ItemReviveLayerParam = y;
		var g = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t._selectedType = null, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Server.reportClick(c.default.revive5), this.getComponentInChildren(u.default).sharePos = d.SharePos.Revive
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this._selectedType = this._getAItemType(), this._updateDisplay()
			}, t.prototype._updateDisplay = function () {
				var e = cc.find("dialog/contents", this.node),
					t = e.getChildByName("item_list"),
					n = t.getChildByName("move_item"),
					o = t.getChildByName("free_item");
				this._updateItemDisplay(n, a.PoolItem2Type.move), this._updateItemDisplay(o, a.PoolItem2Type.free);
				var i = e.getChildByName("revive_btn");
				this._updateBtnDisplay(i)
			}, t.prototype._updateItemDisplay = function (e, t) {
				var n = a.default.instance.getItemCount(t);
				if (n > 0) {
					e.active = !0;
					var o = e.getChildByName("normal"),
						i = e.getChildByName("selected"),
						r = this._selectedType === t;
					o.active = !r, i.active = r, (r ? i : o).getComponentInChildren(cc.Label).string = "" + n
				} else e.active = !1
			}, t.prototype._updateBtnDisplay = function (e) {
				var t = this.getComponentInChildren(u.default),
					n = null !== this._selectedType;
				e.active = n, t.node.active = !n
			}, t.prototype._select = function (e) {
				(l.default.stopHandAnimation(this.node), this._selectedType == e) ? (this._selectedType = null, this._updateDisplay()) : a.default.instance.getItemCount(e) > 0 ? (this._selectedType = e, this._updateDisplay()) : ui.showTips("Lack of items")
			}, t.prototype.onMoveItemClick = function () {
				SoundMgr.play(s.default.btn), this._select(a.PoolItem2Type.move)
			}, t.prototype.onFreeItemClick = function () {
				SoundMgr.play(s.default.btn), this._select(a.PoolItem2Type.free)
			}, t.prototype._success = function () {
				this.data.onSuccess && this.data.onSuccess(this._selectedType), this.close()
			}, t.prototype._fail = function () {
				this.data.onFail && this.data.onFail(), this.close()
			}, t.prototype.onReviveBtnClick = function () {
				if (null !== this._selectedType) Utils.setAllBtnsEnabled(this.node, !1), Server.reportClick(c.default.revive7), SoundMgr.play(s.default.btn), this._success();
				else {
					ui.showTips("Please choose a prop first");
					var e = this._getAItemNode();
					if (e) {
						var t = Utils.covertToNodeSpaceAR(e, this.node, cc.Vec2.ZERO);
						l.default.playHandClickAnimation(t, "", 120, this.node)
					}
				}
			}, t.prototype.onBtnCloseClick = function () {
				Utils.setAllBtnsEnabled(this.node, !1), Server.reportClick(c.default.revive6), SoundMgr.play(s.default.btn), this._fail()
			}, t.prototype.onRewardCallback = function (e) {
				e == u.RewardFuncParam.Click ? Utils.setAllBtnsEnabled(this.node, !1) : e == u.RewardFuncParam.Success ? (Server.reportClick(c.default.revive8), this._success()) : Utils.setAllBtnsEnabled(this.node, !0)
			}, t.prototype._getAItemType = function () {
				for (var e = [a.PoolItem2Type.move, a.PoolItem2Type.free], t = 0, n = e.length; t < n; ++t) {
					var o = e[t];
					if (a.default.instance.getItemCount(o) > 0) return o
				}
				return null
			}, t.prototype._getAItemNode = function () {
				var e, t = this._getAItemType();
				if (null === t) return null;
				var n = ((e = {})[a.PoolItem2Type.move] = "move_item", e[a.PoolItem2Type.free] = "free_item", e),
					o = cc.find("dialog/contents/item_list", this.node),
					i = n[t];
				return o.getChildByName(i)
			}, t.show = function (e, t, o) {
				var i = new y;
				return i.onSuccess = e, i.onFail = t, i.onClose = function () {
					return o && o()
				}, ui.showLayer(n, i)
			}, t.prefabName = "game://dynamic/layer/itemReviveLayer", t = n = i([p, h("Layer/ItemReviveLayer")], t)
		}(r.default);
		n.default = g, window.ItemReviveLayer = g, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/ReportID": "ReportID",
		"../../Config/SoundID": "SoundID",
		"../../Runtime/game/item2/PoolItem2Mgr": "PoolItem2Mgr",
		"../../Runtime/guide/HandEffect": "HandEffect",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn"
	}],
	JNodePool: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "8f7d340loVGBLR+R+lE1n/P", "JNodePool"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = function () {
			function e(e, t, n) {
				void 0 === n && (n = 1 / 0), this.mPrefab = null, this.mNodePool = null, this.mMax = 1 / 0, this.mPrefab = e, this.mNodePool = new cc.NodePool, this.mMax = Math.max(1, t, n);
				for (var o = 0; o < t; ++o) {
					var i = cc.instantiate(this.mPrefab);
					this.mNodePool.put(i)
				}
			}
			return e.prototype.size = function () {
				return this.mNodePool.size()
			}, e.prototype.get = function () {
				return 0 < this.mNodePool.size() ? this.mNodePool.get() : cc.instantiate(this.mPrefab)
			}, e.prototype.put = function (e) {
				for (e.emit("recycle"), e.removeFromParent(!0), this.mNodePool.put(e); this.mNodePool.size() > this.mMax;) this.mNodePool.get().destroy()
			}, e
		}();
		n.default = o, cc._RF.pop()
	}, {}],
	LabelMaxWidth: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "4c419pMzmJEoYqgXj9cF6K/", "LabelMaxWidth");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.maxWidth = 0, t
				}
				return o(t, e), t.prototype.onEnable = function () {
					var e = this.node.getComponent(cc.Label);
					e && this.maxWidth > 0 && (e.overflow = cc.Label.Overflow.NONE, e.horizontalAlign = cc.Label.HorizontalAlign.CENTER, this.node.width = this.node.height = 0, this.node.once("size-changed", this._adaptSize, this))
				}, t.prototype.onDisable = function () {
					this.node.off("size-changed", this._adaptSize, this)
				}, t.prototype._adaptSize = function () {
					var e = this,
						t = this.node.getComponent(cc.Label);
					t && this.node.width > this.maxWidth && this.scheduleOnce(function () {
						t.overflow = cc.Label.Overflow.RESIZE_HEIGHT, t.horizontalAlign = cc.Label.HorizontalAlign.LEFT, e.node.width = e.maxWidth
					}, 0)
				}, i([s], t.prototype, "maxWidth", void 0), t = i([a], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	LayerBase: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f9c40Q5l1dIe7DpWHX9VkVH", "LayerBase");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.LayerParamBase = void 0;
		var r = e("../../Config/EventID"),
			a = cc._decorator,
			s = a.ccclass,
			c = a.property,
			l = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.LayerParamBase = l;
		var u = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.tapToClose = !1, t.data = null, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				var e = this;
				this.node.on("layerdata", function (t) {
					e.data = t, e.onDataLoad()
				});
				var t = this.getMaskNode();
				if (t) {
					n.bindBtnEvent(t, this.node, "LayerBase", "onMaskClick") || t.on(cc.Node.EventType.TOUCH_END, this.onMaskClick, this);
					var o = t.opacity;
					t.opacity = 0, t.runAction(cc.fadeTo(.3, o))
				}
				var i = this.getCloseBtn();
				i && (n.bindBtnEvent(i, this.node, "LayerBase", "onBtnCloseClick") || i.on(cc.Node.EventType.TOUCH_END, this.onBtnCloseClick, this)), cc.systemEvent.emit(r.default.OPEN_LAYER, this)
			}, t.prototype.onDataLoad = function () { }, t.prototype.onDestroy = function () {
				this.data && this.data.onClose && this.data.onClose(), this.data && (this.data.onClose = null), cc.systemEvent.emit(r.default.CLOSE_LAYER, this)
			}, t.prototype.getMaskNode = function () {
				return cc.find("mask", this.node)
			}, t.prototype.getCloseBtn = function () {
				var e = n.findChildByName(this.node, "close_btn"),
					t = n.findChildByName(this.node, "close_btn2");
				return e && t ? 1 == parseInt(SDK.conf.use_close_btn2) ? (e.active = !1, t.active = !0, t) : (e.active = !0, t.active = !1, e) : e || t
			}, t.prototype.close = function () {
				var e = this;
				this.node && this.node.runAction(cc.sequence(cc.fadeOut(.3), cc.callFunc(function () {
					e.node.destroy()
				})))
			}, t.findChildByName = function (e, t) {
				for (var n = null, o = [e]; o.length > 0;) {
					if ((n = o.shift()).name == t) return n;
					o.push.apply(o, n.children)
				}
			}, t.bindBtnEvent = function (e, t, n, o, i) {
				var r = e.getComponent(cc.Button) || e.addComponent(cc.Button);
				if (r) {
					var a = new cc.Component.EventHandler;
					return a.target = t, a.component = n, a.handler = o, a.customEventData = i, r.clickEvents = [a], !0
				}
				return !1
			}, t.prototype.onMaskClick = function () {
				this.tapToClose && this.onBtnCloseClick()
			}, t.prototype.onBtnCloseClick = function () {
				SoundMgr.play("btn"), this.close()
			}, t.prefabName = "", i([c], t.prototype, "tapToClose", void 0), t = n = i([s], t)
		}(cc.Component);
		n.default = u, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID"
	}],
	LayerBgEffect: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "50a17AFHl5LfqZZODRnljPw", "LayerBgEffect");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.sf = null, t.marginX = 168, t.marginY = 200, t.angle = 26, t.spin = 10, t.spinRadius = 100, t.pool = new cc.NodePool, t._spin = 0, t._spinX = 0, t._spinY = 0, t
				}
				return o(t, e), t.prototype.onload = function () { }, t.prototype.start = function () {
					this.scheduleOnce(this.fillItems, 0)
				}, t.prototype.fillItems = function () {
					for (var e = this.node.width, t = this.node.height, n = .5 * -e - 0 - 100, o = .5 * e + 0 - 100, i = .5 * -t - 0, r = .5 * t + 0, a = this.angle / 180 * Math.PI, s = this.marginX * Math.cos(a), c = this.marginX * Math.sin(a), l = this.marginY / Math.cos(a), u = i - l; u <= r;) {
						for (var d = n, f = u; d <= o;) d += s, (f += c) <= r && this.addItem(d, f);
						u += l
					}
				}, t.prototype.addItem = function (e, t) {
					var n = null;
					this.pool.size() > 0 ? n = this.pool.get() : (n = new cc.Node).addComponent(cc.Sprite).spriteFrame = this.sf;
					return n.x = e, n.y = t, n.__x = e, n.__y = t, this.node.addChild(n), n
				}, t.prototype.removeItem = function (e) {
					this.pool.put(e)
				}, t.prototype.update = function (e) {
					this._spin -= this.spin * e, this._spinX = Math.cos(this._spin / 180 * Math.PI) * this.spinRadius, this._spinY = Math.sin(this._spin / 180 * Math.PI) * this.spinRadius;
					for (var t = 0, n = this.node.childrenCount; t < n; ++t) {
						var o = this.node.children[t];
						o.angle = this._spin, o.x = o.__x - this._spinX, o.y = o.__y - this._spinY
					}
				}, i([s(cc.SpriteFrame)], t.prototype, "sf", void 0), i([s], t.prototype, "marginX", void 0), i([s], t.prototype, "marginY", void 0), i([s], t.prototype, "angle", void 0), i([s], t.prototype, "spin", void 0), i([s], t.prototype, "spinRadius", void 0), t = i([a], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	LevelBgs: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "29f5cavey1HZZp/kGz1SDUP", "LevelBgs");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.spriteFrames = [], t.root = null, t
				}
				return o(t, e), i([s({
					type: [cc.SpriteFrame],
					displayName: "材质列表"
				})], t.prototype, "spriteFrames", void 0), i([s({
					type: cc.Node,
					displayName: "背景根节点"
				})], t.prototype, "root", void 0), t = i([a], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	LevelBtnsPos: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "178abojvfhH8Yp1CwFwNI7K", "LevelBtnsPos");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = (r.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t = i([a], t)
			}(cc.Component));
		n.default = s, cc._RF.pop()
	}, {}],
	LevelBtns: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7bcceOVfZBKsKuKgorXyexf", "LevelBtns");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.prefab = null, t.root = null, t
				}
				return o(t, e), i([s({
					type: cc.Prefab,
					displayName: "按钮预制体"
				})], t.prototype, "prefab", void 0), i([s({
					type: cc.Node,
					displayName: "按钮根节点"
				})], t.prototype, "root", void 0), t = i([a], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	LevelBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "8fe6dLHJNpMnqlci2BWsR6I", "LevelBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.starNode = null, t.lockNode = null, t.chestNode = null, t.curNode = null, t.lvlLbl = null, t.curLvlLbl = null, t.level = 0, t
				}
				return o(t, e), i([s(cc.Node)], t.prototype, "starNode", void 0), i([s(cc.Node)], t.prototype, "lockNode", void 0), i([s(cc.Node)], t.prototype, "chestNode", void 0), i([s(cc.Node)], t.prototype, "curNode", void 0), i([s(cc.Label)], t.prototype, "lvlLbl", void 0), i([s(cc.Label)], t.prototype, "curLvlLbl", void 0), t = i([a], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	LevelConfig: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "8ee16p/3vZKuogiS9eOEeKN", "LevelConfig");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.LevelPrizeType = void 0;
		var r, a = e("../Res/ResLoader"),
			s = e("./game/rule/RuleTypes"),
			c = e("./editor/EditorFixedLevelData"),
			l = e("../Config/GameConfig"),
			u = function () {
				function e() {
					this.eightSingleLevelData = null, this.eightSingleEventCoinsMap = {}, this.levelPrizeConfig = null, this.challengeConfig = [
						[-1, 2e4, 3, 1, 2],
						[-1, 2e4, 3, 1, 2],
						[-1, 2e4, 3, 1, 2],
						[-1, 2e4, 3, 1, 2],
						[-1, 2e4, 3, 1, 2],
						[-1, 2e4, 3, 1, 2],
						[-1, 2e4, 3, 1, 2]
					], this._danConfig = [
						[0, 0, 2, 0],
						[0, 1, 4, 0],
						[0, 2, 6, 0],
						[0, 3, 8, 0],
						[0, 4, 10, 0],
						[1, 0, 12, 0],
						[1, 1, 14, 0],
						[1, 2, 16, 0],
						[1, 3, 18, 0],
						[1, 4, 20, 0],
						[2, 0, 23, 10],
						[2, 1, 26, 10],
						[2, 2, 29, 10],
						[2, 3, 32, 10],
						[2, 4, 35, 10],
						[3, 0, 38, 20],
						[3, 1, 41, 20],
						[3, 2, 44, 20],
						[3, 3, 47, 20],
						[3, 4, 50, 20],
						[4, 0, 54, 40],
						[4, 1, 58, 40],
						[4, 2, 62, 40],
						[4, 3, 66, 40],
						[4, 4, 70, 40],
						[5, 0, 74, 50],
						[5, 1, 78, 50],
						[5, 2, 82, 50],
						[5, 3, 86, 50],
						[5, 4, 90, 50],
						[6, -1, 1 / 0, 60]
					], this._danNameConfig = ["brass", "silver", "gold", "Platinum", "diamond", "guru", "king"], this._danLevelConfig = ["V", "IV", "III", "II", "I"], this.worldMatchDanPrizeConfig = null, this._worldMatchDanPrizeConfig = [
						[0, 1e3, 1, 0, 0],
						[1, 5e3, 2, 0, 0],
						[2, 1e4, 3, 0, 0],
						[3, 2e4, 5, 0, 0],
						[4, 4e4, 7, 0, 3],
						[5, 6e4, 10, 0, 2],
						[6, 7e4, 0, 1, 1]
					]
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getEightSingleLevelConfig = function (e) {
					var t = this.eightSingleLevelData[e];
					return {
						totalObjectBall: this.getEightSingleLevelObjectBallsCount(e),
						starScores: null,
						totalLife: null,
						itemData: null,
						objectBallType: 0 == t.object ? s.ObjectBallType.Solid : s.ObjectBallType.Stripe,
						eventTag: t.event,
						level: e
					}
				}, e.prototype.getEightSingleLevelData = function (e) {
					return this.eightSingleLevelData[e] || this.eightSingleLevelData[this.eightSingleLevelData.length - 1]
				}, e.prototype.loadEightSingleLevelData = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o = this;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return [4, a.default.getJsonRes("config/eight-level-data")];
								case 1:
									return e = i.sent(), t = c.default.instance.convertSaveDataToData(e), l.GameConfig.MAX_LEVEL = t.length, this.eightSingleLevelData = t, n = 0, t.forEach(function (e, t) {
										e.event > 0 && (o.eightSingleEventCoinsMap[t] = 3e3 + 1e3 * Math.floor(n / 5), ++n)
									}), [2]
							}
						})
					})
				}, e.prototype.getEightSingleLevelObjectBallsCount = function (e) {
					var t = this.getEightSingleLevelData(e);
					return t.balls.filter(function (e) {
						return 0 == t.object ? e <= 8 : e >= 8
					}).length
				}, e.prototype.resolveEvent = function (e) {
					return {
						objectAirball: 0 != (1 & e),
						cueNoTouchCushion: 0 != (2 & e),
						potInOrder: 0 != (4 & e),
						cueNoTouchOtherBall: 0 != (8 & e),
						doubleBall: 0 != (16 & e),
						threeBall: 0 != (32 & e)
					}
				}, e.prototype.getEventNames = function () {
					return {
						objectAirball: "目标球空心入袋",
						cueNoTouchCushion: "白球不碰库边",
						potInOrder: "按顺序进球",
						cueNoTouchOtherBall: "白球不碰非目标球",
						doubleBall: "一杆双球",
						threeBall: "一杆三球"
					}
				}, e.prototype.getLevelCoins = function (e) {
					var t = [
						[10, 1e3],
						[20, 1500],
						[35, 2e3],
						[50, 3e3],
						[65, 4e3],
						[85, 5e3],
						[100, 6e3]
					];
					return (t[t.findIndex(function (t) {
						return e < t[0]
					})] || t[t.length - 1])[1]
				}, e.prototype.getLevelFailCoins = function (e) {
					return 0
				}, e.prototype.getLevelEventCoins = function (e, t, n) {
					var o = this.eightSingleEventCoinsMap[e] || 0,
						i = this.resolveEvent(t & n);
					return Object.keys(i).filter(function (e) {
						return i[e]
					}).length > 0 ? o : 0
				}, e.prototype.loadLevelPrizeConfig = function () {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							return this.levelPrizeConfig = [
								[5, 2e3, 0, 2, 2],
								[11, 0, 5, 1, 2],
								[17, 3e3, 0, 1, 2],
								[25, 0, 5, 1, 2],
								[33, 5e3, 0, 1, 2],
								[43, 0, 5, 1, 2],
								[53, 8e3, 0, 1, 2],
								[63, 0, 5, 1, 2],
								[73, 11e3, 0, 1, 2],
								[83, 0, 5, 1, 2],
								[93, 18e3, 0, 1, 2],
								[100, 25e3, 0, 1, 2]
							], [2]
						})
					})
				}, e.prototype.getPrevLevelPrizeConfig = function (e) {
					var t = this.levelPrizeConfig.findIndex(function (t) {
						return e < t[0] - 1
					}) - 1;
					if (t > -1) {
						var n = this.levelPrizeConfig[t];
						return this._convertArrToLevelPrizeConfig(n)
					}
					return {
						level: -1,
						prizeList: []
					}
				}, e.prototype.getNextLevelPrizeConfig = function (e) {
					var t = this.levelPrizeConfig.findIndex(function (t) {
						return e < t[0] - 1
					});
					if (t > -1) {
						var n = this.levelPrizeConfig[t];
						return this._convertArrToLevelPrizeConfig(n)
					}
					return {
						level: 1 / 0,
						prizeList: []
					}
				}, e.prototype._convertArrToLevelPrizeConfig = function (e) {
					return {
						level: e[0] - 1,
						prizeList: [r.coins, r.energy, r.move_item, r.free_item].map(function (t, n) {
							return {
								type: t,
								value: Number(e[n + 1]) || 0
							}
						}).filter(function (e) {
							return e.value > 0
						})
					}
				}, e.prototype.loadChallengeConfig = function () {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							return [2]
						})
					})
				}, e.prototype.getChallengeConfig = function (e) {
					e %= this.challengeConfig.length;
					var t = this.challengeConfig[e];
					return this._convertArrToChallengeConfig(t)
				}, e.prototype._convertArrToChallengeConfig = function (e) {
					return {
						level: e[0] - 1,
						prizeList: [r.coins, r.energy, r.move_item, r.free_item].map(function (t, n) {
							return {
								type: t,
								value: Number(e[n + 1]) || 0
							}
						}).filter(function (e) {
							return e.value > 0
						})
					}
				}, e.prototype.getDanConfig = function (e) {
					var t = this.danConfig.findIndex(function (t) {
						return e < t.sub_star
					}),
						n = this.danConfig[t],
						o = this.danConfig[t - 1],
						i = {};
					return sdk.extend(i, n), i.sub_star = o ? e - o.sub_star : e, isFinite(i.sub_star_total) || (i.sub_star_total = Math.max(4, i.sub_star)), i
				}, e.prototype.getDanConfigList = function () {
					return this.danConfig
				}, e.prototype.loadDanConfig = function () {
					return o(this, void 0, void 0, function () {
						var e = this;
						return i(this, function (t) {
							return this.danConfig = this._danConfig.map(function (t, n) {
								var o = e._danConfig[n - 1];
								return {
									index: n,
									dan: t[0],
									sub_level: t[1],
									sub_star: t[2],
									sub_star_total: o ? t[2] - o[2] : t[2],
									dan_name: e._danNameConfig[t[0]],
									level_name: e._danLevelConfig[t[1]] || "",
									reset: t[3]
								}
							}), [2]
						})
					})
				}, e.prototype.getWorldMatchDanPrizeConfig = function (e) {
					return this.worldMatchDanPrizeConfig[e]
				}, e.prototype.loadWorldMatchDanPrizeConfig = function () {
					return o(this, void 0, void 0, function () {
						var e;
						return i(this, function (t) {
							return e = [r.bcoins, r.lottery_tickets, r.jk_potter], this.worldMatchDanPrizeConfig = this._worldMatchDanPrizeConfig.map(function (t, n) {
								return {
									dan: t[0],
									prizeList: [t[1], t[2], t[3]].map(function (t, n) {
										return {
											type: e[n],
											value: t
										}
									}).filter(function (e) {
										return e.value > 0
									}),
									honorTitle: t[4]
								}
							}), [2]
						})
					})
				}, e
			}();
		n.default = u, window.LevelConfig = u,
			function (e) {
				e[e.coins = 0] = "coins", e[e.energy = 1] = "energy", e[e.move_item = 2] = "move_item", e[e.free_item = 3] = "free_item", e[e.bcoins = 4] = "bcoins", e[e.role_fragments = 5] = "role_fragments", e[e.lottery_tickets = 6] = "lottery_tickets", e[e.jk_potter = 7] = "jk_potter", e[e.cue_17 = 8] = "cue_17", e[e.cue_18 = 9] = "cue_18", e[e.pvp_tickets = 10] = "pvp_tickets", e[e.daily_active = 11] = "daily_active", e[e.weekly_active = 12] = "weekly_active"
			}(r = n.LevelPrizeType || (n.LevelPrizeType = {})), cc._RF.pop()
	}, {
		"../Config/GameConfig": "GameConfig",
		"../Res/ResLoader": "ResLoader",
		"./editor/EditorFixedLevelData": "EditorFixedLevelData",
		"./game/rule/RuleTypes": "RuleTypes"
	}],
	LevelItemLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "90f43QbhU5EdLHihe8OWJ90", "LevelItemLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.LevelItemLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, a.menu),
			l = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.LevelItemLayerParam = l;
		var u = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			return o(t, e), t.prefabName = "Prefab/layer/levelItemLayer", t = i([s, c("Layer/LevelItemLayer")], t)
		}(r.default);
		n.default = u, window.LevelItemLayer = u, cc._RF.pop()
	}, {
		"../base/LayerBase": "LayerBase"
	}],
	LevelItemLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "ef2a4VKGgFBKbIQS59aw/3U", "LevelItemLogic"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.LevelItemType = void 0,
			function (e) {
				e[e.Life = 0] = "Life", e[e.Hand = 1] = "Hand", e[e.Cue = 2] = "Cue"
			}(n.LevelItemType || (n.LevelItemType = {}));
		var o = function () {
			return function () { }
		}();
		n.default = o, window.LevelItemLogic = o, cc._RF.pop()
	}, {}],
	LevelLbl: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "50880OO68pE1owO0nI9BdiN", "LevelLbl");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Runtime/GameScene"),
			a = e("../../Config/EventID"),
			s = cc._decorator,
			c = s.ccclass,
			l = s.property,
			u = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.label = null, t
				}
				return o(t, e), t.prototype.start = function () {
					this.updateDisplay(), cc.systemEvent.on(a.default.LOAD_PUZZLE, this.updateDisplay, this)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(a.default.LOAD_PUZZLE, this.updateDisplay, this)
				}, t.prototype.updateDisplay = function () {
					var e = r.default.instance;
					e && (this.label.string = "" + (e.curLevel + 1))
				}, i([l(cc.Label)], t.prototype, "label", void 0), t = i([c], t)
			}(cc.Component);
		n.default = u, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Runtime/GameScene": "GameScene"
	}],
	LevelScene: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "6bfcfJi+V9P26U1v3hO+C7r", "LevelScene");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = cc._decorator,
			c = s.ccclass,
			l = (s.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.curLevel = 0, t
				}
				return o(t, e), t.loadSubPackage = function (e) {
					return void 0 === e && (e = !0), r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.loadSubPackageOnEntered = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.enterScene = function (e, t) {
					return void 0 === t && (t = !0), r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.tryToPlay = function (e, t) {
					return void 0 === t && (t = !0), r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.instance = null, t.prefabName = "Prefab/scene/levelScene", t = i([c], t)
			}(cc.Component));
		n.default = l, window.LevelScene = l, cc._RF.pop()
	}, {}],
	LifePanel: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "1952bhf3plCO6ml+twr/A6Z", "LifePanel");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../../Effect/EffectMgr"),
			c = e("../../../Config/SoundID"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._life = 0, t._heartBreakPlaying = !1, t._heartBreakIndex = 0, t._addLifePlaying = !1, t._addLifeIndex = 0, t
				}
				return o(t, e), t.prototype.setLife = function (e) {
					this._life = e, this.getComponentInChildren(cc.Label).string = e + ""
				}, t.prototype.playHeartBreak = function () {
					var e = this;
					SoundMgr.play(c.default.HeartBreak), this._heartBreakPlaying = !0;
					var t = this._heartBreakIndex = this._heartBreakIndex + 1;
					this.updateHeartVisible();
					var n = this.node.getChildByName("sp");
					s.default.playSingleton("Prefab/effect/heart_break", n.getPosition(), this.node, function () {
						e.isValid && (t == e._heartBreakIndex && (e._heartBreakPlaying = !1), e.updateHeartVisible())
					})
				}, t.prototype.playAddLife = function () {
					var e = this;
					this._addLifePlaying = !0;
					var t = this._addLifeIndex = this._addLifeIndex + 1;
					this.updateHeartVisible();
					var n = this.node.getChildByName("sp"),
						o = cc.instantiate(n);
					o.name = "copy", o.zIndex = -1, o.active = !0, o.parent = this.node, o.scale = 1;
					o.runAction(cc.sequence(cc.spawn(cc.fadeOut(.6), cc.scaleTo(.6, 2)), cc.delayTime(.3), cc.callFunc(function () {
						e.isValid && (t == e._addLifeIndex && (e._addLifePlaying = !1), e.updateHeartVisible(), n.active && (n.stopAllActions(), n.scale = 1, n.runAction(cc.sequence(cc.scaleTo(.2, 1.1, .9), cc.scaleTo(.3, .9, 1.1), cc.scaleTo(.2, 1)))))
					}), cc.removeSelf()))
				}, t.prototype.playLifeToScore = function (e, t, n) {
					return r(this, void 0, void 0, function () {
						var o, i, r, s, l;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return [4, Utils.delayTime(n, this)];
								case 1:
									return a.sent(), this.setLife(e), o = this.node.getChildByName("sp"), (i = cc.instantiate(o)).name = "copy", i.zIndex = -1, i.active = !0, i.parent = this.node, i.scale = 1, o.active && (o.stopAllActions(), o.scale = 1, o.runAction(cc.sequence(cc.scaleTo(.2, 1.1, .9), cc.scaleTo(.3, .9, 1.1), cc.scaleTo(.2, 1)))), SoundMgr.play(c.default.Particle), r = i.getPosition(), s = this.node.convertToNodeSpaceAR(t), (l = s.add(r).divSelf(2)).y -= 200, [2, new Promise(function (e, t) {
										i.runAction(cc.sequence(cc.bezierTo(.6, [r, l, s]), cc.callFunc(e), cc.spawn(cc.fadeOut(.6), cc.scaleTo(.6, 2)), cc.removeSelf()))
									})]
							}
						})
					})
				}, t.prototype.updateHeartVisible = function () {
					this.isValid && (this.node.getChildByName("sp").active = !(this._heartBreakPlaying || this._addLifePlaying))
				}, t = i([u], t)
			}(cc.Component));
		n.default = d, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"../../../Effect/EffectMgr": "EffectMgr"
	}],
	LoadingScene: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "43c09zQ5AtOeZ+xEKM98h1D", "LoadingScene");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), e("./Mount");
		var s = e("./Loading_Task"),
			c = e("../Config/EventID"),
			l = e("../Data/wxsdk"),
			u = e("../Base/AdsMgr"),
			d = e("../Config/GameConfig"),
			f = e("../Base/StatusStack"),
			p = e("../Config/StatusStackID"),
			h = e("../Base/InterAdMgr"),
			y = e("../Data/DataSaver"),
			g = e("../Ui/energy/EnergyLogic"),
			_ = e("./LevelConfig"),
			v = e("./GameScene"),
			b = e("./Router"),
			m = e("./guide/GuideLogic"),
			w = e("../Base/FeedbackBtn"),
			S = e("./YdsdkBridge"),
			C = e("./HomeScene"),
			P = e("../Ui/bank/BankLogic"),
			L = e("./game/pvp/PvpLogic"),
			T = e("../Ui/newbieGift/NewbieGiftLogic"),
			D = e("./home/UpgradeLogic"),
			B = e("./CmgeBridge"),
			R = e("../Ui/vip/VipLogic"),
			E = e("../Ui/invite/InviteLogic"),
			I = e("../Ui/money/MoneyBar"),
			O = e("../Ui/money/MoneyID"),
			A = e("../Config/SoundID"),
			x = e("../Ui/other/TextTips"),
			N = e("../Ui/dailyTask/DailyTaskLogic"),
			M = e("../Ui/newbieEffect/NewbieEffectLogic"),
			F = e("../Base/Share"),
			j = e("../Base/ShareTypes"),
			U = e("../Ui/ads/NativeAdsLogic"),
			V = cc._decorator,
			G = V.ccclass,
			H = V.property;
		"undefined" != typeof qg && (d.GameConfig.DEBUG && qg.setEnableDebug && qg.setEnableDebug({
			enableDebug: !0
		}), window.wx = qg);
		var z = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.progress = null, t.progressIcon = null, t.progressLbl = null, t._tween = null, t
			}
			return o(t, e), t.prototype.onLoad = function () {
				this.node.zIndex = 3e4
			}, t.prototype.start = function () {
				this.scheduleOnce(this.init, 0)
			}, t.prototype.onDestroy = function () {
				this._tween && this._tween.stop()
			}, t.prototype.init = function () {
				var e = this;
				if ((l.default.isQQ() || l.default.isQg() || l.default.isTT()) && (d.GameConfig.USE_YDSDK = !1, d.GameConfig.USE_CMGE_SDK = !1), (l.default.isQg() || l.default.isTT()) && (d.GameConfig.VIDEO_FAIL_HAS_PRIZE = !1), d.GameConfig.USE_YDSDK) S.default.instance.initYtSdk();
				else {
					var t = d.GameConfig.SdkConfig;
					sdk.extend(t, {
						autoPullAllConfig: !1
					}), sdk.init(t)
				}
				W(),
					// Server.reportAppid(0).catch(function (e) {
					// 	console.error("上报渠道失败: ", e)
					// }), 
					d.GameConfig.USE_YDSDK || Server.getShareInfo(), q(), u.default.instance.init(), h.default.instance.init(), Z(), this.enablePhysics();
				var n = new s.default(function (t, n) {
					l.default.isQg() && qg.setLoadingProgress && qg.setLoadingProgress({
						progress: Math.floor(t / n * 100)
					}), e.progressTo(t / n, .2, function () {
						var o = t + 1 >= n ? 6 : 3,
							i = Math.min(1, (t + 1) / n);
						e.progressTo(i, o)
					})
				});
				d.GameConfig.USE_YDSDK && n.add(new s.Task(S.default.instance.init, S.default.instance, null, "初始化YDSDK")), d.GameConfig.USE_CMGE_SDK && n.add(new s.Task(B.default.instance.init, B.default.instance, null, "初始化中手游SDK")), n.add(new s.Task(this.addInviteForVip, this, null, "处理VIP邀请")), n.add(new s.Task(this.loadMainConfig, this, null, "线上主配置")), n.add(new s.Task(this.loadLocalUserData, this, null, "本地用户数据", 1)), n.add(new s.Task(this.loadRemoteUserData, this, null, "服务器用户数据")), d.GameConfig.USE_CMGE_SDK && n.add(new s.Task(B.default.instance.reportLogin, B.default.instance, null, "中手游SDK上报")), n.add(new s.Task(this.reportUser, this, null, "上报用户", .2)), n.add(new s.Task(this.loadGameConfig, this, null, "本地游戏配置", .2)), n.add(new s.Task(this.updateDailyData, this, null, "更新每日数据", .2)), n.add(new s.Task(this.initTaskSystem, this, null, "初始任务系统", .2)), n.add(new s.Task(this.loadSceneSubpackage, this, null, "加载分包")), n.add(new s.Task(this.enterScene, this, null, "进入游戏", .2)), n.run().then(function (e) {
					console.info("加载任务全部结束，完成项：" + e.filter(function (e) {
						return "complete" == e.status
					}).length + "/" + e.length), l.default.isQg() && (qg.loadingComplete && qg.loadingComplete({
						complete: function (e) {
							console.info(e)
						}
					}), qg.reportMonitor && qg.reportMonitor("game_scene", 0))
				}).catch(function (t) {
					d.GameConfig.DEBUG && qg.loadingComplete && qg.loadingComplete({
						complete: function (e) {
							console.info(e)
						}
					}), console.warn(t), console.error("加载任务时出现错误: ", JSON.stringify(t)), e.fail()
				})
			}, t.prototype.enablePhysics = function () {
				var e = cc.director.getPhysicsManager();
				e.enabled = !0, e.gravity = cc.Vec2.ZERO
			}, t.prototype.beforeEnterScene = function () {
				g.default.instance.init(), y.default.instance.run(), m.default.instance.repairForLevel(), M.default.instance.fixBug(), R.default.instance.loadData()
			}, t.prototype.afterEnterScene = function () {
				var e = this;
				this.loadOtherConfig(), L.default.instance.tryToLoadUserInfo(), Utils.delayTime(.5).then(function () {
					return r(e, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return [4, TimeMgr.getSmartServerTime()];
								case 1:
									return e = t.sent(), L.default.instance.updateSeason(e), [2]
							}
						})
					})
				}), T.default.instance.modifySkinConfig(), D.default.instance.initProfit(), E.default.instance.modifySkinConfig(), l.default.supportShare() && Utils.delayTime(.5).then(function () {
					var e = wx.getLaunchOptionsSync();
					P.default.instance.addInvite(e), E.default.instance.addInvite(e), sdk.offShow("invite"), sdk.onShow("invite", function (e) {
						P.default.instance.addInvite(e), E.default.instance.addInvite(e), R.default.instance.addInvite(e)
					})
				})
			}, t.prototype.addInviteForVip = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return l.default.supportShare() ? (e = wx.getLaunchOptionsSync(), [4, R.default.instance.addInvite(e)]) : [3, 2];
							case 1:
								t.sent(), t.label = 2;
							case 2:
								return [2, {
									code: 0
								}]
						}
					})
				})
			}, t.prototype.isNewbie = function () {
				return m.default.instance.needGuide(m.GuideStep.Level2)
			}, t.prototype.loadSceneSubpackage = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return e = !1, this.isNewbie() ? [4, v.default.loadNewbieSubpackage(!1)] : [3, 2];
							case 1:
								return e = t.sent(), [3, 4];
							case 2:
								return [4, C.default.loadSubPackage(!1)];
							case 3:
								e = t.sent(), t.label = 4;
							case 4:
								return e ? [2, {
									code: 0
								}] : [2, {
									code: -1,
									error: null
								}]
						}
					})
				})
			}, t.prototype.enterScene = function () {
				return r(this, void 0, void 0, function () {
					var e, t;
					return a(this, function (n) {
						switch (n.label) {
							case 0:
								this.beforeEnterScene(), e = null, n.label = 1;
							case 1:
								return n.trys.push([1, 6, , 7]), this.isNewbie() ? (DataBus.user.energy < 1 && (DataBus.user.energy = 1), [4, v.default.enterNewbie()]) : [3, 3];
							case 2:
								return n.sent(), [3, 5];
							case 3:
								return [4, b.default.instance.enterHome(void 0, !1, !1)];
							case 4:
								n.sent(), n.label = 5;
							case 5:
								return [3, 7];
							case 6:
								return t = n.sent(), console.error("进入场景失败：", t), e = t, [3, 7];
							case 7:
								return e ? [2, {
									code: -1,
									error: e
								}] : (this.afterEnterScene(), [2, {
									code: 0
								}])
						}
					})
				})
			}, t.prototype.reportUser = function () {
				var e = Server.getReportUserData(),
					t = e.share_user_id,
					n = e.share_position,
					o = e.share_picture,
					i = e.share_level;
				return Server.reportUser(t, n, o, i, function () {
					return Q()
				}, function () {
					return Q()
				}), Promise.resolve({
					code: 0
				})
			}, t.prototype.loadMainConfig = function () {
				return l.default.supportNetwork() ? new Promise(function (e) {
					sdk.pullMainConfig(function () {
						e({
							code: 0
						})
					}, function (t) {
						e({
							code: -1,
							error: t
						})
					})
				}) : Promise.resolve({
					code: 0
				})
			}, t.prototype.loadOtherConfig = function () {
				return l.default.supportServer() && sdk.pullOtherConfig({
					inside: !0,
					wall: !1,
					share: !1
				}), Promise.resolve({
					code: 0
				})
			}, t.prototype.loadGameConfig = function () {
				var e = [];
				return d.GameConfig.EIGHT_RULE && (_.default.instance.eightSingleLevelData || e.push(_.default.instance.loadEightSingleLevelData()), _.default.instance.levelPrizeConfig || e.push(_.default.instance.loadLevelPrizeConfig()), _.default.instance.danConfig || e.push(_.default.instance.loadDanConfig()), _.default.instance.worldMatchDanPrizeConfig || e.push(_.default.instance.loadWorldMatchDanPrizeConfig())), Promise.all(e).then(function (e) {
					return {
						code: 0
					}
				}).catch(function (e) {
					return {
						code: -1,
						error: e
					}
				})
			}, t.prototype.loadLocalUserData = function () {
				return DataBus.loadData().then(function () {
					return {
						code: 0
					}
				}).catch(function (e) {
					return {
						code: 1,
						error: e
					}
				})
			}, t.prototype.loadRemoteUserData = function () {
				return l.default.supportServer() ? Server.getData().then(function (e) {
					return DataBus.fromServer(e), DataBus.isNewUser && Server.saveData(DataBus.getString()).catch(function (e) { }), {
						code: 0
					}
				}).catch(function (e) {
					return {
						code: -1,
						error: e
					}
				}) : Promise.resolve({
					code: 0
				})
			}, t.prototype.initTaskSystem = function () {
				return N.default.instance.initSystem(), Promise.resolve({
					code: 0
				})
			}, t.prototype.updateDailyData = function () {
				return DataBus.updateDailyData().then(function (e) {
					return e ? {
						code: 0
					} : {
						code: -1,
						error: "获取服务器时间失败"
					}
				})
			}, t.prototype.delayTime = function (e) {
				return Utils.delayTime(e).then(function () {
					return {
						code: 0
					}
				})
			}, Object.defineProperty(t.prototype, "progressValue", {
				get: function () {
					return this.progress.progress
				},
				set: function (e) {
					this.isValid && (this.progress.progress = e, this.progressIcon && (this.progressIcon.x = this.progress.node.width * (e - this.progress.node.anchorX)), this.progressLbl && (this.progressLbl.string = "Loading..." + Math.round(100 * e) + "%"))
				},
				enumerable: !1,
				configurable: !0
			}), t.prototype.progressTo = function (e, t, n) {
				this._tween && this._tween.stop(), this._tween = cc.tween(this).to(t, {
					progressValue: e
				}).call(function () {
					return n && n()
				}).start()
			}, t.prototype.fail = function () {
				Utils.showDialog("错误", "出现错误了, 请尝试重新启动游戏!", "确定", "")
			}, t.prefabName = "Prefab/scene/loadingScene", i([H(cc.ProgressBar)], t.prototype, "progress", void 0), i([H(cc.Node)], t.prototype, "progressIcon", void 0), i([H(cc.Label)], t.prototype, "progressLbl", void 0), t = i([G], t)
		}(cc.Component);

		function W() {
			var e = 0;
			sdk.insideAds.onChanged = function () {
				cc.systemEvent.emit(c.default.INSIDE_ADS_CHANGED)
			}, sdk.onBannerShowSuccess = function () {
				cc.systemEvent.emit(c.default.BANNER_CHANGED), clearTimeout(e)
			}, sdk.onBannerShowFail = function () {
				cc.systemEvent.emit(c.default.BANNER_CHANGED), clearTimeout(e), sdk._bannerHasShow
			}, sdk.onBannerShow = function () {
				e = setTimeout(function () {
					sdk._bannerHasShow && (!sdk._banner || !sdk._banner.style || sdk._banner.style.realHeight)
				}, 100)
			}, sdk.onBannerHide = function () {
				cc.systemEvent.emit(c.default.BANNER_CHANGED), clearTimeout(e)
			}, sdk.onRewardsADLoaded = function () {
				cc.systemEvent.emit(c.default.VIDEO_CHANGED)
			}, sdk.onRewardsADError = function () {
				cc.systemEvent.emit(c.default.VIDEO_CHANGED)
			}, sdk.onNativeLoad(function () {
				cc.systemEvent.emit(c.default.NATIVE_ADS_LOAD)
			}), sdk.onNativeError(function () {
				cc.systemEvent.emit(c.default.NATIVE_ADS_ERROR)
			})
		}

		function q() {
			l.default.isWX() && (l.default.login(), wx.setKeepScreenOn && wx.setKeepScreenOn({
				keepScreenOn: !0
			}), sdk.onShow("audio", function () {
				l.default.isVivo() || C.default.resumeMusic("后台返回时，在首页场景手动恢复播放背景音乐")
			}), wx.setMessageToFriendQuery && wx.setMessageToFriendQuery({
				shareMessageToFriendScene: 6
			}), wx.onShareMessageToFriend && wx.onShareMessageToFriend(function (e) {
				console.log("定向分享回调: ", e), e && e.success && cc.systemEvent.emit(c.default.SHARE_TO_FRIEND)
			}), wx.onHide(function () { }), sdk.onShow("main", function (e) {
				sdk._onShowList.findIndex(function (e) {
					return "fakeShare" == e.name
				});
				Y(e)
			}), wx.onMemoryWarning && wx.onMemoryWarning(function (e) {
				wx.triggerGC && wx.triggerGC()
			}))
		}

		function Y(e) {
			DataBus.serverUserInfo.my_id && e && e.scene
		}

		// function K() {
		// 	var e = void 0,
		// 		t = function (t) {
		// 			t !== e && (e = t, t ? l.default.isWX() && (sdk.resetBanner("弹窗刷新", (new Date).getTime()), sdk.showBanner()) : sdk.hideBanner())
		// 		},
		// 		n = l.default.isQg() ? Utils.debounce(t, 500) : t;
		// 	f.default.instance.createStack(p.default.banner, function (e) {
		// 		n(e == p.BannerStatus.Banner), k.default.instance.setFakeBannerVisible(e == p.BannerStatus.Banner), U.default.instance.setBannerVisible(e == p.BannerStatus.NativeBanner), U.default.instance.setBottomAdsVisible(e == p.BannerStatus.NativeBottom)
		// 	}), f.default.instance.createStack(p.default.feedback, function (e) {
		// 		var t = cc.Canvas.instance.getComponentInChildren(w.default);
		// 		t && t.setWxBtnEnabled(!!e)
		// 	})
		// }

		function Z() {
			I.default.addConfig({
				id: O.MoneyID.coins,
				eventId: c.default.UPDATE_COINS,
				animName: "Prefab/item/coinsAnim",
				valueFunc: function () {
					return I.default.parseValue(DataBus.user.coins)
				},
				incValueFormatFunc: function (e) {
					return e > 0 ? "+" + I.default.parseValue(e) : I.default.parseValue(e)
				},
				soundId: A.default.coins,
				color: x.default.RedColor
			}), I.default.addConfig({
				id: O.MoneyID.bcoins,
				eventId: c.default.UPDATE_BCOINS,
				animName: "Prefab/item/bcoinsAnim",
				valueFunc: function () {
					return I.default.parseValue(DataBus.user.bcoins)
				},
				incValueFormatFunc: function (e) {
					return e > 0 ? "+" + I.default.parseValue(e) : I.default.parseValue(e)
				},
				soundId: A.default.gem,
				color: x.default.BlueColor
			}), I.default.addConfig({
				id: O.MoneyID.energy,
				eventId: c.default.UPDATE_ENERGY,
				animName: "Prefab/item/energyAnim",
				valueFunc: function () {
					return I.default.parseValue(DataBus.user.energy)
				},
				incValueFormatFunc: function (e) {
					return e > 0 ? "+" + I.default.parseValue(e) : I.default.parseValue(e)
				},
				soundId: A.default.gem,
				color: x.default.RedColor
			}), I.default.addConfig({
				id: O.MoneyID.daily_active,
				eventId: c.default.UPDATE_DAILY_ACTIVE,
				animName: "Prefab/item/dailyActiveAnim",
				valueFunc: function () {
					return I.default.parseValue(DataBus.other.dailyActive)
				},
				incValueFormatFunc: function (e) {
					return e > 0 ? "+" + I.default.parseValue(e) : I.default.parseValue(e)
				},
				soundId: A.default.gem,
				color: x.default.RedColor
			}), I.default.addConfig({
				id: O.MoneyID.weekly_active,
				eventId: c.default.UPDATE_WEEKLY_ACTIVE,
				animName: "Prefab/item/weeklyActiveAnim",
				valueFunc: function () {
					return I.default.parseValue(DataBus.other.weeklyActive)
				},
				incValueFormatFunc: function (e) {
					return e > 0 ? "+" + I.default.parseValue(e) : I.default.parseValue(e)
				},
				soundId: A.default.gem,
				color: x.default.BlueColor
			})
		}

		function Q() {
			if (d.GameConfig.USE_YDSDK) return S.default.instance.enableSystemShare();
			sdk.onShareWithCallback(function () {
				if (l.default.isTT()) {
					var e = j.SharePos.System,
						t = F.default.getShareConfig(e);
					return {
						templateId: "e94wyjg0t0a1920q54",
						query: F.default.generateQuery(t.queryObj),
						title: "快来和我打台球",
						desc: t.title,
						imageUrl: t.pic
					}
				}
				F.default.addShareTimesForQQ();
				var n = j.SharePos.System,
					o = F.default.getShareConfig(n),
					i = F.default.generateQuery(o.queryObj);
				return F.default.reportShare(n, o.queryObj.share_id), {
					title: o.title,
					imageUrl: o.pic,
					query: i
				}
			})
		}
		n.default = z, cc._RF.pop()
	}, {
		"../Base/AdsMgr": "AdsMgr",
		"../Base/FeedbackBtn": "FeedbackBtn",
		"../Base/InterAdMgr": "InterAdMgr",
		"../Base/Share": "Share",
		"../Base/ShareTypes": "ShareTypes",
		"../Base/StatusStack": "StatusStack",
		"../Config/EventID": "EventID",
		"../Config/GameConfig": "GameConfig",
		"../Config/SoundID": "SoundID",
		"../Config/StatusStackID": "StatusStackID",
		"../Data/DataSaver": "DataSaver",
		"../Data/wxsdk": "wxsdk",
		"../Ui/ads/NativeAdsLogic": "NativeAdsLogic",
		"../Ui/bank/BankLogic": "BankLogic",
		"../Ui/dailyTask/DailyTaskLogic": "DailyTaskLogic",
		"../Ui/energy/EnergyLogic": "EnergyLogic",
		"../Ui/invite/InviteLogic": "InviteLogic",
		"../Ui/money/MoneyBar": "MoneyBar",
		"../Ui/money/MoneyID": "MoneyID",
		"../Ui/newbieEffect/NewbieEffectLogic": "NewbieEffectLogic",
		"../Ui/newbieGift/NewbieGiftLogic": "NewbieGiftLogic",
		"../Ui/other/TextTips": "TextTips",
		"../Ui/vip/VipLogic": "VipLogic",
		"./CmgeBridge": "CmgeBridge",
		"./GameScene": "GameScene",
		"./HomeScene": "HomeScene",
		"./LevelConfig": "LevelConfig",
		"./Loading_Task": "Loading_Task",
		"./Mount": "Mount",
		"./Router": "Router",
		"./YdsdkBridge": "YdsdkBridge",
		"./game/pvp/PvpLogic": "PvpLogic",
		"./guide/GuideLogic": "GuideLogic",
		"./home/UpgradeLogic": "UpgradeLogic"
	}],
	Loading_Task: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "c1e5eyzoolLYa37b55rXwao", "Loading_Task");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			r = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.ParallelTask = n.Task = void 0;
		var a = e("../Data/wxsdk"),
			s = function () {
				function e(e, t, n, o, i, r, a, s) {
					void 0 === i && (i = 1), this.func = null, this.target = null, this.param = null, this.failTitle = "提示", this.failTips = "网络开小差了, 请稍后重试!", this.score = 1, this.name = "", this.desc = "", this.status = "init", this.result = null, this.init(e, t, n, o, i, r, a, s)
				}
				return e.prototype.init = function (e, t, n, o, i, r, a, s) {
					void 0 === i && (i = 1), this.func = e, this.param = n, this.target = t, this.score = i, void 0 != a && (this.failTitle = a), void 0 != s && (this.failTips = s), void 0 != o && (this.name = o), void 0 != r && (this.desc = r)
				}, e.prototype.showDialog = function () {
					return Utils.showDialog(this.failTitle, this.failTips, "重试", "")
				}, e.prototype.callFunc = function () {
					return i(this, void 0, Promise, function () {
						var e, t;
						return r(this, function (n) {
							switch (n.label) {
								case 0:
									return e = this.result ? this.result.param : this.param, t = this, [4, this.func.call(this.target, e)];
								case 1:
									return [2, t.result = n.sent()]
							}
						})
					})
				}, e.prototype.run = function () {
					return i(this, void 0, void 0, function () {
						return r(this, function (e) {
							switch (e.label) {
								case 0:
									return this.status = "run", [4, this.callFunc()];
								case 1:
									e.sent(), e.label = 2;
								case 2:
									return this.result.code < 0 ? (this.status = "retry", console.warn("任务[" + this.name + "]失败: ", this.result.error), a.default.isQg() && GameConfig.DEBUG && qg.loadingComplete && qg.loadingComplete({
										complete: function (e) {
											console.info(e)
										}
									}), [4, Utils.delayTime(.5)]) : [3, 6];
								case 3:
									return e.sent(), [4, this.showDialog()];
								case 4:
									return e.sent(), [4, this.callFunc()];
								case 5:
									return e.sent(), [3, 2];
								case 6:
									return this.status = "complete", [2, this.result]
							}
						})
					})
				}, e
			}();
		n.Task = s;
		var c = function (e) {
			function t(t, n, o) {
				void 0 === o && (o = 1);
				var i = e.call(this, null, null) || this;
				return i.taskList = null, i.unfinishedList = null, i.parallelName = "", i.taskList = t.slice(0), i.unfinishedList = t.slice(0), i.score = o, i.initProcessFunc(), i.parallelName = n, i
			}
			return o(t, e), t.prototype.initProcessFunc = function () {
				var e = this.unfinishedList[0];
				e && this.init(this.processFunc, this, e.param, e.name, this.score, e.desc, e.failTitle, e.failTips)
			}, t.prototype.processFunc = function () {
				return i(this, void 0, void 0, function () {
					var e;
					return r(this, function (t) {
						switch (t.label) {
							case 0:
								return [4, Promise.all(this.unfinishedList.map(function (e) {
									return e.callFunc()
								}))];
							case 1:
								return t.sent(), this.unfinishedList = this.unfinishedList.filter(function (e) {
									return e.result.code < 0
								}), this.unfinishedList.length > 0 ? (e = this.unfinishedList[0], this.init(this.processFunc, this, e.param, e.name, this.score, e.desc, e.failTitle, e.failTips), [2, e.result]) : (this.name = this.parallelName, [2, {
									code: 0
								}])
						}
					})
				})
			}, t
		}(s);
		n.ParallelTask = c;
		var l = function () {
			function e(e) {
				this._taskList = [], this.onProgress = null, this.onProgress = e
			}
			return e.prototype.add = function (e) {
				this._taskList.push(e)
			}, e.prototype.run = function () {
				return i(this, void 0, void 0, function () {
					var e, t, n, o, i, a;
					return r(this, function (r) {
						switch (r.label) {
							case 0:
								e = 0, t = this._taskList.map(function (e) {
									return e.score
								}).reduce(function (e, t) {
									return e + t
								}, 0), n = this._taskList.length, o = 0, r.label = 1;
							case 1:
								return o < n ? (this.onProgress && this.onProgress(e, t), i = this._taskList[o], a = (new Date).getTime(), [4, i.run()]) : [3, 4];
							case 2:
								r.sent(), console.info("加载任务[" + i.name + "]耗时: " + ((new Date).getTime() - a).toFixed(2) + " 毫秒"), e += i.score, r.label = 3;
							case 3:
								return ++o, [3, 1];
							case 4:
								return [2, this._taskList]
						}
					})
				})
			}, e.prototype.removeCompleteTask = function () {
				this._taskList = this._taskList.filter(function (e) {
					return "complete" != e.status
				})
			}, e
		}();
		n.default = l, cc._RF.pop()
	}, {
		"../Data/wxsdk": "wxsdk"
	}],
	LongPress: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "3bcb8jnOL9PpLp1JGIFvCBK", "LongPress");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.target = null, t.duration = 1, t._isPressing = !1, t.onPressStart = null, t.onPressCancel = null, t.onLongPress = null, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					this.target = this.target || this.node
				}, t.prototype.onEnable = function () {
					this._setTouchStartEnable(!0)
				}, t.prototype.onDisable = function () {
					this._setTouchStartEnable(!1), this._setTouchOtherEnable(!1), this._isPressing && this._onTouchCancel(null)
				}, t.prototype.onDestroy = function () {
					this._setTouchStartEnable(!1), this._setTouchOtherEnable(!1), this.onPressStart = null, this.onPressCancel = null, this.onLongPress = null
				}, t.prototype._onLongPress = function () {
					this._setTouchOtherEnable(!1), this.unschedule(this._onLongPress), this.onLongPress && this.onLongPress(this.node.position), this.node.emit("longpress")
				}, t.prototype._onTouchStart = function (e) {
					this._isPressing = !0, e.stopPropagation(), this._setTouchOtherEnable(!0), this.onPressStart && this.onPressStart(this.node.position), this.node.emit("pressstart"), this.schedule(this._onLongPress, this.duration, 0)
				}, t.prototype._onTouchMove = function (e) {
					e.stopPropagation();
					var t = this.node,
						n = t.convertToNodeSpaceAR(e.getLocation());
					(n.x < -t.anchorX * t.width || n.x > (1 - t.anchorX) * t.width || n.y < -t.anchorY * t.height || n.y > (1 - t.anchorY) * t.height) && this._onTouchCancel(e)
				}, t.prototype._onTouchCancel = function (e) {
					this.unschedule(this._onLongPress), this.onPressCancel && this.onPressCancel(this.node.position), this.node.emit("presscancel"), this._setTouchOtherEnable(!1), this._isPressing = !1
				}, t.prototype._setTouchStartEnable = function (e) {
					this.node.off(cc.Node.EventType.TOUCH_START, this._onTouchStart, this), e && this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchStart, this)
				}, t.prototype._setTouchOtherEnable = function (e) {
					this.node.off(cc.Node.EventType.TOUCH_MOVE, this._onTouchMove, this), this.node.off(cc.Node.EventType.TOUCH_END, this._onTouchCancel, this), this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this), e && (this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMove, this), this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchCancel, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this))
				}, i([s(cc.Node)], t.prototype, "target", void 0), i([s({
					displayName: "长按时长"
				})], t.prototype, "duration", void 0), t = i([a], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	LotteryLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "13a4dK6/u5M14M+iUFJTK90", "LotteryLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.LotteryLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, c.menu),
			d = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.LotteryLayerParam = d;
		var f = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			return o(t, e), t.show = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						return [2]
					})
				})
			}, t = i([l, u("Layer/LotteryLayer")], t)
		}(s.default);
		n.default = f, window.LotteryLayer = f, cc._RF.pop()
	}, {
		"../base/LayerBase": "LayerBase"
	}],
	LotteryLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a5c26XCswpPWIAlgLUh74qk", "LotteryLogic"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = function () {
			function e() { }
			return Object.defineProperty(e, "instance", {
				get: function () {
					return this._instance || (this._instance = new e)
				},
				enumerable: !1,
				configurable: !0
			}), e._instance = null, e
		}();
		n.default = o, cc._RF.pop()
	}, {}],
	MainAds: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "16acdDSQjBEAYlFVY9g5BeQ", "MainAds");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/EventID"),
			a = e("../../Base/AdsMgr"),
			s = e("../../Runtime/YdsdkBridge"),
			c = e("./AdsItem"),
			l = cc._decorator,
			u = l.ccclass,
			d = l.property,
			f = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.iconList = [], t
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					n.instance = this, this.hideAll()
				}, t.prototype.onDestroy = function () {
					n.instance = null, cc.systemEvent.off(r.default.INSIDE_ADS_CHANGED, this._onDataChanged, this), cc.systemEvent.off(r.default.INSIDE_ADS_CLICKED, this._onDataChanged, this)
				}, t.prototype.init = function () {
					this._onDataChanged(), cc.systemEvent.on(r.default.INSIDE_ADS_CHANGED, this._onDataChanged, this), cc.systemEvent.on(r.default.INSIDE_ADS_CLICKED, this._onDataChanged, this), this.schedule(this._onDataChanged, 5)
				}, t.prototype.hideAll = function () {
					this.iconList.forEach(function (e) {
						return e.active = !1
					})
				}, t.prototype._onDataChanged = function () {
					var e = this;
					this.hideAll(), this.scheduleOnce(function () {
						for (var t = a.default.instance.getRandomList(), n = [], o = e.iconList.slice(0), i = function (i) {
							var r = t[i];
							if (r.grid) {
								var a = o.findIndex(function (e) {
									return e.name == r.grid
								});
								if (a > -1) {
									t.splice(i, 1), n.push(r);
									var s = o.splice(a, 1)[0];
									s.active = !0, e.updateIcon(s, r)
								}
							}
						}, r = t.length - 1; r >= 0; --r) i(r);
						o.forEach(function (o, i) {
							var r = t[i];
							r ? (o.active = !0, e.updateIcon(o, r), n.push(r)) : o.active = !1
						}), s.default.instance.reportAdsShow(n)
					}, 0)
				}, t.prototype.updateIcon = function (e, t) {
					e.getComponent(c.default).setData(t)
				}, t.instance = null, i([d([cc.Node])], t.prototype, "iconList", void 0), t = n = i([u], t)
			}(cc.Component);
		n.default = f, cc._RF.pop()
	}, {
		"../../Base/AdsMgr": "AdsMgr",
		"../../Config/EventID": "EventID",
		"../../Runtime/YdsdkBridge": "YdsdkBridge",
		"./AdsItem": "AdsItem"
	}],
	MaskLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7b385MY2iNB7I3Vg+Vjg6cN", "MaskLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.MaskLayerParam = void 0;
		var r = e("../../Ui/base/LayerBase"),
			a = cc._decorator,
			s = a.ccclass,
			c = a.property,
			l = a.menu,
			u = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.MaskLayerParam = u;
		var d = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.maskComp = null, t.blackNode = null, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), n._instance = this
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this), n._instance = null
			}, t.prototype.onDataLoad = function () {
				var e = this.data.param;
				e && this.setData(e.maskType, e.maskWidth, e.maskHeight, e.maskPosition, e.opacity)
			}, t.prototype.setData = function (e, t, n, o, i) {
				void 0 === i && (i = 128), this.maskComp.type = e, this.maskComp.node.width = t, this.maskComp.node.height = n, this.maskComp.node.setPosition(o), this.blackNode.stopAllActions(), this.blackNode.opacity = 0;
				this.blackNode.runAction(cc.fadeTo(.3, i))
			}, t.prototype.close = function () {
				this.node.destroy()
			}, t.show = function (e, t) {
				console.log("显示MaskLayer");
				var o = new u;
				return o.param = e, o.onClose = function () {
					return t && t()
				}, ui.showLayer(n, o)
			}, t.close = function () {
				n._instance && (console.log("关闭MaskLayer"), n._instance.close())
			}, t.prefabName = "common://dynamic/layer/maskLayer", t._instance = null, i([c({
				type: cc.Mask,
				displayName: "遮罩组件"
			})], t.prototype, "maskComp", void 0), i([c({
				type: cc.Node,
				displayName: "黑色节点"
			})], t.prototype, "blackNode", void 0), t = n = i([s, l("Layer/MaskLayer")], t)
		}(r.default);
		n.default = d, window.MaskLayer = d, cc._RF.pop()
	}, {
		"../../Ui/base/LayerBase": "LayerBase"
	}],
	MatchSuccessLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "33102nwKD9JoLQs8MVXxeYl", "MatchSuccessLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.MatchSuccessLayerParam = void 0;
		var s = e("../../../Ui/base/LayerBase"),
			c = e("./PvpLogic"),
			l = e("../../Router"),
			u = e("./PvpScene"),
			d = e("./PvpUiHelper"),
			f = cc._decorator,
			p = f.ccclass,
			h = (f.property, f.menu),
			y = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.MatchSuccessLayerParam = y;
		var g = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				Utils.loadVarFromNode(this.node, "$", this), this._initDisplay(), this._runAction(), this._enterGame()
			}, t.prototype._initDisplay = function () {
				var e = {
					rank_prefix: "rank："
				};
				Utils.loadVarFromNode(this.mine_node, "_", e), d.default.instance.setPlayerDisplay(this.mine_node, e, c.default.instance.localPlayerInfo);
				var t = {
					rank_prefix: "rank："
				};
				Utils.loadVarFromNode(this.oppo_node, "_", t), d.default.instance.setPlayerDisplay(this.oppo_node, t, c.default.instance.oppoPlayerInfo), this.price_lbl.string = "Deduct " + this.data.price + " gold pieces to enter the match"
			}, t.prototype._runAction = function () {
				this._runMoveAction(this.mine_node, -700, -30, 30, 700), this._runMoveAction(this.oppo_node, 700, 30, -30, -700)
			}, t.prototype._runMoveAction = function (e, t, n, o, i) {
				e.x = t;
				var r = e.y;
				e.stopAllActions(), e.runAction(cc.sequence(cc.moveTo(.2, n, r), cc.moveTo(1.6, o, r), cc.moveTo(.2, i, r)))
			}, t.prototype._enterGame = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return u.default.loadSubPackage(!1), [4, Utils.delayTime(2, this)];
							case 1:
								return e.sent(), this.close(), l.default.instance.enterPvp(), [2]
						}
					})
				})
			}, t.show = function (e) {
				return new Promise(function (t, o) {
					var i = new y;
					i.price = e, i.onClose = t, ui.showLayer(n, i)
				})
			}, t.prefabName = "home://dynamic/layer/matchSuccessLayer", t = n = i([p, h("Layer/MatchSuccessLayer")], t)
		}(s.default);
		n.default = g, window.MatchSuccessLayer = g, cc._RF.pop()
	}, {
		"../../../Ui/base/LayerBase": "LayerBase",
		"../../Router": "Router",
		"./PvpLogic": "PvpLogic",
		"./PvpScene": "PvpScene",
		"./PvpUiHelper": "PvpUiHelper"
	}],
	MoneyAnim: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "db6352eQMxB2KBvxNNfhwDe", "MoneyAnim");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			r = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var a = e("../Res/ResLoader"),
			s = new (function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.root = null, t
				}
				return o(t, e), t.prototype._playOne = function (e, t, n, o, s, c, l, u, d, f) {
					var p = this;
					return new Promise(function (h, y) {
						p.scheduleOnce(function () {
							return i(p, void 0, void 0, function () {
								var i, p, g, _, v;
								return r(this, function (r) {
									switch (r.label) {
										case 0:
											return i = setTimeout(function () {
												y()
											}, 1e3 * (d + f + .2)), p = .4, g = 1.2, [4, a.default.getNodeRes(e)];
										case 1:
											return _ = r.sent(), t.isValid ? (_.parent = t, (v = _.getComponent(cc.Animation)) && v.play(), _.stopAllActions(), _.setPosition(n), _.angle = -cc.misc.radiansToDegrees(u), _.setScale(p, p), _.runAction(cc.spawn(cc.sequence(cc.scaleTo(.5 * f, g), cc.scaleTo(.5 * f, p)).easing(cc.easeSineOut()), cc.sequence(cc.bezierTo(f, [n, s.add(c.mul(l)), o]).easing(cc.easeSineOut()), cc.callFunc(function () {
												a.default.removeNode(_), clearTimeout(i), h()
											})))), [2]) : (a.default.removeNode(_), clearTimeout(i), y(), [2])
									}
								})
							})
						}, d)
					})
				}, t.prototype.play = function (e, t, n, o, i, r, a) {
					void 0 === i && (i = !1), void 0 === r && (r = 1e3);
					var s = (a = a || this.root || cc.Canvas.instance.node).convertToNodeSpaceAR(t),
						c = a.convertToNodeSpaceAR(n),
						l = new cc.Vec2((s.x + c.x) / 2, (s.y + c.y) / 2),
						u = new cc.Vec2(c.x - s.x, c.y - s.y),
						d = u.rotate(-Math.PI / 2).normalizeSelf(),
						f = u.mag(),
						p = Math.min(.9, f / r),
						h = i ? u.signAngle(new cc.Vec2(1, 0)) : 0,
						y = [];
					if (1 == o) {
						var g = 2 * (Math.random() - .5) * f * .2;
						y.push(this._playOne(e, a, s, c, l, d, g, h, 0, p))
					} else
						for (var _ = 0; _ < o; ++_) {
							g = 2 * (Math.random() - .5) * f * .5;
							var v = .4 * Math.random(),
								b = p + .5 * Math.random();
							y.push(this._playOne(e, a, s, c, l, d, g, h, v, b))
						}
					return Promise.all(y).then(function (e) { }).catch(function (e) {
						console.log("动画取消: ", e)
					})
				}, t
			}(cc.Component));
		n.default = s, window.MoneyAnim = s, cc._RF.pop()
	}, {
		"../Res/ResLoader": "ResLoader"
	}],
	MoneyBar: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "3b7a9Fziy5HFo4nfnQNFHRb", "MoneyBar");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("./MoneyID"),
			c = e("../../Effect/MoneyAnim"),
			l = e("../other/TextTips"),
			u = e("../../Lib/bignumber"),
			d = cc._decorator,
			f = d.ccclass,
			p = d.property,
			h = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.id = s.MoneyID.coins, t.lblNode = null, t.increaseAnim = !1, t.decreaseAnim = !1, t._onLoadFuncList = [], t._onDestroyFuncList = [], t._onEnableFuncList = [], t
				}
				var n;
				return o(t, e), n = t, t.addConfig = function (e) {
					this._configList.push(e)
				}, t.prototype._init = function () {
					var e = this,
						t = n._configList.findIndex(function (t) {
							return t.id == e.id
						});
					if (t > -1) {
						var o = n._configList[t];
						this.addListener(o.eventId, this.lblNode, o.animName, this.increaseAnim, this.decreaseAnim, o.valueFunc, o.incValueFormatFunc, o.soundId, o.color)
					}
				}, t.parseValue = function (e, t) {
					return void 0 === t && (t = 0), new u.default(e).toFixed(t, u.default.ROUND_FLOOR)
				}, t.prototype.onLoad = function () {
					this._init(), this._onLoadFuncList.forEach(function (e) {
						return e()
					})
				}, t.prototype.onDestroy = function () {
					this._onDestroyFuncList.forEach(function (e) {
						return e()
					}), this._onDestroyFuncList = null, this._onLoadFuncList = null, this._onEnableFuncList = null
				}, t.prototype.onEnable = function () {
					this._onEnableFuncList.forEach(function (e) {
						return e()
					})
				}, t.prototype.addListener = function (e, t, n, o, i, s, l, u, d) {
					var f = this,
						p = function () {
							return f._setString(t, s())
						},
						h = null;
					h = o || i ? function (e) {
						if (e && f.enabled && !e.animHasPlay) {
							e.animHasPlay = !0;
							var s = e.pos,
								h = e.value,
								y = e.delay;
							f.scheduleOnce(function () {
								return r(f, void 0, void 0, function () {
									var e, r, f, y;
									return a(this, function (a) {
										switch (a.label) {
											case 0:
												return e = o && h >= 0, r = i && h < 0, t && t.isValid && (e || r) && t.activeInHierarchy ? (s || (f = cc.view.getVisibleSize(), s = new cc.Vec2(.5 * f.width, .5 * f.height)), y = t.convertToWorldSpaceAR(cc.Vec2.ZERO), u && SoundMgr.play(u), e && n ? [4, c.default.play(n, s, y, cc.misc.clampf(h, 1, 6))] : [3, 2]) : [3, 5];
											case 1:
												a.sent(), a.label = 2;
											case 2:
												return p(), l && this._showStringTextTips(l(h), y, d), r && n ? [4, c.default.play(n, y, s, cc.misc.clampf(Math.abs(h), 1, 6))] : [3, 4];
											case 3:
												a.sent(), a.label = 4;
											case 4:
												return [3, 6];
											case 5:
												p(), a.label = 6;
											case 6:
												return [2]
										}
									})
								})
							}, y)
						} else p()
					} : p, this._onLoadFuncList.push(function () {
						cc.systemEvent.on(e, h, f)
					}), this._onDestroyFuncList.push(function () {
						cc.systemEvent.off(e, h, f)
					}), this._onEnableFuncList.push(function () {
						h(null)
					})
				}, t.prototype._showStringTextTips = function (e, t, n) {
					var o = t.clone();
					o.y -= 50, l.default.instance && l.default.instance.showTips(e, o, n)
				}, t.prototype._setString = function (e, t) {
					if (e && e.isValid) {
						var n = e.getComponent(cc.Label) || e.getComponent(cc.RichText);
						n && n.string != t && (n.string = t, n.node.stopAllActions(), n.node.runAction(cc.sequence(cc.scaleTo(.13, 1.3), cc.scaleTo(.13, 1))))
					}
				}, t._configList = [], i([p({
					type: cc.Enum(s.MoneyID),
					displayName: "类型"
				})], t.prototype, "id", void 0), i([p({
					type: cc.Node,
					displayName: "标签节点"
				})], t.prototype, "lblNode", void 0), i([p({
					displayName: "显示增加动画"
				})], t.prototype, "increaseAnim", void 0), i([p({
					displayName: "显示减少动画"
				})], t.prototype, "decreaseAnim", void 0), t = n = i([f], t)
			}(cc.Component);
		n.default = h, window.MoneyBar = h, cc._RF.pop()
	}, {
		"../../Effect/MoneyAnim": "MoneyAnim",
		"../../Lib/bignumber": "bignumber",
		"../other/TextTips": "TextTips",
		"./MoneyID": "MoneyID"
	}],
	MoneyID: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d7fc6Ak6MtGYaVNNMR9VnQi", "MoneyID"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.MoneyID = void 0,
			function (e) {
				e[e.coins = 0] = "coins", e[e.bcoins = 1] = "bcoins", e[e.energy = 2] = "energy", e[e.daily_active = 3] = "daily_active", e[e.weekly_active = 4] = "weekly_active"
			}(n.MoneyID || (n.MoneyID = {})), cc._RF.pop()
	}, {}],
	Mount: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f68b1Trku9FHayDEwoYCGTr", "Mount"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), e("../Lib/tableView/tableView");
		var o = e("../Data/Crypt"),
			i = e("../Lib/sdk"),
			r = e("../Base/Utils"),
			a = e("../Data/DataBus"),
			s = e("../Base/SoundMgr"),
			c = e("../Data/Server"),
			l = e("../Data/TimeMgr"),
			u = e("../Ui/Ui");
		e("../Lib/modifyBox2d"), e("../Base/Share");
		var d = new o.default;
		window.Crypt = d, window.SDK = i, window.sdk = i;
		var f = new r.default;
		window.Utils = f;
		var p = new a.default;
		window.DataBus = p;
		var h = new s.default;
		window.SoundMgr = h;
		var y = new c.default;
		window.Server = y;
		var g = new l.default;
		window.TimeMgr = g, window.ui = u.default, cc._RF.pop()
	}, {
		"../Base/Share": "Share",
		"../Base/SoundMgr": "SoundMgr",
		"../Base/Utils": "Utils",
		"../Data/Crypt": "Crypt",
		"../Data/DataBus": "DataBus",
		"../Data/Server": "Server",
		"../Data/TimeMgr": "TimeMgr",
		"../Lib/modifyBox2d": "modifyBox2d",
		"../Lib/sdk": "sdk",
		"../Lib/tableView/tableView": "tableView",
		"../Ui/Ui": "Ui"
	}],
	MsgboxLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9b5ec6+RApKW7OqmrHbTywR", "MsgboxLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/SoundID"),
			a = e("../base/LayerBase"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, s.menu),
			u = function () {
				return function () {
					this.success = !1, this.onClose = function () { }
				}
			}(),
			d = function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this)
				}, t.prototype.onDestroy = function () {
					e.prototype.onDestroy.call(this)
				}, t.prototype.onDataLoad = function () {
					var e = this.data;
					this.content_richtext.string = e.content, this.ok_btn.node.active = e.showOk, this.cancel_btn.node.active = e.showCancel;
					var t = this.getCloseBtn();
					t && (t.active = e.showClose)
				}, t.prototype.onBtnOkClick = function () {
					SoundMgr.play(r.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.data.success = !0, this.close()
				}, t.prototype.onBtnCancelClick = function () {
					SoundMgr.play(r.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.data.success = !1, this.close()
				}, t.prototype.onBtnCloseClick = function () {
					SoundMgr.play(r.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.data.success = !1, this.close()
				}, t.show = function (e, t, o, i) {
					return void 0 === t && (t = !0), void 0 === o && (o = !0), void 0 === i && (i = !0), new Promise(function (r, a) {
						var s = new u;
						return s.content = e, s.showOk = t, s.showCancel = o, s.showClose = i, s.onClose = function () {
							return r(s.success)
						}, ui.showLayer(n, s)
					})
				}, t.prefabName = "common://dynamic/layer/msgboxLayer", t = n = i([c, l("Layer/MsgboxLayer")], t)
			}(a.default);
		n.default = d, window.MsgboxLayer = d, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../base/LayerBase": "LayerBase"
	}],
	MyCrypto: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "fb1ecMhcyxDnLqlO0rdrd3S", "MyCrypto"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = "-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDXcX11MQC43ImzCASZlqeruO+n\nFjK23fWSt5/BhuvM7D/u4LfDHleJXIEJtMZMxqwlcOy7WNRNPQhMm9SO+hMktNMY\n5aHgD8kE9EUSeV2vAOJ1cGDuwzQbm7xTrPs4Wrr91YycEgkI4XvPNmXL/OvSTg2y\nu4r9McHGtB+fEynzXQIDAQAB\n-----END PUBLIC KEY-----\n",
			i = "0513456981013103",
			r = null;

		function a() {
			return r || (r = new JSEncrypt).setPublicKey(o), r
		}
		var s = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",
			c = function () {
				function e() { }
				return e.randomAesKey = function () {
					for (var e = "", t = s.length, n = 0; n < 32; ++n) e += s[Math.floor(Math.random() * t)];
					return e
				}, e.encryptDataWithoutRandomKey = function (e) {
					var t = "RZh2RgKGKxDKfFvd";
					return "string" != typeof e && (e = JSON.stringify(e)), {
						skey: l(t),
						sig: f(e, t)
					}
				}, e.decryptDataWithoutVerify = function (e, t) {
					if ("string" == typeof e) try {
						e = JSON.parse(decodeURIComponent(e))
					} catch (t) {
						console.error("[decryptData]格式化json出错: ", t), e = null
					}
					if (!e) return null;
					for (var n = Object.keys(e), o = 0, i = n.length; o < i; ++o) {
						var r = n[o];
						"skey" != r && (e[r] = d(e[r], t))
					}
					return e
				}, e._aes_encrypt = function (e, t) {
					return f(e, t)
				}, e._aes_decrypt = function (e, t) {
					return d(e, t)
				}, e.encryptData = function (e, t) {
					return "string" != typeof e && (e = JSON.stringify(e)), {
						skey: l(t),
						data: f(e, t)
					}
				}, e.decryptData = function (e, t) {
					if ("string" == typeof e) try {
						e = JSON.parse(decodeURIComponent(e))
					} catch (t) {
						console.error("[decryptData]格式化json出错: ", t), e = null
					}
					if (!e) return null;
					if (!e.skey) return console.error("[decryptData]skey不存在"), null;
					if (!u(t, e.skey)) return console.error("[decryptData]skey校验失败"), null;
					for (var n = Object.keys(e), o = 0, i = n.length; o < i; ++o) {
						var r = n[o];
						"skey" != r && (e[r] = d(e[r], t))
					}
					return e
				}, e.simpleEncryptData = function (e, t) {
					return void 0 === t && (t = "RZh2RgKGKxDKfFvdRqSzsgK3BFeG64p6"), CryptoJS.AES.encrypt(e, t).toString()
				}, e.simpleDecryptData = function (e, t) {
					return void 0 === t && (t = "RZh2RgKGKxDKfFvdRqSzsgK3BFeG64p6"), CryptoJS.AES.decrypt(e, t).toString(CryptoJS.enc.Utf8)
				}, e.rsaVerify = function (e, t) {
					return u(e, t)
				}, e.rsa_public_encrypt = function (e) {
					return l(e)
				}, e
			}();

		function l(e) {
			var t = a().encrypt(e);
			return encodeURIComponent(encodeURIComponent(t))
		}

		function u(e, t) {
			return a().verify(e, t, CryptoJS.SHA1)
		}

		function d(e, t) {
			try {
				var n = CryptoJS.enc.Utf8.parse(t),
					o = CryptoJS.enc.Utf8.parse(i);
				return e = CryptoJS.enc.Hex.stringify(CryptoJS.enc.Base64.parse(e)), CryptoJS.AES.decrypt(e, n, {
					iv: o,
					mode: CryptoJS.mode.CBC,
					padding: CryptoJS.pad.Pkcs7,
					format: CryptoJS.format.Hex
				}).toString(CryptoJS.enc.Utf8)
			} catch (e) {
				return console.error("aes_decrypt error.", e), null
			}
		}

		function f(e, t) {
			try {
				var n = CryptoJS.enc.Utf8.parse(t),
					o = CryptoJS.enc.Utf8.parse(i),
					r = CryptoJS.AES.encrypt(e, n, {
						iv: o,
						mode: CryptoJS.mode.CBC,
						padding: CryptoJS.pad.Pkcs7
					});
				return encodeURIComponent(encodeURIComponent(r.ciphertext.toString(CryptoJS.enc.Base64)))
			} catch (e) {
				return console.error("aes_encrypt error.", e), null
			}
		}
		n.default = c, window.MyCrypto = c, cc._RF.pop()
	}, {}],
	NativeAdsLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "785a406Dc5PeYlnwzWr2mfV", "NativeAdsLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/EventID"),
			a = e("../../Data/wxsdk"),
			s = e("../../Res/ResLoader"),
			c = e("../../Runtime/guide/GuideLogic"),
			l = e("./NativeAds"),
			u = (new Date).getTime(),
			d = -1,
			f = function () {
				function e() {
					this._layerBottom = 0, this._bannerVisible = !1, this._bannerPromise = null, this._bottomAdsVisible = !1, this._bottomAdsPromise = null;
					d > 0 && setTimeout(function () {
						console.log("[原生广告]进入游戏1分钟了，刷新显示"), cc.systemEvent.emit(r.default.NATIVE_ADS_LOAD)
					}, d)
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.isSupport = function () {
					return a.default.isQg()
				}, e.prototype.canShowAds = function () {
					return this.isSupport() && c.default.instance.isGuideFinished() && this._isTimeValid() && !!sdk.getNativeAdData()
				}, e.prototype._isTimeValid = function () {
					var e = d;
					return !(e > 0) || (new Date).getTime() - u >= e
				}, e.prototype.setLayerBottom = function (e) {
					this._layerBottom = e
				}, e.prototype.getBottomAdsHeight = function () {
					return 496
				}, e.prototype.getBannerHeight = function () {
					return 120
				}, e.prototype.setBannerVisible = function (e) {
					return o(this, void 0, void 0, function () {
						return i(this, function (t) {
							switch (t.label) {
								case 0:
									return this.isSupport() ? (this._bannerVisible = e, e && sdk.resetNativeAd("弹窗刷新", (new Date).getTime()), [4, this._getBanner()]) : [2];
								case 1:
									return t.sent().active = this._bannerVisible, this._updateBannerSize(), this._setBannerData(), [2]
							}
						})
					})
				}, e.prototype._updateBannerSize = function () {
					return o(this, void 0, void 0, function () {
						var e, t;
						return i(this, function (n) {
							switch (n.label) {
								case 0:
									return [4, this._getBanner()];
								case 1:
									return e = n.sent(), t = cc.view.getVisibleSize(), e.width = t.width, e.x = 0, e.y = -t.height / 2, [2]
							}
						})
					})
				}, e.prototype._setBannerData = function () {
					return o(this, void 0, void 0, function () {
						var e;
						return i(this, function (t) {
							switch (t.label) {
								case 0:
									return [4, this._getBanner()];
								case 1:
									return e = t.sent(), e.getComponent(l.default).setData(sdk.getNativeAdData()), [2]
							}
						})
					})
				}, e.prototype._getBanner = function () {
					return o(this, void 0, void 0, function () {
						var e, t;
						return i(this, function (n) {
							switch (n.label) {
								case 0:
									return this._bannerPromise ? [2, this._bannerPromise] : (e = cc.Canvas.instance.node, this._bannerPromise = s.default.getNodeRes("common://dynamic/item/nativeBanner"), [4, this._bannerPromise]);
								case 1:
									return t = n.sent(), e.isValid && (t.parent = e), [2, t]
							}
						})
					})
				}, e.prototype.setBottomAdsVisible = function (e) {
					return o(this, void 0, void 0, function () {
						return i(this, function (t) {
							switch (t.label) {
								case 0:
									return this.isSupport() ? (this._bottomAdsVisible = e, [4, this._getBottomAds()]) : [2];
								case 1:
									return t.sent().active = this._bottomAdsVisible, this._updateBottomAdsSize(), this._setBottomAdsData(), [2]
							}
						})
					})
				}, e.prototype._updateBottomAdsSize = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n;
						return i(this, function (o) {
							switch (o.label) {
								case 0:
									return [4, this._getBottomAds()];
								case 1:
									return e = o.sent(), t = cc.view.getVisibleSize(), n = this._layerBottom, e.width = t.width, e.x = 0, e.y = -t.height / 2 + n, [2]
							}
						})
					})
				}, e.prototype._setBottomAdsData = function () {
					return o(this, void 0, void 0, function () {
						var e;
						return i(this, function (t) {
							switch (t.label) {
								case 0:
									return [4, this._getBottomAds()];
								case 1:
									return e = t.sent(), e.getComponent(l.default).setData(sdk.getNativeAdData()), [2]
							}
						})
					})
				}, e.prototype._getBottomAds = function () {
					return o(this, void 0, void 0, function () {
						var e, t;
						return i(this, function (n) {
							switch (n.label) {
								case 0:
									return this._bottomAdsPromise ? [2, this._bottomAdsPromise] : (e = cc.Canvas.instance.node, this._bottomAdsPromise = s.default.getNodeRes("common://dynamic/item/nativeBottomAd"), [4, this._bottomAdsPromise]);
								case 1:
									return t = n.sent(), e.isValid && (t.parent = e), [2, t]
							}
						})
					})
				}, e._instance = null, e
			}();
		n.default = f, window.NativeAdsLogic = f, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Data/wxsdk": "wxsdk",
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/guide/GuideLogic": "GuideLogic",
		"./NativeAds": "NativeAds"
	}],
	NativeAds: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "b1263fSjoVPg6syRLrIHwdB", "NativeAds");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = (r.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.titleLbl = null, t.descLbl = null, t.icon_sp = null, t.img_sp = null, t.btnLbl = null, t
				}
				return o(t, e), t.prototype.setData = function (e) {
					this._data = e, this._updateDisplay(), e && this.node.active && sdk.reportNativeAdShow(e.adId)
				}, t.prototype._updateDisplay = function () {
					var e = this._data;
					e ? (this.img_sp && Utils.loadImage(this.img_sp, e.imgUrlList[0]), this.icon_sp && Utils.loadImage(this.icon_sp, e.icon), this.titleLbl && (this.titleLbl.string = e.title || ""), this.descLbl && (this.descLbl.string = e.desc || ""), this.btnLbl && (this.btnLbl.string = e.clickBtnTxt || "查看广告")) : this.node.active = !1
				}, t.prototype.onBtnCloseClick = function () {
					this.node.active = !1
				}, t.prototype.onBtnOpenClick = function () {
					var e = this._data;
					e && (sdk.reportNativeAdClick(e.adId), sdk.resetNativeAd("点击了", (new Date).getTime()))
				}, i([s(cc.Label)], t.prototype, "titleLbl", void 0), i([s(cc.Label)], t.prototype, "descLbl", void 0), i([s(cc.Sprite)], t.prototype, "icon_sp", void 0), i([s(cc.Sprite)], t.prototype, "img_sp", void 0), i([s(cc.Label)], t.prototype, "btnLbl", void 0), t = i([a], t)
			}(cc.Component));
		n.default = c, cc._RF.pop()
	}, {}],

	NewbieEffectLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "3afd8m4jW9GIbAAJ13njdh8", "NewbieEffectLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.NewbieEffectLayerParam = void 0;
		var s = e("../../Config/SoundID"),
			c = e("../../Data/wxsdk"),
			l = e("../base/CountDown"),
			u = e("../base/LayerBase"),
			d = e("./NewbieEffectLogic"),
			f = cc._decorator,
			p = f.ccclass,
			h = (f.property, f.menu),
			y = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.NewbieEffectLayerParam = y;
		var g = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this.updateDisplay()
			}, t.prototype.updateDisplay = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n, o, i = this;
					return a(this, function (r) {
						switch (r.label) {
							case 0:
								return e = this.data.isSubscribe, this.subscribe_node.active = e, this.getCloseBtn().active = e, this.receive_btn.node.active = !e, e ? [4, d.default.instance.getRemainTime()] : [3, 2];
							case 1:
								t = r.sent().remainTime, (n = this.time_lbl.getComponent(l.default)).formatFunc = function (e) {
									return Utils.formatDuration3(e)
								}, n.begin(t / 1e3, function () {
									i.data.isSubscribe = !1, i.updateDisplay()
								}), o = d.default.instance.canShowSubscribe(), this.subscribe_toggle.node.active = false, this.subscribe_toggle.isChecked = o, o && (this.subscribe_lbl.string = c.default.isQQ() ? "" : ""), r.label = 2;
							case 2:
								return [2]
						}
					})
				})
			}, t.prototype.onBtnReceiveClick = function () {
				SoundMgr.play(s.default.btn), d.default.instance.receivePrize(), this.close()
			}, t.prototype.onBtnCloseClick = function () {
				SoundMgr.play(s.default.btn), this.subscribe_toggle.isChecked && d.default.instance.subscribe(), this.close()
			}, t.show = function (e) {
				var t = new y;
				return new Promise(function (o, i) {
					return t.isSubscribe = e, t.onClose = o, ui.showLayer(n, t)
				})
			}, t.prefabName = "home://dynamic/layer/newbieEffectLayer", t = n = i([p, h("Layer/NewbieEffectLayer")], t)
		}(u.default);
		n.default = g, window.NewbieEffectLayer = g, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../../Data/wxsdk": "wxsdk",
		"../base/CountDown": "CountDown",
		"../base/LayerBase": "LayerBase",
		"./NewbieEffectLogic": "NewbieEffectLogic"
	}],
	NewbieEffectLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "19ae9IamuFHHpQ3oVfxQAPy", "NewbieEffectLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Data/wxsdk"),
			a = e("../skin2/Skin2Defines"),
			s = e("../skin2/Skin2Logic"),
			c = e("./NewbieEffectLayer"),
			l = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.canShowSubscribe = function () {
					return r.default.isQQ() ? !!qq.subscribeAppMsg : !r.default.isQg() && (!r.default.isTT() && (!r.default.isWX() || !!wx.requestSubscribeMessage))
				}, e.prototype.getSubscribeIds = function () {
					return r.default.isQQ() ? ["8a922a73b1fbe2bf1038787970545ada"] : ["4R-kS4bp_wGZo-Iq3JoFjMErE1UdlBwNg6uHCFBBVZk"]
				}, e.prototype.subscribe = function () {
					return o(this, void 0, void 0, function () {
						var e;
						return i(this, function (t) {
							switch (t.label) {
								case 0:
									return e = this.getSubscribeIds(), [4, this._requestSubscribeMessage(e)];
								case 1:
									return t.sent() ? [2, this._serverSubscribe()] : [2, !1]
							}
						})
					})
				}, e.prototype.cancelSubscribe = function () {
					return o(this, void 0, void 0, function () {
						var e;
						return i(this, function (t) {
							return e = this.getSubscribeIds(), this._cancelSubscribeMessage(e), [2, this._serverCancelSubscribe()]
						})
					})
				}, e.prototype._requestSubscribeMessage = function (e) {
					return o(this, void 0, void 0, function () {
						return i(this, function (t) {
							return [2, r.default.isQQ() ? this._qqSubscribeMessage(e) : this._wxSubscribeMessage(e)]
						})
					})
				}, e.prototype._wxSubscribeMessage = function (e) {
					return o(this, void 0, void 0, function () {
						return i(this, function (t) {
							return r.default.isWX() && wx.requestSubscribeMessage ? [2, new Promise(function (t, n) {
								wx.requestSubscribeMessage({
									tmplIds: e,
									success: function (n) {
										console.log("[新手特效礼包]微信订阅：", n);
										for (var o = 0; o < e.length; ++o)
											if ("accept" == n[e[o]]) return t(!0);
										t(!1)
									},
									fail: function (e) {
										console.log("[新手特效礼包]微信订阅错误:" + e.errCode + " " + e.errMsg), t(!1)
									}
								})
							})] : [2, !1]
						})
					})
				}, e.prototype._qqSubscribeMessage = function (e) {
					return o(this, void 0, void 0, function () {
						return i(this, function (t) {
							return r.default.isQQ() && qq.subscribeAppMsg ? [2, new Promise(function (t, n) {
								qq.subscribeAppMsg({
									tmplIds: e,
									subscribe: !0,
									success: function (n) {
										console.log("[新手特效礼包]QQ订阅：", n);
										for (var o = 0; o < e.length; ++o)
											if ("accept" == n[e[o]]) return t(!0);
										t(!1)
									},
									fail: function (e) {
										console.log("[新手特效礼包]QQ订阅错误:" + e.errCode + " " + e.errMsg), t(!1)
									}
								})
							})] : [2, !1]
						})
					})
				}, e.prototype._cancelSubscribeMessage = function (e) {
					return o(this, void 0, void 0, function () {
						return i(this, function (t) {
							return [2, r.default.isQQ() ? this._qqCancelSubscribeMessage(e) : this._wxCancelSubscribeMessage(e)]
						})
					})
				}, e.prototype._wxCancelSubscribeMessage = function (e) {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							return [2, !0]
						})
					})
				}, e.prototype._qqCancelSubscribeMessage = function (e) {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							return [2, !0]
						})
					})
				}, e.prototype._serverSubscribe = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									e = !1, i.label = 1;
								case 1:
									return i.trys.push([1, 3, , 4]), t = {
										user_id: sdk.getSavedUserId("data")
									}, [4, sdk.promisify(sdk.request.bind(sdk), {
										url: "",
										data: t
									})];
								case 2:
									return n = i.sent(), TimeMgr.setServerTime(n), console.log("[新手特效礼包]服务器订阅：", n), n && n.data && 0 == n.data.code && (e = !0), [3, 4];
								case 3:
									return o = i.sent(), console.log("[新手特效礼包]服务器订阅错误：", o), [3, 4];
								case 4:
									return [2, e]
							}
						})
					})
				}, e.prototype._serverCancelSubscribe = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									e = !1, i.label = 1;
								case 1:
									return i.trys.push([1, 3, , 4]), t = {
										user_id: sdk.getSavedUserId("data")
									}, [4, sdk.promisify(sdk.request.bind(sdk), {
										url: "",
										data: t
									})];
								case 2:
									return n = i.sent(), TimeMgr.setServerTime(n), console.log("[新手特效礼包]服务器取消订阅：", n), n && n.data && 0 == n.data.code && (e = !0), [3, 4];
								case 3:
									return o = i.sent(), console.log("[新手特效礼包]服务器取消订阅错误：", o), [3, 4];
								case 4:
									return [2, e]
							}
						})
					})
				}, e.prototype.fixBug = function () {
					if (1 == DataBus.other.newbieEffectReceived) {
						var e = !1,
							t = function (t, n) {
								-1 == s.default.instance.getSaveList(t).indexOf(n) && (s.default.instance.unlock(t, n), 0 == s.default.instance.getUsed(t) && s.default.instance.setUsed(t, n), e = !0)
							};
						t(a.Skin2Type.HitEffect, 1), t(a.Skin2Type.PotEffect, 1), e && DataBus.user.save()
					}
				}, e.prototype.receivePrize = function () {
					s.default.instance.unlock(a.Skin2Type.HitEffect, 1), s.default.instance.setUsed(a.Skin2Type.HitEffect, 1);
					s.default.instance.unlock(a.Skin2Type.PotEffect, 1), s.default.instance.setUsed(a.Skin2Type.PotEffect, 1), DataBus.other.newbieEffectReceived = 1, DataBus.saveData(), this.cancelSubscribe(), ui.showTips("Have received special effects, enter the game to try!")
				}, e.prototype.getRemainTime = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n;
						return i(this, function (o) {
							switch (o.label) {
								case 0:
									return e = DataBus.other.newbieEffectTs, [4, TimeMgr.getSmartServerTime()];
								case 1:
									return t = o.sent(), n = !1, TimeMgr.isMordenTime(e) || (n = !0, e = DataBus.other.newbieEffectTs = Utils.getNextDaysTimestamp(t), DataBus.other.save()), [2, {
										isFirst: n,
										now: t,
										next: e,
										remainTime: e - t
									}]
							}
						})
					})
				}, e.prototype.canShowLayer = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n;
						return i(this, function (o) {
							switch (o.label) {
								case 0:
									return 1 == DataBus.other.newbieEffectReceived ? [2, !1] : [4, this.getRemainTime()];
								case 1:
									return e = o.sent(), t = e.isFirst, n = e.remainTime, t ? [2, !0] : [2, n <= 0]
							}
						})
					})
				}, e.prototype.tryToShowLayer = function () {
					return o(this, void 0, void 0, function () {
						var e;
						return i(this, function (t) {
							switch (t.label) {
								case 0:
									return 1 == DataBus.other.newbieEffectReceived ? [2] : [4, this.getRemainTime()];
								case 1:
									return e = t.sent().remainTime, [2, c.default.show(e > 0)]
							}
						})
					})
				}, e._instance = null, e
			}();
		n.default = l, cc._RF.pop()
	}, {
		"../../Data/wxsdk": "wxsdk",
		"../skin2/Skin2Defines": "Skin2Defines",
		"../skin2/Skin2Logic": "Skin2Logic",
		"./NewbieEffectLayer": "NewbieEffectLayer"
	}],
	NewbieGiftBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "48899rv6JRLMJIBFMIfeHw9", "NewbieGiftBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../base/CountDown"),
			c = e("./NewbieGiftLogic"),
			l = e("../../Config/EventID"),
			u = e("./NewbieGiftLayer"),
			d = e("../../Config/SoundID"),
			f = e("../other/CheatLayer"),
			p = cc._decorator,
			h = p.ccclass,
			y = (p.property, p.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.timer = null, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					this.node.active = !1, this.timer = this.getComponentInChildren(s.default), this.timer.getComponent(cc.Label).string = "", this._updateTimerAndVisible(), cc.systemEvent.on(l.default.CLOSE_LAYER, this._onLayerClosed, this), Utils.bindBtnEvent(this.node, this.node, "NewbieGiftBtn", "onClick")
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(l.default.CLOSE_LAYER, this._onLayerClosed, this)
				}, t.prototype._onLayerClosed = function (e) {
					(e instanceof u.default || e instanceof f.default) && this._updateTimerAndVisible()
				}, t.prototype._updateTimerAndVisible = function () {
					return r(this, void 0, void 0, function () {
						var e, t = this;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return c.default.instance.isGiftReceived() ? (this.node.active = !1, this.timer.stop(), [2]) : [4, c.default.instance.getDuration()];
								case 1:
									return e = n.sent(), this.isValid ? e <= 0 ? (this.node.active = !1, this.timer.stop(), [2]) : (this.node.active = !0, this.timer.formatFunc = function (e) {
										return "" + Utils.formatDuration3(e)
									}, this.timer.begin(e / 1e3, function () {
										t.node.active = !1, c.default.instance.modifySkinConfig()
									}), [2]) : [2]
							}
						})
					})
				}, t.prototype.onClick = function () {
					SoundMgr.play(d.default.btn), Utils.disableAllBtnsAmoment(this.node, .2), u.default.show()
				}, t = i([h], t)
			}(cc.Component));
		n.default = y, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Config/SoundID": "SoundID",
		"../base/CountDown": "CountDown",
		"../other/CheatLayer": "CheatLayer",
		"./NewbieGiftLayer": "NewbieGiftLayer",
		"./NewbieGiftLogic": "NewbieGiftLogic"
	}],
	NewbieGiftLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "19f2b2vhuFF9YHRyRLAS2JH", "NewbieGiftLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.NewbieGiftLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = e("./NewbieGiftLogic"),
			l = e("../base/CountDown"),
			u = e("../base/RewardBtn"),
			d = e("../../Base/ShareTypes"),
			f = e("../../Res/ResLoader"),
			p = e("../../Runtime/game/PoolGlobal"),
			h = cc._decorator,
			y = h.ccclass,
			g = (h.property, h.menu),
			_ = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.NewbieGiftLayerParam = _;
		var v = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.timer = null, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				var t = this;
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.video_btn.getComponent(u.default).sharePos = d.SharePos.NewbieGift, this.timer = this.time_lbl.getComponent(l.default), this.timer.formatFunc = function (e) {
					return "End:" + Utils.formatDuration3(e)
				}, this.time_lbl.string = "", this._updateTimer(), this._updateVideoTimes();
				var n = c.default.instance.getCueId(),
					o = p.default.getCueRes(n);
				f.default.getNodeRes(o).then(function (e) {
					t.isValid ? e.parent = t.cue_node : f.default.removeNode(e)
				})
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () { }, t.prototype._updateVideoTimes = function () {
				var e = c.default.instance.getVideoTimes(),
					t = c.default.instance.getVideoTotalTimes();
				this.video_times_lbl && (this.video_times_lbl.string = e + "/" + t)
			}, t.prototype._updateTimer = function () {
				return r(this, void 0, void 0, function () {
					var e, t = this;
					return a(this, function (n) {
						switch (n.label) {
							case 0:
								return Utils.setAllBtnsEnabled(this.video_btn.node, !1), [4, c.default.instance.getDuration()];
							case 1:
								return e = n.sent(), this.isValid ? (Utils.setAllBtnsEnabled(this.video_btn.node, !0), this.timer.begin(e / 1e3, function () {
									ui.showTips("The novice activity is over"), c.default.instance.modifySkinConfig(), t.close()
								}), [2]) : [2]
						}
					})
				})
			}, t.prototype.onRewardCallback = function (e) {
				if (e == u.RewardFuncParam.Click) Utils.setAllBtnsEnabled(this.node, !1);
				else if (e == u.RewardFuncParam.Success) {
					c.default.instance.addVideoTimes(), this._updateVideoTimes(), c.default.instance.getVideoTimes() >= c.default.instance.getVideoTotalTimes() ? (c.default.instance.receiveGift(), this.close()) : Utils.setAllBtnsEnabled(this.node, !0)
				} else Utils.setAllBtnsEnabled(this.node, !0)
			}, t.show = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return [4, f.default.getBundle("game", !0)];
							case 1:
								return e.sent(), [4, f.default.getBundle("game_newbie", !0)];
							case 2:
								return e.sent(), [2, new Promise(function (e, t) {
									var o = new _;
									o.onClose = e, ui.showLayer(n, o)
								})]
						}
					})
				})
			}, t.prefabName = "home://dynamic/layer/newbieGiftLayer", t = n = i([y, g("Layer/NewbieGiftLayer")], t)
		}(s.default);
		n.default = v, window.NewbieGiftLayer = v, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/game/PoolGlobal": "PoolGlobal",
		"../base/CountDown": "CountDown",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"./NewbieGiftLogic": "NewbieGiftLogic"
	}],
	NewbieGiftLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "ce46bwpmz1D9an8988N7BGE", "NewbieGiftLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../skin/SkinDefines"),
			a = e("../skin/SkinLogic"),
			s = e("./NewbieGiftLayer"),
			c = function () {
				function e() {
					this._layerAutoPoped = !1
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getMaxDuration = function () {
					return 864e5
				}, e.prototype.getDuration = function () {
					return o(this, void 0, void 0, function () {
						var e, t;
						return i(this, function (n) {
							switch (n.label) {
								case 0:
									return [4, TimeMgr.getSmartServerTime()];
								case 1:
									return e = n.sent(), t = DataBus.other.newbieGiftEndTime, TimeMgr.isMordenTime(t) || (t = e + this.getMaxDuration(), DataBus.other.newbieGiftEndTime = t, DataBus.other.save()), [2, t - e]
							}
						})
					})
				}, e.prototype.addVideoTimes = function () {
					DataBus.other.newbieGiftVideoTimes += 1, DataBus.other.save()
				}, e.prototype.getVideoTimes = function () {
					return DataBus.other.newbieGiftVideoTimes
				}, e.prototype.getVideoTotalTimes = function () {
					return 1
				}, e.prototype.getCueId = function () {
					return 15
				}, e.prototype.isGiftReceived = function () {
					var e = this.getCueId();
					return DataBus.user.unlockCueList2.indexOf(e) > -1
				}, e.prototype.receiveGift = function () {
					var e = this.getCueId();
					a.default.instance.unlockCue(e) && DataBus.user.save();
					var t = a.default.instance.fastGetCueConfig(e);
					ui.showTips("The club is unlocked 【" + t.name + "】")
				}, e.prototype.modifySkinConfig = function () {
					if (!this.isValid() && !this.isGiftReceived()) {
						var e = this.getCueId(),
							t = a.default.instance.fastGetCueConfig(e);
						t && (t.title = "Watch five videos to unlock the skin", t.value = 5, t.unlock = r.SkinUnlockType.video)
					}
				}, e.prototype.isValid = function () {
					var e = TimeMgr.getRevisionServerTime(),
						t = DataBus.other.newbieGiftEndTime;
					return !(TimeMgr.isMordenTime(t) && t - e <= 0)
				}, e.prototype.canShowLayer = function () {
					return !this._layerAutoPoped && (!this.isGiftReceived() && this.isValid())
				}, e.prototype.tryToShowLayer = function () {
					if (this.canShowLayer()) return this._layerAutoPoped = !0, s.default.show()
				}, e._instance = null, e
			}();
		n.default = c, cc._RF.pop()
	}, {
		"../skin/SkinDefines": "SkinDefines",
		"../skin/SkinLogic": "SkinLogic",
		"./NewbieGiftLayer": "NewbieGiftLayer"
	}],
	NoEnergyLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "24af5MqZ79L06EnarD+5zvL", "NoEnergyLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../base/LayerBase"),
			c = e("../../Config/SoundID"),
			l = e("../base/RewardBtn"),
			u = e("../../Base/ShareTypes"),
			d = e("./EnergyLogic"),
			f = e("../receive/DoubleItemLayer"),
			p = e("../../Runtime/LevelConfig"),
			h = e("../../Data/EconomicLogic"),
			y = cc._decorator,
			g = y.ccclass,
			_ = (y.property, function () {
				return function () {
					this.onClose = function () { }
				}
			}()),
			v = function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.getComponentsInChildren(l.default).forEach(function (e) {
						e.sharePos = u.SharePos.NoEnergy
					})
				}, t.prototype.onDestroy = function () {
					e.prototype.onDestroy.call(this)
				}, t.prototype.onDataLoad = function () {
					this.data, this.updateDisplay()
				}, t.prototype.updateDisplay = function () {
					var e = d.default.instance.max_reward_times,
						t = d.default.instance.max_coins_times,
						n = Math.max(0, e - DataBus.other.rewardEnergyTimes),
						o = Math.max(0, t - DataBus.other.coinsBuyEnergyTimes);
					this.value_lbl.string = "" + d.default.instance.reward_energy, this.reward_times_lbl.string = "" + n, this.coins_times_lbl.string = "" + o, this.coins_price_lbl.string = "" + d.default.instance.coins_price, Utils.setNodeBright(this.reward_btn, n > 0, !0), Utils.setNodeBright(this.coins_btn, o > 0, !0), this.reward_btn.node.active = e > 0 || t <= 0, this.coins_btn.node.active = t > 0
				}, t.prototype.receivePrize = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							return f.default.show([{
								type: p.LevelPrizeType.energy,
								value: e
							}]), this.close(), [2]
						})
					})
				}, t.prototype.onRewardCallback = function (e) {
					if (e == l.RewardFuncParam.Click) {
						if (DataBus.other.rewardEnergyTimes >= d.default.instance.max_reward_times) return ui.showTips("Please come back tomorrow"), !0;
						Utils.setAllBtnsEnabled(this.node, !1, !1)
					} else e == l.RewardFuncParam.Success ? (DataBus.other.rewardEnergyTimes += 1, this.receivePrize(d.default.instance.reward_energy), this.updateDisplay()) : Utils.setAllBtnsEnabled(this.node, !0, !1)
				}, t.prototype.onBtnCoinsClick = function () {
					if (SoundMgr.play(c.default.btn), Utils.disableAllBtnsAmoment(this.coins_btn.node, .2), DataBus.other.coinsBuyEnergyTimes >= d.default.instance.max_coins_times) ui.showTips("Please come back tomorrow");
					else {
						var e = DataBus.user.coins,
							t = d.default.instance.coins_price;
						e.lt(t) ? ui.showTips("Gold coin shortage") : (h.default.instance.addCoins(-t), DataBus.other.coinsBuyEnergyTimes += 1, this.receivePrize(d.default.instance.reward_energy), this.updateDisplay())
					}
				}, t.show = function (e) {
					return void 0 === e && (e = ""), new Promise(function (e, t) {
						var o = new _;
						o.onClose = e, ui.showLayer(n, o)
					})
				}, t.prefabName = "common://dynamic/layer/noEnergyLayer", t = n = i([g], t)
			}(s.default);
		n.default = v, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/SoundID": "SoundID",
		"../../Data/EconomicLogic": "EconomicLogic",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"../receive/DoubleItemLayer": "DoubleItemLayer",
		"./EnergyLogic": "EnergyLogic"
	}],
	NoItemLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "1fcebh5G7hPhYNrK+hgfLoi", "NoItemLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../../Ui/base/LayerBase"),
			c = e("../../../Ui/base/RewardBtn"),
			l = e("../../../Base/ShareTypes"),
			u = e("../../../Config/ReportID"),
			d = e("./PoolItem2Mgr"),
			f = e("../../../Ui/receive/DoubleItemLayer"),
			p = e("../../LevelConfig"),
			h = cc._decorator,
			y = h.ccclass,
			g = (h.property, h.menu),
			_ = function () {
				return function () {
					this.onClose = function () { }
				}
			}(),
			v = function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					e.prototype.onLoad.call(this), this.getComponentsInChildren(c.default).forEach(function (e) {
						e.sharePos = l.SharePos.NoItem
					}), n._instance = this
				}, t.prototype.onDestroy = function () {
					e.prototype.onDestroy.call(this), n._instance = null
				}, t.prototype.onDataLoad = function () {
					this.data, Server.reportClick(u.default.item3), this.updateDisplay()
				}, t.prototype.updateDisplay = function () {
					cc.find("dialog/contents/lbl", this.node).getComponent(cc.Label).string = "+" + d.default.instance.getRewardCount();
					var e = cc.find("dialog/contents/icon", this.node),
						t = e.getChildByName("move_item"),
						n = e.getChildByName("free_item"),
						o = this.data.type == d.PoolItem2Type.move;
					t.active = o, n.active = !o
				}, t.prototype.receivePrize = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							return e = this.data.type == d.PoolItem2Type.free ? p.LevelPrizeType.free_item : p.LevelPrizeType.move_item, t = d.default.instance.getRewardCount(), f.default.show([{
								type: e,
								value: t
							}]), this.close(), [2]
						})
					})
				}, t.prototype.onRewardCallback = function (e) {
					e == c.RewardFuncParam.Click ? Utils.setAllBtnsEnabled(this.node, !1, !1) : e == c.RewardFuncParam.Success ? (this.receivePrize(), Server.reportClick(u.default.item4)) : Utils.setAllBtnsEnabled(this.node, !0, !1)
				}, t.show = function (e) {
					return new Promise(function (t, o) {
						var i = new _;
						i.type = e, i.onClose = t, ui.showLayer(n, i)
					})
				}, t.close = function () {
					n._instance && n._instance.close()
				}, t.prefabName = "game://dynamic/layer/noItemLayer", t._instance = null, t = n = i([y, g("Layer/NoItemLayer")], t)
			}(s.default);
		n.default = v, cc._RF.pop()
	}, {
		"../../../Base/ShareTypes": "ShareTypes",
		"../../../Config/ReportID": "ReportID",
		"../../../Ui/base/LayerBase": "LayerBase",
		"../../../Ui/base/RewardBtn": "RewardBtn",
		"../../../Ui/receive/DoubleItemLayer": "DoubleItemLayer",
		"../../LevelConfig": "LevelConfig",
		"./PoolItem2Mgr": "PoolItem2Mgr"
	}],
	NoPvpTicketsLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "4ca02t5VRVN/ZW3MD7Vcgn4", "NoPvpTicketsLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../../Ui/base/LayerBase"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, a.menu),
			l = (function () { }(), function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t = i([s, c("Layer/NoPvpTicketsLayer")], t)
			}(r.default));
		n.default = l, cc._RF.pop()
	}, {
		"../../../Ui/base/LayerBase": "LayerBase"
	}],
	ObjectsPanel1: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "6ac39e9dAlA9ZarNMiOWnF9", "ObjectsPanel1"), cc._RF.pop()
	}, {}],
	ObjectsPanel2: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "76ab7oojrNAJ5Ytxp72jA5y", "ObjectsPanel2"), cc._RF.pop()
	}, {}],
	ObjectsPanel3: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "30cbcmo5gxBbbOfKRzXNQ20", "ObjectsPanel3");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s, c = e("../../../Res/ResLoader"),
			l = e("../ball/BallExtra"),
			u = e("../PoolTypes"),
			d = e("../ball/BallRotator"),
			f = e("../PoolGlobal"),
			p = e("./ObjectsPanel"),
			h = e("../../../Config/SoundID"),
			y = e("../PoolStage");
		(function (e) {
			e[e.gt4 = 0] = "gt4", e[e.lte4 = 1] = "lte4"
		})(s || (s = {}));
		var g = cc._decorator,
			_ = g.ccclass,
			v = g.property,
			b = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.ballRadius = 30, t._ballNumList = [], t._pottedList = [], t._bgsNode = null, t._ballsNode = null, t._ticksNode = null, t._mode = s.gt4, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					e.prototype.onLoad && e.prototype.onLoad.call(this), this._bgsNode = this.node.getChildByName("bg"), this._ballsNode = this.node.getChildByName("ball"), this._ticksNode = this.node.getChildByName("tick")
				}, t.prototype._onCloseScene = function () {
					this._removeAllBalls(), this._removeAllTicks()
				}, t.prototype.setBalls = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return this._ballNumList = e, this._pottedList.length = 0, this._removeAllBalls(), this._removeAllTicks(), this._setMode(e.length > 4 ? s.gt4 : s.lte4), [4, this._addBalls(e)];
								case 1:
									return t.sent(), [2]
							}
						})
					})
				}, t.prototype.setBallPotted = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o, i;
						return a(this, function (r) {
							switch (r.label) {
								case 0:
									return (t = this._ballNumList.indexOf(e)) > -1 ? this._pottedList.indexOf(e) > -1 ? [2] : (this._pottedList.push(e), [4, c.default.getNodeRes("game_newbie://dynamic/prefab_item/tick")]) : [3, 2];
								case 1:
									n = r.sent(), this.isValid && this._pottedList.indexOf(e) > -1 ? (n.parent = this._ticksNode, n.zIndex = e, n.setPosition(this._getPosition(t, this._ballNumList.length)), (o = n.children[0]).stopAllActions(), o.opacity = 0, o.scale = 0, i = 1.5, o.runAction(cc.spawn(cc.fadeIn(.5 * i), cc.scaleTo(i, 1).easing(cc.easeElasticOut(.3))))) : c.default.removeNode(n), r.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.prototype.setBallInTable = function (e) {
					var t;
					if ((t = this._pottedList.indexOf(e)) > -1 && this._pottedList.splice(t, 1), (t = this._ticksNode.children.findIndex(function (t) {
						return t.zIndex == e
					})) > -1) {
						var n = this._ticksNode.children[t];
						c.default.removeNode(n)
					}
				}, t.prototype._addBalls = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o;
						return a(this, function (i) {
							switch (i.label) {
								case 0:
									t = 0, n = e.length, i.label = 1;
								case 1:
									return t < n ? (o = e[t], [4, this._addBall(o)]) : [3, 4];
								case 2:
									i.sent().setPosition(this._getPosition(t, n)), i.label = 3;
								case 3:
									return ++t, [3, 1];
								case 4:
									return [2]
							}
						})
					})
				}, t.prototype._addBall = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o, i, r;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return [4, c.default.getNodeRes("game_newbie://dynamic/prefab_item/ballThumb")];
								case 1:
									return t = a.sent(), this.isValid ? (t.ballNum = e, t.width = t.height = 2 * this.ballRadius, (n = t.getComponent(l.default)).setBallRadius(this.ballRadius), n.setBallNumber(e), n.setLightPosition(new cc.Vec3(-1, 1, 1)), n.setBallStatus(u.BallStatus.OnTable), n.setBallPosition(cc.Vec2.ZERO), (o = t.getChildByName("high_light2")) && (o.zIndex = f.default.ballHighlightZIndex), (i = t.getComponent(d.default) || t.addComponent(d.default)).setRotateVec(new cc.Vec3(-2, -3, 0)), i.rotateTo(cc.Vec3.ZERO, .6), t.parent = this._ballsNode, t.stopAllActions(), t.opacity = 0, t.zIndex = e, r = .3, t.runAction(cc.fadeIn(r)), Utils.bindBtnEvent(t, this.node, "ObjectsPanel3", "_onClickBall", e + ""), [2, t]) : (c.default.removeNode(t), [2, null])
							}
						})
					})
				}, t.prototype._onClickBall = function (e, t) {
					if (this.isValid) {
						SoundMgr.play(h.default.btn);
						var n = parseInt(t),
							o = cc.Canvas.instance.getComponentInChildren(y.default);
						o && o.angleToBall(n, !1)
					}
				}, t.prototype._removeAllBalls = function () {
					this._ballsNode.children.slice(0).forEach(function (e) {
						e.getComponent(l.default).removeAll(), c.default.removeNode(e)
					})
				}, t.prototype._removeAllTicks = function () {
					this._ticksNode.children.slice(0).forEach(function (e) {
						c.default.removeNode(e)
					})
				}, t.prototype._setMode = function (e) {
					var t = this;
					if (e != this._mode) {
						this._mode = e;
						var n = e == s.gt4 ? 8 : 4;
						this._bgsNode.children.forEach(function (o, i) {
							e == s.gt4 || e == s.lte4 && i < 4 ? (o.active = !0, o.setPosition(t._getPosition(i, n))) : o.active && (o.active = !1)
						})
					}
				}, t.prototype._getPosition = function (e, t) {
					if (t > 4) {
						var n = Math.floor(e / 2),
							o = e % 2;
						return new cc.Vec2(41 * o - 21, 75 - 50 * n)
					}
					return new cc.Vec2(0, 75 - 50 * e)
				}, i([v({
					displayName: "球半径"
				})], t.prototype, "ballRadius", void 0), t = i([_], t)
			}(p.default);
		n.default = b, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"../../../Res/ResLoader": "ResLoader",
		"../PoolGlobal": "PoolGlobal",
		"../PoolStage": "PoolStage",
		"../PoolTypes": "PoolTypes",
		"../ball/BallExtra": "BallExtra",
		"../ball/BallRotator": "BallRotator",
		"./ObjectsPanel": "ObjectsPanel"
	}],
	ObjectsPanel: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "45cd29OjO1HvrgYXElI7Lq4", "ObjectsPanel");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../../Config/EventID"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.onLoad = function () {
					cc.systemEvent.on(r.default.CLOSE_SCENE, this.onCloseScene, this)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(r.default.CLOSE_SCENE, this.onCloseScene, this)
				}, t.prototype.onCloseScene = function (e) {
					this.node.isChildOf(e) && this._onCloseScene()
				}, t = i([s], t)
			}(cc.Component));
		n.default = c, cc._RF.pop()
	}, {
		"../../../Config/EventID": "EventID"
	}],
	PauseLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "4c666JafY1AYpUWWwL3Ct6a", "PauseLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.PauseLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = e("../../Config/SoundID"),
			l = e("../../Runtime/GameScene"),
			u = e("../../Runtime/Router"),
			d = e("../../Config/ReportID"),
			f = e("../help/HelpLayer"),
			p = e("../ads/SideAdsLayer"),
			h = e("../../Runtime/home/HomeUi"),
			y = cc._decorator,
			g = y.ccclass,
			_ = (y.property, y.menu),
			v = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.PauseLayerParam = v;
		var b = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), n._instance = this
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this), n._instance = null
			}, t.prototype.onDataLoad = function () {
				l.default.instance && l.default.instance.pause()
			}, t.prototype.closeWithGameResume = function () {
				l.default.instance && l.default.instance.resume(), this.close()
			}, t.prototype.closeWithoutGameResume = function () {
				this.close()
			}, t.prototype.onBtnCloseClick = function () {
				SoundMgr.play(c.default.btn), this.closeWithGameResume()
			}, t.prototype.onBtnHomeClick = function (e) {
				SoundMgr.play(c.default.btn);
				e.target;
				Utils.setAllBtnsEnabled(this.node, !1), this.closeWithoutGameResume(), ui.getSceneLength() > 1 ? ui.popScene(l.default) : (l.default.instance ? u.default.instance.enterHome(l.default.instance.curLevel) : u.default.instance.enterHome(), p.default.showForBackHome(!0) && (h.default.hasLayerToShow = !0))
			}, t.prototype.onBtnResetClick = function (e) {
				return r(this, void 0, void 0, function () {
					var t, n, o;
					return a(this, function (i) {
						switch (i.label) {
							case 0:
								return Server.reportClick(d.default.pause4), SoundMgr.play(c.default.btn), t = l.default.instance ? l.default.instance.curLevel : DataBus.user.level, n = e.target, o = n.convertToWorldSpaceAR(cc.Vec2.ZERO), Utils.setAllBtnsEnabled(this.node, !1), [4, u.default.instance.canEnterGame(t, !0, "pause_reset")];
							case 1:
								return i.sent() ? [4, u.default.instance.enterGame(t, o)] : [3, 3];
							case 2:
								return i.sent(), this.isValid && this.closeWithoutGameResume(), [3, 4];
							case 3:
								Utils.setAllBtnsEnabled(this.node, !0), i.label = 4;
							case 4:
								return [2]
						}
					})
				})
			}, t.prototype.onBtnHelpClick = function (e) {
				var t = e.target;
				Utils.disableAllBtnsAmoment(t, .2, this), SoundMgr.play(c.default.btn), f.default.show()
			}, t.show = function (e) {
				var t = new v;
				return t.onClose = function () {
					return e && e()
				}, ui.showLayer(n, t)
			}, t.close = function () {
				n._instance && n._instance.closeWithoutGameResume()
			}, t.prefabName = "game://dynamic/layer/pauseLayer", t._instance = null, t = n = i([g, _("Layer/PauseLayer")], t)
		}(s.default);
		n.default = b, window.PauseLayer = b, cc._RF.pop()
	}, {
		"../../Config/ReportID": "ReportID",
		"../../Config/SoundID": "SoundID",
		"../../Runtime/GameScene": "GameScene",
		"../../Runtime/Router": "Router",
		"../../Runtime/home/HomeUi": "HomeUi",
		"../ads/SideAdsLayer": "SideAdsLayer",
		"../base/LayerBase": "LayerBase",
		"../help/HelpLayer": "HelpLayer"
	}],
	PlaceBanner: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7a07beGvHFD24I8eargNJi4", "PlaceBanner");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Data/wxsdk"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, a.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._changed = !1, t
				}
				return o(t, e), t.prototype.onDestroy = function () {
					this.resume()
				}, t.prototype.placeAmoment = function (e) {
					this.unschedule(this.resume), this.place(), this.scheduleOnce(this.resume, e)
				}, t.prototype.place = function () {
					if (r.default.isWX() && sdk._banner && sdk._banner.style) {
						var e = this.node.convertToWorldSpaceAR(cc.Vec2.ZERO).y,
							t = cc.view.getVisibleSize().height,
							n = sdk.sys.screenHeight,
							o = n - e / t * n;
						sdk._banner.style.top = o, this._changed = !0
					}
				}, t.prototype.resume = function () {
					if (this._changed && r.default.isWX() && sdk._banner && sdk._banner.style) {
						var e = sdk.sys,
							t = sdk._banner.style,
							n = sdk.onBannerResize(e.screenWidth, e.screenHeight, t.realWidth, t.realHeight, t.top, t.left);
						sdk._banner.style.top = n.top, sdk._banner.style.left = n.left
					}
				}, t = i([s], t)
			}(cc.Component));
		n.default = c, cc._RF.pop()
	}, {
		"../Data/wxsdk": "wxsdk"
	}],
	PoolEffect: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "595b5BjlY1CnJh4SNyVnCkH", "PoolEffect");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Config/EventID"),
			c = e("../../Effect/EffectMgr"),
			l = e("../../Res/ResLoader"),
			u = e("./PoolGlobal"),
			d = e("./PoolTypes"),
			f = cc._decorator,
			p = f.ccclass,
			h = (f.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					cc.systemEvent.on(s.default.CLOSE_SCENE, this.onCloseScene, this), n._instance = this
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(s.default.CLOSE_SCENE, this.onCloseScene, this), n._instance = null
				}, t.prototype.onCloseScene = function (e) {
					this.node.isChildOf(e) && (c.default.remove(n.comboUrl, this.node), c.default.remove(n.amazingUrl, this.node), this.node.getComponentsInChildren(dragonBones.ArmatureDisplay).forEach(function (e) {
						l.default.removeNode(e.node)
					}))
				}, t.playComboEffect = function (e) {
					return r(this, void 0, void 0, function () {
						var t, o;
						return a(this, function (i) {
							switch (i.label) {
								case 0:
									return this._instance ? (++this._comboIndex, t = this._comboIndex, c.default.remove(n.comboUrl), [4, c.default.playSingleton(n.comboUrl, new cc.Vec2(-157, 250), this._instance.node)]) : [3, 2];
								case 1:
									(o = i.sent()) && (t != this._comboIndex ? l.default.removeNode(o) : o.getComponentInChildren(cc.Label).string = "x" + e), i.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.playAmazingEffect = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return this._instance ? (++this._amazingIndex, e = this._amazingIndex, c.default.remove(this.amazingUrl), [4, c.default.playSingleton(this.amazingUrl, new cc.Vec2(-32, 127), this._instance.node)]) : [3, 2];
								case 1:
									(t = n.sent()) && e != this._amazingIndex && l.default.removeNode(t), n.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.playLittleMistakeTips = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							return [2, this.playDbTips("chayidian", e)]
						})
					})
				}, t.playFoulTips = function (e) {
					return this.playDbTips("fangui", e)
				}, t.playWrongBallTips = function (e) {
					return this.playDbTips("dacuoqiule", e)
				}, t.playFailTips = function (e) {
					return this.playDbTips("shibai", e)
				}, t.playPotTips = function (e) {
					var t = ["taibangle", "henhao", "lingrenjingya"][Math.floor(3 * Math.random())];
					return this.playDbTips(t, e)
				}, t.playLblTips = function (e, t, n) {
					return r(this, void 0, void 0, function () {
						var o, i, r, s, l, u, d;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return this._instance ? (o = this._instance.node, i = null, n ? i = o.convertToNodeSpaceAR(n) : (r = o.children.filter(function (e) {
										return 1 == e.lbl_tips_tag
									}), s = r.length, i = new cc.Vec2(-32, 250 + 80 * s)), [4, c.default.play("Prefab/effect/lbl_tips", i, o)]) : [3, 2];
								case 1:
									if (!(l = a.sent())) return [2];
									l.lbl_tips_tag = n ? 0 : 1, (u = l.getComponentInChildren(cc.Label)).node.color = t || new cc.Color(223, 31, 31), u.string = e, u._updateRenderData && u._updateRenderData(!0), u._forceUpdateRenderData && u._forceUpdateRenderData(), (d = u.node.getBoundingBoxToWorld()).xMin < 0 ? u.node.x += Math.abs(d.xMin / d.width * u.node.width) : d.xMax > cc.winSize.width && (u.node.x -= Math.abs((d.xMax - cc.winSize.width) / d.width * u.node.width)), a.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.playDbTips = function (e, t) {
					return r(this, void 0, void 0, function () {
						var n, o, i, r, s, c, u;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return this._instance ? (n = this._instance.node, o = null, t ? (t.y += 50, o = n.convertToNodeSpaceAR(t)) : (i = n.children.filter(function (e) {
										return 1 == e.lbl_tips_tag
									}), r = i.length, o = new cc.Vec2(-32, 250 + 80 * r)), [4, l.default.getDragonbonesNodeRes("game_newbie://dynamic/game_db/effect_zi")]) : [3, 2];
								case 1:
									if (s = a.sent(), !n.isValid || !this._instance) return l.default.removeNode(s), [2];
									s.setPosition(o), s.parent = n, s.lbl_tips_tag = t ? 0 : 1, (c = s.getComponent(dragonBones.ArmatureDisplay)).playAnimation(e, 1), c.once(dragonBones.EventObject.COMPLETE, function (e) {
										l.default.removeNode(s)
									}, this), (u = c.node.getBoundingBoxToWorld()).xMin < 0 ? c.node.x += Math.abs(u.xMin / u.width * c.node.width) : u.xMax > cc.winSize.width && (c.node.x -= Math.abs((u.xMax - cc.winSize.width) / u.width * c.node.width)), a.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.getHitEffectRes = function (e) {
					var t = ["", "dianji", "huoyan", "shui"][e];
					return t ? "game://dynamic/prefab_effect/jiqiu_" + t : ""
				}, t.getPotEffectRes = function (e) {
					var t = ["", "feng", "yanhua", "caidai"][e];
					return t ? "game://dynamic/prefab_effect/jinqiu_" + t : ""
				}, t.getHitEffectThumbRes = function (e) {
					var t = this._hitEffectThumbResArr[e];
					return t ? "home://dynamic/altas/特效大/大_击球-" + t : ""
				}, t.getPotEffectThumbRes = function (e) {
					var t = this._potEffectThumbResArr[e];
					return t ? "home://dynamic/altas/特效大/大_进球-" + t : ""
				}, t.playHitAnimation = function (e, t) {
					return r(this, void 0, void 0, function () {
						var n, o, i, r, s, l, f, p, h;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return this._instance && (e && e.isValid && e.ballManager && e.angleAnimator && (n = this.getHitEffectRes(t)) && (o = e.ballManager.getCueBall()) && o.getBallStatus() == d.BallStatus.OnTable) ? (i = e.ballManager.getCueBall().node.convertToWorldSpaceAR(cc.Vec2.ZERO), r = e.angleAnimator.angle, s = .6 * u.default.radius, i.subSelf(new cc.Vec2(Math.cos(r) * s, Math.sin(r) * s)), l = cc.misc.radiansToDegrees(r), f = this._instance.node, p = f.convertToNodeSpaceAR(i), [4, c.default.play(n, p, f)]) : [2];
								case 1:
									return (h = a.sent()) && (h.angle = l), [2, h]
							}
						})
					})
				}, t.playCollideAnimation = function (e, t, n) {
					return r(this, void 0, void 0, function () {
						var o, i, r, s, l, u;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return this._instance && (o = this.getHitEffectRes(n)) ? ((new cc.Vec2).set(e).addSelf(t).divSelf(2), i = Math.atan2(t.y - e.y, t.x - e.x), r = cc.misc.radiansToDegrees(i), s = this._instance.node, l = s.convertToNodeSpaceAR(e), [4, c.default.play(o, l, s)]) : [2];
								case 1:
									return (u = a.sent()) && (u.angle = r), [2, u]
							}
						})
					})
				}, t.playPotAnimation = function (e, t) {
					return r(this, void 0, void 0, function () {
						var n, o, i, r, s, l, u, d, f;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return a.trys.push([0, 2, , 3]), this._instance ? (n = this.getPotEffectRes(t)) ? (o = this._instance.node, i = o.convertToNodeSpaceAR(e), [4, c.default.play(n, i, o)]) : [2] : [2];
								case 1:
									return (r = a.sent()) && 3 == t && (s = r.getChildByName("part1"), l = r.getChildByName("part2"), s && l && (u = s.getComponent(cc.ParticleSystem), d = l.getComponent(cc.ParticleSystem), u && d && (u.resetSystem(), Utils.delayTime(.1).then(function () {
										r.isValid && r.parent && d.resetSystem()
									})))), [2, r];
								case 2:
									return f = a.sent(), console.error("playPotAnimation error: ", f), [3, 3];
								case 3:
									return [2]
							}
						})
					})
				}, t._instance = null, t.amazingUrl = "game://dynamic/prefab_effect/amazing", t.comboUrl = "Prefab/effect/combo", t._comboIndex = 0, t._amazingIndex = 0, t._hitEffectThumbResArr = ["", "电", "火", "水"], t._potEffectThumbResArr = ["", "龙卷风", "烟花", "礼花"], t = n = i([p], t)
			}(cc.Component));
		n.default = h, window.PoolEffect = h, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Effect/EffectMgr": "EffectMgr",
		"../../Res/ResLoader": "ResLoader",
		"./PoolGlobal": "PoolGlobal",
		"./PoolTypes": "PoolTypes"
	}],
	PoolGlobal: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "0eddd0gF81JiroOuAGYSVuk", "PoolGlobal"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = e("../../Ui/skin/SkinLogic"),
			i = function () {
				function e() { }
				return e.getTableRes = function (e) {
					return "game_newbie://dynamic/prefab_item/table" + cc.misc.clampf(e + 1, 1, this.tableNumber)
				}, e.getCueRes = function (e) {
					var t = o.default.instance.fastGetCueConfig(e);
					return 0 == e || 6 == e ? "game_newbie://dynamic/prefab_cue/Qiugan_" + t.res : "game://dynamic/prefab_cue/Qiugan_" + t.res
				}, e.getCueThumbRes = function (e) {
					var t = o.default.instance.fastGetCueConfig(e);
					return 0 == e || 6 == e ? "game_newbie://dynamic/texture_cue/cue_" + t.res : "game://dynamic/texture_cue/cue_" + t.res
				}, e.getCueLevelRes = function (e) {
					return "Texture/球杆级别/球杆级别_0" + cc.misc.clampf(e, 1, 5)
				}, e.getBallColor = function (e) {
					return this._ballColorList[e] || this._ballColorList[0]
				}, e.radius = 18, e.ballCastRatio = .9805, e.ballOverlapRatio = 1.005, e.mass = .886, e.inertia = 4, e.cushionRestitution = .7, e.forceRatio = 2300, e.englishRatio = 32, e.rollRatio = 200, e.lightZ = 800, e.tableNumber = 11, e.cueNumber = 13, e.pottedBallShadowZIndex = 6, e.pottedBallZIndex = 7, e.pottedBallHighlightZIndex = 8, e.tableZIndex = 9, e.ballShadowZIndex = 12, e.ballZIndex = 13, e.ballHighlightZIndex = 14, e.targetHintZIndex = 17, e.ballCueZIndex = 19, e.sightLineZIndex = 11, e.itemZIndex = 18, e.moveBallTipsZIndex = 11, e.moveBallHandZIndex = 18, e.forbidZIndex = 18, e.challengeIndex = 10, e.testZIndex = 30, e._ballColorList = [(new cc.Color).fromHEX("#ffffff"), (new cc.Color).fromHEX("#ffd800"), (new cc.Color).fromHEX("#1e18e5"), (new cc.Color).fromHEX("#b60b0b"), (new cc.Color).fromHEX("#791c9b"), (new cc.Color).fromHEX("#ff9600"), (new cc.Color).fromHEX("#217005"), (new cc.Color).fromHEX("#854023"), (new cc.Color).fromHEX("#101010"), (new cc.Color).fromHEX("#ffd800"), (new cc.Color).fromHEX("#1e18e5"), (new cc.Color).fromHEX("#b60b0b"), (new cc.Color).fromHEX("#791c9b"), (new cc.Color).fromHEX("#ff9600"), (new cc.Color).fromHEX("#217005"), (new cc.Color).fromHEX("#854023")], e
			}();
		n.default = i, cc._RF.pop()
	}, {
		"../../Ui/skin/SkinLogic": "SkinLogic"
	}],
	PoolHandItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "cc5a0xoTCNLGqzasYxIDwPD", "PoolHandItem"), cc._RF.pop()
	}, {}],
	PoolItem2Handler: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "ffd69dEcIdOR5Cvfg4Fdivl", "PoolItem2Handler");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../../Config/SoundID"),
			c = e("./PoolItem2Mgr"),
			l = e("../rule/EightSingleRule"),
			u = e("../../../Ui/other/TextTips"),
			d = e("../PoolTypes"),
			f = e("../PoolStage"),
			p = e("./UseItemLayer"),
			h = e("./NoItemLayer"),
			y = e("../rule/RuleTypes"),
			g = e("../../../Config/ReportID"),
			_ = e("../../../Config/ServerConfig"),
			v = e("../../../Ui/base/RewardBtn"),
			b = e("../../../Base/ShareTypes"),
			m = e("../../LevelConfig"),
			w = e("../../../Ui/receive/DoubleItemLayer"),
			S = cc._decorator,
			C = S.ccclass,
			P = (S.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._itemUsedMap = {}, t
				}
				return o(t, e), t.prototype.start = function () {
					var e = Utils.getComponentInParent(this.node, f.default);
					e.ballManager.node.on(d.PoolEventId.BallRunning, this._clearItemUsedMap, this), e.node.on(d.PoolEventId.GameStart, this._clearItemUsedMap, this), cc.systemEvent.on(c.PoolItem2EventId.move_changed, this._onMoveItemChanged, this), cc.systemEvent.on(c.PoolItem2EventId.free_changed, this._onFreeItemChanged, this), this._updateItemDisplay();
					var t = _.default.instance.useRewardBtnAddItem(),
						n = this.node.getChildByName(this._getBtnName(c.PoolItem2Type.move)),
						o = this.node.getChildByName(this._getBtnName(c.PoolItem2Type.free));
					t ? (this.getComponentsInChildren(v.default).forEach(function (e) {
						return e.sharePos = b.SharePos.NoItem
					}), Utils.bindBtnEvent(n, n, "RewardBtn", "onClick"), Utils.bindBtnEvent(o, o, "RewardBtn", "onClick")) : (Utils.bindBtnEvent(n, this.node, "PoolItem2Handler", "onMoveBtnClick"), Utils.bindBtnEvent(o, this.node, "PoolItem2Handler", "onFreeBtnClick"))
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(c.PoolItem2EventId.move_changed, this._onMoveItemChanged, this), cc.systemEvent.off(c.PoolItem2EventId.free_changed, this._onFreeItemChanged, this)
				}, t.prototype._clearItemUsedMap = function () {
					this._itemUsedMap = {}, this._updateItemDisplay()
				}, t.prototype._updateItemDisplay = function () {
					this._onMoveItemChanged(0), this._onFreeItemChanged(0)
				}, t.prototype._onMoveItemChanged = function (e) {
					this._onItemChanged(c.PoolItem2Type.move, e)
				}, t.prototype._onFreeItemChanged = function (e) {
					this._onItemChanged(c.PoolItem2Type.free, e)
				}, t.prototype._onItemChanged = function (e, t) {
					var n = this._getBtnName(e),
						o = this.node.getChildByName(n),
						i = o.getComponentInChildren(cc.Label),
						r = o.getChildByName("add"),
						a = _.default.instance.useRewardBtnAddItem(),
						s = c.default.instance.getItemCount(e);
					if (a && 0 == s ? (i.node.active = !1, r.active = !0) : (i.node.active = !0, r.active = !1, i.string = "" + s), 0 != t) {
						var l = o.convertToWorldSpaceAR(cc.Vec2.ZERO);
						u.default.instance.showTips((t > 0 ? "+" : "") + t, l, u.default.RedColor)
					}
					var d = o.getChildByName("normal"),
						f = o.getChildByName("used"),
						p = this._itemUsedMap[e];
					d.active = !p, f.active = p
				}, t.prototype._checkRuleComp = function (e) {
					return e && e.isValid && e.getResultType() == y.RuleResultType.none && !e.getPoolStage().ballManager.ballRunning
				}, t.prototype._onClickItem = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o;
						return a(this, function (i) {
							switch (i.label) {
								case 0:
									return t = Utils.getComponentInParent(this.node, l.default), this._checkRuleComp(t) ? this._itemUsedMap[e] ? (ui.showTips("The prop is in use"), [2]) : (n = c.default.instance.getItemCount(e)) <= 0 ? [4, h.default.show(e)] : [3, 2] : [2];
								case 1:
									if (i.sent(), !this.isValid || !this._checkRuleComp(t)) return [2];
									n = c.default.instance.getItemCount(e), i.label = 2;
								case 2:
									return n > 0 ? [4, p.default.show(e)] : [3, 4];
								case 3:
									if (o = i.sent(), !this.isValid || !this._checkRuleComp(t)) return [2];
									o && (this.useItem(e), e == c.PoolItem2Type.move ? Server.reportClick(g.default.item1) : e == c.PoolItem2Type.free && Server.reportClick(g.default.item2)), i.label = 4;
								case 4:
									return [2]
							}
						})
					})
				}, t.prototype._onRewardCallback = function (e, t, n) {
					if (t == v.RewardFuncParam.Click) {
						if (c.default.instance.getItemCount(e) > 0) return Utils.disableAllBtnsAmoment(this.node, .2), this._onClickItem(e), !0;
						Utils.setAllBtnsEnabled(this.node, !1)
					} else if (t == v.RewardFuncParam.Success) {
						var o = e == c.PoolItem2Type.free ? m.LevelPrizeType.free_item : m.LevelPrizeType.move_item,
							i = c.default.instance.getRewardCount();
						w.default.show([{
							type: o,
							value: i
						}]), Utils.setAllBtnsEnabled(this.node, !0)
					} else Utils.setAllBtnsEnabled(this.node, !0)
				}, t.prototype.onMoveRewardCallback = function (e, t) {
					return this._onRewardCallback(c.PoolItem2Type.move, e, t)
				}, t.prototype.onFreeRewardCallback = function (e, t) {
					return this._onRewardCallback(c.PoolItem2Type.free, e, t)
				}, t.prototype.onMoveBtnClick = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return t = e.target, Utils.disableAllBtnsAmoment(t, .2), SoundMgr.play(s.default.btn), n = c.PoolItem2Type.move, [4, this._onClickItem(n)];
								case 1:
									return o.sent(), [2]
							}
						})
					})
				}, t.prototype.onFreeBtnClick = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return t = e.target, Utils.disableAllBtnsAmoment(t, .2), SoundMgr.play(s.default.btn), n = c.PoolItem2Type.free, [4, this._onClickItem(n)];
								case 1:
									return o.sent(), [2]
							}
						})
					})
				}, t.prototype._getBtnName = function (e) {
					return e == c.PoolItem2Type.move ? "item_move_btn" : e == c.PoolItem2Type.free ? "item_free_btn" : ""
				}, t.prototype.useItem = function (e) {
					if (!this._itemUsedMap[e]) {
						var t = Utils.getComponentInParent(this.node, l.default);
						if (!this._checkRuleComp(t)) return;
						var n = this._getBtnName(e),
							o = this.node.getChildByName(n);
						c.default.instance.useItem(e, t, o) && (this._itemUsedMap[e] = !0, this._onItemChanged(e, 0))
					}
				}, t = i([C], t)
			}(cc.Component));
		n.default = P, cc._RF.pop()
	}, {
		"../../../Base/ShareTypes": "ShareTypes",
		"../../../Config/ReportID": "ReportID",
		"../../../Config/ServerConfig": "ServerConfig",
		"../../../Config/SoundID": "SoundID",
		"../../../Ui/base/RewardBtn": "RewardBtn",
		"../../../Ui/other/TextTips": "TextTips",
		"../../../Ui/receive/DoubleItemLayer": "DoubleItemLayer",
		"../../LevelConfig": "LevelConfig",
		"../PoolStage": "PoolStage",
		"../PoolTypes": "PoolTypes",
		"../rule/EightSingleRule": "EightSingleRule",
		"../rule/RuleTypes": "RuleTypes",
		"./NoItemLayer": "NoItemLayer",
		"./PoolItem2Mgr": "PoolItem2Mgr",
		"./UseItemLayer": "UseItemLayer"
	}],
	PoolItem2Mgr: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "0d90eO6IuhP4Yw0+s/UH7Hm", "PoolItem2Mgr");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.PoolItem2EventId = n.PoolItem2Type = void 0;
		var r, a, s = e("../rule/RuleTypes"),
			c = e("../../../Effect/ItemAnim"),
			l = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getRewardCount = function () {
					return 1
				}, e.prototype.getTotalItemCount = function () {
					var e = this;
					return [r.move, r.free].map(function (t) {
						return e.getItemCount(t)
					}).reduce(function (e, t) {
						return e + t
					}, 0)
				}, e.prototype.getItemCount = function (e) {
					return e == r.move ? DataBus.user.moveItem : e == r.free ? DataBus.user.freeItem : 0
				}, e.prototype.setItemCount = function (e, t) {
					e == r.move ? DataBus.user.moveItem = t : e == r.free && (DataBus.user.freeItem = t)
				}, e.prototype.useItem = function (e, t, n) {
					var o = this;
					if (!t || !t.isValid || t.getResultType() != s.RuleResultType.none || t.getPoolStage().ballManager.ballRunning) return !1;
					var i = this.getItemCount(e);
					return i <= 0 ? (ui.showTips("Lack of items"), !1) : (this.setItemCount(e, i - 1), DataBus.user.save(), this._playAnim(t, n).then(function () {
						e == r.move ? (cc.systemEvent.emit(a.move_changed, -1), o._useMoveItem(t)) : e == r.free && (cc.systemEvent.emit(a.free_changed, -1), o._useFreeItem(t))
					}), !0)
				}, e.prototype._playAnim = function (e, t) {
					return o(this, void 0, void 0, function () {
						var n, o, r, a, s, l;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return n = e.getPoolStage(), o = n.ballManager, t ? (r = o.getCueBall()) && (a = Utils.getComponentInChildren(t, cc.Sprite)) ? (s = t.convertToWorldSpaceAR(cc.Vec2.ZERO), l = r.node.convertToWorldSpaceAR(cc.Vec2.ZERO), [4, c.default.playForSpriteFrame(a.spriteFrame, s, l)]) : [3, 2] : [3, 2];
								case 1:
									i.sent(), i.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, e.prototype._useMoveItem = function (e) {
					e.getPoolStage().touchController.setCueBallMovable(!0)
				}, e.prototype._useFreeItem = function (e) {
					e.setNoFoul();
					var t = e.getPoolStage();
					t.touchController.angle = t.touchController.angle
				}, e.prototype.receiveItem = function (t, n) {
					var o = e.instance.getItemCount(t);
					e.instance.setItemCount(t, o + n), DataBus.user.save();
					var i = t == r.move ? a.move_changed : a.free_changed;
					cc.systemEvent.emit(i, 1)
				}, e._instance = null, e
			}();
		n.default = l,
			function (e) {
				e[e.move = 0] = "move", e[e.free = 1] = "free"
			}(r = n.PoolItem2Type || (n.PoolItem2Type = {})),
			function (e) {
				e.move_changed = "move_changed", e.free_changed = "free_changed"
			}(a = n.PoolItem2EventId || (n.PoolItem2EventId = {})), cc._RF.pop()
	}, {
		"../../../Effect/ItemAnim": "ItemAnim",
		"../rule/RuleTypes": "RuleTypes"
	}],
	PoolItemMgr: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d907eqJAm9BN7djE63Lpu22", "PoolItemMgr"), cc._RF.pop()
	}, {}],
	PoolItemUtils: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "afe27eg63REZYkkeGn4aDoa", "PoolItemUtils"), cc._RF.pop()
	}, {}],
	PoolItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "6656838qStNmZvM8QJiWf39", "PoolItem"), cc._RF.pop()
	}, {}],
	PoolLifeItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d9b83bE9/9H3qhWvl8sZZpn", "PoolLifeItem"), cc._RF.pop()
	}, {}],
	PoolRuntimeData: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "b6b48s7JjxB167JYSoCHwpc", "PoolRuntimeData"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.CollideObject = void 0;
		var o = function () {
			return function () {
				this.position = new cc.Vec2
			}
		}();
		n.CollideObject = o;
		var i = function () {
			function e() { }
			return e.create = function (e, t, n, i) {
				var r = null;
				return (r = this._pool.length > 0 ? this._pool.pop() : new o).type = e, r.value = t, r.position.set(n), r.timestamp = i, r
			}, e.remove = function (e) {
				this._pool.push(e), this._pool.length > this._maxLength && (this._pool.length = this._maxLength)
			}, e._maxLength = 100, e._pool = [], e
		}(),
			r = function () {
				function e() {
					this.collideMap = {}, this.cueBallCollideCount = 0, this._isScratch = !1, this.pottedList = []
				}
				return Object.defineProperty(e.prototype, "isScratch", {
					get: function () {
						return this._isScratch
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.addBallCollide = function (e, t, n) {
					var o = t.node.ballNum;
					(this.collideMap[o] || (this.collideMap[o] = [])).push(i.create("ball", n.node.ballNum, t.node.getPosition(), (new Date).getTime())), 0 == o && ++this.cueBallCollideCount
				}, e.prototype.addPocketCollide = function (e, t, n) {
					var o = t.node.ballNum;
					(this.collideMap[o] || (this.collideMap[o] = [])).push(i.create("pocket", -1, n.node.center || n.node.getPosition(), (new Date).getTime())), 0 == o && (this._isScratch = !0), this.pottedList.push(o)
				}, e.prototype.addCushionCollide = function (e, t, n) {
					var o = t.node.ballNum;
					(this.collideMap[o] || (this.collideMap[o] = [])).push(i.create("cushion", -2, t.node.getPosition(), (new Date).getTime()))
				}, e.prototype.destroy = function () {
					var e = this;
					this.collideMap && (Object.keys(this.collideMap).forEach(function (t) {
						var n = e.collideMap[t];
						n && (n.forEach(function (e) {
							i.remove(e)
						}), n.length = 0), delete e.collideMap[t]
					}), this.collideMap = {});
					this.pottedList.length = 0, this.cueBallCollideCount = 0
				}, e
			}();
		n.default = r, cc._RF.pop()
	}, {}],
	PoolStage: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "b1507fLaHZHfJRYHSkYKMWP", "PoolStage");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Config/EventID"),
			c = e("./control/BallManager"),
			l = e("./control/TableManager"),
			u = e("./control/ForceBar"),
			d = e("./control/BallCue"),
			f = e("./control/TouchController"),
			p = e("./PoolTypes"),
			h = e("./control/AngleAnimator"),
			y = e("./control/TuningBar"),
			g = e("./control/ShootPointBtn"),
			_ = e("./control/ShootPointLayer"),
			v = e("../../Config/SoundID"),
			b = e("./control/SightLine"),
			m = e("./control/BallCast"),
			w = e("./ball/BallContact"),
			S = e("./PoolRuntimeData"),
			C = e("../../Ui/cue/CueLayer"),
			P = e("./control/ForceAnimator"),
			L = e("./AdditionLogic"),
			T = cc._decorator,
			D = T.ccclass,
			B = (T.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.ballManager = null, t.tableManager = null, t.forceBar = null, t.forceAnimator = null, t.ballCue = null, t.touchController = null, t.angleAnimator = null, t.tuningBar = null, t.shootPointBtn = null, t.sightLine = null, t._cueLineLength = 0, t.superLineLength = 0, t
				}
				return o(t, e), t.prototype.start = function () {
					this.ballManager = this.getComponentInChildren(c.default), this.tableManager = this.getComponentInChildren(l.default), this.forceBar = this.getComponentInChildren(u.default), this.forceAnimator = this.getComponentInChildren(P.default), this.ballCue = this.getComponentInChildren(d.default), this.touchController = this.getComponentInChildren(f.default), this.angleAnimator = this.getComponentInChildren(h.default), this.tuningBar = this.getComponentInChildren(y.default), this.shootPointBtn = this.getComponentInChildren(g.default), this.sightLine = this.getComponentInChildren(b.default), cc.systemEvent.on(s.default.CLOSE_SCENE, this.onCloseScene, this), cc.systemEvent.on(s.default.CUE_CHANGED, this.onCueChanged, this), this.angleAnimator.node.on(p.PoolEventId.AngleAnimationChanged, this.onAngleChanged, this), this.tuningBar.node.on(p.PoolEventId.TuningAngleChanged, this.onTuningAngleChanged, this), this.forceAnimator.node.on(p.PoolEventId.ForceBarAnimationChanged, this.onForceBarChanged, this), this.forceBar.node.on(p.PoolEventId.ForceBarShoot, this.onForceBarShoot, this), this.touchController.node.on(p.PoolEventId.CueBallMoveStart, this.onCueBallMoveStart, this), this.touchController.node.on(p.PoolEventId.CueBallMoveEnd, this.onCueBallMoveEnd, this);
					this.onCueChanged(0)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(s.default.CLOSE_SCENE, this.onCloseScene, this), cc.systemEvent.off(s.default.CUE_CHANGED, this.onCueChanged, this)
				}, t.prototype.loadEight = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return this.tableManager ? [4, this.tableManager.addTableNode(0)] : [3, 2];
								case 1:
									e.sent(), e.label = 2;
								case 2:
									return this.ballManager ? [4, this.ballManager.initBallsForEight()] : [3, 4];
								case 3:
									e.sent(), e.label = 4;
								case 4:
									return this.node.emit(p.PoolEventId.GameStart), [2]
							}
						})
					})
				}, t.prototype.loadData = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return this.tableManager ? [4, this.tableManager.addTableNode(e.table)] : [3, 2];
								case 1:
									t.sent(), t.label = 2;
								case 2:
									return this.ballManager ? [4, this.ballManager.initBalls(e.list)] : [3, 4];
								case 3:
									t.sent(), t.label = 4;
								case 4:
									return this.node.emit(p.PoolEventId.GameStart), [2]
							}
						})
					})
				}, t.prototype.loadDataForEightSingle = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return this.tableManager ? [4, this.tableManager.addTableNode(e.table)] : [3, 2];
								case 1:
									t.sent(), t.label = 2;
								case 2:
									return this.ballManager ? [4, this.ballManager.initBallsByBallNum(e.balls, e.coords)] : [3, 4];
								case 3:
									t.sent(), t.label = 4;
								case 4:
									return this.node.emit(p.PoolEventId.GameStart), [2]
							}
						})
					})
				}, t.prototype.angleToNearestBall = function () {
					var e = this.ballManager.getCueBall();
					if (e && e.getBallStatus() == p.BallStatus.OnTable) {
						var t = this.ballManager.getNearestBall();
						if (t) {
							var n = t.node.getPosition().sub(e.node.getPosition());
							this.touchController.angle = Math.atan2(n.y, n.x)
						} else this.touchController.angle = this.touchController.angle;
						this.ballCue.show(e.node.getPosition())
					}
				}, t.prototype.angleToBall = function (e, t) {
					void 0 === t && (t = !0), "number" == typeof e && (e = this.ballManager.ballList[e]);
					var n = this.ballManager.getCueBall();
					if (n && n.getBallStatus() == p.BallStatus.OnTable) {
						if (e && e.getBallStatus() == p.BallStatus.OnTable) {
							var o = e.node.getPosition().sub(n.node.getPosition());
							this.touchController.angle = Math.atan2(o.y, o.x)
						} else this.touchController.angle = this.touchController.angle;
						t && this.ballCue.show(n.node.getPosition())
					}
				}, t.prototype.angleTo = function (e, t) {
					void 0 === t && (t = !0);
					var n = this.ballManager.getCueBall();
					n && n.getBallStatus() == p.BallStatus.OnTable && (this.touchController.angle = void 0 !== e ? e : this.touchController.angle, t && this.ballCue.show(n.node.getPosition()))
				}, t.prototype.onCloseScene = function (e) {
					this.node.isChildOf(e) && (this.ballManager.removeAllBalls(), this.tableManager.removeTableNode())
				}, t.prototype.updateSightLine = function (e) {
					this.node.emit(p.PoolEventId.SightLinePosChanged, e);
					var t = this.sightLine;
					if (t.aimLineLength = e.distance, t.aimCirclePos = e.pos.sub(t.node.getPosition()), e.objectPos && (t.forbidPos = e.objectPos), e.objectDir) {
						var n = (50 + this.getCueLineLength()) * e.objectDir.len();
						t.objectLineLength = Math.min(n, e.objectMaxLength), t.objectAngle = Math.atan2(e.objectDir.y, e.objectDir.x), t.objectPos = e.objectPos.sub(t.node.getPosition()), t.reflectLineLength = 0, this.touchController.ratio = .1
					} else if (e.reflectDir) {
						t.objectLineLength = 0;
						n = 80;
						t.reflectLineLength = Math.max(32, Math.min(n, e.reflectMaxLength)), t.reflectLineAngle = Math.atan2(e.reflectDir.y, e.reflectDir.x), this.touchController.ratio = 1
					} else t.objectLineLength = 0, t.reflectLineLength = 0, this.touchController.ratio = 1;
					t.show()
				}, t.prototype.onAngleChanged = function (e) {
					if ((this.ballCue.angle = e, !this.ballManager.ballRunning) && (this.sightLine.angle = e, this.ballManager.getCueBall())) {
						var t = this.ballManager.getCueBall().node.getPosition();
						this.sightLine.node.setPosition(t);
						var n = this.ballManager.getObjectBalls(),
							o = m.default.instance.cast(t, e, n, this.ballManager.node);
						o && this.updateSightLine(o)
					}
				}, t.prototype.onTuningAngleChanged = function (e) {
					this.angleAnimator.stopAnimation(!0);
					var t = this.touchController.angle + e;
					t > Math.PI ? t -= 2 * Math.PI : t < -Math.PI && (t += 2 * Math.PI), this.touchController.angle = t
				}, t.prototype.onForceBarChanged = function (e) {
					this.ballCue.force = e
				}, t.prototype.onForceBarShoot = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n, o, i, r;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return this.disableControlUi(), this.sightLine.hide(), this.angleAnimator.stopAnimation(!0), e = this.angleAnimator.angle, t = new cc.Vec2(Math.cos(e), Math.sin(e)), n = this.forceBar.force, o = this.shootPointBtn.getRoll(), i = this.shootPointBtn.getEnglish(), r = L.default.instance.getCueAttr(), n *= 1 + r.force / 100, o *= 1 + r.english / 100, i *= 1 + r.english / 100, console.log("力量：" + n.toFixed(2) + "，加塞：(" + o.toFixed(2) + ", " + i.toFixed(2) + ")"), SoundMgr.play(v.default.Hit), [4, this.ballCue.playShootAnimation()];
								case 1:
									return a.sent(), w.default.runtimeData && w.default.runtimeData.destroy(), w.default.runtimeData = new S.default, this.ballManager.shootBall(t, n, o, i), this.forceAnimator.playShootAnimation(), [2]
							}
						})
					})
				}, t.prototype.onCueBallMoveStart = function () {
					this.forceBar.enabled = !1, this.tuningBar.enabled = !1, this.shootPointBtn.enabled = !1, _.default.close(), this.sightLine.hide(), this.ballCue.hide(), this.ballManager.setAllBallsListenerEnabled(!1), Utils.setAllBtnsEnabled(this.node, !1)
				}, t.prototype.onCueBallMoveEnd = function () {
					if (!this.ballManager.ballRunning) {
						this.touchController.angle = this.touchController.angle;
						var e = this.ballManager.getCueBall();
						e && e.getBallStatus() == p.BallStatus.OnTable && this.ballCue.show(e.node.getPosition())
					}
					this.ballManager.setAllBallsListenerEnabled(!0), Utils.setAllBtnsEnabled(this.node, !0)
				}, t.prototype.disableControlUi = function () {
					this.forceBar.enabled = !1, this.touchController.enabled = !1, this.tuningBar.enabled = !1, this.shootPointBtn.enabled = !1, _.default.close()
				}, t.prototype.enableControlUi = function () {
					this.forceBar.enabled = !0, this.touchController.enabled = !0, this.tuningBar.enabled = !0, this.shootPointBtn.enabled = !0
				}, t.prototype.resetControlUi = function () {
					this.shootPointBtn.shootPoint = cc.Vec2.ZERO, this.forceBar.force = 0
				}, t.prototype.onCueChanged = function (e) {
					this.ballCue.setCueIndex(e), this.forceBar.setCueIndex(e), L.default.instance.cueId = e;
					var t = L.default.instance.getCueAttr();
					this._cueLineLength = t.sight, console.log("[玩家加成]: ", t), this.forceBar.displayMaxForce = 100 + t.force, this.touchController.angle = this.touchController.angle
				}, t.prototype.getCueLineLength = function () {
					return this.superLineLength + this._cueLineLength
				}, t.prototype.onBtnSwitchCueClick = function () {
					SoundMgr.play(v.default.btn), ui.showLayer(C.default)
				}, t.prototype.onBtnFpsClick = function () {
					SoundMgr.play(v.default.btn), cc.debug.setDisplayStats(!cc.debug.isDisplayStats())
				}, t = i([D], t)
			}(cc.Component));
		n.default = B, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Config/SoundID": "SoundID",
		"../../Ui/cue/CueLayer": "CueLayer",
		"./AdditionLogic": "AdditionLogic",
		"./PoolRuntimeData": "PoolRuntimeData",
		"./PoolTypes": "PoolTypes",
		"./ball/BallContact": "BallContact",
		"./control/AngleAnimator": "AngleAnimator",
		"./control/BallCast": "BallCast",
		"./control/BallCue": "BallCue",
		"./control/BallManager": "BallManager",
		"./control/ForceAnimator": "ForceAnimator",
		"./control/ForceBar": "ForceBar",
		"./control/ShootPointBtn": "ShootPointBtn",
		"./control/ShootPointLayer": "ShootPointLayer",
		"./control/SightLine": "SightLine",
		"./control/TableManager": "TableManager",
		"./control/TouchController": "TouchController",
		"./control/TuningBar": "TuningBar"
	}],
	PoolTypes: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "0abe0zARrRGXa+3ycviCPxK", "PoolTypes"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.PoolEventId = n.BallStatus = void 0,
			function (e) {
				e[e.OnTable = 0] = "OnTable", e[e.Potting = 1] = "Potting", e[e.Potted = 2] = "Potted"
			}(n.BallStatus || (n.BallStatus = {})),
			function (e) {
				e.BallRunning = "BallRunning", e.BallStop = "BallStop", e.AddBall = "AddBall", e.CueBallCollide = "CueBallCollide", e.Potted = "Potted", e.ForceBarShoot = "ForceBarShoot", e.ForceBarShootEnd = "ForceBarShootEnd", e.ForceBarChanged = "ForceBarChanged", e.ForceBarAnimationChanged = "ForceBarAnimationChanged", e.AngleChanged = "AngleChanged", e.AngleAnimationChanged = "AngleAnimationChanged", e.TuningAngleChanged = "TuningAngleChanged", e.ShootPointChanged = "ShootPointChanged", e.SightLinePosChanged = "SightLinePosChanged", e.LifeChanged = "LifeChanged", e.ObjectBallChanged = "ObjectBallChanged", e.GameStart = "GameStart", e.GameOver = "GameOver", e.CueBallMoveStart = "CueBallMoveStart", e.CueBallMoveEnd = "CueBallMoveEnd", e.GamePause = "GamePause", e.GameResume = "GameResume"
			}(n.PoolEventId || (n.PoolEventId = {})), cc._RF.pop()
	}, {}],
	PrefabPlaceHolder: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "ade161OMgVMKpmjDqerbeZb", "PrefabPlaceHolder");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Res/ResLoader"),
			c = cc._decorator,
			l = c.ccclass,
			u = c.property,
			d = c.executeInEditMode,
			f = c.menu,
			p = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._prefab = null, t._prefabName = "", t._zIndex = -1, t._node = null, t._last = null, t._timer = 0, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "prefab", {
					get: function () {
						return this._prefab
					},
					set: function (e) {
						this._onPrefabChanged(this._prefab, e)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "prefabName", {
					get: function () {
						return this._prefabName
					},
					set: function (e) {
						this._onPrefabNameChanged(this._prefabName, e)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "zIndex", {
					get: function () {
						return this._zIndex
					},
					set: function (e) {
						this._onZIndexChanged(e)
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onLoad = function () {
					this._updateNode()
				}, t.prototype.onDestroy = function () {
					0 == (cc.Object.Flags.Destroying & this.node._objFlags) && this._removeNode()
				}, t.prototype._onZIndexChanged = function (e) {
					this._zIndex = e, this._node && (this._node.zIndex = e)
				}, t.prototype._onPrefabChanged = function (e, t) {
					e != t && (this._prefab = t, this._updateNode())
				}, t.prototype._onPrefabNameChanged = function (e, t) {
					var n = this;
					e != t && (this._prefabName = t, clearTimeout(this._timer), this._timer = setTimeout(function () {
						n.isValid && n._updateNode()
					}, 300))
				}, t.prototype._getPrefabNode = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							return [2, s.default.getNodeRes(e)]
						})
					})
				}, t.prototype._updateNode = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return this.prefab ? (e = this.prefab, this._last != e && (this._last = e, this._removeNode(), (n = cc.instantiate(e)) && this._addNode(n)), [3, 5]) : [3, 1];
								case 1:
									return this.prefabName ? (t = this.prefabName, this._last == t ? [3, 3] : (this._last = t, this._removeNode(), [4, this._getPrefabNode(t)])) : [3, 4];
								case 2:
									if (n = o.sent()) {
										if (!this.isValid || this._last != t) return s.default.removeNode(n), [2];
										cc.log("加载了资源：", t), this._addNode(n)
									}
									o.label = 3;
								case 3:
									return [3, 5];
								case 4:
									this._last = null, this._removeNode(), o.label = 5;
								case 5:
									return [2]
							}
						})
					})
				}, t.prototype._addNode = function (e) {
					e._objFlags |= cc.Object.Flags.DontSave | cc.Object.Flags.LockedInEditor | cc.Object.Flags.HideInHierarchy, this.node.addChild(e, this._zIndex), this._node = e
				}, t.prototype._removeNode = function () {
					this._node && (s.default.removeNode(this._node), this._node = null)
				}, i([u], t.prototype, "_prefab", void 0), i([u({
					type: cc.Prefab,
					displayName: "预制体（优先）"
				})], t.prototype, "prefab", null), i([u], t.prototype, "_prefabName", void 0), i([u({
					displayName: "预制体名（备选）"
				})], t.prototype, "prefabName", null), i([u], t.prototype, "_zIndex", void 0), i([u], t.prototype, "zIndex", null), t = i([l, d, f("添加 UI 组件/PrefabPlaceHolder")], t)
			}(cc.Component);
		n.default = p, cc._RF.pop()
	}, {
		"../../Res/ResLoader": "ResLoader"
	}],
	PrefabRepeatPageView: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d0b4eB3zKxNLqrp/cADyKuG", "PrefabRepeatPageView");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./PrefabRepeat"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, a.executeInEditMode),
			l = a.menu,
			u = function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype._removeAllNodes = function () {
					var e = Utils.getComponentInParent(this.node, cc.PageView);
					e && e.removeAllPages(), this._nodeList.length = 0
				}, t.prototype._addChild = function (e) {
					var t = Utils.getComponentInParent(this.node, cc.PageView);
					t && t.addPage(e)
				}, t.prototype._recyleChild = function (e) {
					var t = Utils.getComponentInParent(this.node, cc.PageView);
					t && (t.removePage(e), this._pool.put(e))
				}, t = i([s, c, l("添加 UI 组件/PrefabRepeatPageView")], t)
			}(r.default);
		n.default = u, cc._RF.pop()
	}, {
		"./PrefabRepeat": "PrefabRepeat"
	}],
	PrefabRepeat: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d85032kIYVBO7N2DGsxVO6J", "PrefabRepeat");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = r.executeInEditMode,
			l = r.menu,
			u = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._prefab = null, t._zIndex = -1, t._count = 0, t._nodeList = [], t._pool = new cc.NodePool, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "prefab", {
					get: function () {
						return this._prefab
					},
					set: function (e) {
						this._onPrefabChanged(this._prefab, e)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "zIndex", {
					get: function () {
						return this._zIndex
					},
					set: function (e) {
						this._onZIndexChanged(e)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "count", {
					get: function () {
						return this._count
					},
					set: function (e) {
						this._onCountChanged(e)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "nodeList", {
					get: function () {
						return this._nodeList
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onLoad = function () {
					this._updateNodes()
				}, t.prototype.onDestroy = function () {
					0 == (cc.Object.Flags.Destroying & this.node._objFlags) && this._removeAllNodes(), this._pool.clear()
				}, t.prototype._onZIndexChanged = function (e) {
					this._zIndex = e;
					for (var t = 0, n = this._nodeList.length; t < n; ++t) {
						this._nodeList[t].zIndex = e
					}
				}, t.prototype._onCountChanged = function (e) {
					this._count = e, this._updateNodes()
				}, t.prototype._onPrefabChanged = function (e, t) {
					e != t && (this._pool.clear(), this._removeAllNodes(), this._prefab = t, this._updateNodes())
				}, t.prototype._updateNodes = function () {
					for (var e = this.count, t = 0; t < e; ++t) this._nodeList[t] || this._addNode();
					for (t = this._nodeList.length - 1; t >= e; --t) {
						var n = this._nodeList[t];
						n && this._recyleChild(n)
					}
					this._nodeList.length = Math.max(0, Math.min(this._nodeList.length, e))
				}, t.prototype._addNode = function () {
					if (this.prefab) {
						var e = this._pool.size() > 0 ? this._pool.get() : cc.instantiate(this.prefab);
						e && (e._objFlags |= cc.Object.Flags.DontSave | cc.Object.Flags.LockedInEditor | cc.Object.Flags.HideInHierarchy, e.zIndex = this._zIndex, this._addChild(e), this._nodeList.push(e))
					}
				}, t.prototype._removeAllNodes = function () {
					for (var e = 0, t = this._nodeList.length; e < t; ++e) {
						this._nodeList[e].destroy()
					}
					this._nodeList.length = 0
				}, t.prototype._addChild = function (e) {
					this.node.addChild(e)
				}, t.prototype._recyleChild = function (e) {
					this._pool.put(e)
				}, i([s], t.prototype, "_prefab", void 0), i([s({
					type: cc.Prefab,
					displayName: "预制体"
				})], t.prototype, "prefab", null), i([s], t.prototype, "_zIndex", void 0), i([s({
					displayName: "层级"
				})], t.prototype, "zIndex", null), i([s], t.prototype, "_count", void 0), i([s({
					displayName: "数量"
				})], t.prototype, "count", null), t = i([a, c, l("添加 UI 组件/PrefabRepeat")], t)
			}(cc.Component);
		n.default = u, cc._RF.pop()
	}, {}],
	PreviewImage: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f8e46RMjjpIh73kYuRojYc9", "PreviewImage");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		e("../../Res/ResLoader");
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = r.executeInEditMode,
			l = r.menu,
			u = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._spriteFrame = null, t._resPath = "", t._offset = new cc.Vec2, t._node = null, t._last = null, t._timer = 0, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "spriteFrame", {
					get: function () {
						return this._spriteFrame
					},
					set: function (e) {
						this._onSpriteFrameChanged(this._spriteFrame, e)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "resPath", {
					get: function () {
						return this._resPath
					},
					set: function (e) {
						this._onResPathChanged(this._resPath, e)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "offset", {
					get: function () {
						return this._offset
					},
					set: function (e) {
						this._offset.set(e), this._onOffsetChanged()
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onLoad = function () {
					this.destroy(), this._updateSpriteFrame()
				}, t.prototype.onDestroy = function () {
					0 == (cc.Object.Flags.Destroying & this.node._objFlags) && this._removeNode()
				}, t.prototype._onSpriteFrameChanged = function (e, t) {
					e != t && (this._spriteFrame = t, this._updateSpriteFrame())
				}, t.prototype._onResPathChanged = function (e, t) {
					var n = this;
					e != t && (this._resPath = t, clearTimeout(this._timer), this._timer = setTimeout(function () {
						n.isValid && n._updateSpriteFrame()
					}, 300))
				}, t.prototype._onOffsetChanged = function () {
					this._node && this._node.setPosition(this.offset)
				}, t.prototype._updateSpriteFrame = function () { }, t.prototype._loadBundle = function (e, t) {
					e ? cc.assetManager.loadBundle(e, null, function (e, n) {
						t && t(n)
					}) : t && t(cc.resources)
				}, t.prototype._addNode = function () { }, t.prototype._removeNode = function () {
					0
				}, i([s({
					type: cc.SpriteFrame,
					editorOnly: !0
				})], t.prototype, "_spriteFrame", void 0), i([s({
					type: cc.SpriteFrame
				})], t.prototype, "spriteFrame", null), i([s], t.prototype, "_resPath", void 0), i([s({
					displayName: "路径（备选）",
					tooltip: "使用路径动态加载，可防止资源引用"
				})], t.prototype, "resPath", null), i([s], t.prototype, "_offset", void 0), i([s({
					displayName: "偏移坐标"
				})], t.prototype, "offset", null), t = i([a, c, l("添加 UI 组件/PreviewImage")], t)
			}(cc.Component);
		n.default = u, cc._RF.pop()
	}, {
		"../../Res/ResLoader": "ResLoader"
	}],
	PrizeConfig: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9929eMuuS1I/4qArkQVCUst", "PrizeConfig"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = e("../../Runtime/LevelConfig"),
			i = function () {
				function e() {
					var e, t;
					this.gotPrizeRes = ((e = {})[o.LevelPrizeType.coins] = "Texture/获得道具/奖励1", e[o.LevelPrizeType.energy] = "Texture/获得道具/奖励2", e[o.LevelPrizeType.move_item] = "Texture/获得道具/奖励4", e[o.LevelPrizeType.free_item] = "Texture/获得道具/奖励3", e[o.LevelPrizeType.bcoins] = "Texture/获得道具/奖励5", e[o.LevelPrizeType.role_fragments] = "Texture/获得道具/奖励6", e[o.LevelPrizeType.lottery_tickets] = "Texture/获得道具/奖励7", e[o.LevelPrizeType.jk_potter] = "Texture/获得道具/奖励jk波特", e[o.LevelPrizeType.cue_17] = "Texture/获得道具/奖励逐日神箭", e[o.LevelPrizeType.cue_18] = "Texture/获得道具/奖励落日弓", e[o.LevelPrizeType.pvp_tickets] = "Texture/获得道具/奖励门票", e[o.LevelPrizeType.daily_active] = "Texture/获得道具/奖励日活跃", e[o.LevelPrizeType.weekly_active] = "Texture/获得道具/奖励周活跃", e), this.prizeRes = ((t = {})[o.LevelPrizeType.coins] = "Texture/道具/任务_图标_02", t[o.LevelPrizeType.energy] = "Texture/道具/任务_图标_04", t[o.LevelPrizeType.bcoins] = "Texture/道具/任务_图标_01", t[o.LevelPrizeType.lottery_tickets] = "Texture/道具/任务_图标_03", t[o.LevelPrizeType.daily_active] = "Texture/道具/日活跃图标", t[o.LevelPrizeType.weekly_active] = "Texture/道具/周活跃图标", t)
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e._instance = null, e
			}();
		n.default = i, cc._RF.pop()
	}, {
		"../../Runtime/LevelConfig": "LevelConfig"
	}],
	PrizeItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "efef2kaR59F1Ybs0KySzxdi", "PrizeItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s, c = e("../../Runtime/LevelConfig"),
			l = e("../../Res/ResLoader"),
			u = e("./PrizeConfig");
		(function (e) {
			e[e.border = 0] = "border", e[e.none = 1] = "none"
		})(s || (s = {}));
		var d = cc._decorator,
			f = d.ccclass,
			p = d.property,
			h = d.menu,
			y = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.style = s.border, t.data = null, t.prefix = "", t
				}
				return o(t, e), t.prototype.setData = function (e) {
					this.data = e, this.updateDisplay()
				}, t.prototype.updateDisplay = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n, o, i;
						return a(this, function (r) {
							switch (r.label) {
								case 0:
									return (e = this.data) ? ((t = this.getComponentInChildren(cc.Label)) && (e.type == c.LevelPrizeType.jk_potter || e.type == c.LevelPrizeType.cue_17 || e.type == c.LevelPrizeType.cue_18 ? t.string = "" : t.string = this.prefix + e.value), (n = this.getComponent(cc.Sprite)) ? (o = this.style == s.border ? u.default.instance.gotPrizeRes[e.type] : u.default.instance.prizeRes[e.type]) ? [4, l.default.getSpriteFrameRes(o)] : [3, 2] : [3, 3]) : [3, 3];
								case 1:
									return i = r.sent(), this.isValid && e == this.data && (n.spriteFrame = i), [3, 3];
								case 2:
									console.warn("奖励图片不存在"), r.label = 3;
								case 3:
									return [2]
							}
						})
					})
				}, i([p({
					type: cc.Enum(s)
				})], t.prototype, "style", void 0), t = i([f, h("添加 UI 组件/PrizeItem")], t)
			}(cc.Component);
		n.default = y, cc._RF.pop()
	}, {
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/LevelConfig": "LevelConfig",
		"./PrizeConfig": "PrizeConfig"
	}],
	PrizePanel: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "65bccQ0O1NBZLXfma2oif+T", "PrizePanel");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Runtime/LevelConfig"),
			a = e("./PrizeItem"),
			s = e("../../Config/EventID"),
			c = e("../../Runtime/game/item2/PoolItem2Mgr"),
			l = e("../skin/SkinLogic"),
			u = e("../../Data/EconomicLogic"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, d.menu),
			h = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.data = null, t
				}
				return o(t, e), t.prototype.setData = function (e) {
					this.data = e, this.updateDisplay()
				}, t.prototype.updateDisplay = function () {
					for (var e = this.data.length, t = this.node.childrenCount; t < e; ++t) {
						(n = cc.instantiate(this.node.children[0])).parent = this.node
					}
					for (t = 0; t < this.node.childrenCount; ++t) {
						var n, o = t < e;
						if ((n = this.node.children[t]).active = o, o) {
							var i = n.getComponent(a.default);
							i && i.setData(this.data[t])
						}
					}
				}, t.prototype.receivePrize = function () {
					this.data && (this.data.forEach(function (e) {
						switch (e.type) {
							case r.LevelPrizeType.coins:
								u.default.instance.setCoins(DataBus.user.coins.plus(e.value));
								break;
							case r.LevelPrizeType.energy:
								DataBus.user.energy += e.value;
								break;
							case r.LevelPrizeType.move_item:
								DataBus.user.moveItem += e.value;
								break;
							case r.LevelPrizeType.free_item:
								DataBus.user.freeItem += e.value;
								break;
							case r.LevelPrizeType.bcoins:
								DataBus.user.bcoins += e.value;
								break;
							case r.LevelPrizeType.role_fragments:
								DataBus.user.roleFragment += e.value;
								break;
							case r.LevelPrizeType.lottery_tickets:
								DataBus.other.wheelNumber += e.value;
								break;
							case r.LevelPrizeType.jk_potter:
								var t = DataBus.user.roleList; - 1 == t.indexOf(6) && (t.push(6), DataBus.user.roleList = t);
								break;
							case r.LevelPrizeType.cue_17:
								var n = 16;
								l.default.instance.unlockCue(n);
								break;
							case r.LevelPrizeType.cue_18:
								n = 17;
								l.default.instance.unlockCue(n);
								break;
							case r.LevelPrizeType.pvp_tickets:
								break;
							case r.LevelPrizeType.daily_active:
								DataBus.other.dailyActive += e.value;
								break;
							case r.LevelPrizeType.weekly_active:
								DataBus.other.weeklyActive += e.value
						}
					}), DataBus.saveData())
				}, t.prototype.noticePrizeReceived = function () {
					var e = 0;
					return this.node.children.forEach(function (t) {
						if (t.active) {
							var n = t.getComponent(a.default);
							if (n.data) {
								var o = n.data,
									i = o.type,
									u = o.value;
								switch (i) {
									case r.LevelPrizeType.coins:
										var d = t.convertToWorldSpaceAR(cc.Vec2.ZERO);
										cc.systemEvent.emit(s.default.UPDATE_COINS, {
											pos: d,
											value: u,
											delay: e
										}), e += .4;
										break;
									case r.LevelPrizeType.energy:
										d = t.convertToWorldSpaceAR(cc.Vec2.ZERO);
										cc.systemEvent.emit(s.default.UPDATE_ENERGY, {
											pos: d,
											value: u,
											delay: e
										}), e += .4;
										break;
									case r.LevelPrizeType.move_item:
										cc.systemEvent.emit(c.PoolItem2EventId.move_changed, u);
										break;
									case r.LevelPrizeType.free_item:
										cc.systemEvent.emit(c.PoolItem2EventId.free_changed, u);
										break;
									case r.LevelPrizeType.bcoins:
										d = t.convertToWorldSpaceAR(cc.Vec2.ZERO);
										cc.systemEvent.emit(s.default.UPDATE_BCOINS, {
											pos: d,
											value: u,
											delay: e
										}), e += .4;
										break;
									case r.LevelPrizeType.role_fragments:
										break;
									case r.LevelPrizeType.lottery_tickets:
										Utils.delayTime(e).then(function () {
											ui.showTips("Raffle ticket+" + u)
										}), e += .4;
										break;
									case r.LevelPrizeType.jk_potter:
										break;
									case r.LevelPrizeType.cue_17:
										var f = 16,
											p = l.default.instance.fastGetCueConfig(f);
										p && (Utils.delayTime(e).then(function () {
											ui.showTips("The club is unlocked 【" + p.name + "】")
										}), e += .4);
										break;
									case r.LevelPrizeType.cue_18:
										f = 17;
										var h = l.default.instance.fastGetCueConfig(f);
										h && (Utils.delayTime(e).then(function () {
											ui.showTips("The club is unlocked 【" + h.name + "】")
										}), e += .4);
										break;
									case r.LevelPrizeType.pvp_tickets:
										break;
									case r.LevelPrizeType.daily_active:
										d = t.convertToWorldSpaceAR(cc.Vec2.ZERO);
										cc.systemEvent.emit(s.default.UPDATE_DAILY_ACTIVE, {
											pos: d,
											value: u,
											delay: e
										}), e += .4;
										break;
									case r.LevelPrizeType.weekly_active:
										d = t.convertToWorldSpaceAR(cc.Vec2.ZERO);
										cc.systemEvent.emit(s.default.UPDATE_WEEKLY_ACTIVE, {
											pos: d,
											value: u,
											delay: e
										}), e += .4
								}
							}
						}
					}), e
				}, t = i([f, p("添加 UI 组件/PrizePanel")], t)
			}(cc.Component);
		n.default = h, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Data/EconomicLogic": "EconomicLogic",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../../Runtime/game/item2/PoolItem2Mgr": "PoolItem2Mgr",
		"../skin/SkinLogic": "SkinLogic",
		"./PrizeItem": "PrizeItem"
	}],
	ProfitCollectBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "1faaabQFgFHY4LW0q66JrQq", "ProfitCollectBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Config/EventID"),
			c = e("../../Config/ReportID"),
			l = e("../../Config/SoundID"),
			u = e("../../Ui/receive/DoubleItemLayer"),
			d = e("../../Ui/vip/VipLogic"),
			f = e("../LevelConfig"),
			p = e("./ProfitLogic"),
			h = e("./UpgradeLogic"),
			y = cc._decorator,
			g = y.ccclass,
			_ = y.property,
			v = (y.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.type = h.UpgradeType.building, t
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					Utils.loadVarFromNode(this.node, "_", this), this.node.active = !1, this.check(), cc.systemEvent.on(s.default.CAN_COLLECT_PROFIT, this.onProfitChanged, this)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(s.default.CAN_COLLECT_PROFIT, this.onProfitChanged, this)
				}, t.prototype.check = function () {
					var e = h.default.instance.getTypeString(this.type),
						t = p.default.instance.getItem(e);
					(t.canCollect || t.isFull) && (this.node.active = !0, this.collect_node.active = !t.isFull, this.full_node.active = t.isFull)
				}, t.prototype.onProfitChanged = function (e, t) {
					h.default.instance.getTypeString(this.type) == e && (this.node.active = !0, this.collect_node.active = !t, this.full_node.active = t)
				}, t.prototype.onClick = function () {
					return r(this, void 0, void 0, function () {
						var e, t, o, i, r, s, y, g, _;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return SoundMgr.play(l.default.btn), [4, TimeMgr.getTimeFromServer()];
								case 1:
									e = a.sent(), t = 0, o = cc.Canvas.instance.getComponentsInChildren(n), i = 0, a.label = 2;
								case 2:
									return i < o.length ? (r = o[i]).node.active ? (r.node.active = !1, s = r.type, y = h.default.instance.getTypeString(s), [4, (g = p.default.instance.getItem(y)).collectCoins(e)]) : [3, 4] : [3, 5];
								case 3:
									_ = a.sent(), t += _, g.updateData(e), a.label = 4;
								case 4:
									return ++i, [3, 2];
								case 5:
									return t > 0 ? (d.default.instance.clearVipHistory(e), [4, u.default.show([{
										type: f.LevelPrizeType.coins,
										value: t
									}])]) : [3, 7];
								case 6:
									a.sent() && Server.reportClick(c.default.double_collect), a.label = 7;
								case 7:
									return [2]
							}
						})
					})
				}, i([_({
					type: h.UpgradeType,
					displayName: "类型"
				})], t.prototype, "type", void 0), t = n = i([g], t)
			}(cc.Component));
		n.default = v, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Config/ReportID": "ReportID",
		"../../Config/SoundID": "SoundID",
		"../../Ui/receive/DoubleItemLayer": "DoubleItemLayer",
		"../../Ui/vip/VipLogic": "VipLogic",
		"../LevelConfig": "LevelConfig",
		"./ProfitLogic": "ProfitLogic",
		"./UpgradeLogic": "UpgradeLogic"
	}],
	ProfitLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "2c3d7LYmrpL3oVC5WHMLuN/", "ProfitLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.ProfitItem = void 0;
		var r = e("../../Config/EventID"),
			a = e("../../Ui/vip/VipLogic"),
			s = function () {
				function e() {
					this.map = {}, this._inited = !1, this._timer = 0, cc.systemEvent.on(r.default.VIP_CHANGED, Utils.throttle(this.updateData, 20), this)
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.updateData = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o = this;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return e = Object.keys(this.map), (t = e.map(function (e) {
										return o.map[e]
									})).length > 0 ? [4, TimeMgr.getSmartServerTime()] : [3, 2];
								case 1:
									n = i.sent(), t.forEach(function (e) {
										e.updateData(n)
									}), i.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, e.prototype.loadData = function () {
					var e = this;
					(DataBus.user.profitData || "").split("|").forEach(function (t) {
						var n = c.create(t);
						e.map[n.id] = n
					}), this._inited = !0
				}, e.prototype.saveData = function () {
					var e = this;
					if (this._inited) {
						var t = Object.keys(this.map).map(function (t) {
							return e.map[t]
						}).map(function (e) {
							return e.getString()
						}).join("|");
						DataBus.user.profitData = t, DataBus.user.save()
					}
				}, e.prototype.saveDataNextFrame = function () {
					var e = this;
					clearTimeout(this._timer), this._timer = setTimeout(function () {
						e.saveData(), e._timer = 0
					}, 20)
				}, e.prototype.getItem = function (e) {
					this._inited || this.loadData();
					var t = this.map[e];
					return t || (t = this.map[e] = new c(e), this.saveDataNextFrame()), t
				}, e._instance = null, e
			}();
		n.default = s, window.ProfitLogic = s;
		var c = function () {
			function e(e) {
				this.id = "", this.max_coins = 1e3, this.min_coins = 100, this.velocity = 0, this._coins = 0, this._start_ts = 0, this._vipCoins = 0, this.canCollect = !1, this.isFull = !1, this.id = e
			}
			return e.prototype._getTimeFromServer = function (e) {
				return o(this, void 0, void 0, function () {
					return i(this, function (t) {
						switch (t.label) {
							case 0:
								return void 0 !== e ? [3, 2] : [4, TimeMgr.getSmartServerTime()];
							case 1:
								if (e = t.sent(), !TimeMgr.isMordenTime(e)) return ui.showTips("网络错误，请稍后重试"), [2, 0];
								t.label = 2;
							case 2:
								return [2, e]
						}
					})
				})
			}, e.prototype.collectCoins = function (e) {
				return o(this, void 0, void 0, function () {
					var t, n, o, r, s;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return TimeMgr.isMordenTime(this._start_ts) ? [4, this._getTimeFromServer(e)] : [3, 2];
							case 1:
								return e = i.sent(), t = Math.max(0, e - this._start_ts), a.default.instance.updateData(e), n = a.default.instance.calcVipDuration(this._start_ts, e), o = this._coins + this.velocity * t, r = this.velocity * n, s = Math.min(this.max_coins, o + r), console.log("[收集金币][" + this.id + "]普通(" + (o - this._vipCoins).toFixed(0) + ") + VIP(" + (r + this._vipCoins).toFixed(0) + ") = " + s.toFixed(0)), this._coins = 0, this._vipCoins = 0, this._start_ts = e, this.canCollect = !1, this.isFull = !1, [2, Math.floor(s)];
							case 2:
								return [2, 0]
						}
					})
				})
			}, e.prototype.modifyData = function (e, t, n) {
				return o(this, void 0, void 0, function () {
					var o, r, c, l;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return [4, this._getTimeFromServer(n)];
							case 1:
								return n = i.sent(), TimeMgr.isMordenTime(this._start_ts) && (o = Math.max(0, n - this._start_ts), a.default.instance.updateData(n), r = a.default.instance.calcVipDuration(this._start_ts, n), c = this.velocity * o, l = this.velocity * r, this._coins += c + l, this._vipCoins += l), this.velocity = e, this.max_coins = t, this._start_ts = n, this._updateFullTimer() || this._updateCollectTimer(), s.instance.saveDataNextFrame(), [2]
						}
					})
				})
			}, e.prototype.updateData = function (e) {
				return this.modifyData(this.velocity, this.max_coins, e)
			}, e.prototype._updateCollectTimer = function () {
				var e = this,
					t = this._calcCollectRemainTime();
				t >= 0 ? (clearTimeout(this._collectTimer), this._collectTimer = setTimeout(function () {
					e.canCollect = !0, cc.systemEvent.emit(r.default.CAN_COLLECT_PROFIT, e.id, !1)
				}, t), console.log("【" + this.id + "】将在" + Utils.formatDuration5(t) + "后产出" + Utils.toAbb(this.min_coins) + "金币")) : (this.canCollect = !0, cc.systemEvent.emit(r.default.CAN_COLLECT_PROFIT, this.id, !1))
			}, e.prototype._updateFullTimer = function () {
				var e = this,
					t = this._calcFullRemainTime();
				return t >= 0 ? (clearTimeout(this._fullTimer), this._fullTimer = setTimeout(function () {
					clearTimeout(e._collectTimer), e.isFull = !0, cc.systemEvent.emit(r.default.CAN_COLLECT_PROFIT, e.id, !0)
				}, t), console.log("【" + this.id + "】将在" + Utils.formatDuration5(t) + "后产出" + Utils.toAbb(this.max_coins) + "金币（满仓）"), !1) : (this.isFull = !0, cc.systemEvent.emit(r.default.CAN_COLLECT_PROFIT, this.id, !0), !0)
			}, e.prototype._calcCollectRemainTime = function () {
				var e = (this.min_coins - this._coins) / this.velocity,
					t = a.default.instance.calcVipDuration((new Date).getTime(), 1 / 0);
				return e <= t ? e / 2 : e - t + t / 2
			}, e.prototype._calcFullRemainTime = function () {
				var e = (this.max_coins - this._coins) / this.velocity,
					t = a.default.instance.calcVipDuration((new Date).getTime(), 1 / 0);
				return e <= t ? e / 2 : e - t + t / 2
			}, e.prototype.getString = function () {
				return [this.id, this.max_coins, this.min_coins, this.velocity, this._coins, this._start_ts, this._vipCoins].join(",")
			}, e.prototype.fromString = function (e) {
				var t = e.split(",");
				this.id = t[0], this.max_coins = Number(t[1]) || 0, this.min_coins = Number(t[2]) || 0, this.velocity = Number(t[3]) || 0, this._coins = Number(t[4]) || 0, this._start_ts = Number(t[5]) || 0, this._vipCoins = Number(t[6]) || 0
			}, e.create = function (t) {
				var n = new e("");
				return n.fromString(t), n
			}, e
		}();
		n.ProfitItem = c, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Ui/vip/VipLogic": "VipLogic"
	}],
	PvpDebugLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "5d0f78XU/hK6pRaiD3Ye2fo", "PvpDebugLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.PvpDebugLayerParam = void 0;
		var r = e("../../../Ui/base/LayerBase"),
			a = e("./PvpEightRule"),
			s = e("./PvpScene"),
			c = e("../../../Config/EventID"),
			l = e("../../../Config/SoundID"),
			u = e("../rule/RuleTypes"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, d.menu),
			h = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.PvpDebugLayerParam = h;
		var y = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), n._instance = this, cc.systemEvent.on(c.default.LOAD_PUZZLE, this._onNewGame, this)
			}, t.prototype.onDestroy = function () {
				n._instance = null, e.prototype.onDestroy.call(this), cc.systemEvent.off(c.default.LOAD_PUZZLE, this._onNewGame, this)
			}, t.prototype.onDataLoad = function () {
				this._initUi()
			}, t.prototype._onNewGame = function () {
				this._initUi()
			}, t.prototype._initUi = function () {
				var e = this,
					t = this._getConfig();
				if (!t) return ui.showTips("未找到AI配置，请稍后重试"), void this.close();
				var n = ["accurately", "decisively", "quickly", "steady"];
				cc.find("dialog/contents/debug_node", this.node).children.forEach(function (o, i) {
					var r = n[i],
						a = t[r];
					e._setLabel(o, r, a), e._setSlider(o, a)
				}), this._updateEffectDisplay()
			}, t.prototype.onSliderChange = function (e, t) {
				var n = e.node.parent,
					o = e.progress;
				this._setLabel(n, t, o), this._setValue(t, o)
			}, t.prototype._setLabel = function (e, t, n) {
				var o = e.getChildByName("label").getComponent(cc.Label),
					i = this._getName(t);
				o.string = i + "：" + n.toFixed(2)
			}, t.prototype._setValue = function (e, t) {
				if (s.default.instance) {
					var n = s.default.instance.getComponentInChildren(a.default);
					if (n) n._players[1]._aiConfig[e] = t
				}
			}, t.prototype._setSlider = function (e, t) {
				e.getChildByName("slider").getComponent(cc.Slider).progress = t
			}, t.prototype._getConfig = function () {
				if (s.default.instance) {
					var e = s.default.instance.getComponentInChildren(a.default);
					if (e) return e._players[1]._aiConfig
				}
				return null
			}, t.prototype._getName = function (e) {
				return {
					accurately: "精确",
					decisively: "果断",
					quickly: "迅速",
					steady: "稳重"
				}[e]
			}, t.prototype.onBtnWinClick = function () {
				if (SoundMgr.play(l.default.btn), Utils.setAllBtnsEnabled(this.node, !1), s.default.instance) {
					var e = s.default.instance.getComponentInChildren(a.default);
					if (e.isValid) {
						e.getPoolStage() && e.getPoolStage().ballManager.specialStop();
						var t = e._getHumanPlayer();
						e._resultType = t == e._currentPlayer ? u.RuleResultType.win : u.RuleResultType.lose, e._gameOver()
					}
				}
			}, t.prototype.onBtnFailClick = function () {
				if (SoundMgr.play(l.default.btn), Utils.setAllBtnsEnabled(this.node, !1), s.default.instance) {
					var e = s.default.instance.getComponentInChildren(a.default);
					if (e.isValid) {
						e.getPoolStage() && e.getPoolStage().ballManager.specialStop();
						var t = e._getHumanPlayer();
						e._resultType = t == e._currentPlayer ? u.RuleResultType.lose : u.RuleResultType.win, e._gameOver()
					}
				}
			}, t.prototype._updateEffectDisplay = function () {
				if (s.default.instance) {
					var e = s.default.instance.getComponentInChildren(a.default);
					if (e.isValid) {
						var t = e._getHumanPlayer();
						if (t) {
							var n = ["无", "电", "火焰", "水"],
								o = t._info.hitEffect;
							this.hit_effect_lbl.string = "击球特效：" + n[o];
							n = ["无", "龙卷风", "烟花", "彩带"], o = t._info.potEffect;
							this.pot_effect_lbl.string = "进球特效：" + n[o]
						}
					}
				}
			}, t.prototype.onBtnHitEffectClick = function (e) {
				if (s.default.instance) {
					var t = s.default.instance.getComponentInChildren(a.default);
					if (t.isValid) {
						var n = t._getHumanPlayer();
						n && (n._info.hitEffect = (n._info.hitEffect + 1) % 4, this._updateEffectDisplay())
					}
				}
			}, t.prototype.onBtnPotEffectClick = function (e) {
				if (s.default.instance) {
					var t = s.default.instance.getComponentInChildren(a.default);
					if (t.isValid) {
						var n = t._getHumanPlayer();
						n && (n._info.potEffect = (n._info.potEffect + 1) % 4, this._updateEffectDisplay())
					}
				}
			}, t.close = function () {
				this._instance && this._instance.close()
			}, t.prefabName = "game://dynamic/layer/pvpDebugLayer", t._instance = null, t = n = i([f, p("Layer/PvpDebugLayer")], t)
		}(r.default);
		n.default = y, window.PvpDebugLayer = y, cc._RF.pop()
	}, {
		"../../../Config/EventID": "EventID",
		"../../../Config/SoundID": "SoundID",
		"../../../Ui/base/LayerBase": "LayerBase",
		"../rule/RuleTypes": "RuleTypes",
		"./PvpEightRule": "PvpEightRule",
		"./PvpScene": "PvpScene"
	}],
	PvpEightRule: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "062ceJ/zfRKEZsfFLAWh0ua", "PvpEightRule");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../PoolTypes"),
			c = e("../ball/BallContact"),
			l = e("../PoolEffect"),
			u = e("../rule/RuleTypes"),
			d = e("../rule/BaseRule"),
			f = e("../Calc"),
			p = e("../PoolGlobal"),
			h = e("../control/ObjectsPanel"),
			y = e("./PvpPlayer"),
			g = e("./PvpPlayerUi"),
			_ = e("./PvpTurnUi"),
			v = e("../../Router"),
			b = e("../AdditionLogic"),
			m = e("../../../Ui/superLine/SuperLineRewardBtn"),
			w = e("../../../Ui/base/RewardBtn"),
			S = e("../../../Base/ShareTypes"),
			C = e("../../../Ui/superLine/SuperLineLogic"),
			P = e("../../../Ui/dailyTask/DailyTaskLogic"),
			L = e("../../../Ui/dailyTask/DailyTaskTypes"),
			T = e("../../../Data/wxsdk"),
			D = cc._decorator,
			B = D.ccclass,
			k = (D.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._combo = 0, t._maxCombo = 0, t._isFoul = !1, t._pottedCount = 0, t._isBreaking = !0, t._objectTypeConfirm = !1, t._backup = null, t._players = null, t._currentPlayer = null, t
				}
				return o(t, e), t.prototype.start = function () {
					var e = this;
					if (b.default.instance.isPvp = !0, !T.default.isVivo()) {
						var t = (new Date).getTime(),
							n = t;
						sdk.onHide("pvp", function () {
							n = (new Date).getTime()
						}), sdk.onShow("pvp", function () {
							var o = (new Date).getTime();
							if (n > t && e.isValid && e._resultType != u.RuleResultType.win && e._resultType != u.RuleResultType.lose) {
								var i = o - n,
									r = e._getHumanPlayer();
								if (r) {
									var a = e._currentPlayer;
									a == r ? i > 6e4 ? v.default.instance.enterHome() : i > 3e4 && e._onTimeOut(a) : i > 3e4 && v.default.instance.enterHome()
								}
							}
						})
					}
				}, t.prototype.reset = function () {
					this._resetData(), this._initPlayers(), this._currentPlayer = this._data.breaking ? this._getHumanPlayer() : this._getAiPlayer(), cc.director.getScheduler().resumeTarget(cc.director.getPhysicsManager());
					var e = this._getHumanPlayer();
					if (e) {
						var t = this.getPoolStage(),
							n = e._info.cue;
						t.forceBar.setCueIndex(n)
					}
					this.updateSuperLineRewardBtn()
				}, t.prototype._resetData = function () {
					this._combo = this._maxCombo = 0, this._isFoul = !1, this._pottedCount = 0, this._isBreaking = !0, this._objectTypeConfirm = !1
				}, t.prototype._initPlayers = function () {
					var e = this.getPoolStage(),
						t = this.getComponentsInChildren(g.default),
						n = this.getComponentsInChildren(_.default);
					this._players = [new y.PvpHuman(e, t[0], n[0], this._data.playerInfo), new y.PvpAi(e, t[1], n[1], this._data.oppoInfo)], this.node.off(y.PvpPlayerEventId.timeout, this._onTimeOut, this), this.node.on(y.PvpPlayerEventId.timeout, this._onTimeOut, this)
				}, t.prototype.onDestroy = function () {
					e.prototype.onDestroy && e.prototype.onDestroy.call(this), this._players.forEach(function (e) {
						e.destroyIt()
					}), this._players = null, sdk.offHide("pvp"), sdk.offShow("pvp")
				}, t.prototype.revive = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.prototype.pause = function () { }, t.prototype.resume = function () { }, t.prototype._restartGameOnPot8 = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return e = this.getPoolStage(), ui.showTips("Tee shot into the black 8. Tee shot again", 2.5), t = this._isFoul, this._resetData(), e.disableControlUi(), [4, e.ballManager.initBallsForEight()];
								case 1:
									return n.sent(), t && (this._currentPlayer = this._getOtherPlayer()), this._onGameStart(), [2]
							}
						})
					})
				}, t.prototype._onGameStart = function () {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return this._resultType = u.RuleResultType.none, e = this.getPoolStage(), this._beforeGameStart(), this._angleToNearestObjectBall(), this._setTargetHintVisible(!1), e.resetControlUi(), e.disableControlUi(), e.touchController.setCueBallMovable(!1), e.touchController.setCueBallMoveRange(null), this._players.forEach(function (e) {
										return e.onGameStart()
									}), [4, this._afterGameStart()];
								case 1:
									return t.sent(), e.ballManager.forceRatio = 1.5, this._onTurn(), [2]
							}
						})
					})
				}, t.prototype._onTimeOut = function (e) {
					return r(this, void 0, void 0, function () {
						var t;
						return a(this, function (n) {
							return e == this._currentPlayer ? (this._isFoul = !0, (t = this.getPoolStage()).resetControlUi(), t.disableControlUi(), [2, this._changePlayer()]) : [2]
						})
					})
				}, t.prototype._onBallRunning = function () {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							return this._isFoul = !1, this._pottedCount = 0, e = this.getPoolStage(), l.default.playHitAnimation(e, this._currentPlayer._info.hitEffect), this._setTargetHintVisible(!1), e.touchController.setCueBallMovable(!1), e.touchController.setCueBallMoveRange(null), e.disableControlUi(), e.sightLine.hide(), e.ballManager.forceRatio = 1, this._players.forEach(function (e) {
								return e.onBallRunning()
							}), [2]
						})
					})
				}, t.prototype._onBallStop = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return this._players.forEach(function (e) {
										return e.onBallStop()
									}), (e = this.getPoolStage()).resetControlUi(), this._checkFoul(), t = this, [4, this._checkOver()];
								case 1:
									return t._resultType = n.sent(), this._resultType == u.RuleResultType.none && this._confirmObjectType(), this._resultType == u.RuleResultType.none && this._isBreaking && this._currentPlayer == this._getHumanPlayer() && P.default.instance.addDailyProgress(L.DailyTaskID.pvp_openning_pot, 1), this._isBreaking = !1, e.ballManager.forceRatio = 1, this._resultType == u.RuleResultType.reset ? this._restartGameOnPot8() : this._resultType == u.RuleResultType.none ? this._continueGame() : this._resultType == u.RuleResultType.change ? this._changePlayer() : this._gameOver(), [2]
							}
						})
					})
				}, t.prototype._confirmObjectType = function () {
					if (!this._isBreaking && !this._objectTypeConfirm) {
						var e = c.default.runtimeData;
						if (e.pottedList.length > 0) {
							var t = e.pottedList[0];
							t >= 1 && t <= 7 ? (this._currentPlayer.setObjectBallType(u.ObjectBallType.Solid), this._getOtherPlayer().setObjectBallType(u.ObjectBallType.Stripe), this._objectTypeConfirm = !0) : t >= 9 && t <= 15 && (this._currentPlayer.setObjectBallType(u.ObjectBallType.Stripe), this._getOtherPlayer().setObjectBallType(u.ObjectBallType.Solid), this._objectTypeConfirm = !0)
						}
					}
				}, t.prototype._gameOver = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n, o;
						return a(this, function (i) {
							switch (i.label) {
								case 0:
									return this._players.forEach(function (e) {
										return e.unscheduleAllCallbacks()
									}), e = this._resultType, this._isFoul ? (this.showGameOverTips(), [4, Utils.delayTime(.5, this)]) : [3, 2];
								case 1:
									i.sent(), i.label = 2;
								case 2:
									return t = this._getHumanPlayer(), e = e == u.RuleResultType.win && t == this._currentPlayer || e == u.RuleResultType.lose && t != this._currentPlayer ? u.RuleResultType.win : u.RuleResultType.lose, n = t.getMaxCombo(), o = {
										resultType: e,
										failReason: this._failReason,
										maxCombo: n
									}, this.getPoolStage().node.emit(s.PoolEventId.GameOver, o), [2]
							}
						})
					})
				}, t.prototype._continueGame = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return this._players.forEach(function (e) {
								return e.unscheduleAllCallbacks()
							}), this._objectTypeConfirm && this._setTargetHintVisible(!0), this._angleToNearestObjectBall(), this.getPoolStage().sightLine.show(), this._currentPlayer.continueGame(), [2]
						})
					})
				}, t.prototype._changePlayer = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return e = this.getPoolStage(), this._players.forEach(function (e) {
										return e.unscheduleAllCallbacks()
									}), this._currentPlayer = this._getOtherPlayer(), this._objectTypeConfirm && this._setTargetHintVisible(!0), e.disableControlUi(), (t = c.default.runtimeData) && t.isScratch ? [4, e.ballManager.resetCueBall()] : [3, 2];
								case 1:
									return n.sent(), this._currentPlayer.setCueBallMovable(), [3, 3];
								case 2:
									this._isFoul && this._currentPlayer.setCueBallMovable(), n.label = 3;
								case 3:
									return this._angleToNearestObjectBall(), e.sightLine.show(), this._onTurn(), [2]
							}
						})
					})
				}, t.prototype._onTurn = function () {
					this._currentPlayer.myTurn(this._isBreaking), this._getOtherPlayer().opponentsTurn()
				}, t.prototype._getOtherPlayer = function () {
					return this._currentPlayer == this._players[1] ? this._players[0] : this._players[1]
				}, t.prototype._getHumanPlayer = function () {
					return this._players && this._players.filter(function (e) {
						return e instanceof y.PvpHuman
					})[0]
				}, t.prototype._getAiPlayer = function () {
					return this._players && this._players.filter(function (e) {
						return e instanceof y.PvpAi
					})[0]
				}, t.prototype._onCueBallCollide = function (e, t) {
					return r(this, void 0, Promise, function () {
						var n, o, i;
						return a(this, function (r) {
							return (n = this._currentPlayer._info.hitEffect) > 0 && 1 == c.default.runtimeData.cueBallCollideCount && (o = e.convertToWorldSpaceAR(cc.Vec2.ZERO), i = t.convertToWorldSpaceAR(cc.Vec2.ZERO), l.default.playCollideAnimation(o, i, n)), [2]
						})
					})
				}, t.prototype._onPotted = function (e, t, n) {
					return r(this, void 0, void 0, function () {
						var t, o, i, r;
						return a(this, function (a) {
							return t = this._checkFoulForPotted(), o = !1, o = this._currentPlayer.getCurrentObjectBalls().indexOf(e) > -1, t || o && (++this._pottedCount, this._pottedCount > 1 && l.default.playAmazingEffect(), i = n.parent && n.center ? n.parent.convertToWorldSpaceAR(n.center) : n.convertToWorldSpaceAR(cc.Vec2.ZERO), (r = this._currentPlayer._info.potEffect) > 0 ? l.default.playPotAnimation(i, r) : l.default.playPotTips(i)), this._currentPlayer.onBallPotted(e, t, o, !0), this._getOtherPlayer().onBallPotted(e, !1, o, !1), [2]
						})
					})
				}, t.prototype._onAddBall = function (e) { }, t.prototype._onSightLinePosChanged = function (e) {
					var t = this.getPoolStage().sightLine,
						n = this._currentPlayer ? this._currentPlayer.getCurrentObjectBalls() || this._currentPlayer.getObjectBallsRealTime() : this.getPoolStage().ballManager.getObjectBalls().map(function (e) {
							return e.getBallNum()
						}),
						o = e.objectBall,
						i = o ? o.getBallNum() : -1,
						r = n.indexOf(i) > -1;
					o && r ? t.objectColor = p.default.getBallColor(i) : e.objectDir = null, t.aimLineColor = o && !r ? cc.Color.RED : cc.Color.WHITE
				}, t.prototype._checkFoulForPotted = function () {
					if (this._isFoul) return this._isFoul;
					this._failReason = u.RuleFailReason.unkown;
					var e = c.default.runtimeData,
						t = this._currentPlayer.getCurrentObjectBalls();
					if (this._isFoul = e.isScratch, this._isFoul && (this._failReason = u.RuleFailReason.scratch), !this._isFoul && e.collideMap[0]) {
						var n = e.collideMap[0].filter(function (e) {
							return "ball" == e.type
						})[0];
						n && (this._isFoul = -1 == t.indexOf(n.value), this._isFoul && (this._failReason = u.RuleFailReason.touchOther))
					}
					return this._isFoul && this._failReason == u.RuleFailReason.unkown && (this._failReason = u.RuleFailReason.foul), this._isFoul
				}, t.prototype._checkFoul = function () {
					if (this._isFoul) return this._isFoul;
					this._failReason = u.RuleFailReason.unkown;
					var e = c.default.runtimeData,
						t = e.pottedList,
						n = this._currentPlayer.getCurrentObjectBalls();
					if (e.isScratch && (this._isFoul = !0, this._failReason = u.RuleFailReason.scratch), !this._isFoul) {
						var o = e.collideMap[0] ? e.collideMap[0].filter(function (e) {
							return "ball" == e.type
						}) : [];
						if (0 == o.length && (this._isFoul = !0, this._failReason = u.RuleFailReason.noTouch), !this._isFoul) {
							var i = o[0];
							i && -1 == n.indexOf(i.value) && (this._isFoul = !0, this._failReason = u.RuleFailReason.touchOther)
						}
						if (!this._isFoul && 0 == t.length) {
							for (var r = !1, a = Object.keys(e.collideMap), s = 0; s < a.length; ++s) {
								for (var l = a[s], d = e.collideMap[l], f = 0; f < d.length; ++f) {
									if ("cushion" == d[f].type) {
										r = !0;
										break
									}
								}
								if (r) break
							}
							r || (this._isFoul = !0, this._failReason = u.RuleFailReason.noCushion)
						}
					}
					return this._isFoul && this._failReason == u.RuleFailReason.unkown && (0 == t.length ? this._failReason = u.RuleFailReason.noPot : this._failReason = u.RuleFailReason.foul), this._isFoul
				}, t.prototype._checkOverForPotted = function () {
					var e = this._getObjectBalls();
					if (!this._isFoul && 0 == e.length) return u.RuleResultType.win;
					if (e.length > 0) {
						var t = c.default.runtimeData;
						if (!this._isBreaking && t.pottedList.indexOf(8) > -1) return u.RuleResultType.lose
					}
					return u.RuleResultType.none
				}, t.prototype._checkOver = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n, o;
						return a(this, function (i) {
							return e = c.default.runtimeData, t = e.pottedList.indexOf(8) > -1, this._isBreaking && t ? [2, u.RuleResultType.reset] : (n = this._getObjectBalls()).length > 0 && t ? [2, u.RuleResultType.lose] : this._isFoul && t ? [2, u.RuleResultType.lose] : this._isFoul ? [2, u.RuleResultType.change] : (o = this._currentPlayer.getCurrentObjectBalls(), 0 == e.pottedList.filter(function (e) {
								return o.indexOf(e) > -1
							}).length ? [2, u.RuleResultType.change] : 0 == n.length ? [2, u.RuleResultType.win] : [2, u.RuleResultType.none])
						})
					})
				}, t.prototype._setTargetHintVisible = function (e) {
					this.getPoolStage().ballManager.getOnTableBalls().forEach(function (e) {
						return e.setTargetHintVisible(!1)
					}), e && this._getObjectBalls().forEach(function (e) {
						return e.setTargetHintVisible(!0)
					})
				}, t.prototype._getPositionFromBackUp = function (e) {
					var t = this._backup;
					if (t) {
						var n = t.balls.indexOf(e);
						return t.coord[n]
					}
					return null
				}, t.prototype._saveGame = function () {
					var e = this.getPoolStage().ballManager.getOnTableBalls();
					this._backup = {
						balls: e.map(function (e) {
							return e.getBallNum()
						}),
						coord: e.map(function (e) {
							return e.node.getPosition()
						}),
						combo: this._combo,
						maxCombo: this._maxCombo
					}
				}, t.prototype.restoreGame = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return (e = this._backup) ? (this._combo = e.combo, this._maxCombo = e.maxCombo, t = c.default.runtimeData, n = this.getComponentInChildren(h.default), t.pottedList.forEach(function (e) {
										return n.setBallInTable(e)
									}), [4, this.getPoolStage().ballManager.initBallsByBallNum(e.balls, e.coord)]) : [3, 2];
								case 1:
									o.sent(), o.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, t.prototype._angleToNearestObjectBall = function () {
					var e = this._getObjectBalls(),
						t = this.getPoolStage().ballManager.getNearestNoBlockAngleInList(e);
					if (void 0 !== t) this.getPoolStage().angleTo(t);
					else {
						var n = this.getPoolStage().ballManager.getNearestBallInList(e);
						this.getPoolStage().angleToBall(n)
					}
				}, t.prototype.showGameOverTips = function () {
					var e = this;
					if (this._isFoul) {
						var t = c.default.runtimeData,
							n = t.collideMap[0] ? t.collideMap[0].filter(function (e) {
								return "ball" == e.type
							}) : [],
							o = t.pottedList,
							i = this._currentPlayer.getCurrentObjectBalls();
						if (t.isScratch) {
							var r = t.collideMap[0].filter(function (e) {
								return "pocket" == e.type
							})[0],
								a = this.getPoolStage().ballManager.node.convertToWorldSpaceAR(r.position);
							return l.default.playFoulTips(a), !0
						}
						if (0 == n.length) {
							var u = this.getPoolStage().ballManager.ballList[0];
							a = u ? u.node.convertToWorldSpaceAR(cc.Vec2.ZERO) : null;
							return l.default.playFoulTips(a), !0
						}
						if (t.collideMap[0])
							if ((d = n[0]) && -1 == i.indexOf(d.value)) {
								a = this.getPoolStage().ballManager.node.convertToWorldSpaceAR(d.position);
								return l.default.playWrongBallTips(a), !0
							} var d, h = !1,
								y = o.indexOf(8) > -1,
								g = 0 == i.filter(function (e) {
									return -1 == o.indexOf(e)
								}).length;
						if (!(h = y && !g) && 8 != i[0] && y && g) {
							var _ = o.filter(function (e) {
								return 8 == e || i.indexOf(e) > -1
							});
							h = _.indexOf(8) != _.length - 1
						}
						if (h) {
							a = null;
							return (r = t.collideMap[8].filter(function (e) {
								return "pocket" == e.type
							})[0]) && (a = this.getPoolStage().ballManager.node.convertToWorldSpaceAR(r.position)), l.default.playWrongBallTips(a), !0
						}
						if (0 == o.length) {
							var v = new Set;
							Object.keys(t.collideMap).forEach(function (e) {
								t.collideMap[e].forEach(function (e) {
									"ball" == e.type && i.indexOf(e.value) > -1 && v.add(e.value)
								})
							});
							var b = [];
							v.forEach(function (t) {
								var n = e.getPoolStage().ballManager.ballList[t];
								n && n.getBallStatus() == s.BallStatus.OnTable && b.push(n)
							});
							var m = b.map(function (e) {
								return e.node.getPosition()
							}),
								w = this.getPoolStage().tableManager.getPocketInfoList(),
								S = w.map(function (e) {
									return e.center
								}),
								C = f.default.findNearetAndFarthest(m, S),
								P = 3 * p.default.radius;
							if (C && C.nearest && isFinite(C.nearest.distanceSqr) && C.nearest.distanceSqr < P * P) {
								a = w[C.nearest.pocket].pocket.convertToWorldSpaceAR(cc.Vec2.ZERO);
								return l.default.playLittleMistakeTips(a), !0
							}
						}
						if (t.collideMap[0])
							if (d = n[0]) {
								var L = this.getPoolStage().ballManager.ballList[d.value];
								if (L) {
									a = L.node.convertToWorldSpaceAR(cc.Vec2.ZERO);
									return l.default.playFailTips(a), !0
								}
							} return l.default.playFailTips(null), !0
					}
					return !1
				}, t.prototype._getObjectBalls = function () {
					return this._currentPlayer.getObjectBallNodeListRealTime()
				}, t.prototype._beforeGameStart = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.prototype._afterGameStart = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.prototype._onCueBallMoveEnd = function () {
					this.getPoolStage().ballManager.ballRunning || this._currentPlayer.onCueBallMoveEnd()
				}, t.prototype.updateSuperLineRewardBtn = function () {
					var e = this,
						t = this._getHumanPlayer(),
						n = !(t._superLineLength > 0),
						o = this.getComponentInChildren(m.default);
					(o.node.active = n, n) && (o.getComponent(w.default).sharePos = S.SharePos.SuperLine, o.onSuccess = function () {
						e.isValid && (o.node.active = !1, e._resultType != u.RuleResultType.win && e._resultType != u.RuleResultType.lose && (ui.showTips("Gained the super auxiliary line"), DataBus.other.lastPvpUsingSuperLine = 1, DataBus.other.save(), t._superLineLength = C.default.instance.getLength(), e._currentPlayer == t && t.changeCue()))
					})
				}, t = i([B], t)
			}(d.default));
		n.default = k, cc._RF.pop()
	}, {
		"../../../Base/ShareTypes": "ShareTypes",
		"../../../Data/wxsdk": "wxsdk",
		"../../../Ui/base/RewardBtn": "RewardBtn",
		"../../../Ui/dailyTask/DailyTaskLogic": "DailyTaskLogic",
		"../../../Ui/dailyTask/DailyTaskTypes": "DailyTaskTypes",
		"../../../Ui/superLine/SuperLineLogic": "SuperLineLogic",
		"../../../Ui/superLine/SuperLineRewardBtn": "SuperLineRewardBtn",
		"../../Router": "Router",
		"../AdditionLogic": "AdditionLogic",
		"../Calc": "Calc",
		"../PoolEffect": "PoolEffect",
		"../PoolGlobal": "PoolGlobal",
		"../PoolTypes": "PoolTypes",
		"../ball/BallContact": "BallContact",
		"../control/ObjectsPanel": "ObjectsPanel",
		"../rule/BaseRule": "BaseRule",
		"../rule/RuleTypes": "RuleTypes",
		"./PvpPlayer": "PvpPlayer",
		"./PvpPlayerUi": "PvpPlayerUi",
		"./PvpTurnUi": "PvpTurnUi"
	}],
	PvpLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "83b10sfQKZEqZt5EPELT3A+", "PvpLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../../Data/EconomicLogic"),
			a = e("./PvpPlayer"),
			s = e("../../../Ui/other/TextTips"),
			c = e("../../LevelConfig"),
			l = e("../../../Data/wxsdk"),
			u = e("../../../Config/EventID"),
			d = e("../../guide/GuideLogic"),
			f = e("../../../Config/ReportID"),
			p = e("../rule/RuleTypes"),
			h = e("../../../Config/ServerConfig"),
			y = e("../../../Ui/vip/VipLogic"),
			g = function () {
				function e() {
					this.localPlayerInfo = null, this.oppoPlayerInfo = null, this.rankData = null, this.breaking = !0, this.isVip = !1, this.doubleStar = !1, this._lastPrice = 0, this._hasTryToLoadUserInfo = !1
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getWorldMatchStartTimestamp = function () {
					return l.default.isQQ() || l.default.isQg() || l.default.isTT() ? 15949584e5 : 15992784e5
				}, e.prototype.getWorldMatchDuration = function () {
					return l.default.isQQ() || l.default.isQg() || l.default.isTT() ? 1296e6 : 864e6
				}, e.prototype.getSeasonTimestamp = function (e) {
					return this.getWorldMatchStartTimestamp() + e * this.getWorldMatchDuration()
				}, e.prototype.getWorldMatchPrice = function () {
					var e = DataBus.user.star,
						t = [1e3, 1500, 2e3, 3e3, 4e3, 6e3, 1e4];
					return t[c.default.instance.getDanConfig(e).dan] || t[0]
				}, e.prototype.getWorldMatchGamePrize = function (e) {
					var t = DataBus.user.star,
						n = [150, 225, 300, 450, 600, 900, 1e3],
						o = n[c.default.instance.getDanConfig(t).dan] || n[0];
					return {
						coins: e ? Math.floor(2 * this._lastPrice * .9) : 0,
						bcoins: e ? o : 0
					}
				}, e.prototype.getWorldMatchDanPrize = function (e) {
					return c.default.instance.getWorldMatchDanPrizeConfig(e)
				}, e.prototype.getMatchingDuration = function () {
					return Utils.randFloat(2, 3)
				}, e.prototype.calcSeason = function (e, t, n) {
					return Math.floor((t - e) / n)
				}, e.prototype.updateSeason = function (t) {
					return o(this, void 0, void 0, function () {
						var n, o, r, a, s;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return void 0 !== t ? [3, 2] : [4, TimeMgr.getTimeFromServer()];
								case 1:
									t = i.sent(), i.label = 2;
								case 2:
									return n = e.instance.getWorldMatchStartTimestamp(), o = t, r = e.instance.getWorldMatchDuration(), a = this.calcSeason(n, o, r), DataBus.serverUserInfo.season = a, [4, this.updateSeasonStar(a, t)];
								case 3:
									return i.sent() && cc.systemEvent.emit(u.default.SEASON_CHANGED, o), s = n + (a + 1) * r - o, console.log("等待" + Utils.formatDuration(s, "dhms") + "之后再次更新赛季"), setTimeout(this.updateSeason.bind(this), s), [2]
							}
						})
					})
				}, e.prototype.updateSeasonStar = function (e, t) {
					return o(this, void 0, void 0, function () {
						var n, o, r, a, s, l, u, f;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return n = DataBus.user.season, (o = e - n) < 0 ? (DataBus.user.season = e, DataBus.user.save(), console.log("赛季数据不正确，更新赛季"), [4, this.updateDailyStar(t)]) : [3, 2];
								case 1:
									return i.sent(), [2, !0];
								case 2:
									return 0 != o ? [3, 4] : (console.log("赛季没有变化"), a = DataBus.user.star, r = a, [4, this.updateDailyStar(t)]);
								case 3:
									return r != i.sent() ? [2, !0] : [2, !1];
								case 4:
									return DataBus.isNewUser ? (DataBus.user.season = e, DataBus.user.save(), console.log("赛季更新了，不过新用户不用处理"), [4, this.updateDailyStar(t)]) : [3, 6];
								case 5:
									return i.sent(), [2, !0];
								case 6:
									a = DataBus.user.star, s = 0, i.label = 7;
								case 7:
									return s < o ? (l = Math.min(t, this.getSeasonTimestamp(n + s + 1)), [4, this.updateDailyStar(l, a, !1, !1)]) : [3, 10];
								case 8:
									a = i.sent(), u = c.default.instance.getDanConfig(a), s == o - 1 && (DataBus.user.prizeDan = u.dan + 1), a > 0 && (f = a, a = 6 == u.dan ? 20 : 5 == u.dan ? 10 : (u.dan, 0), console.log("[赛季" + (n + s) + "]于[" + Utils.formatDate("yyyy-MM-dd", l) + "]结束, 星星从" + f + "掉到" + a)), i.label = 9;
								case 9:
									return ++s, [3, 7];
								case 10:
									return [4, this.updateDailyStar(t, a, !1, !1)];
								case 11:
									return a = i.sent(), DataBus.user.star = a, DataBus.user.season = e, DataBus.saveData(), Server.saveData(DataBus.getString()).catch(function (e) { }), console.log("赛季更新了"), d.default.instance.isGuideFinished() && ui.showTips("The World Open has been updated"), [2, !0]
							}
						})
					})
				}, e.prototype.updateDailyStar = function (e, t, n, r) {
					return void 0 === n && (n = !0), void 0 === r && (r = !0), o(this, void 0, void 0, function () {
						var o, a, s, l, u, d;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return void 0 !== e ? [3, 2] : [4, TimeMgr.getSmartServerTime()];
								case 1:
									e = i.sent(), i.label = 2;
								case 2:
									if (void 0 === t && (t = DataBus.user.star), 0 == t) return [2, t];
									if (o = DataBus.other.lastPvpTs, !TimeMgr.isMordenTime(o)) return DataBus.other.lastPvpTs = o, r && DataBus.other.save(), [2, t];
									for (a = !1, s = 864e5, l = Utils.getDay(e) - Utils.getDay(o) - 1, u = 0; u < l && !(t <= 0) && 6 == c.default.instance.getDanConfig(t).dan; ++u) d = t, t = Math.max(0, t - 3), o += s, console.log("[" + Utils.formatDate("yyyy-MM-dd", o) + "]未对战, 星星从" + d + "掉到" + t), a = !0;
									return a ? (n && (DataBus.user.star = t, DataBus.user.save()), DataBus.other.lastPvpTs = o) : DataBus.other.lastPvpTs = e - s, r && DataBus.other.save(), [2, t]
							}
						})
					})
				}, e.prototype.tryToCostWorldMatchTickets = function (e) {
					var t = this.getWorldMatchPrice();
					return DataBus.user.coins.gte(t) ? (this._lastPrice = t, r.default.instance.addCoinsWithAnimation(-t, e), !0) : (ui.showTips("Gold coin shortage!"), !1)
				}, e.prototype.worldMatchHasEnoughCoins = function () {
					var e = this.getWorldMatchPrice();
					return DataBus.user.coins.gte(e)
				}, e.prototype.returnWorldMatchCoins = function (e) {
					var t = this._lastPrice;
					r.default.instance.addCoins(t), s.default.instance && s.default.instance.showTips("+" + t, e, s.default.RedColor)
				}, e.prototype.canReduceStar = function () {
					if (this.isVip) return !1;
					return this.localPlayerInfo ? this.localPlayerInfo.star >= 10 : DataBus.user.star >= 10
				}, e.prototype.getRoleRes = function (e) {
					return "home://dynamic/db/renwu1_" + (e + 1)
				}, e.prototype.getRoleThumbRes = function (e) {
					return "home://dynamic/altas/pvp_role_thumb/轮到_角色_" + (e + 1)
				}, e.prototype.getDanRes = function (e) {
					return "home://dynamic/altas/段位图标/段位" + (e + 1) + "_大"
				}, e.prototype.tryToLoadUserInfo = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return this._hasTryToLoadUserInfo ? [3, 2] : (this._hasTryToLoadUserInfo = !0, !l.default.isWX() || l.default.isQg() ? [3, 2] : (e = DataBus.user.avatar, t = DataBus.user.nickname, e && t ? [3, 2] : [4, sdk.promisify(wx.getUserInfo, {
										withCredentials: !1,
										lang: "zh_CN"
									}).catch(function (e) {
										return null
									})]));
								case 1:
									(n = i.sent()) && (o = n.userInfo) && (DataBus.user.avatar = o.avatarUrl, DataBus.user.nickname = o.nickName, DataBus.user.save()), i.label = 2;
								case 2:
									return [2]
							}
						})
					})
				}, e.prototype.createBlankPlayerInfo = function () {
					return {
						avatar: "",
						nickname: "player",
						cue: 0,
						star: 0,
						role: 0,
						rank: 1 / 0,
						hitEffect: 0,
						potEffect: 0
					}
				}, e.prototype.getLocalPlayerInfo = function () {
					var e = this._getLocalPlayerInfo();
					return this.localPlayerInfo = e, e
				}, e.prototype._getLocalPlayerInfo = function () {
					return {
						avatar: DataBus.user.avatar,
						nickname: DataBus.user.nickname || "player",
						cue: DataBus.user.usedCue1,
						star: DataBus.user.star,
						role: DataBus.user.usedRole,
						rank: DataBus.user.rank,
						hitEffect: DataBus.user.usedHitEffect,
						potEffect: DataBus.user.usedPotEffect
					}
				}, e.prototype.updateLocalPlayerInfo = function (e) {
					sdk.extend(e, this._getLocalPlayerInfo())
				}, e.prototype.getRandomOpponentInfo = function (e) {
					var t = Utils.randInt(1, 1210),
						n = Math.random() < .3 ? "male" : "female",
						o = !!l.default.isQg() || Math.random() < .3,
						i = o ? "" : "",
						r = o ? "player" : Utils.randElement(_),
						s = e.star,
						c = s < 20 ? Math.max(0, s + Utils.randInt(-5, 5)) : Utils.randInt(s - 5, s),
						u = cc.misc.lerp(1, 7, cc.misc.clamp01(c / 100)),
						f = Math.random() < .2 ? 0 : Utils.randInt(0, u),
						p = cc.misc.lerp(1, 7, cc.misc.clamp01(c / 100)),
						h = Math.random(),
						y = h < .15 ? 0 : h < .5 ? Utils.randInt(0, p) : Utils.randInt(7, 17),
						g = this._getAiDifficulty(e),
						v = a.PvpAi.createAiConfig(g),
						b = Math.random() < .75,
						m = {
							avatar: i,
							nickname: r,
							cue: y,
							star: c,
							role: f,
							rank: 1 / 0,
							aiConfig: v,
							hitEffect: b ? 1 : 0,
							potEffect: b ? 1 : 0
						};
					return this.oppoPlayerInfo = m, d.default.instance.needGuide(d.GuideStep.SuperLine) && (m.cue = 0, m.aiConfig.accurately = 0), m
				}, e.prototype._getAiDifficulty = function (e) {
					var t = a.PvpAiDiffculty,
						n = e.star,
						o = t.easy,
						i = Math.random();
					return o = n < 10 ? i < .8 ? t.rookie : t.easy : n < 20 ? i < .5 ? t.rookie : t.easy : n < 50 ? i < .7 ? t.medium : i < .95 ? t.easy : t.hard : n < 70 && i < .5 ? t.medium : t.hard, n >= 20 && (DataBus.other.lastPvpResult == p.RuleResultType.win && DataBus.other.resultTimes >= 3 ? o = cc.misc.clampf(o + 1, t.rookie, t.hard) : DataBus.other.lastPvpResult == p.RuleResultType.lose && DataBus.other.resultTimes >= 2 && (o = cc.misc.clampf(o - 1, t.rookie, t.hard))), o
				}, e.prototype.confirmWhoBreaking = function (e) {
					var t = Math.random();
					this.breaking = t < .65
				}, e.prototype.confirmVip = function () {
					return o(this, void 0, void 0, function () {
						var e;
						return i(this, function (t) {
							switch (t.label) {
								case 0:
									return this.isVip = !1, e = this, [4, y.default.instance.isVip()];
								case 1:
									return e.isVip = t.sent(), [2]
							}
						})
					})
				}, e.prototype.afterMatchSuccess = function (e) {
					this.getRandomOpponentInfo(e), this.confirmWhoBreaking(e), this.confirmVip()
				}, e.prototype.getRank = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o, r;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return i.trys.push([0, 3, , 4]), [4, new Promise(sdk.getUserCode.bind(sdk))];
								case 1:
									return e = i.sent(), [4, sdk.promisify(sdk.request.bind(sdk), {
										url: "",
										data: e
									})];
								case 2:
									return t = i.sent(), [3, 4];
								case 3:
									return n = i.sent(), console.error(n), [3, 4];
								case 4:
									return t && t.data && 0 == t.data.code && t.data.data ? ((o = t.data.data).list = o.list || [], o.list.forEach(function (e) {
										e._rank_num = Number(e.rank) || 1 / 0, e.stars = Number(e.stars) || 0, e.score = "" + e.stars
									}), (r = o.mine) && (r._rank_num = Number(r.rank) || 1 / 0, r.stars = Number(r.stars) || 0, r.score = "" + r.stars, DataBus.user.rank = r._rank_num, DataBus.user.avatar = r.avatar, DataBus.user.nickname = r.name, DataBus.user.save()), this.rankData = o, [2, o]) : [2, null]
							}
						})
					})
				}, e.prototype.submitRank = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o, r;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									if (!l.default.supportServer()) return [3, 8];
									e = void 0, t = void 0, i.label = 1;
								case 1:
									return i.trys.push([1, 6, , 7]), [4, new Promise(sdk.getUserCode.bind(sdk))];
								case 2:
									return e = i.sent(), l.default.isWX() ? [4, sdk.promisify(wx.getUserInfo, {
										withCredentials: !0,
										lang: "zh_CN"
									})] : [3, 4];
								case 3:
									n = i.sent(), sdk.extend(e, n), i.label = 4;
								case 4:
									return o = DataBus.user.star, e.stars = o < 0 ? 0 : o, [4, sdk.promisify(sdk.request.bind(sdk), {
										url: "",
										data: e
									})];
								case 5:
									return t = i.sent(), [3, 7];
								case 6:
									return r = i.sent(), console.error(r), [3, 7];
								case 7:
									if (t && t.data && 0 == t.data.code) return [2, t];
									i.label = 8;
								case 8:
									return [2, null]
							}
						})
					})
				}, e.prototype.syncLocalRankToServerRank = function () {
					var t = e.instance.rankData;
					if (t && t.mine) {
						var n = DataBus.user.star,
							o = t.list,
							i = t.mine,
							r = o[o.findIndex(function (e) {
								return e.rank == i.rank && e.name == i.name && e.avatar == i.avatar
							})];
						i && (i.stars = n, i.score = "" + n), r && (r.stars = n, r.score = "" + n);
						var a = o[o.length - 1];
						i && !r && a && n > a.stars && (r = {}, o.push(sdk.extend(r, i))), o.sort(function (e, t) {
							return t.stars - e.stars
						}), o.forEach(function (e, t) {
							e._rank_num = t + 1, e.rank = "" + (t + 1)
						}), r && i && (i.rank = r.rank, i._rank_num = r._rank_num), r && (DataBus.user.rank = r._rank_num, DataBus.user.save())
					}
				}, e.prototype.addStar = function () {
					var e = h.default.instance.getVipDoubleStarChance(),
						t = 100 * Math.random(),
						n = this.isVip && t < e;
					this.doubleStar = n, console.log("[胜利加星]VIP" + this.isVip + "，随机数" + t.toFixed() + "，下发几率" + e + "，加两颗星" + n), this.changeStar(n ? 2 : 1)
				}, e.prototype.changeStar = function (e) {
					var t = DataBus.user.star + e;
					DataBus.user.star = t, this.syncLocalRankToServerRank()
				}, e.prototype.changeOpponentStar = function (e) {
					this.oppoPlayerInfo && (this.oppoPlayerInfo.star >= 10 || e > 0) && (this.oppoPlayerInfo.star += e)
				}, e.prototype.reportDan = function () {
					var e = DataBus.user.star,
						t = c.default.instance.getDanConfig(e).dan + 1,
						n = f.default["match_dan_" + t];
					n && Server.reportClick(n)
				}, e.prototype.beforePvp = function () {
					DataBus.other.lastPvpTs = TimeMgr.getRevisionServerTime(), DataBus.other.save()
				}, e.prototype.afterPvp = function (e) {
					DataBus.other.lastPvpResult != e && (DataBus.other.resultTimes = 0), DataBus.other.lastPvpTs = TimeMgr.getRevisionServerTime(), DataBus.other.lastPvpResult = e, DataBus.other.resultTimes += 1, DataBus.other.save()
				}, e.prototype.getPvpTicketsRewardValue = function () {
					return h.default.instance.getPvpTicketsRewardValue()
				}, e.prototype.getPvpTicketsRewardTimes = function () {
					return h.default.instance.getPvpTicketsRewardTimes()
				}, e.prototype.canRewardForPvpTickets = function () {
					var e = this.getPvpTicketsRewardTimes();
					return DataBus.other.pvpTicketsTimes < e
				}, e.prototype.getPvpTicketsTrialValue = function () {
					return h.default.instance.getPvpTicketsTrialValue()
				}, e._instance = null, e
			}();
		n.default = g, window.PvpLogic = g;
		var _ = ["player 1","player 2","player 3","player 4","player 5","player 6","player 7","player 8","player 9","player 10","player 11","player 12","player 13","player 14","player 15","player 16","player 17","player 18","player 19","player 20","player 21","player 22","player 23","player 24","player 25","player 26","player 27","player 28","player 29","player 30","player 31","player 32","player 33","player 34","player 35","player 36","player 37","player 38","player 39","player 40","player 41","player 42","player 43","player 44","player 45","player 46","player 47","player 48","player 49","player 50","player 51","player 52","player 53","player 54","player 55","player 56","player 57","player 58","player 59","player 60","player 61","player 62","player 63","player 64","player 65","player 66","player 67","player 68","player 69","player 70","player 71","player 72","player 73","player 74","player 75","player 76","player 77","player 78","player 79","player 80","player 81","player 82","player 83","player 84","player 85","player 86","player 87","player 88","player 89","player 90","player 91","player 92","player 93","player 94","player 95","player 96","player 97","player 98","player 99","player 100","player 101","player 102","player 103","player 104","player 105","player 106","player 107","player 108","player 109","player 110","player 111","player 112","player 113","player 114","player 115","player 116","player 117","player 118","player 119","player 120","player 121","player 122","player 123","player 124","player 125","player 126","player 127","player 128","player 129","player 130","player 131","player 132","player 133","player 134","player 135","player 136","player 137","player 138","player 139","player 140","player 141","player 142","player 143","player 144","player 145","player 146","player 147","player 148","player 149","player 150","player 151","player 152","player 153","player 154","player 155","player 156","player 157","player 158","player 159","player 160","player 161","player 162","player 163","player 164","player 165","player 166","player 167","player 168","player 169","player 170","player 171","player 172","player 173","player 174","player 175","player 176","player 177","player 178","player 179","player 180","player 181","player 182","player 183","player 184","player 185","player 186","player 187","player 188","player 189","player 190","player 191","player 192","player 193","player 194","player 195","player 196","player 197","player 198","player 199","player 200","player 201","player 202","player 203","player 204","player 205","player 206","player 207","player 208","player 209","player 210","player 211","player 212","player 213","player 214","player 215","player 216","player 217","player 218","player 219","player 220","player 221","player 222","player 223","player 224","player 225","player 226","player 227","player 228","player 229","player 230","player 231","player 232","player 233","player 234","player 235","player 236","player 237","player 238","player 239","player 240","player 241","player 242","player 243","player 244","player 245","player 246","player 247","player 248","player 249","player 250","player 251","player 252","player 253","player 254","player 255","player 256","player 257","player 258","player 259","player 260","player 261","player 262","player 263","player 264","player 265","player 266","player 267","player 268","player 269","player 270","player 271","player 272","player 273","player 274","player 275","player 276","player 277","player 278","player 279","player 280","player 281","player 282","player 283","player 284","player 285","player 286","player 287","player 288","player 289","player 290","player 291","player 292","player 293","player 294","player 295","player 296","player 297","player 298","player 299","player 300","player 301","player 302","player 303","player 304","player 305","player 306","player 307","player 308","player 309","player 310","player 311","player 312","player 313","player 314","player 315","player 316","player 317","player 318","player 319","player 320","player 321","player 322","player 323","player 324","player 325","player 326","player 327","player 328","player 329","player 330","player 331","player 332","player 333","player 334","player 335","player 336","player 337","player 338","player 339","player 340","player 341","player 342","player 343","player 344","player 345","player 346","player 347","player 348","player 349","player 350","player 351","player 352","player 353","player 354","player 355","player 356","player 357","player 358","player 359","player 360","player 361","player 362","player 363","player 364","player 365","player 366","player 367","player 368","player 369","player 370","player 371","player 372","player 373","player 374","player 375","player 376","player 377","player 378","player 379","player 380","player 381"];
		cc._RF.pop()
	}, {
		"../../../Config/EventID": "EventID",
		"../../../Config/ReportID": "ReportID",
		"../../../Config/ServerConfig": "ServerConfig",
		"../../../Data/EconomicLogic": "EconomicLogic",
		"../../../Data/wxsdk": "wxsdk",
		"../../../Ui/other/TextTips": "TextTips",
		"../../../Ui/vip/VipLogic": "VipLogic",
		"../../LevelConfig": "LevelConfig",
		"../../guide/GuideLogic": "GuideLogic",
		"../rule/RuleTypes": "RuleTypes",
		"./PvpPlayer": "PvpPlayer"
	}],
	PvpObjectsPanel: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "94316MjoGxGcp8bsLXX+Z8N", "PvpObjectsPanel");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../../Res/ResLoader"),
			c = e("../ball/BallExtra"),
			l = e("../PoolTypes"),
			u = e("../PoolGlobal"),
			d = e("../ball/BallRotator"),
			f = e("../../../Config/EventID"),
			p = cc._decorator,
			h = p.ccclass,
			y = p.property,
			g = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.ballsNode = null, t.ticksNode = null, t.ballRadius = 30, t.ballMirror = !1, t._ballNumList = [], t._pottedList = [], t
				}
				return o(t, e), t.prototype.onLoad = function () {
					cc.systemEvent.on(f.default.CLOSE_SCENE, this.onCloseScene, this)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(f.default.CLOSE_SCENE, this.onCloseScene, this)
				}, t.prototype.onCloseScene = function (e) {
					this.node.isChildOf(e) && this._onCloseScene()
				}, t.prototype._onCloseScene = function () {
					this._removeAllBalls(), this._removeAllTicks()
				}, t.prototype.setBalls = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return this._ballNumList = e, this._pottedList.length = 0, this._removeAllBalls(), this._removeAllTicks(), [4, this._addBalls(e)];
								case 1:
									return t.sent(), [2]
							}
						})
					})
				}, t.prototype.setBallPotted = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							return this._ballFadeOut(e), [2]
						})
					})
				}, t.prototype._addBalls = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o;
						return a(this, function (i) {
							switch (i.label) {
								case 0:
									t = 0, n = e.length, i.label = 1;
								case 1:
									return t < n ? (o = e[t], [4, this._addBall(o)]) : [3, 4];
								case 2:
									i.sent().setPosition(this._getPosition(o, n)), i.label = 3;
								case 3:
									return ++t, [3, 1];
								case 4:
									return [2]
							}
						})
					})
				}, t.prototype._addBall = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o, i, r;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return [4, s.default.getNodeRes("game_newbie://dynamic/prefab_item/ballThumb")];
								case 1:
									return t = a.sent(), this.isValid ? (t.ballNum = e, t.width = t.height = 2 * this.ballRadius, (n = t.getComponent(c.default)).setBallRadius(this.ballRadius), n.setBallNumber(e), n.setLightPosition(new cc.Vec3(-1, 1, 1)), n.setBallStatus(l.BallStatus.OnTable), n.setBallPosition(cc.Vec2.ZERO), (o = t.getChildByName("high_light2")) && (o.zIndex = u.default.ballHighlightZIndex), (i = t.getComponent(d.default) || t.addComponent(d.default)).setRotateVec(new cc.Vec3(-2, -3, 0)), i.rotateTo(cc.Vec3.ZERO, .6), t.parent = this.ballsNode, t.stopAllActions(), t.opacity = 0, t.zIndex = e, r = .3, t.runAction(cc.fadeIn(r)), [2, t]) : (s.default.removeNode(t), [2, null])
							}
						})
					})
				}, t.prototype._ballFadeOut = function (e) {
					var t = this.ballsNode.children.findIndex(function (t) {
						return t.ballNum == e
					});
					if (t > -1) {
						var n = this.ballsNode.children[t],
							o = n.getComponent(d.default) || n.addComponent(d.default);
						o.setRotateVec(cc.Vec3.ZERO), o.rotateTo(new cc.Vec3(-2, -3, 0), .6), n.stopAllActions(), n.runAction(cc.sequence(cc.fadeOut(.6), cc.callFunc(function () {
							n.getComponent(c.default).removeAll(), s.default.removeNode(n)
						})))
					}
				}, t.prototype._removeAllBalls = function () {
					this.ballsNode.children.slice(0).forEach(function (e) {
						e.getComponent(c.default).removeAll(), s.default.removeNode(e)
					})
				}, t.prototype._removeAllTicks = function () {
					this.ticksNode.children.slice(0).forEach(function (e) {
						s.default.removeNode(e)
					})
				}, t.prototype._getPosition = function (e, t) {
					var n = 8 == e ? 0 : e > 8 ? (e - 2) % 7 : (e - 1) % 7;
					return this.ballMirror ? new cc.Vec2(36 * n - 108, 0) : new cc.Vec2(108 - 36 * n, 0)
				}, i([y({
					type: cc.Node,
					displayName: "球节点"
				})], t.prototype, "ballsNode", void 0), i([y({
					type: cc.Node,
					displayName: "勾节点"
				})], t.prototype, "ticksNode", void 0), i([y({
					displayName: "球半径"
				})], t.prototype, "ballRadius", void 0), i([y({
					displayName: "球镜像"
				})], t.prototype, "ballMirror", void 0), t = i([h], t)
			}(cc.Component);
		n.default = g, cc._RF.pop()
	}, {
		"../../../Config/EventID": "EventID",
		"../../../Res/ResLoader": "ResLoader",
		"../PoolGlobal": "PoolGlobal",
		"../PoolTypes": "PoolTypes",
		"../ball/BallExtra": "BallExtra",
		"../ball/BallRotator": "BallRotator"
	}],
	PvpOpenLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "19fffy2FoRBL4TvJ2OOJOe2", "PvpOpenLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.PvpOpenLayerParam = void 0;
		var r = e("../../../Config/SoundID"),
			a = e("../../../Ui/base/LayerBase"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, s.menu),
			u = function () {
				return function () {
					this.success = !1, this.onClose = function () { }
				}
			}();
		n.PvpOpenLayerParam = u;
		var d = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () { }, t.prototype.onBtnOkClick = function () {
				SoundMgr.play(r.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.data.success = !0, this.close()
			}, t.show = function () {
				return new Promise(function (e, t) {
					var o = new u;
					return o.onClose = function () {
						return e(o.success)
					}, ui.showLayer(n, o)
				})
			}, t.prefabName = "home://dynamic/layer/pvpOpenLayer", t = n = i([c, l("Layer/PvpOpenLayer")], t)
		}(a.default);
		n.default = d, window.PvpOpenLayer = d, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"../../../Ui/base/LayerBase": "LayerBase"
	}],
	PvpPlayerUi: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "c2b18rV88hBHag0Ii1xA781", "PvpPlayerUi");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("./PvpObjectsPanel"),
			c = e("../../../Res/ResLoader"),
			l = e("./PvpLogic"),
			u = e("../../../Config/EventID"),
			d = e("../../../Ui/emoji/EmojiLogic"),
			f = e("../../../Config/SoundID"),
			p = cc._decorator,
			h = p.ccclass,
			y = p.property,
			g = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.avatarSp = null, t.nickNameLbl = null, t.objectsPanel = null, t.timeProgress = null, t.emojiDialog = null, t.countDownNode = null, t.countDownLbl = null, t.defaultAvatarSf = null, t.isSelf = !1, t._playerInfo = null, t._tween = null, t._countDownNum = 10, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					cc.systemEvent.on(u.default.SELF_EMOJI, this.onSelfEmoji, this), cc.systemEvent.on(u.default.OPPO_EMOJI, this.onOppoEmoji, this), this.emojiDialog.active = !1, this.emojiDialog.opacity = 0, this.emojiDialog.scale = 0, this.countDownNode.active = !1, this.countDownNode.opacity = 0
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(u.default.SELF_EMOJI, this.onSelfEmoji, this), cc.systemEvent.off(u.default.OPPO_EMOJI, this.onOppoEmoji, this), this.stopCountDown()
				}, t.prototype.setPlayerInfo = function (e) {
					return r(this, void 0, void 0, function () {
						var t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return e = e || l.default.instance.createBlankPlayerInfo(), this._playerInfo = e, this.nickNameLbl && (this.nickNameLbl.string = e.nickname), e.avatar ? [3, 1] : (this.avatarSp.spriteFrame = this.defaultAvatarSf, [3, 3]);
								case 1:
									return [4, c.default.getSpriteFrame(e.avatar)];
								case 2:
									t = n.sent(), this.isValid && this._playerInfo && this._playerInfo.avatar == e.avatar && (this.avatarSp.spriteFrame = t), n.label = 3;
								case 3:
									return [2]
							}
						})
					})
				}, t.prototype.setCurrentPlayer = function (e) {
					this.node.opacity = e ? 255 : 128
				}, t.prototype.startCountDown = function (e, t) {
					this._tween && this._tween.stop(), this.timeProgress.progress = 1, this._tween = cc.tween(this.timeProgress).to(e, {
						progress: 0
					}).call(t).start(), this.showCountDownNode(e - 10)
				}, t.prototype.stopCountDown = function () {
					this._tween && this._tween.stop(), this._tween = null, this.hideCountDownNode()
				}, t.prototype.clearCountDown = function () {
					this._tween && this._tween.stop(), this._tween = null, this.timeProgress.progress = 0, this.hideCountDownNode()
				}, t.prototype.showCountDownNode = function (e) {
					this.unschedule(this._showCountDownNode), e > 0 && this.scheduleOnce(this._showCountDownNode, e)
				}, t.prototype._showCountDownNode = function () {
					SoundMgr.play(f.default.countDown), this.countDownNode.active = !0, this.countDownNode.stopAllActions(), this.countDownNode.runAction(cc.fadeIn(.3)), this._countDownNum = 10, this.unschedule(this._changeCountDownString), this.schedule(this._changeCountDownString, 1, 9, .02)
				}, t.prototype._changeCountDownString = function () {
					this._countDownNum = Math.max(0, this._countDownNum - 1), this.countDownLbl.string = this._countDownNum + "", 0 == this._countDownNum && this.hideCountDownNode()
				}, t.prototype.hideCountDownNode = function () {
					var e = this;
					SoundMgr.stop(f.default.countDown), this.unschedule(this._changeCountDownString), this.unschedule(this._showCountDownNode), this.countDownNode.stopAllActions(), this.countDownNode.runAction(cc.sequence(cc.fadeOut(.3), cc.callFunc(function () {
						e.countDownNode.active = !1
					})))
				}, t.prototype.onSelfEmoji = function (e) {
					this._playerInfo && this.isSelf && this.showEmojiDialog(e)
				}, t.prototype.onOppoEmoji = function (e) {
					this._playerInfo && (this.isSelf || this.showEmojiDialog(e))
				}, t.prototype.showEmojiDialog = function (e) {
					var t = this.emojiDialog,
						n = t.getChildByName("sp").getComponent(cc.Sprite);
					d.default.instance.setEmojiUiById(n, e), this.unschedule(this.hideEmojiDialog), t.active = !0;
					var o = .2;
					t.scaleX >= 1 && (t.scale = .9, o = .1), t.stopAllActions(), t.runAction(cc.spawn(cc.fadeIn(o), cc.scaleTo(o, 1, 1))), this.scheduleOnce(this.hideEmojiDialog, 4)
				}, t.prototype.hideEmojiDialog = function () {
					var e = this.emojiDialog;
					e.stopAllActions(), e.runAction(cc.sequence(cc.spawn(cc.fadeOut(.2), cc.scaleTo(.2, 0, 0)), cc.callFunc(function () {
						e.active = !1
					})))
				}, i([y({
					type: cc.Sprite,
					displayName: "用户头像"
				})], t.prototype, "avatarSp", void 0), i([y({
					type: cc.Label,
					displayName: "用户名标签"
				})], t.prototype, "nickNameLbl", void 0), i([y({
					type: s.default,
					displayName: "目标球面板"
				})], t.prototype, "objectsPanel", void 0), i([y({
					type: cc.ProgressBar,
					displayName: "时间进度条"
				})], t.prototype, "timeProgress", void 0), i([y({
					type: cc.Node,
					displayName: "emoji对话框"
				})], t.prototype, "emojiDialog", void 0), i([y({
					type: cc.Node,
					displayName: "倒计时框"
				})], t.prototype, "countDownNode", void 0), i([y({
					type: cc.Label,
					displayName: "倒计时标签"
				})], t.prototype, "countDownLbl", void 0), i([y({
					type: cc.SpriteFrame,
					displayName: "默认头像材质"
				})], t.prototype, "defaultAvatarSf", void 0), t = i([h], t)
			}(cc.Component);
		n.default = g, cc._RF.pop()
	}, {
		"../../../Config/EventID": "EventID",
		"../../../Config/SoundID": "SoundID",
		"../../../Res/ResLoader": "ResLoader",
		"../../../Ui/emoji/EmojiLogic": "EmojiLogic",
		"./PvpLogic": "PvpLogic",
		"./PvpObjectsPanel": "PvpObjectsPanel"
	}],
	PvpPlayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "85bf2UFU/NIsJWc5kHwouUW", "PvpPlayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			r = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			},
			a = this && this.__spreadArrays || function () {
				for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
				var o = Array(e),
					i = 0;
				for (t = 0; t < n; t++)
					for (var r = arguments[t], a = 0, s = r.length; a < s; a++, i++) o[i] = r[a];
				return o
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.PvpPlayerEventId = n.PvpAiDiffculty = n.PvpAi = n.PvpHuman = n.PvpPlayer = void 0;
		var s = e("../rule/RuleTypes"),
			c = e("../PoolTypes"),
			l = e("../../../Config/SoundID"),
			u = e("../../../Config/EventID"),
			d = e("../PoolGlobal"),
			f = e("../Calc"),
			p = e("../control/CueBallMover"),
			h = e("../../../Ui/emoji/EmojiLogic"),
			y = e("../../../Ui/superLine/SuperLineLogic"),
			g = e("../../../Base/StatusStack"),
			_ = e("../../../Config/StatusStackID"),
			v = e("../AdditionLogic"),
			b = e("../../../Ui/dailyTask/DailyTaskLogic"),
			m = e("../../../Ui/dailyTask/DailyTaskTypes"),
			w = e("../../../Ui/ads/NativeAdsLogic"),
			S = e("../../guide/GuideLogic"),
			C = e("../../../Data/wxsdk");
		"undefined" != typeof wx || cc.__logID || (cc.__logID = cc.logID, cc.logID = function (e) {
			if (1001 != e) return cc.__logID(e)
		});
		var P = function (e) {
			function t(t, n, o, i) {
				var r = e.call(this) || this;
				return r._poolStage = null, r._playerUi = null, r._turnUi = null, r._info = null, r._objectType = s.ObjectBallType.None, r._changeObjectTypeNow = !1, r._currentObjectBalls = null, r._combo = 0, r._maxCombo = 0, r._duration = 30, r._cueBallMovable = !1, r._isMyTurn = !1, r._isBallRunning = !1, r._cueBallMoveRangeOnBreaking = null, r._tableRange = null, r._tableRunningRange = null, r._poolStage = t, r._playerUi = n, r._turnUi = o, r._info = i, n.setPlayerInfo(i), o.setPlayerInfo(i), r._init(), r
			}
			return o(t, e), t.prototype.destroyIt = function () {
				this.unscheduleAllCallbacks(), this._poolStage = null, this._playerUi = null, this._turnUi = null, this._info = null, this._currentObjectBalls = null
			}, t.prototype.getMaxCombo = function () {
				return this._maxCombo
			}, t.prototype.setObjectBallType = function (e) {
				this._objectType = e, this._changeObjectTypeNow = !0, this._updateObjectBalls()
			}, t.prototype.getObjectBallType = function () {
				return this._objectType
			}, t.prototype.setCueBallMovable = function () {
				this._cueBallMovable = !0
			}, t.prototype.onGameStart = function () {
				this._combo = 0, this._maxCombo = 0, this._objectType = s.ObjectBallType.None, this._cueBallMovable = !1, this._playerUi.clearCountDown(), this._playerUi.setCurrentPlayer(!1), this._updateObjectBalls()
			}, t.prototype.changeCue = function () {
				this._poolStage && (this._poolStage.superLineLength = this._superLineLength)
			}, t.prototype.myTurn = function (e) {
				void 0 === e && (e = !1), this._isMyTurn = !0, SoundMgr.play(l.default.YourTurn), this._playerUi.setCurrentPlayer(!0), this._startCountDown(), this._turnUi.show(), this.changeCue(), this._updateObjectBalls()
			}, t.prototype.opponentsTurn = function () {
				this._isMyTurn = !1, this._combo = 0, this._playerUi.setCurrentPlayer(!1), this._playerUi.clearCountDown()
			}, t.prototype.onBallRunning = function () {
				this._isBallRunning = !0, this._cueBallMovable = !1, this._playerUi.stopCountDown()
			}, t.prototype.onBallPotted = function (e, t, n, o) {
				this._playerUi.objectsPanel.setBallPotted(e), o && n && !t && (this._combo += 1, this._combo > this._maxCombo && (this._maxCombo = this._combo))
			}, t.prototype.onBallStop = function () {
				this._isBallRunning = !1
			}, t.prototype.continueGame = function () {
				this._updateObjectBalls(), this._startCountDown()
			}, t.prototype.onCueBallMoveEnd = function () { }, t.prototype._startCountDown = function () {
				var e = this;
				this._playerUi.startCountDown(this._duration, function () {
					return e._poolStage && e._poolStage.isValid && e._poolStage.node.emit(D.timeout, e)
				})
			}, t.prototype._updateObjectBalls = function () {
				var e = this.getObjectBallsRealTime(),
					t = this._changeObjectTypeNow,
					n = this._currentObjectBalls && 8 == e[0] && 8 != this._currentObjectBalls[0];
				this._currentObjectBalls = e, t || n ? (this._changeObjectTypeNow = !1, this._playerUi.objectsPanel.setBalls(this._currentObjectBalls.sort(function (e, t) {
					return e - t
				}))) : this._objectType == s.ObjectBallType.None && this._playerUi.objectsPanel.setBalls([])
			}, t.prototype.getCurrentObjectBalls = function () {
				return this._currentObjectBalls
			}, t.prototype.getObjectBallsRealTime = function () {
				return this.getObjectBallNodeListRealTime().map(function (e) {
					return e.getBallNum()
				})
			}, t.prototype.getObjectBallNodeListRealTime = function () {
				return this._calcObjectBallNodeListForEight()
			}, t.prototype._calcObjectBallNodeListForEight = function () {
				if (!this._poolStage || !this._poolStage.isValid) return [];
				var e, t = this._poolStage.ballManager.ballList.filter(function (e) {
					return e && 0 != e.getBallNum() && e.getBallStatus() == c.BallStatus.OnTable
				});
				if (null === this._objectType || this._objectType == s.ObjectBallType.None) e = t.filter(function (e) {
					return 8 != e.getBallNum()
				});
				else {
					var n = this._objectType == s.ObjectBallType.Solid;
					e = t.filter(function (e) {
						return n ? e.getBallNum() < 8 : e.getBallNum() > 8
					})
				}
				return e.length > 0 ? e : t.filter(function (e) {
					return 8 == e.getBallNum()
				})
			}, t.prototype._getTableSize = function () {
				return {
					width: 468,
					height: 934,
					offsetY: -8
				}
			}, t.prototype._getCueBallMoveRangeOnBreaking = function () {
				if (!this._cueBallMoveRangeOnBreaking) {
					var e = this._getTableSize(),
						t = e.width,
						n = e.height,
						o = e.offsetY,
						i = d.default.radius;
					t -= 2 * i, n -= 2 * i, this._cueBallMoveRangeOnBreaking = cc.Rect.fromMinMax(new cc.Vec2(-t / 2, -n / 2 + o), new cc.Vec2(t / 2, .27 * -n + o))
				}
				return this._cueBallMoveRangeOnBreaking
			}, t.prototype._getTableRange = function () {
				if (!this._tableRange) {
					var e = this._getTableSize(),
						t = e.width,
						n = e.height,
						o = e.offsetY;
					this._tableRange = cc.Rect.fromMinMax(new cc.Vec2(-t / 2, -n / 2 + o), new cc.Vec2(t / 2, n / 2 + o))
				}
				return this._tableRange
			}, t.prototype._getTableRunningRange = function () {
				if (!this._tableRunningRange) {
					var e = this._getTableSize(),
						t = e.width,
						n = e.height,
						o = e.offsetY,
						i = d.default.radius;
					t -= 2 * i, n -= 2 * i, this._tableRunningRange = cc.Rect.fromMinMax(new cc.Vec2(-t / 2, -n / 2 + o), new cc.Vec2(t / 2, n / 2 + o))
				}
				return this._tableRunningRange
			}, t
		}(cc.Component);
		n.PvpPlayer = P;
		var L = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			return o(t, e), t.prototype._init = function () {
				this._playerUi && (this._playerUi.isSelf = !0), this._superLineLength = y.default.instance.use(!0) ? y.default.instance.getLength() : 0
			}, t.prototype.changeCue = function () {
				e.prototype.changeCue.call(this);
				var t = this._poolStage;
				t && t.isValid && (t.sightLine.enabled = !0), cc.systemEvent.emit(u.default.CUE_CHANGED, this._info.cue)
			}, t.prototype.myTurn = function (t) {
				void 0 === t && (t = !1), v.default.instance.isAi = !1, e.prototype.myTurn.call(this, t), t || T.setEmojiScene(h.EmojiScene.ai_miss);
				var n = this._poolStage;
				if (n && n.isValid) {
					n.enableControlUi(), n.forceAnimator.useVibrate = !0, n.forceAnimator.useFullForceAnimation = !0, n.forceAnimator.setDisplayEnabled(!0);
					if (n.forceBar.node.opacity = 255, n.shootPointBtn.node.opacity = 255, n.tuningBar.node.opacity = 255, this._cueBallMovable || t)
						if (n.touchController.setCueBallMovable(!0), t) {
							var o = this._getCueBallMoveRangeOnBreaking();
							n.touchController.setCueBallMoveRange(o)
						} else n.touchController.setCueBallMoveRange(null)
				}
				this._currentObjectBalls && 8 == this._currentObjectBalls[0] && T.setEmojiScene(h.EmojiScene.player_b8)
			}, t.prototype.onBallPotted = function (t, n, o, i) {
				var r = this._combo;
				e.prototype.onBallPotted.call(this, t, n, o, i), i && o && !n && (r < 4 && 4 == this._combo && (b.default.instance.addDailyProgress(m.DailyTaskID.pvp_combo4, 1), b.default.instance.addDailyProgress(m.DailyTaskID.pvp_combo4_3, 1)), 2 == this._combo ? T.setEmojiScene(h.EmojiScene.player_pot_2) : 3 == this._combo ? T.setEmojiScene(h.EmojiScene.player_pot_3) : 4 == this._combo ? T.setEmojiScene(h.EmojiScene.player_pot_4) : 5 == this._combo ? T.setEmojiScene(h.EmojiScene.player_pot_5) : 6 == this._combo ? T.setEmojiScene(h.EmojiScene.player_pot_6) : 7 == this._combo && T.setEmojiScene(h.EmojiScene.player_pot_7))
			}, t.prototype.continueGame = function () {
				e.prototype.continueGame.call(this);
				var t = this._poolStage;
				t && t.isValid && t.enableControlUi()
			}, t.prototype.onCueBallMoveEnd = function () {
				e.prototype.onCueBallMoveEnd.call(this);
				var t = this._poolStage;
				t && t.isValid && t.enableControlUi()
			}, t.prototype.setObjectBallType = function (t) {
				e.prototype.setObjectBallType.call(this, t), ui.showTips("Your target ball is " + (t == s.ObjectBallType.Solid ? "Small ball" : "Ball") + "!", 2.5)
			}, t
		}(P);
		n.PvpHuman = L;
		var T = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t._goodMove = null, t._emojiScene = 0, t._emojiPromise = null, t
			}
			return o(t, e), t.prototype._init = function () {
				t._instance = this, this._playerUi && (this._playerUi.isSelf = !1), this._control = new B(this, this._poolStage), this._aiConfig = this._info.aiConfig || t.randomAiConfig(), console.log("ai配置：", this._aiConfig), this._superLineLength = 0, cc.systemEvent.on(u.default.SELF_EMOJI, this._onPlayerEmoji, this)
			}, t.prototype.destroyIt = function () {
				g.default.instance.removeStatus(_.default.banner, "ai"), t._instance = null, cc.systemEvent.off(u.default.SELF_EMOJI, this._onPlayerEmoji, this), this._control && this._control.stopAllTween(), e.prototype.destroyIt.call(this), this._aiConfig = null, this._control = null, this._emojiPromise = null
			}, t.prototype.forceStop = function () {
				this.unscheduleAllCallbacks(), this._control && this._control.stopAllTween(), this._emojiPromise = null
			}, t.prototype._onPlayerEmoji = function (e) {
				if (this._aiConfig) {
					1 == e ? this.setEmojiScene(h.EmojiScene.emoji1, 1.5) : 2 == e ? this.setEmojiScene(h.EmojiScene.emoji2, 1.5) : 3 == e ? this.setEmojiScene(h.EmojiScene.emoji3, 1.5) : 4 == e ? this.setEmojiScene(h.EmojiScene.emoji4, 1.5) : 5 == e ? this.setEmojiScene(h.EmojiScene.emoji5, 1.5) : 6 == e && this.setEmojiScene(h.EmojiScene.emoji6, 1.5)
				}
			}, t.prototype.onBallPotted = function (t, n, o, i) {
				e.prototype.onBallPotted.call(this, t, n, o, i), i && o && !n && (2 == this._combo ? this.setEmojiScene(h.EmojiScene.ai_pot_2) : 3 == this._combo ? this.setEmojiScene(h.EmojiScene.ai_pot_3) : 4 == this._combo ? this.setEmojiScene(h.EmojiScene.ai_pot_4) : 5 == this._combo ? this.setEmojiScene(h.EmojiScene.ai_pot_5) : 6 == this._combo ? this.setEmojiScene(h.EmojiScene.ai_pot_6) : 7 == this._combo && this.setEmojiScene(h.EmojiScene.ai_pot_7))
			}, t.setEmojiScene = function (e) {
				if (this._instance) return this._instance.setEmojiScene(e)
			}, t.prototype.setEmojiScene = function (e, t) {
				return void 0 === t && (t = 0), i(this, void 0, void 0, function () {
					return r(this, function (n) {
						switch (n.label) {
							case 0:
								return this._emojiScene = e, this._aiConfig ? [4, Utils.delayTime(t + this._randFloat(.7, 1.5, .3, .5, this._aiConfig.quickly), this)] : [3, 3];
							case 1:
								return n.sent(), [4, this._emojiPromise = this._emoji()];
							case 2:
								n.sent(), this._emojiPromise = null, n.label = 3;
							case 3:
								return [2]
						}
					})
				})
			}, t.prototype._emoji = function () {
				return i(this, void 0, void 0, function () {
					var e, t;
					return r(this, function (n) {
						switch (n.label) {
							case 0:
								return (e = this._emojiScene) > 0 ? (this._emojiScene = 0, (t = h.default.instance.triggerScene(e)) > 0 ? this._aiConfig && this._isMyTurn && !this._isBallRunning ? [4, Utils.delayTime(this._randFloat(1, 2, .5, 1, this._aiConfig.quickly), this)] : [3, 2] : [3, 3]) : [3, 3];
							case 1:
								n.sent(), n.label = 2;
							case 2:
								cc.systemEvent.emit(u.default.OPPO_EMOJI, t), n.label = 3;
							case 3:
								return [2]
						}
					})
				})
			}, t.prototype.delayTime = function (e, t) {
				return i(this, void 0, void 0, function () {
					return r(this, function (n) {
						switch (n.label) {
							case 0:
								return t || (t = this), this._emojiPromise ? [4, this._emojiPromise] : [3, 2];
							case 1:
								n.sent(), n.label = 2;
							case 2:
								return [2, Utils.delayTime(e, t)]
						}
					})
				})
			}, t.prototype.changeCue = function () {
				e.prototype.changeCue.call(this);
				var t = this._poolStage;
				if (t && t.isValid) {
					var n = this._info.cue;
					t.ballCue.setCueIndex(n), v.default.instance.cueId = n;
					var o = v.default.instance.getCueAttr();
					t._cueLineLength = o.sight, console.log("[对手瞄准线长度]: ", o.sight), t.sightLine.enabled = !1, t.sightLine.hide()
				}
			}, t.prototype.myTurn = function (t) {
				void 0 === t && (t = !1), C.default.isTT() ? (console.log("[PvpAi]头条游戏界面不显示横幅"), g.default.instance.removeStatus(_.default.banner, "ai")) : S.default.instance.isGuideFinished(S.GuideStep.Level2) ? w.default.instance.canShowAds() ? (console.log("[PvpAi]显示原生横幅"), g.default.instance.addStatus(_.default.banner, "ai", _.BannerStatus.NativeBanner)) : (console.log("[PvpAi]显示横幅"), g.default.instance.addStatus(_.default.banner, "ai", _.BannerStatus.Banner)) : (console.log("[PvpAi]新手引导未完成，不管理横幅"), g.default.instance.removeStatus(_.default.banner, "ai")), v.default.instance.isAi = !0, e.prototype.myTurn.call(this, t), t || this.setEmojiScene(h.EmojiScene.player_miss);
				var n = this._poolStage;
				if (n && n.isValid) {
					n.forceAnimator.useVibrate = !1, n.forceAnimator.useFullForceAnimation = !1, n.forceAnimator.setDisplayEnabled(!1);
					n.forceBar.node.opacity = 128, n.shootPointBtn.node.opacity = 128, n.tuningBar.node.opacity = 128, (this._cueBallMovable || t) && this._control.setCueBallMovable(), this._runAction(t)
				}
			}, t.prototype.opponentsTurn = function () {
				g.default.instance.removeStatus(_.default.banner, "ai"), e.prototype.opponentsTurn.call(this)
			}, t.prototype.continueGame = function () {
				e.prototype.continueGame.call(this), this._runAction()
			}, t.prototype._runAction = function (e) {
				return void 0 === e && (e = !1), i(this, void 0, void 0, function () {
					var t, n, o, i, a;
					return r(this, function (r) {
						switch (r.label) {
							case 0:
								return this._currentObjectBalls && 8 == this._currentObjectBalls[0] && this.setEmojiScene(h.EmojiScene.ai_b8), e ? [4, this._calcGoodShotForBreaking()] : [3, 2];
							case 1:
								return t = r.sent(), [3, 4];
							case 2:
								return [4, this._calcGoodShot(this._cueBallMovable)];
							case 3:
								t = r.sent(), r.label = 4;
							case 4:
								return t ? (console.log("难度：", t.difficulty), this._calcForce(t, e), (n = this._aiConfig) ? e ? [4, this.delayTime(this._randFloat(1.2, 3.5, .7, 1.5, n.quickly), this)] : [3, 6] : [2]) : [2];
							case 5:
								return r.sent(), [3, 8];
							case 6:
								return [4, this.delayTime(this._randFloat(.8, 2, .5, 1, n.quickly), this)];
							case 7:
								r.sent(), r.label = 8;
							case 8:
								o = e ? this._randInt(0, 2, 0, 1, n.decisively * (1 - .5 * t.difficulty)) : this._randInt(0, 6, 0, 1, n.decisively * (1 - .5 * t.difficulty)), i = 0, r.label = 9;
							case 9:
								return i < o ? (a = Math.random()) < .05 ? [4, this._simulateRandomShootPoint(t)] : [3, 11] : [3, 16];
							case 10:
								return r.sent(), [3, 15];
							case 11:
								return a < .3 && this._goodMove ? [4, this._simulateMoveCueBall(t, e)] : [3, 13];
							case 12:
								return r.sent(), [3, 15];
							case 13:
								return e ? [3, 15] : [4, this._simulateRandomAngle(t, e)];
							case 14:
								r.sent(), r.label = 15;
							case 15:
								return ++i, [3, 9];
							case 16:
								return [4, this._simulateShootBall(t, e)];
							case 17:
								return r.sent(), [2]
						}
					})
				})
			}, t.prototype._getGraphics = function () {
				return null
			}, t.prototype._drawLine = function (e, t, n) {
				(e = e || this._getGraphics()) && (e.circle(t.x, t.y, 4), e.stroke(), e.moveTo(t.x, t.y), e.lineTo(n.x, n.y), e.stroke())
			}, t.prototype._drawCircle = function (e, t, n) {
				(e = e || this._getGraphics()) && (e.circle(t.x, t.y, n), e.stroke())
			}, t.prototype._drawDebug = function (e) {
				var t = this._getGraphics();
				if (t) {
					t.clear();
					var n = this._goodMove || this._control.cueBallPos,
						o = new cc.Vec2(Math.cos(e.angle), Math.sin(e.angle)),
						i = e.pos || new cc.Vec2(n.x + 1600 * o.x, n.y + 1600 * o.y);
					this._drawLine(t, n, i), e.target && e.pocket && this._drawLine(t, e.target.getBallPosition(), e.pocket)
				}
			}, t.prototype._drawTrinagles = function (e, t, n, o) {
				(e = e || this._getGraphics()) && (e.moveTo(t.x, t.y), e.lineTo(n.x, n.y), e.lineTo(o.x, o.y), e.lineTo(t.x, t.y), e.stroke())
			}, t.prototype._drawDelaunay = function (e, t) {
				var n = this;
				if (e = e || this._getGraphics()) {
					e.clear();
					for (var o = t.map(function (e) {
						return [e.x, e.y]
					}), i = window.Polyer.Delaunay(o), r = 2; r < i.length; r += 3) {
						var a = i[r - 2],
							s = i[r - 1],
							c = i[r - 0];
						this._drawTrinagles(e, t[a], t[s], t[c])
					}
					t.forEach(function (t) {
						n._drawCircle(e, t, 4)
					})
				}
			}, t.prototype._simulateRandomShootPoint = function (e) {
				return i(this, void 0, void 0, function () {
					var t, n, o, i;
					return r(this, function (r) {
						switch (r.label) {
							case 0:
								return (t = this._aiConfig) ? [4, this.delayTime(this._randFloat(1, 3, .7, 1.2, t.quickly), this)] : [2];
							case 1:
								r.sent(), n = this._randInt(0, 3, 0, 2, t.decisively), o = new cc.Vec2, i = 0, r.label = 2;
							case 2:
								return i < n ? (o = o.set(e.shootPoint).rotateSelf(.2 * Math.random()).mulSelf(Utils.randFloat(.8, 1)), this._control.changeShootPoint(o), [4, this.delayTime(this._randFloat(.4, .8, .3, .6, t.quickly), this)]) : [3, 5];
							case 3:
								r.sent(), r.label = 4;
							case 4:
								return ++i, [3, 2];
							case 5:
								return [4, this.delayTime(.3, this)];
							case 6:
								return r.sent(), [2]
						}
					})
				})
			}, t.prototype._simulateRandomAngle = function (e, t) {
				return void 0 === t && (t = !1), i(this, void 0, void 0, function () {
					var n, o, i, a, s, c, l, u;
					return r(this, function (r) {
						switch (r.label) {
							case 0:
								return n = this._aiConfig, o = this._control, n && o ? [4, this.delayTime(this._randFloat(1, 3, .7, 1.2, n.quickly), this)] : [2];
							case 1:
								return r.sent(), !t && Math.random() < .3 ? (i = e.optionalTarget && Math.random() < .5 ? e.optionalTarget : Utils.randElement(this._currentObjectBalls), o.angleToBall(i), [4, this.delayTime(this._randFloat(.4, .7, .2, .5, n.quickly), this)]) : [3, 3];
							case 2:
								r.sent(), r.label = 3;
							case 3:
								a = o.angle, s = Math.random() < .5 ? -1 : 1, c = this._randInt(0, 3, 0, 2, n.decisively), l = 0, r.label = 4;
							case 4:
								return l < c ? (u = o.getTouchControllerRatio(), a += s * Utils.randFloat(.1, .2) * u, [4, o.angleTo(a, Utils.randFloat(.3, .5))]) : [3, 8];
							case 5:
								return r.sent(), [4, this.delayTime(this._randFloat(.4, .7, .3, .6, n.quickly), this)];
							case 6:
								r.sent(), r.label = 7;
							case 7:
								return ++l, [3, 4];
							case 8:
								return [2]
						}
					})
				})
			}, t.prototype._simulateMoveCueBall = function (e, t) {
				return void 0 === t && (t = !1), i(this, void 0, void 0, function () {
					var e, n, o, i, a, s, c, l, u, d, f, p, h;
					return r(this, function (r) {
						switch (r.label) {
							case 0:
								if (e = this._aiConfig, n = this._control, !e || !n) return [2];
								o = this._randInt(0, 2, 0, 1, e.decisively), i = 0, r.label = 1;
							case 1:
								return i < o ? t ? [4, this._calcGoodMoveForBreaking()] : [3, 3] : [3, 12];
							case 2:
								return s = r.sent(), [3, 4];
							case 3:
								s = this._getRandomPositionInTable(), r.label = 4;
							case 4:
								a = s, c = n.cueBallPos, l = a.sub(c), u = l.len(), d = this._randFloat(120, 280, 190, 480, e.decisively), f = Math.ceil(u / d), d = u / f, l.normalizeSelf().mulSelf(d), p = (new cc.Vec2).set(c), h = 0, r.label = 5;
							case 5:
								return h < f ? (p.addSelf(l), [4, n.moveCueBallTo(p, Utils.randFloat(.3, .5))]) : [3, 9];
							case 6:
								return r.sent(), [4, this.delayTime(this._randFloat(.4, .7, .3, .6, e.quickly), this)];
							case 7:
								r.sent(), r.label = 8;
							case 8:
								return ++h, [3, 5];
							case 9:
								return [4, this.delayTime(this._randFloat(.4, .7, .3, .6, e.quickly), this)];
							case 10:
								r.sent(), r.label = 11;
							case 11:
								return ++i, [3, 1];
							case 12:
								return [2]
						}
					})
				})
			}, t.prototype._simulateShootBall = function (e, t) {
				return void 0 === t && (t = !1), i(this, void 0, void 0, function () {
					var n, o, i, a, s, c, l, u, d, f, p, h, y, g, _, v, b, m, w, S;
					return r(this, function (r) {
						switch (r.label) {
							case 0:
								if (n = this._aiConfig, o = this._control, !n || !o) return [2];
								if (!this._goodMove) return [3, 8];
								i = this._goodMove, a = o.cueBallPos, s = i.sub(a), c = s.len(), l = this._randFloat(120, 280, 190, 480, n.decisively), u = Math.floor(c / l), s.normalizeSelf(), d = (new cc.Vec2).set(a), f = 0, r.label = 1;
							case 1:
								return f < u ? (d.addSelf(s.mul(l * Utils.randFloat(.9, 1.1))), [4, o.moveCueBallTo(d, Utils.randFloat(.3, .5))]) : [3, 5];
							case 2:
								return r.sent(), [4, this.delayTime(this._randFloat(.4, .7, .3, .6, n.quickly), this)];
							case 3:
								r.sent(), r.label = 4;
							case 4:
								return ++f, [3, 1];
							case 5:
								return [4, o.moveCueBallTo(i, Utils.randFloat(.3, .5))];
							case 6:
								return r.sent(), [4, this.delayTime(.05, this)];
							case 7:
								r.sent(), o.setCueBallPos(i), r.label = 8;
							case 8:
								return p = e.target, o.angleToBall(p), [4, this.delayTime(this._randFloat(.4, .7, .2, .5, n.quickly), this)];
							case 9:
								if (r.sent(), t || !e.pocket) return [3, 14];
								y = e.angle, m = this._randInt(0, 3, 0, 2, n.decisively), m += this._randInt(2, 5, 0, 2, 1 - e.difficulty), w = 0, r.label = 10;
							case 10:
								return w < m ? (h = o.getTouchControllerRatio(), S = o.angle > e.angle ? -1 : 1, y += S * this._randFloat(.1, .2, .02, .08, e.difficulty) * h, [4, o.angleTo(y, Utils.randFloat(.3, .5))]) : [3, 14];
							case 11:
								return r.sent(), [4, this.delayTime(this._randFloat(.4, .7, .3, .6, n.quickly), this)];
							case 12:
								r.sent(), r.label = 13;
							case 13:
								return ++w, [3, 10];
							case 14:
								return y = e.angle, [4, o.angleTo(y, Utils.randFloat(.3, .5))];
							case 15:
								return r.sent(), [4, this.delayTime(this._randFloat(.4, .7, .3, .6, n.quickly), this)];
							case 16:
								return r.sent(), o.changeAngle(y), e.shootPoint.fuzzyEquals(cc.Vec2.ZERO, .05) ? [3, 23] : [4, this.delayTime(this._randFloat(.7, 2, .5, .8, n.quickly), this)];
							case 17:
								r.sent(), m = this._randInt(0, 3, 0, 2, n.decisively), g = new cc.Vec2, w = 0, r.label = 18;
							case 18:
								return w < m ? (g = g.set(e.shootPoint).rotateSelf(.2 * Math.random()).mulSelf(Utils.randFloat(.8, 1)), o.changeShootPoint(g), [4, this.delayTime(this._randFloat(.2, .4, .1, .2, n.quickly), this)]) : [3, 21];
							case 19:
								r.sent(), r.label = 20;
							case 20:
								return ++w, [3, 18];
							case 21:
								return g.set(e.shootPoint), o.changeShootPoint(e.shootPoint), [4, this.delayTime(.3, this)];
							case 22:
								r.sent(), r.label = 23;
							case 23:
								return [4, this.delayTime(this._randFloat(.4, .8, .2, .6, n.quickly), this)];
							case 24:
								return r.sent(), _ = e.force, v = _ > .8 ? cc.misc.clamp01(_ + Utils.randFloat(-.2, 0)) : cc.misc.clamp01(_ + Utils.randFloat(-.2, .2)), [4, o.forceTo(v, Utils.randFloat(.3, .6))];
							case 25:
								return r.sent(), [4, this.delayTime(this._randFloat(.2, .4, 0, .2, n.quickly), this)];
							case 26:
								r.sent(), b = v, m = this._randInt(0, 2, 0, 1, n.decisively), w = 0, r.label = 27;
							case 27:
								return w < m ? (S = b > _ ? -1 : 1, b = cc.misc.clamp01(b + S * Utils.randFloat(.1, .2)), [4, o.forceTo(b, Utils.randFloat(.3, .6))]) : [3, 31];
							case 28:
								return r.sent(), [4, this.delayTime(this._randFloat(.4, .7, .3, .6, n.quickly), this)];
							case 29:
								r.sent(), r.label = 30;
							case 30:
								return ++w, [3, 27];
							case 31:
								return [4, o.forceTo(_, this._randFloat(.3, .6, .1, .2, n.quickly))];
							case 32:
								return r.sent(), o.changeForce(_), [4, this.delayTime(this._randFloat(.4, .7, .2, .4, n.quickly), this)];
							case 33:
								return r.sent(), [2, o.shoot()]
						}
					})
				})
			}, t.prototype._randFloat = function (e, t, n, o, i) {
				var r = (n - e) * i + e,
					a = (o - t) * i + t;
				return Utils.randFloat(r, a)
			}, t.prototype._randInt = function (e, t, n, o, i) {
				var r = Math.floor((n - e) * i + e),
					a = Math.floor((o - t) * i + t);
				return Utils.randInt(r, a)
			}, t.prototype._calcForce = function (e, t) {
				void 0 === t && (t = !1);
				var n = e,
					o = this._aiConfig;
				if (o)
					if (t) n.force = Math.random() < .8 ? 1 : Utils.randFloat(.9, 1);
					else {
						var i = this._poolStage;
						if (!i || !i.isValid) return;
						var r = i.ballManager;
						if (!n.pocket && Math.random() < .4) return void (n.force = 1);
						if (n.pos) {
							var a = n.pos,
								s = (this._goodMove || r.getCueBall().getBallPosition()).sub(a).len();
							if (o.steady < .3 && Math.random() < .2) n.force = 1;
							else {
								var c = this._randFloat(1, 1.5, .3, .5, o.steady);
								n.force = cc.misc.clampf((s / 1e3 + n.distance / 1e3 + (n.cos1 + 1)) * c, .1, 1)
							}
						} else n.force = Math.random() < .8 ? 1 : Utils.randFloat(.5, 1)
					}
			}, t.prototype._calcAccurately = function (e, t) {
				void 0 === t && (t = !1);
				var n = e,
					o = this._aiConfig;
				if (o && !t && n.pocket) {
					var i = this._poolStage;
					if (!i || !i.isValid) return;
					var r = i.ballManager;
					if (n.target) {
						var a = n.target.getBallPosition(),
							s = this._goodMove || r.getCueBall().getBallPosition(),
							c = a.sub(s),
							l = c.len(),
							u = cc.misc.clamp01(l / 1e3) * (1 - o.accurately);
						if (n.cos1 > -.6) {
							var d = Math.atan2(c.y, c.x) - n.angle < 0 ? u * Utils.randFloat(0, 1) * .02 : u * Utils.randFloat(-1, 0) * .02;
							n.angle += d
						} else {
							d = u * Utils.randFloat(-1, 1) * .02;
							n.angle += d
						}
					}
				}
			}, t.prototype._calcAccuratelyForPocketInfo = function (e) {
				var t = this,
					n = this._aiConfig;
				if (!n) return e;
				var o = e.slice();
				return o.forEach(function (e) {
					var o = t._randFloat(-6, 6, 0, 0, n.accurately),
						i = t._randFloat(-6, 6, 0, 0, n.accurately);
					e.pos = new cc.Vec2(o, i).addSelf(e.pos)
				}), o
			}, t.prototype._calcAccuratelyForPocket = function (e, t) {
				var n = this._aiConfig;
				if (!n) return e;
				var o = .5 * ((this._control ? this._control.getCueLineLength() : 0) + 50);
				t = Math.max(0, t - o);
				var i = cc.misc.clamp01(1 - t / 100),
					r = cc.misc.clamp01(.3 * i + 2 * (n.accurately - .5)),
					a = this._randFloat(-.05, .05, 0, 0, r);
				return (new cc.Vec2).set(e).rotateSelf(a)
			}, t.prototype._getAllInfo = function () {
				var e = this._poolStage;
				if (!e || !e.isValid) return null;
				var t = e.ballManager,
					n = e.tableManager,
					o = t.getCueBall().getBallPosition(),
					i = this.getObjectBallNodeListRealTime(),
					r = i.map(function (e) {
						return e.getBallPosition()
					}),
					s = t.getObjectBalls(),
					c = s.filter(function (e) {
						return -1 == i.indexOf(e)
					}),
					l = c.map(function (e) {
						return e.getBallPosition()
					}),
					u = n.getPocketInfoList(),
					f = a(r, l),
					p = d.default.radius,
					h = this._getTableRunningRange();
				return {
					ballManager: t,
					tableManager: n,
					cueBallPos: o,
					objectBallNodeList: i,
					objectBalls: r,
					blockBallNodeList: c,
					blockBalls: l,
					allBallNodeList: s,
					allBallList: f,
					pocketInfoList: u,
					radius: p,
					rect: h
				}
			}, t.prototype._calcGoodShotForBreaking = function () {
				return i(this, void 0, Promise, function () {
					var e, t, n, o, i, a, s, c;
					return r(this, function (r) {
						switch (r.label) {
							case 0:
								return e = this.getObjectBallNodeListRealTime(), t = 1 / 0, n = null, e.forEach(function (e) {
									var o = e.getBallPosition().y;
									o < t && (t = o, n = e)
								}), Math.random() < .3 ? (o = this, [4, this._calcGoodMoveForBreaking()]) : [3, 2];
							case 1:
								return o._goodMove = r.sent(), [3, 3];
							case 2:
								this._goodMove = null, r.label = 3;
							case 3:
								return i = this._goodMove || this._control.cueBallPos, a = n.getBallPosition(), s = a.sub(i).normalizeSelf(), c = Math.atan2(s.y, s.x), [2, {
									force: Utils.randFloat(.7, 1),
									angle: c,
									optionalAngle: 1 / 0,
									shootPoint: Math.random() < .2 ? cc.Vec2.random(new cc.Vec2, Math.random()) : cc.Vec2.ZERO,
									difficulty: 1,
									target: n,
									optionalTarget: null,
									cos1: -1,
									distance: 0,
									pocket: null,
									pos: null
								}]
						}
					})
				})
			}, t.prototype._calcGoodShot = function (e) {
				return i(this, void 0, Promise, function () {
					var t, n, o, i, a, s, c, l, u, d, p, h, y;
					return r(this, function (r) {
						switch (r.label) {
							case 0:
								return t = this._getAllInfo(), n = t.cueBallPos, o = t.objectBallNodeList, i = t.objectBalls, a = t.blockBalls, s = t.allBallList, c = t.pocketInfoList, l = t.radius, u = t.rect, [4, this.delayTime(0, this)];
							case 1:
								return r.sent(), d = f.default.findGoodShotIndirectly(e ? null : n, i, a, l, u, c, !1, this._calcAccuratelyForPocket.bind(this)), e ? d.length > 0 ? (p = this, [4, this._calcGoodMoveForGoodShoot(t, d)]) : [3, 3] : [3, 6];
							case 2:
								return n = p._goodMove = r.sent(), [3, 5];
							case 3:
								return h = this, [4, this._calcGoodMoveForTouch(t)];
							case 4:
								n = h._goodMove = r.sent(), r.label = 5;
							case 5:
								return [3, 7];
							case 6:
								this._goodMove = null, r.label = 7;
							case 7:
								return 0 != d.length ? [3, 9] : [4, this.delayTime(0, this)];
							case 8:
								r.sent(), d = f.default.findGoodShotForTouch(n, i, s, l), r.label = 9;
							case 9:
								return [4, this.delayTime(0, this)];
							case 10:
								return r.sent(), d.length > 2 && (d.length = 2), y = d.map(function (e) {
									var t = e.pos.sub(n);
									return Math.atan2(t.y, t.x)
								}), [2, {
									force: Utils.randFloat(.7, 1),
									angle: y.length > 0 ? y[0] : 2 * Math.PI * Math.random(),
									optionalAngle: y.length > 1 ? y[1] : 1 / 0,
									shootPoint: Math.random() < .2 ? cc.Vec2.random(new cc.Vec2, Math.random()) : cc.Vec2.ZERO,
									difficulty: d.length > 0 ? cc.misc.clamp01(d[0].score) : 1,
									target: d.length > 0 ? o[d[0].ball] : null,
									optionalTarget: d.length > 1 ? o[d[1].ball] : null,
									cos1: d.length > 0 ? d[0].cos1 : -1,
									distance: d.length > 0 ? d[0].distance : 0,
									pocket: d.length > 0 && d[0].pocket > -1 ? c[d[0].pocket].pos : null,
									pos: d.length > 0 && d[0].pos ? d[0].pos : null
								}]
						}
					})
				})
			}, t.prototype._calcGoodMoveForBreaking = function () {
				return i(this, void 0, void 0, function () {
					var e, t, n, o, i, a;
					return r(this, function (r) {
						return e = this._getCueBallMoveRangeOnBreaking(), t = e.xMin, n = e.yMin, o = e.xMax, i = e.yMax, a = Math.random(), [2, new cc.Vec2(Utils.randFloat(t, o), a > .7 ? i : Utils.randFloat(n, i))]
					})
				})
			}, t.prototype._calcGoodMoveForTouch = function (e) {
				return i(this, void 0, void 0, function () {
					var t, n, o, i, a, s, c, l, u, d, p, h, y, g, _, v, b, m, w;
					return r(this, function (r) {
						for (t = e.cueBallPos, n = e.objectBalls, o = e.allBallList, i = e.radius, a = e.rect, s = new cc.Vec2, c = new cc.Vec2, l = new cc.Vec2, u = 0, d = n.length; u < d; ++u)
							for (p = n[u], h = Utils.randFloat(0, 2 * Math.PI), y = 2 * Math.PI / 8, g = 0; g < 8; ++g)
								if (_ = h + g * y, s.x = Math.cos(_), s.y = Math.sin(_), c.set(s).mulSelf(2 * i).addSelf(p), a.contains(c))
									for (v = Utils.randFloat(0, 2 * Math.PI), b = 2 * Math.PI / 8, m = 0; m < 8; ++m)
										if (w = v + m * b, l.x = Math.cos(w), l.y = Math.sin(w), !(s.dot(l) < 0) && (l.mulSelf(Utils.randFloat(.01, 10 * i)).addSelf(c), a.contains(l) && !f.default.hasBlock(l, o, i, c, [p]))) return console.log("[移母球]使用可碰球点"), [2, l];
						return console.log("[移母球]使用原位置"), [2, t]
					})
				})
			}, t.prototype._calcGoodMoveForGoodShoot = function (e, t) {
				return i(this, void 0, void 0, function () {
					var n, o, i, s, c, l, u, d, p, h, y, g, _, v, b, m, w, S, C, P, L, T, D, B, k, R, E, I, O, A, x, N, M, F;
					return r(this, function (j) {
						switch (j.label) {
							case 0:
								for (e.cueBallPos, n = e.objectBalls, o = e.blockBalls, i = e.allBallList, s = e.pocketInfoList, c = e.radius, l = e.rect, u = s.map(function (e) {
									return e.pos
								}), d = a(i, u), p = d.map(function (e) {
									return [e.x, e.y]
								}), h = window.Polyer.Delaunay(p), y = [], (g = t.map(function (e) {
									return d.indexOf(n[e.ball])
								}).filter(function (e) {
									return e > -1
								})).length > 2 && (g.length = 2), D = 2; D < h.length; D += 3) _ = h[D - 2], v = h[D - 1], b = h[D - 0], m = d[_], w = d[v], S = d[b], C = (new cc.Vec2).set(m).addSelf(w).addSelf(S).divSelf(3), g.indexOf(_) > -1 || g.indexOf(v) > -1 || g.indexOf(b) > -1 ? y.unshift(C) : y.push(C);
								P = function (e) {
									if (0 != e) {
										var n = t.splice(e, 1);
										t.unshift.apply(t, n)
									}
								}, L = function (e, a) {
									var s, u, p, h, g, _, v, b, m, w, S, C, L, D, B, k;
									return r(this, function (r) {
										switch (r.label) {
											case 0:
												return [4, T.delayTime(0, T)];
											case 1:
												if (r.sent(), s = t[e], u = n[s.ball], p = s.pos, !l.contains(p)) return [2, "continue"];
												if (h = p.sub(u).normalizeSelf(), Math.random() < .5)
													for (g = y.map(function (e, t) {
														var n = e.sub(p).normalizeSelf();
														return {
															cos: h.dot(n),
															index: t
														}
													}).filter(function (e) {
														return e.cos > 0
													}).sort(function (e, t) {
														return t.cos - e.cos
													}), D = 0, _ = g.length; D < _; ++D)
														if (v = g[D], b = y[v.index], l.contains(b) && !f.default.hasBlock(b, i, c, p, [u])) return console.log("[移母球]使用三角形选点"), P(e), [2, {
															value: b
														}];
												return m = 0 == o.length ? (new cc.Vec2).set(h).mulSelf(Utils.randFloat(10, 50)).rotateSelf(Utils.randFloat(-.2, .2)).addSelf(p) : (new cc.Vec2).set(h).mulSelf(Utils.randFloat(30, 200)).rotateSelf(Utils.randFloat(-.6, .6)).addSelf(p), l.contains(m) && !f.default.hasBlock(m, i, c, p, [u]) ? (console.log("[移母球]使用快速选点"), P(e), [2, {
													value: m
												}]) : 0 == o.length ? [2, "continue"] : [4, T.delayTime(0, T)];
											case 2:
												for (r.sent(), (w = d.map(function (e) {
													var t = e.sub(p);
													return t.normalizeSelf(), {
														angle: (new cc.Vec2).set(h).signAngle(t),
														pos: e
													}
												}).filter(function (e) {
													return Math.abs(e.angle) < 1.5
												}).sort(function (e, t) {
													return e.angle - t.angle
												})).unshift({
													angle: -1.5,
													pos: p
												}), S = w.map(function (e, t) {
													var n = w[t + 1] || {
														angle: 1.5,
														pos: p
													};
													return {
														o1: e,
														o2: n,
														offset: n.angle - e.angle,
														angle: (n.angle + e.angle) / 2
													}
												}).sort(function (e, t) {
													return t.offset > .6 && e.offset > .6 ? Math.abs(e.angle) - Math.abs(t.angle) : t.offset - e.offset
												}), C = new cc.Vec2, L = function (t, n) {
													var o = S[t];
													C.set(o.o1.pos).addSelf(o.o2.pos).mulSelf(.5);
													var r = C.sub(p);
													return r.len() > 4.1 * c && C.addSelf(p).mulSelf(.5), r.set(C).subSelf(p).normalizeSelf(), r.dot(h) < 0 ? "continue" : l.contains(C) && !f.default.hasBlock(C, i, c, p, [u]) ? (console.log("[移母球]使用角度选点"), P(e), {
														value: C
													}) : void 0
												}, D = 0, B = S.length; D < B; ++D)
													if ("object" == typeof (k = L(D, B))) return [2, k];
												return [2]
										}
									})
								}, T = this, D = 0, B = t.length, j.label = 1;
							case 1:
								return D < B ? [5, L(D, B)] : [3, 4];
							case 2:
								if ("object" == typeof (k = j.sent())) return [2, k.value];
								j.label = 3;
							case 3:
								return ++D, [3, 1];
							case 4:
								if (t.length > 0) return R = t[0], F = R.pos, E = n[R.ball], I = F.sub(E).normalizeSelf(), O = (new cc.Vec2).set(I).mulSelf(1).addSelf(F), f.default.hasBlock(O, i, c, F, [E]) ? (console.log("[移母球]使用瞄准点"), [2, R.pos]) : (console.log("[移母球]使用不贴紧选点"), [2, O]);
								for (A = l.xMin, x = l.yMin, N = l.xMax, M = l.yMax, F = new cc.Vec2(Utils.randFloat(A, N), Utils.randFloat(x, M)); f.default.isOverlap(F, i, c);) F.x = Utils.randFloat(A, N), F.y = Utils.randFloat(x, M);
								return console.log("[移母球]使用随机点"), [2, F]
						}
					})
				})
			}, t.prototype._getRandomPositionInTable = function () {
				var e = this._getTableRunningRange();
				return cc.Vec2.random(new cc.Vec2, Utils.randFloat(0, e.width / 2))
			}, t.randomAiConfig = function () {
				return {
					accurately: Utils.randFloat(0, 1),
					decisively: Utils.randFloat(.5, 1),
					quickly: Utils.randFloat(.5, 1),
					steady: Utils.randFloat(0, .5)
				}
			}, t.createAiConfig = function (e) {
				return {
					accurately: Utils.randFloat.apply(Utils, [
						[0, .2],
						[.2, .3],
						[.3, .75],
						[.75, 1]
					][e] || [0, 1]),
					decisively: Utils.randFloat(.5, 1),
					quickly: Utils.randFloat(.5, 1),
					steady: Utils.randFloat(0, .5)
				}
			}, t
		}(P);
		n.PvpAi = T;
		var D, B = function () {
			function e(e, t) {
				this._ai = null, this._poolStage = null, this._forceTween = null, this._angleTween = null, this._cueBallPos = new cc.Vec2, this._cueBallPosTween = null, this._cueBallMoving = !1, this._cueBallMover = null, this._ai = e, this._poolStage = t
			}
			return Object.defineProperty(e.prototype, "force", {
				get: function () {
					var e = this._poolStage;
					return e && e.isValid ? e.forceBar.force : this._force
				},
				set: function (e) {
					this._force = e;
					var t = this._poolStage;
					t && t.isValid && (t.forceBar._force = e, t.forceAnimator.force = e)
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype.forceTo = function (e, t) {
				var n = this;
				return new Promise(function (o, a) {
					n._forceTween && n._forceTween.stop(), n._forceTween = cc.tween(n).to(t, {
						force: e
					}).call(function () {
						return i(n, void 0, void 0, function () {
							return r(this, function (e) {
								switch (e.label) {
									case 0:
										return [4, Utils.delayTime(.04, this._ai)];
									case 1:
										return e.sent(), o(), [2]
								}
							})
						})
					}).start()
				})
			}, e.prototype.stopForceTween = function () {
				this._forceTween && this._forceTween.stop(), this._forceTween = null
			}, Object.defineProperty(e.prototype, "angle", {
				get: function () {
					var e = this._poolStage;
					return e && e.isValid ? e.touchController.angle : this._angle
				},
				set: function (e) {
					this._angle = e;
					var t = this._poolStage;
					t && t.isValid && (t.touchController.angle = e)
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype.angleTo = function (e, t) {
				var n = this;
				return new Promise(function (o, a) {
					n._angleTween && n._angleTween.stop(), e = Utils.clampAngle(e), n._angleTween = cc.tween(n).to(t, {
						angle: e
					}).call(function () {
						return i(n, void 0, void 0, function () {
							return r(this, function (e) {
								switch (e.label) {
									case 0:
										return [4, Utils.delayTime(.04, this._ai)];
									case 1:
										return e.sent(), o(), [2]
								}
							})
						})
					}).start()
				})
			}, e.prototype.stopAngleTween = function () {
				this._angleTween && this._angleTween.stop(), this._angleTween = null
			}, Object.defineProperty(e.prototype, "cueBallPos", {
				get: function () {
					var e = this._poolStage;
					if (e && e.isValid) {
						var t = e.ballManager.getCueBall();
						if (t) return t.getBallPosition()
					}
					return this._cueBallPos
				},
				set: function (e) {
					this._cueBallPos.set(e);
					var t = this._poolStage;
					if (t && t.isValid) {
						var n = t.ballManager.getCueBall();
						if (n) {
							var o = n.getBallPosition(),
								i = this.getCueBallMover();
							e.subSelf(o), i.onMove(e)
						}
					}
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype._noticeMoveCueBallStart = function () {
				this._cueBallMoving = !0;
				var e = this._poolStage;
				if (e && e.isValid) {
					e.touchController.node.emit(c.PoolEventId.CueBallMoveStart);
					var t = this.getCueBallMover();
					t && t.onStart()
				}
			}, e.prototype._noticeMoveCueBallEnd = function () {
				this._cueBallMoving = !1;
				var e = this._poolStage;
				if (e && e.isValid) {
					e.touchController.node.emit(c.PoolEventId.CueBallMoveEnd);
					var t = this.getCueBallMover();
					t && t.onEnd()
				}
			}, e.prototype.getCueBallMover = function () {
				return this._cueBallMover || (this._cueBallMover = this._poolStage.getComponentInChildren(p.default)), this._cueBallMover
			}, e.prototype.setCueBallMovable = function () {
				var e = this.getCueBallMover();
				e && e.setMoveType(p.CueBallMoveType.Normal)
			}, e.prototype.moveCueBallTo = function (e, t) {
				var n = this;
				return new Promise(function (o, a) {
					n._noticeMoveCueBallStart(), n._cueBallPosTween && n._cueBallPosTween.stop(), n._cueBallPosTween = cc.tween(n).to(t, {
						cueBallPos: e
					}).call(function () {
						return i(n, void 0, void 0, function () {
							return r(this, function (e) {
								switch (e.label) {
									case 0:
										return [4, Utils.delayTime(.04, this._ai)];
									case 1:
										return e.sent(), this._noticeMoveCueBallEnd(), o(), [2]
								}
							})
						})
					}).start()
				})
			}, e.prototype.stopMoveCueBallTween = function () {
				this._noticeMoveCueBallEnd(), this._cueBallPosTween && this._cueBallPosTween.stop(), this._cueBallPosTween = null
			}, e.prototype.stopAllTween = function () {
				this.stopForceTween(), this.stopAngleTween(), this.stopMoveCueBallTween()
			}, e.prototype.getTouchControllerRatio = function () {
				var e = this._poolStage;
				return e && e.isValid ? e.touchController.ratio : 1
			}, e.prototype.getCueLineLength = function () {
				var e = this._poolStage;
				return e && e.isValid ? e.getCueLineLength() : 0
			}, e.prototype.changeForce = function (e) {
				this.stopForceTween(), this._changeForce(e)
			}, e.prototype.changeAngle = function (e) {
				this.stopAngleTween(), this._changeAngle(e)
			}, e.prototype.angleToBall = function (e) {
				this.stopAngleTween(), this._angleToBall(e)
			}, e.prototype.setCueBallPos = function (e) {
				this._setCueBallPos(e), this.stopMoveCueBallTween()
			}, e.prototype._changeForce = function (e) {
				var t = this._poolStage;
				t && t.isValid && (t.forceBar._force = e, t.forceAnimator.force = e)
			}, e.prototype._changeAngle = function (e) {
				var t = this._poolStage;
				t && t.isValid && (t.touchController.angle = e)
			}, e.prototype._angleToBall = function (e) {
				if (null !== e) {
					var t = this._poolStage;
					t && t.isValid && t.angleToBall(e, !1)
				}
			}, e.prototype._setCueBallPos = function (e) {
				var t = this._poolStage;
				t && t.isValid && t.ballManager.getCueBall().setBallPosition(e)
			}, e.prototype.changeShootPoint = function (e) {
				var t = this._poolStage;
				t && t.isValid && (t.shootPointBtn.shootPoint = e)
			}, e.prototype.shoot = function () {
				var e = this._poolStage;
				if (e && e.isValid) return e.onForceBarShoot()
			}, e
		}();
		(function (e) {
			e[e.rookie = 0] = "rookie", e[e.easy = 1] = "easy", e[e.medium = 2] = "medium", e[e.hard = 3] = "hard"
		})(n.PvpAiDiffculty || (n.PvpAiDiffculty = {})),
			function (e) {
				e.timeout = "timeout"
			}(D = n.PvpPlayerEventId || (n.PvpPlayerEventId = {})), window.PvpAi = T, cc._RF.pop()
	}, {
		"../../../Base/StatusStack": "StatusStack",
		"../../../Config/EventID": "EventID",
		"../../../Config/SoundID": "SoundID",
		"../../../Config/StatusStackID": "StatusStackID",
		"../../../Data/wxsdk": "wxsdk",
		"../../../Ui/ads/NativeAdsLogic": "NativeAdsLogic",
		"../../../Ui/dailyTask/DailyTaskLogic": "DailyTaskLogic",
		"../../../Ui/dailyTask/DailyTaskTypes": "DailyTaskTypes",
		"../../../Ui/emoji/EmojiLogic": "EmojiLogic",
		"../../../Ui/superLine/SuperLineLogic": "SuperLineLogic",
		"../../guide/GuideLogic": "GuideLogic",
		"../AdditionLogic": "AdditionLogic",
		"../Calc": "Calc",
		"../PoolGlobal": "PoolGlobal",
		"../PoolTypes": "PoolTypes",
		"../control/CueBallMover": "CueBallMover",
		"../rule/RuleTypes": "RuleTypes"
	}],
	PvpResultLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "444c5vpmC5Jg6TByFSAt+FV", "PvpResultLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.PvpResultLayerParam = void 0;
		var s = e("../../../Ui/base/LayerBase"),
			c = e("../rule/RuleTypes"),
			l = e("../../../Ui/base/RewardBtn"),
			u = e("../../../Base/ShareTypes"),
			d = e("./PvpLogic"),
			f = e("../../../Data/EconomicLogic"),
			p = e("../../../Config/SoundID"),
			h = e("../../Router"),
			y = e("./WorldMatchLayer"),
			g = e("./PvpUiHelper"),
			_ = e("../../home/HomeUi"),
			v = e("./MatchSuccessLayer"),
			b = e("../../../Ui/ads/SideAdsLayer"),
			m = e("../../../Config/ReportID"),
			w = e("../../../Effect/MoneyAnim"),
			S = e("../../../Base/AdsMgr"),
			C = e("../../../Config/EventID"),
			P = e("../../../Res/ResLoader"),
			L = e("../../../Config/GameConfig"),
			T = e("../../../Ui/record/RecordMgr"),
			D = e("../../../Data/wxsdk"),
			B = e("../../ShortcutMgr"),
			k = cc._decorator,
			R = k.ccclass,
			E = (k.property, k.menu),
			I = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.PvpResultLayerParam = I;
		var O = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.rank_prefix = "rank：", t.star_margin = 52, t.bet = 1, t.prizeReceived = !1, t.starSaved = !1, t.canReduceStar = !0, t.againBtnClicked = !1, t.retryBtnClicked = !1, t.homeBtnClicked = !1, t.timestamp = 0, t.resultType = c.RuleResultType.none, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.save_star_btn.getComponent(l.default).sharePos = u.SharePos.SaveStar, this.double_btn.getComponent(l.default).sharePos = u.SharePos.Result, this.timestamp = (new Date).getTime(), this.onAdsChanged(), cc.systemEvent.on(C.default.INSIDE_ADS_CHANGED, this.onAdsChanged, this), cc.systemEvent.on(C.default.INSIDE_ADS_CLICKED, this.onAdsChanged, this), this.side_ads_badage.active = !0, cc.systemEvent.emit(C.default.POP_RESULT), B.default.instance.installShortcut()
			}, t.prototype.onDestroy = function () {
				cc.systemEvent.off(C.default.INSIDE_ADS_CHANGED, this.onAdsChanged, this), cc.systemEvent.off(C.default.INSIDE_ADS_CLICKED, this.onAdsChanged, this), cc.systemEvent.off(T.RecorderEventId.stop, this._updateRecordBtn, this), e.prototype.onDestroy.call(this), d.default.instance.submitRank(), Server.saveData(DataBus.getString()).catch(function (e) {
					return null
				}), sdk.hideLoading()
			}, t.prototype.onDataLoad = function () {
				var e = this;
				this.resultType = this.data.param.resultType, cc.systemEvent.off(T.RecorderEventId.stop, this._updateRecordBtn, this), cc.systemEvent.on(T.RecorderEventId.stop, this._updateRecordBtn, this);
				var t = this._isWin(),
					n = t ? this.win_node : this.fail_node;
				this.other_ui = {}, Utils.loadVarFromNode(n, "_", this.other_ui), this.rank_lbl = this.other_ui.rank_lbl, this.dan_huge_stars = this.other_ui.dan_huge_stars, this.dan6_title = this.other_ui.dan6_title, this.dan_star_lbl = this.other_ui.dan_star_lbl, this.dan_lbl = this.other_ui.dan_lbl, this.vip_fail.active = !1, this.vip_win.active = !1;
				var o = this.canReduceStar = d.default.instance.canReduceStar();
				if (SoundMgr.play(t ? p.default.victory1 : p.default.fail), t) {
					var i = d.default.instance.localPlayerInfo.star;
					d.default.instance.doubleStar ? r(e, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return this.isValid ? [4, this._runVipAction(this.vip_win)] : [3, 2];
								case 1:
									e.sent(), e.label = 2;
								case 2:
									return this.isValid ? [4, this._addStar(i, i + 1)] : [3, 4];
								case 3:
									e.sent(), e.label = 4;
								case 4:
									return this.isValid && this._addStar(i + 1, 1 / 0), [2]
							}
						})
					}) : this._addStar(i, 1 / 0)
				} else o ? this._reduceStar() : (!t && d.default.instance.isVip && this._runVipAction(this.vip_fail), this._updateDisplay())
			}, t.prototype._updateDisplay = function () {
				if (this.isValid) {
					var e = d.default.instance.localPlayerInfo;
					g.default.instance.setPlayerDisplay(this.node, this, e);
					var t = this._isWin(),
						n = d.default.instance.getWorldMatchGamePrize(t || this.starSaved);
					n.coins > 0 ? (this.other_ui.coins_node.active = !0, this.other_ui.coins_lbl.string = "" + n.coins) : this.other_ui.coins_node.active = !1, n.bcoins > 0 ? (this.other_ui.bcoins_node.active = !0, this.other_ui.bcoins_lbl.string = "" + n.bcoins) : this.other_ui.bcoins_node.active = !1, this.win_node.active = t, this.fail_node.active = !t, this.again_btn.node.active = !0, this._updateRecordBtn()
				}
			}, t.prototype._updateRecordBtn = function () {
				var e = this._isWin(),
					t = T.default.instance.hasRecord();
				if (this.double_btn.node.active = e && !t, this.save_star_btn.node.active = !e, this.share_record_btn.node.active = t, t) {
					var n = this.share_record_btn.node.getChildByName("pop");
					if (n)
						if (this.prizeReceived) n.active = !1;
						else {
							var o = d.default.instance.getWorldMatchGamePrize(e || this.starSaved),
								i = o.bcoins > 0 || o.coins > 0;
							n.active = i
						}
				}
			}, t.prototype._addStar = function (e, t) {
				return r(this, void 0, void 0, function () {
					var n;
					return a(this, function (o) {
						switch (o.label) {
							case 0:
								return this.setAllBtnsEnabled(this.node, !1), (n = d.default.instance.localPlayerInfo).star = e, this._updateDisplay(), [4, g.default.instance.playAddStarAnimation(this, n)];
							case 1:
								return o.sent(), SoundMgr.play(p.default.right), [4, Utils.delayTime(.3, this)];
							case 2:
								return o.sent(), isFinite(t) ? n.star = t : d.default.instance.updateLocalPlayerInfo(n), this._updateDisplay(), this.setAllBtnsEnabled(this.node, !0), [2]
						}
					})
				})
			}, t.prototype._reduceStar = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return this.setAllBtnsEnabled(this.node, !1), e = d.default.instance.localPlayerInfo, d.default.instance.updateLocalPlayerInfo(e), this._updateDisplay(), [4, Utils.delayTime(.3, this)];
							case 1:
								return t.sent(), SoundMgr.play(p.default.error), [4, g.default.instance.playReduceStarAnimation(this, e)];
							case 2:
								return t.sent(), this.setAllBtnsEnabled(this.node, !0), [2]
						}
					})
				})
			}, t.prototype._isWin = function () {
				return this.resultType == c.RuleResultType.win
			}, t.prototype._receivePrize = function () {
				if (this.prizeReceived) return !1;
				var e = this._isWin(),
					t = d.default.instance.getWorldMatchGamePrize(e || this.starSaved),
					n = !1,
					o = 0;
				if (t.coins > 0) {
					var i = this.other_ui.coins_node.convertToWorldSpaceAR(cc.Vec2.ZERO);
					f.default.instance.addCoinsWithAnimation(t.coins * this.bet, i, o), o += .5, n = !0
				}
				if (t.bcoins > 0) {
					i = this.other_ui.bcoins_node.convertToWorldSpaceAR(cc.Vec2.ZERO);
					f.default.instance.addBCoinsWithAnimation(t.bcoins * this.bet, i, o), n = !0
				}
				return n && (DataBus.user.save(), this.prizeReceived = !0), !0
			}, t.prototype._saveStar = function () {
				if (this.starSaved) return !1;
				if (this._isWin()) return !1;
				if (this.canReduceStar) {
					d.default.instance.changeStar(1);
					var e = d.default.instance.localPlayerInfo;
					this._addStar(e.star, 1 / 0)
				}
				return DataBus.user.save(), this.starSaved = !0, this.playTurnOverAnim(), !0
			}, t.prototype.playTurnOverAnim = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n, o, i, r = this;
					return a(this, function (a) {
						return e = d.default.instance.getWorldMatchGamePrize(!0), t = this.save_star_btn.node.convertToWorldSpaceAR(cc.Vec2.ZERO), e.coins > 0 && (o = this.other_ui.coins_node, n = o.convertToWorldSpaceAR(cc.Vec2.ZERO), w.default.play("Prefab/item/coinsAnim", t, n, cc.misc.clampf(e.coins, 1, 6), !1, 700), Utils.delayTime(.6, this).then(function () {
							r.other_ui.coins_node.active = !0, r.other_ui.coins_lbl.string = "" + e.coins, r._updateRecordBtn()
						})), e.bcoins > 0 && (o = this.other_ui.bcoins_node, i = o.convertToWorldSpaceAR(cc.Vec2.ZERO), Utils.delayTime(.2, this).then(function () {
							w.default.play("Prefab/item/bcoinsAnim", t, i, cc.misc.clampf(e.coins, 1, 6), !1, 700), Utils.delayTime(.8, r).then(function () {
								r.other_ui.bcoins_node.active = !0, r.other_ui.bcoins_lbl.string = "" + e.bcoins, r._updateRecordBtn()
							})
						})), [2]
					})
				})
			}, t.prototype.onBtnHomeClick = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return this.homeBtnClicked = !0, this.setAllBtnsEnabled(this.node, !1), SoundMgr.play(p.default.btn), this._receivePrize() ? [4, Utils.delayTime(.8)] : [3, 2];
							case 1:
								e.sent(), e.label = 2;
							case 2:
								return this.close(), h.default.instance.enterHome(), b.default.showForBackHome(!0) && (_.default.hasLayerToShow = !0), [2]
						}
					})
				})
			}, t.prototype.onBtnRetryClick = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return this.retryBtnClicked = !0, this.setAllBtnsEnabled(this.node, !1), SoundMgr.play(p.default.btn), this._receivePrize() ? [4, Utils.delayTime(.8)] : [3, 2];
							case 1:
								e.sent(), e.label = 2;
							case 2:
								return this.close(), h.default.instance.enterHome(), _.default.hasLayerToShow = !0, y.default.show(!0), [2]
						}
					})
				})
			}, t.prototype.onDoubleRewardCallback = function (e, t) {
				e == l.RewardFuncParam.NoReward || e == l.RewardFuncParam.Other ? (this._receivePrize(), this.setAllBtnsEnabled(this.node, !0)) : e == l.RewardFuncParam.Click ? this.setAllBtnsEnabled(this.node, !1) : e == l.RewardFuncParam.Success ? (this.bet = 2, this._receivePrize(), this.double_tip && (this.double_tip.active = !1), this.setAllBtnsEnabled(this.node, !0)) : (L.GameConfig.VIDEO_FAIL_HAS_PRIZE && (this._receivePrize(), this.double_tip && (this.double_tip.active = !1)), this.setAllBtnsEnabled(this.node, !0))
			}, t.prototype.onSaveStarRewardCallback = function (e, t) {
				e == l.RewardFuncParam.Click ? this.setAllBtnsEnabled(this.node, !1) : e == l.RewardFuncParam.Success ? (this._saveStar(), this.setAllBtnsEnabled(this.node, !0)) : this.setAllBtnsEnabled(this.node, !0)
			}, t.prototype.onBtnAgainClick = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return SoundMgr.play(p.default.btn), Server.reportClick(m.default.pvp_again_click), this._receivePrize() ? (this.setAllBtnsEnabled(this.node, !1), [4, Utils.delayTime(.4, this)]) : [3, 2];
							case 1:
								t.sent(), this.setAllBtnsEnabled(this.node, !0), t.label = 2;
							case 2:
								return d.default.instance.worldMatchHasEnoughCoins() ? (this.againBtnClicked = !0, this.setAllBtnsEnabled(this.node, !0), sdk.showLoading("等待对手...", !1), [4, Utils.delayTime(Utils.randFloat(.1, 1), this)]) : (ui.showTips("Insufficient coins"), [2]);
							case 3:
								return t.sent(), sdk.hideLoading(), !this.isValid || this.retryBtnClicked || this.homeBtnClicked ? [2] : (new Date).getTime() - this.timestamp >= 15e3 ? (ui.showTips("The opponent has left"), [2]) : (Math.random() < .5 ? Math.random() < .5 ? ui.showTips("The opponent has left") : ui.showTips("The opponent rejected your request") : (this.setAllBtnsEnabled(this.node, !1), d.default.instance.confirmWhoBreaking(d.default.instance.localPlayerInfo), d.default.instance.confirmVip(), e = this.again_btn.node.convertToWorldSpaceAR(cc.Vec2.ZERO), d.default.instance.tryToCostWorldMatchTickets(e) ? (Server.reportClick(m.default.pvp_again_success), v.default.show(d.default.instance.getWorldMatchPrice()), this.close()) : this.setAllBtnsEnabled(this.node, !0)), [2])
						}
					})
				})
			}, t.prototype.setAllBtnsEnabled = function (e, t) {
				Utils.setAllBtnsEnabled(e, t), this.prizeReceived && Utils.setAllBtnsEnabled(this.double_btn.node, !1, !0), (this.prizeReceived || this.starSaved) && Utils.setAllBtnsEnabled(this.save_star_btn.node, !1, !0), this.againBtnClicked && Utils.setAllBtnsEnabled(this.again_btn.node, !1, !0)
			}, t.prototype._runVipAction = function (e) {
				e.active = !0;
				e.x = -700;
				var t = e.y;
				return e.stopAllActions(), new Promise(function (n, o) {
					e.runAction(cc.sequence(cc.moveTo(.2, -30, t), cc.moveTo(1.3, 30, t), cc.moveTo(.2, 700, t), cc.callFunc(function () {
						e.active = !1, n()
					})))
				})
			}, t.prototype.onAdsChanged = function () {
				var e = S.default.instance.isValid();
				this.side_ads_btn.node.active = e
			}, t.prototype.onBtnSideAdsClick = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return SoundMgr.play(p.default.btn), Utils.setAllBtnsEnabled(this.node, !1), [4, P.default.getBundle("home")];
							case 1:
								return e.sent(), b.default.show(!0), this.isValid && (this.side_ads_badage.active = !1, Utils.setAllBtnsEnabled(this.node, !0)), [2]
						}
					})
				})
			}, t.prototype.onShareRecordBtnClick = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return SoundMgr.play(p.default.btn), D.default.isLogin() && Utils.setAllBtnsEnabled(this.node, !1), [4, T.default.instance.share()];
							case 1:
								return e.sent() && !this.prizeReceived && (this.bet = 2, this._receivePrize(), this._updateRecordBtn()), Utils.setAllBtnsEnabled(this.node, !0), [2]
						}
					})
				})
			}, t.show = function (e, t) {
				void 0 === t && (t = null);
				var o = new I;
				return o.param = e, o.onClose = function () {
					return t && t()
				}, ui.showLayer(n, o)
			}, t.prefabName = "game://dynamic/layer/pvpResultLayer", t = n = i([R, E("Layer/PvpResultLayer")], t)
		}(s.default);
		n.default = O, window.PvpResultLayer = O, cc._RF.pop()
	}, {
		"../../../Base/AdsMgr": "AdsMgr",
		"../../../Base/ShareTypes": "ShareTypes",
		"../../../Config/EventID": "EventID",
		"../../../Config/GameConfig": "GameConfig",
		"../../../Config/ReportID": "ReportID",
		"../../../Config/SoundID": "SoundID",
		"../../../Data/EconomicLogic": "EconomicLogic",
		"../../../Data/wxsdk": "wxsdk",
		"../../../Effect/MoneyAnim": "MoneyAnim",
		"../../../Res/ResLoader": "ResLoader",
		"../../../Ui/ads/SideAdsLayer": "SideAdsLayer",
		"../../../Ui/base/LayerBase": "LayerBase",
		"../../../Ui/base/RewardBtn": "RewardBtn",
		"../../../Ui/record/RecordMgr": "RecordMgr",
		"../../Router": "Router",
		"../../ShortcutMgr": "ShortcutMgr",
		"../../home/HomeUi": "HomeUi",
		"../rule/RuleTypes": "RuleTypes",
		"./MatchSuccessLayer": "MatchSuccessLayer",
		"./PvpLogic": "PvpLogic",
		"./PvpUiHelper": "PvpUiHelper",
		"./WorldMatchLayer": "WorldMatchLayer"
	}],
	PvpScene: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "e9de98rqvJFf6VpIXv+s73A", "PvpScene");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../../Config/SoundID"),
			c = e("../../../Ui/Ui"),
			l = e("../PoolStage"),
			u = e("../PoolTypes"),
			d = e("../../../Ui/pause/PauseLayer"),
			f = e("../control/ShootPointLayer"),
			p = e("../../../Ui/cue/CueLayer"),
			h = e("../rule/RuleTypes"),
			y = e("../rule/BaseRule"),
			g = e("../rule/RuleFactory"),
			_ = e("../../../Config/EventID"),
			v = e("../../../Ui/game/TaskLayer"),
			b = e("../../../Ui/help/HelpLayer"),
			m = e("../../../Config/ReportID"),
			w = e("../../YdsdkBridge"),
			S = e("../item2/NoItemLayer"),
			C = e("../item2/UseItemLayer"),
			P = e("../../Router"),
			L = e("../../../Data/wxsdk"),
			T = e("./PvpDebugLayer"),
			D = e("./PvpLogic"),
			B = e("./PvpResultLayer"),
			k = e("../../../Config/GameConfig"),
			R = e("./EscapeLayer"),
			E = e("../../../Ui/skin/SkinLogic"),
			I = e("../../../Res/ResLoader"),
			O = e("../../../Ui/ads/SideAdsLayer"),
			A = e("../../home/HomeUi"),
			x = e("../../guide/GuideLogic"),
			N = e("../../../Base/StatusStack"),
			M = e("../../../Config/StatusStackID"),
			F = e("../../../Ui/dailyTask/DailyTaskLogic"),
			j = e("../../../Ui/dailyTask/DailyTaskTypes"),
			V = cc._decorator,
			G = V.ccclass,
			H = (V.property, V.menu),
			z = function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, Object.defineProperty(t, "prefabName", {
					get: function () {
						return "game://dynamic/scene/pvpScene"
					},
					enumerable: !1,
					configurable: !0
				}), t.loadSubPackage = function (e) {
					return void 0 === e && (e = !0), r(this, void 0, void 0, function () {
						var t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return t = !0, [4, I.default.getBundle("game_newbie", e)];
								case 1:
									return t = n.sent() && t, [4, I.default.getBundle("game", e)];
								case 2:
									return t = n.sent() && t, [4, I.default.getBundle("common", e)];
								case 3:
									return [2, t = n.sent() && t]
							}
						})
					})
				}, t.enterScene = function (e) {
					return void 0 === e && (e = !0), r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return [4, n.loadSubPackage(e)];
								case 1:
									return t.sent(), n.instance ? (n.instance.newGame(), [3, 4]) : [3, 2];
								case 2:
									return [4, ui.switchScene(n).then(function (e) {
										var t = e.getComponent(n);
										t.scheduleOnce(function () {
											t.newGame()
										})
									})];
								case 3:
									t.sent(), t.label = 4;
								case 4:
									return [2, !0]
							}
						})
					})
				}, t.prototype.onLoad = function () {
					Utils.loadVarFromNode(this.node, "$", this)
				}, t.prototype.start = function () {
					Server.reportClick(m.default.scene2), w.default.instance.onWeidu(1), n.instance = this, this.initUi(), this.getComponentInChildren(l.default).node.on(u.PoolEventId.GameOver, this.gameOver, this), (this.getComponent(c.SceneCtrl) || this.addComponent(c.SceneCtrl)).closeType = c.SceneCloseTypeEnum.self_fade_out_to_right, SoundMgr.stopMusic()
				}, t.prototype.onDestroy = function () {
					n.instance = null, this._closeAllLayer(), cc.sys.garbageCollect(), L.default.isWX() && wx.triggerGC(), N.default.instance.removeStatus(M.default.banner, "ai")
				}, t.prototype.initUi = function () {
					this.debug_btn.node.active = k.GameConfig.DEBUG
				}, t.prototype.loadPuzzle = function () {
					return r(this, void 0, void 0, function () {
						var e, t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return [4, Utils.delayTime(.02, this)];
								case 1:
									return n.sent(), cc.systemEvent.emit(_.default.LOAD_PUZZLE, -1, !1), e = this.getComponentInChildren(l.default), t = g.default.instance.createRule(e.node, h.RuleType.Eight, !1), [4, Utils.delayTime(.02, this)];
								case 2:
									return n.sent(), t.setData({
										playerInfo: D.default.instance.localPlayerInfo,
										oppoInfo: D.default.instance.oppoPlayerInfo,
										breaking: D.default.instance.breaking
									}), e.loadEight(), Server.reportClick(m.default.match_enter), D.default.instance.beforePvp(), [2]
							}
						})
					})
				}, t.prototype.newGame = function () {
					return this.loadPuzzle()
				}, t.prototype._closeAllLayer = function () {
					d.default.close(), f.default.close(), p.default.close(), v.default.close(), b.default.close(), S.default.close(), C.default.close(), R.default.close(), T.default.close()
				}, t.prototype.gameOver = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return this._closeAllLayer(), Utils.setAllBtnsEnabled(this.node, !1), e.resultType != h.RuleResultType.win ? [3, 3] : (console.log("对战胜利"), Server.reportClick(m.default.match_success), D.default.instance.changeOpponentStar(-1), D.default.instance.addStar(), D.default.instance.reportDan(), D.default.instance.afterPvp(e.resultType), F.default.instance.addDailyProgress(j.DailyTaskID.pvp_win, 1), [4, x.default.instance.tryToFinishSuperLineGuide()]);
								case 1:
									return t.sent(), [4, B.default.show(e)];
								case 2:
									return t.sent(), E.default.instance.tryToUnlock(), [3, 6];
								case 3:
									return Server.reportClick(m.default.match_fail), D.default.instance.changeOpponentStar(1), D.default.instance.canReduceStar() && D.default.instance.changeStar(-1), D.default.instance.reportDan(), [4, x.default.instance.tryToFinishSuperLineGuide()];
								case 4:
									return t.sent(), [4, B.default.show(e)];
								case 5:
									t.sent(), t.label = 6;
								case 6:
									return this.isValid && Utils.setAllBtnsEnabled(this.node, !0), [2]
							}
						})
					})
				}, t.prototype.pause = function () {
					if (this.isValid) {
						var e = this.getComponentInChildren(y.default);
						e && e.pause()
					}
				}, t.prototype.resume = function () {
					if (this.isValid) {
						var e = this.getComponentInChildren(y.default);
						e && e.resume()
					}
				}, t.prototype.onBtnPauseClick = function () {
					SoundMgr.play(s.default.btn), ui.getSceneLength() > 1 ? ui.popScene(n) : P.default.instance.enterHome()
				}, t.prototype.onBtnHomeClick = function () {
					var e = this;
					SoundMgr.play(s.default.btn), Utils.setAllBtnsEnabled(this.node, !1), R.default.show().then(function (t) {
						return r(e, void 0, void 0, function () {
							return a(this, function (e) {
								switch (e.label) {
									case 0:
										return t ? (this.getComponentInChildren(y.default).destroy(), [4, x.default.instance.tryToFinishSuperLineGuide()]) : [3, 2];
									case 1:
										return e.sent(), P.default.instance.enterHome(), O.default.showForBackHome(!0) && (A.default.hasLayerToShow = !0), [3, 3];
									case 2:
										Utils.setAllBtnsEnabled(this.node, !0), e.label = 3;
									case 3:
										return [2]
								}
							})
						})
					})
				}, t.prototype.onBtnDebugClick = function () {
					SoundMgr.play(s.default.btn), Utils.disableAllBtnsAmoment(this.node, .2, this), ui.showLayer(T.default)
				}, t.instance = null, t = n = i([G, H("Scene/PvpScene")], t)
			}(cc.Component);
		n.default = z, window.PvpScene = z, cc._RF.pop()
	}, {
		"../../../Base/StatusStack": "StatusStack",
		"../../../Config/EventID": "EventID",
		"../../../Config/GameConfig": "GameConfig",
		"../../../Config/ReportID": "ReportID",
		"../../../Config/SoundID": "SoundID",
		"../../../Config/StatusStackID": "StatusStackID",
		"../../../Data/wxsdk": "wxsdk",
		"../../../Res/ResLoader": "ResLoader",
		"../../../Ui/Ui": "Ui",
		"../../../Ui/ads/SideAdsLayer": "SideAdsLayer",
		"../../../Ui/cue/CueLayer": "CueLayer",
		"../../../Ui/dailyTask/DailyTaskLogic": "DailyTaskLogic",
		"../../../Ui/dailyTask/DailyTaskTypes": "DailyTaskTypes",
		"../../../Ui/game/TaskLayer": "TaskLayer",
		"../../../Ui/help/HelpLayer": "HelpLayer",
		"../../../Ui/pause/PauseLayer": "PauseLayer",
		"../../../Ui/skin/SkinLogic": "SkinLogic",
		"../../Router": "Router",
		"../../YdsdkBridge": "YdsdkBridge",
		"../../guide/GuideLogic": "GuideLogic",
		"../../home/HomeUi": "HomeUi",
		"../PoolStage": "PoolStage",
		"../PoolTypes": "PoolTypes",
		"../control/ShootPointLayer": "ShootPointLayer",
		"../item2/NoItemLayer": "NoItemLayer",
		"../item2/UseItemLayer": "UseItemLayer",
		"../rule/BaseRule": "BaseRule",
		"../rule/RuleFactory": "RuleFactory",
		"../rule/RuleTypes": "RuleTypes",
		"./EscapeLayer": "EscapeLayer",
		"./PvpDebugLayer": "PvpDebugLayer",
		"./PvpLogic": "PvpLogic",
		"./PvpResultLayer": "PvpResultLayer"
	}],
	PvpTurnUi: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "446219w9b1Ilpj6DE2u2rre", "PvpTurnUi");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("./PvpLogic"),
			c = e("./PvpUiHelper"),
			l = cc._decorator,
			u = l.ccclass,
			d = l.property,
			f = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.isLeft = !0, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					Utils.loadVarFromNode(this.node, "$", this)
				}, t.prototype.start = function () {
					this.node.active = !1
				}, t.prototype.setPlayerInfo = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							return e = e || s.default.instance.createBlankPlayerInfo(), c.default.instance.setPlayerDisplay(this.node, this, e), [2]
						})
					})
				}, t.prototype.show = function () {
					var e = this,
						t = this.isLeft ? -1 : 1;
					(n = this.turn_node).stopAllActions(), n.x = 700 * t, n.runAction(cc.sequence(cc.moveTo(.2, 30 * t, n.y), cc.moveBy(1.2, 30 * -t, 0), cc.moveTo(.2, 700 * -t, n.y))), (n = this.dan_node).stopAllActions(), n.x = 600 * -t, n.runAction(cc.sequence(cc.moveTo(.2, 30 * -t, n.y), cc.moveBy(1.2, 30 * t, 0), cc.moveTo(.2, 600 * t, n.y))), (n = this.role_sp.node).stopAllActions(), n.scale = 0, n.opacity = 255, n.runAction(cc.sequence(cc.scaleTo(.2, .8), cc.scaleTo(1.2, 1), cc.fadeOut(.1)));
					var n = this.node;
					this.node.active = !0, n.stopAllActions(), n.runAction(cc.sequence(cc.delayTime(1.4 + .2), cc.callFunc(function () {
						e.node.active = !1
					})))
				}, i([d({
					displayName: "在左侧"
				})], t.prototype, "isLeft", void 0), t = i([u], t)
			}(cc.Component);
		n.default = f, cc._RF.pop()
	}, {
		"./PvpLogic": "PvpLogic",
		"./PvpUiHelper": "PvpUiHelper"
	}],
	PvpUiHelper: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "3ee23UeSApCObRSAuJ33D5Q", "PvpUiHelper");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../LevelConfig"),
			a = e("../../../Res/ResLoader"),
			s = e("./PvpLogic"),
			c = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.setPlayerDisplay = function (e, t, n) {
					var o = this;
					if (e && e.isValid) {
						e.__info = n, t.rank_lbl && (t.rank_lbl.string = (t.rank_prefix || "") + (n.rank > 30 || n.rank <= 0 ? "30+" : n.rank)), t.nick_lbl && (t.nick_lbl.string = "" + n.nickname);
						var i = r.default.instance.getDanConfig(n.star);
						t.dan_sp && a.default.getSpriteFrameRes(s.default.instance.getDanRes(i.dan)).then(function (o) {
							e.isValid && e.__info == n && (t.dan_sp.spriteFrame = o)
						}).catch(function (e) {
							return console.error(e)
						}), t.dan_db && t.dan_db.playAnimation("hz" + (i.dan + 1), -1), 6 == i.dan && t.dan6_title ? (t.dan6_title.active = !0, t.dan_lbl && (t.dan_lbl.node.active = !1)) : (t.dan6_title && (t.dan6_title.active = !1), t.dan_lbl && (t.dan_lbl.node.active = !0), t.dan_lbl && (t.dan_lbl.string = i.dan_name + i.level_name)), t.role_sp && a.default.getSpriteFrameRes(s.default.instance.getRoleThumbRes(n.role)).then(function (o) {
							e.isValid && e.__info == n && (t.role_sp.spriteFrame = o)
						}).catch(function (e) {
							return console.error(e)
						}), t.role_db_node && a.default.getDragonbonesNodeRes(s.default.instance.getRoleRes(n.role)).then(function (o) {
							e.isValid && e.__info == n ? (t.role_db_node.children.slice().forEach(function (e) {
								return a.default.removeNode(e)
							}), o.parent = t.role_db_node) : a.default.removeNode(o)
						}).catch(function (e) {
							return console.error(e)
						});
						var c = i.sub_star,
							l = i.sub_star_total,
							u = t.star_max || 4;
						if (c > u && !t.dan_huge_stars && (c = l = u), 6 == i.dan && (l = 1, u = 0), c > u) {
							if (t.dan_huge_stars && (t.dan_huge_stars.active = !0), t.dan_stars && (t.dan_stars.active = !1), t.dan_stars_bg && (t.dan_stars_bg.active = !1), t.dan_star_lbl && (t.dan_star_lbl.string = "X" + c), t.dan_star_lbl) {
								var d = t.dan_star_lbl.node;
								d.stopAllActions(), d.runAction(cc.sequence(cc.scaleTo(.2, 1.2), cc.scaleTo(.2, 1)))
							}
						} else {
							t.dan_huge_stars && (t.dan_huge_stars.active = !1), t.dan_stars && (t.dan_stars.active = !0), t.dan_stars_bg && (t.dan_stars_bg.active = !0);
							var f = t.star_margin || 55,
								p = function (e, t, n) {
									n >= e ? t.active = !1 : (t.active = !0, t.x = o.getStarPositionX(n, l, f))
								},
								h = t.dan_stars_bg;
							if (h) {
								for (; h.childrenCount < l;) {
									cc.instantiate(h.children[0]).parent = h
								}
								h.children.forEach(p.bind(t, l))
							}
							var y = t.dan_stars;
							if (y) {
								for (; y.childrenCount < c;) {
									cc.instantiate(y.children[0]).parent = y
								}
								y.children.forEach(p.bind(t, c))
							}
						}
					}
				}, e.prototype.getStarPositionX = function (e, t, n) {
					return -.5 * ((t - 1) * n) + e * n
				}, e.prototype.playAddStarAnimation = function (e, t) {
					return o(this, void 0, void 0, function () {
						return i(this, function (n) {
							return [2, this._playStarAnimation(e, t, !0)]
						})
					})
				}, e.prototype.playReduceStarAnimation = function (e, t) {
					return o(this, void 0, void 0, function () {
						return i(this, function (n) {
							return [2, this._playStarAnimation(e, t, !1)]
						})
					})
				}, e.prototype._playStarAnimation = function (e, t, n) {
					return o(this, void 0, void 0, function () {
						var o, a, s, c, l, u;
						return i(this, function (i) {
							return (o = e.dan_stars) ? (a = r.default.instance.getDanConfig(t.star), s = a.sub_star, c = a.sub_star_total, (l = o.children[s]) || ((l = cc.instantiate(o.children[0])).parent = o), l.active = !0, u = e.star_margin || 55, l.x = this.getStarPositionX(s, c, u), [2, new Promise(function (e, t) {
								l.stopAllActions();
								var o = n ? 0 : 255,
									i = n ? 255 : 0,
									r = n ? 5 : 1,
									a = n ? 1 : 5;
								l.opacity = o, l.scale = r, l.runAction(cc.sequence(cc.spawn(cc.scaleTo(.5, a), cc.fadeTo(.5, i)), cc.callFunc(e)))
							})]) : [2]
						})
					})
				}, e._instance = null, e
			}();
		n.default = c, cc._RF.pop()
	}, {
		"../../../Res/ResLoader": "ResLoader",
		"../../LevelConfig": "LevelConfig",
		"./PvpLogic": "PvpLogic"
	}],
	RankItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "8db34qaB7FPk60gP3S4OiQO", "RankItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Lib/tableView/viewCell"),
			a = cc._decorator,
			s = a.ccclass,
			c = a.property,
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.normalNode = null, t.lastNode = null, t.rankSp = null, t.rankLbl = null, t.avatarSp = null, t.nickLbl = null, t.scoreLbl = null, t.avatarSf = null, t.rankSfList = [], t
				}
				var n;
				return o(t, e), n = t, t.prototype.init = function (e, t, o, i) {
					var r = t.list[e];
					if (this.normalNode && (this.normalNode.active = !!r), this.lastNode && (this.lastNode.active = !r && n.showLastNode), r) {
						var a = parseInt(r.rank);
						a && a <= 3 ? (this.rankLbl.node.active = !1, this.rankSp.node.active = !0, this.rankSp.spriteFrame = this.rankSfList[a - 1]) : (this.rankLbl.node.active = !0, this.rankSp.node.active = !1), this.rankLbl.string = r.rank, Utils.loadImage(this.avatarSp, r.avatar, null, this.avatarSf), this.nickLbl.string = r.name;
						var s = parseInt(r.score) || 0;
						this.scoreLbl.string = t.formatFunc ? t.formatFunc(s) : "" + s
					}
				}, t.showLastNode = !1, i([c(cc.Node)], t.prototype, "normalNode", void 0), i([c(cc.Node)], t.prototype, "lastNode", void 0), i([c(cc.Sprite)], t.prototype, "rankSp", void 0), i([c(cc.Label)], t.prototype, "rankLbl", void 0), i([c(cc.Sprite)], t.prototype, "avatarSp", void 0), i([c(cc.Label)], t.prototype, "nickLbl", void 0), i([c(cc.Label)], t.prototype, "scoreLbl", void 0), i([c(cc.SpriteFrame)], t.prototype, "avatarSf", void 0), i([c([cc.SpriteFrame])], t.prototype, "rankSfList", void 0), t = n = i([s], t)
			}(r.default);
		n.default = l, cc._RF.pop()
	}, {
		"../../Lib/tableView/viewCell": "viewCell"
	}],
	RankLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "60d817cJhtKKZQxl+aWF7x/", "RankLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.RankLayerParam = n.RankType = void 0;
		var s, c = e("../base/LayerBase"),
			l = e("../base/Sub"),
			u = e("../../Base/Share"),
			d = e("../../Base/ShareTypes"),
			f = e("../../Base/UserInfoBtn"),
			p = e("./RankItem"),
			h = e("../Ui"),
			y = e("../../Config/SoundID"),
			g = e("../../Config/ReportID"),
			_ = e("../../Runtime/game/pvp/PvpLogic"),
			v = e("../../Runtime/LevelConfig"),
			b = cc._decorator,
			m = b.ccclass,
			w = b.property;
		(function (e) {
			e[e.Friend = 0] = "Friend", e[e.World = 1] = "World", e[e.Dan = 2] = "Dan", e[e.Group = 3] = "Group"
		})(s = n.RankType || (n.RankType = {}));
		var S = function () {
			return function () {
				this.defaultType = s.Friend, this.onClose = function () { }
			}
		}();
		n.RankLayerParam = S;
		var C = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.friendPnl = null, t.worldPnl = null, t.danPnl = null, t.sub = null, t.tabNode = null, t.userInfoBtn = null, t._lastPullWorldTime = 0, t._dataSubmit = !1, t._danDataLoaded = !1, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), this.updateWxSize(), Server.reportClick(g.default.rank1)
			}, t.prototype.start = function () {
				e.prototype.start && e.prototype.start.call(this), this.friendPnl.active = !1, this.sub.node.active = !1, this.worldPnl.active = !1, this.worldPnl.getChildByName("mine").getComponentInChildren(p.default).node.active = !1, this.danPnl.active = !1, this.danPnl.getChildByName("mine").getComponentInChildren(p.default).node.active = !1, this.userInfoBtn.enabled = !0, this.initUserInfoBtn()
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this), SDK.hideLoading()
			}, t.prototype.onDataLoad = function () {
				var e = this;
				this.scheduleOnce(function () {
					e.data ? e.showRank(e.data.defaultType) : e.showRank(s.Friend)
				}, 0)
			}, t.prototype.onBtnFriendsClick = function () {
				SoundMgr.play(y.default.btn), this.showRank(s.Friend)
			}, t.prototype.onBtnWorldClick = function () {
				SoundMgr.play(y.default.btn), this.showRank(s.World)
			}, t.prototype.onBtnDanClick = function () {
				SoundMgr.play(y.default.btn), this.showRank(s.Dan)
			}, t.prototype.showRank = function (e) {
				switch (this.updateBtnUI(e), e) {
					case s.Friend:
						this.showFriend();
						break;
					case s.World:
						this.showWorld();
						break;
					case s.Dan:
						this.showDan();
						break;
					case s.Group:
						u.default.shareWithoutCallback(d.SharePos.Group)
				}
			}, t.prototype.showDan = function () {
				return r(this, void 0, void 0, function () {
					var e, t;
					return a(this, function (n) {
						switch (n.label) {
							case 0:
								return this.friendPnl.active = !1, this.worldPnl.active = !1, this.danPnl.active = !0, p.default.showLastNode = !0, this.sub.hide(), this._danDataLoaded ? [3, 5] : (sdk.showLoading("加载中...", !1), this._dataSubmit ? [3, 2] : (e = this, [4, _.default.instance.submitRank()]));
							case 1:
								e._dataSubmit = !!n.sent(), n.label = 2;
							case 2:
								return this._dataSubmit ? [3, 3] : (sdk.hideLoading(), h.default.showTips("更新榜单失败了!"), [3, 5]);
							case 3:
								return [4, _.default.instance.getRank()];
							case 4:
								t = n.sent(), sdk.hideLoading(), this.isValid && (t ? (this._danDataLoaded = !0, this.updateDanData(t)) : h.default.showTips("获取榜单失败了!")), n.label = 5;
							case 5:
								return [2]
						}
					})
				})
			}, t.prototype.showWorld = function () {
				this.friendPnl.active = !1, this.worldPnl.active = !0, this.danPnl.active = !1, p.default.showLastNode = !1, this.sub.hide()
			}, t.prototype.showFriend = function () {
				this.friendPnl.active = !0, this.worldPnl.active = !1, this.danPnl.active = !1, p.default.showLastNode = !1;
				var e = sdk.isIos() || sdk.sys.benchmarkLevel >= 10 ? 60 : 30;
				this.sub.hide(), this.sub.show({
					msg: "rank",
					action: "show",
					key: ["level"],
					pageMode: !1,
					startUpdate: !0
				}, e)
			}, t.prototype.updateWorldData = function (e) {
				e.mine && (DataBus.user.avatar = e.mine.avatar, DataBus.user.nickname = e.mine.name, DataBus.user.save());
				var t = this.worldPnl.getComponentInChildren("tableView"),
					n = e.list,
					o = {
						list: n,
						formatFunc: function (e) {
							return e + "关"
						}
					};
				t.initTableView(n.length, o);
				var i = this.worldPnl.getChildByName("mine").getComponentInChildren(p.default);
				if (e.mine) {
					i.node.active = !0;
					var r = {
						list: [e.mine],
						formatFunc: function (e) {
							return e + "关"
						}
					};
					i.init(0, r, void 0, void 0)
				} else i.node.active = !1
			}, t.prototype.updateDanData = function (e) {
				var t = this.danPnl.getComponentInChildren("tableView"),
					o = e.list,
					i = {
						list: o,
						formatFunc: function (e) {
							return n._getDanName(e)
						}
					};
				t.initTableView(o.length + 1, i);
				var r = this.danPnl.getChildByName("mine").getComponentInChildren(p.default);
				if (e.mine) {
					r.node.active = !0;
					var a = {
						list: [e.mine],
						formatFunc: function (e) {
							return n._getDanName(e)
						}
					};
					r.init(0, a, void 0, void 0)
				} else r.node.active = !1
			}, t._getDanName = function (e) {
				var t = this._danNameList[e];
				if (!t) {
					var n = v.default.instance.getDanConfig(e);
					t = this._danNameList[e] = n.dan_name + n.level_name
				}
				return t
			}, t.prototype.onUserInfoSuccess = function (e) {
				return r(this, void 0, void 0, function () {
					var t, n;
					return a(this, function (o) {
						switch (o.label) {
							case 0:
								return t = DataBus.user.level, [4, Server.submitLeaderboard(t.toFixed(), e)];
							case 1:
								return o.sent(), [4, Server.getLeaderboard()];
							case 2:
								return n = o.sent(), this.isValid && (this.updateWorldData(n.data.data), this.userInfoBtn.enabled = !1, this.showRank(s.World)), [2]
						}
					})
				})
			}, t.prototype.initUserInfoBtn = function () {
				var e = this,
					t = this.userInfoBtn;
				t.successFunc = function (t) {
					var n = (new Date).getTime();
					Math.abs(n - e._lastPullWorldTime) < 1e3 || (e._lastPullWorldTime = n, sdk.showLoading("加载中...", !1), e.onUserInfoSuccess(t).then(function () {
						sdk.hideLoading()
					}).catch(function (e) {
						sdk.hideLoading(), console.error("获取世界排行榜失败: ", e), h.default.showTips("获取世界排行榜失败了!")
					}))
				}, t.failFunc = function (e) {
					h.default.showTips("需要用户授权才能查看世界排名哦!")
				}
			}, t.prototype.updateBtnUI = function (e) {
				var t = e == s.Friend,
					n = e == s.World,
					o = e == s.Dan,
					i = this.tabNode,
					r = i.getChildByName("item1"),
					a = i.getChildByName("item2"),
					c = i.getChildByName("item3"),
					l = r.getChildByName("gray");
				l && (l.active = !t);
				var u = r.getChildByName("bright");
				u && (u.active = t);
				var d = a.getChildByName("gray");
				d && (d.active = !n);
				var f = a.getChildByName("bright");
				f && (f.active = n);
				var p = c.getChildByName("gray");
				p && (p.active = !o);
				var h = c.getChildByName("bright");
				h && (h.active = o)
			}, t.prototype.updateWxSize = function () {
				var e = this;
				this.schedule(function () {
					e.sub.updateSize(), e.userInfoBtn.updateSize()
				}, .12, 5)
			}, t.show = function (e) {
				return new Promise(function (t, o) {
					var i = new S;
					i.defaultType = e, i.onClose = t, h.default.showLayer(n, i)
				})
			}, t.prefabName = "home://dynamic/layer/rankLayer", t._danNameList = {}, i([w(cc.Node)], t.prototype, "friendPnl", void 0), i([w(cc.Node)], t.prototype, "worldPnl", void 0), i([w(cc.Node)], t.prototype, "danPnl", void 0), i([w(l.default)], t.prototype, "sub", void 0), i([w(cc.Node)], t.prototype, "tabNode", void 0), i([w(f.default)], t.prototype, "userInfoBtn", void 0), t = n = i([m], t)
		}(c.default);
		n.default = C, cc._RF.pop()
	}, {
		"../../Base/Share": "Share",
		"../../Base/ShareTypes": "ShareTypes",
		"../../Base/UserInfoBtn": "UserInfoBtn",
		"../../Config/ReportID": "ReportID",
		"../../Config/SoundID": "SoundID",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../../Runtime/game/pvp/PvpLogic": "PvpLogic",
		"../Ui": "Ui",
		"../base/LayerBase": "LayerBase",
		"../base/Sub": "Sub",
		"./RankItem": "RankItem"
	}],
	RankTestData: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "cd655GYcfJCnKvRZaQhgDEO", "RankTestData"), cc._RF.pop()
	}, {}],
	ReceiveItemLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d0246vTNMJHKLkopnbEYuyJ", "ReceiveItemLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.ReceiveItemLayerParam = void 0;
		var s = e("../../../Ui/base/LayerBase"),
			c = e("../../LevelConfig"),
			l = e("../../../Config/SoundID"),
			u = e("../../../Ui/prize/PrizePanel"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, d.menu),
			h = function () {
				return function () {
					this.success = !1, this.onClose = function () { }
				}
			}();
		n.ReceiveItemLayerParam = h;
		var y = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.product = {}, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this._updateDisplay()
			}, t.prototype._updateDisplay = function () {
				var e = this.data.config;
				this.node.getComponentInChildren(u.default).setData(e), SoundMgr.play(l.default.open_gift)
			}, t.prototype.receivePrize = function () {
				return r(this, void 0, void 0, function () {
					var e, t;
					return a(this, function (n) {
						switch (n.label) {
							case 0:
								return Utils.setAllBtnsEnabled(this.node, !1), (e = this.node.getComponentInChildren(u.default)).receivePrize(), t = e.noticePrizeReceived(), [4, Utils.delayTime(t, this)];
							case 1:
								return n.sent(), this.close(), [2]
						}
					})
				})
			}, t.prototype.onBtnCloseClick = function () {
				SoundMgr.play(l.default.btn), this.receivePrize()
			}, t.show = function (e) {
				return new Promise(function (t, o) {
					var i = new h;
					i.config = e, i.onClose = t, ui.showLayer(n, i)
				})
			}, t.showForEnergy = function (e) {
				return new Promise(function (t, o) {
					var i = new h;
					i.config = [{
						type: c.LevelPrizeType.energy,
						value: e
					}], i.onClose = t, ui.showLayer(n, i)
				})
			}, t.prefabName = "common://dynamic/layer/receiveItemLayer", t = n = i([f, p("Layer/ReceiveItemLayer")], t)
		}(s.default);
		n.default = y, window.ReceiveItemLayer = y, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"../../../Ui/base/LayerBase": "LayerBase",
		"../../../Ui/prize/PrizePanel": "PrizePanel",
		"../../LevelConfig": "LevelConfig"
	}],
	RecordBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "64ec4FegidF2o9jfv1teJKV", "RecordBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.RecordBtnStatus = void 0;
		var r, a = e("./RecordMgr"),
			s = e("../../Config/EventID"),
			c = e("../../Config/SoundID"),
			l = e("../../Runtime/guide/GuideLogic"),
			u = e("../../Data/wxsdk"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._displayStatus = r.none, t._status = r.stop, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "status", {
					get: function () {
						return this._status
					},
					set: function (e) {
						this._status = e, this._updateDisplay()
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.start = function () {
					u.default.isTT() ? (this._updateDisplay(), cc.systemEvent.on(s.default.LOAD_PUZZLE, this._onGameStart, this), cc.systemEvent.on(s.default.POP_RESULT, this._onGameOver, this), cc.systemEvent.on(a.RecorderEventId.start, this._onStart, this), cc.systemEvent.on(a.RecorderEventId.stop, this._onStop, this), cc.systemEvent.on(a.RecorderEventId.pause, this._onPause, this), cc.systemEvent.on(a.RecorderEventId.resume, this._onResume, this), cc.systemEvent.on(a.RecorderEventId.error, this._onError, this)) : this.node.active = !1
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(s.default.LOAD_PUZZLE, this._onGameStart, this), cc.systemEvent.off(s.default.POP_RESULT, this._onGameOver, this), cc.systemEvent.off(a.RecorderEventId.start, this._onStart, this), cc.systemEvent.off(a.RecorderEventId.stop, this._onStop, this), cc.systemEvent.off(a.RecorderEventId.pause, this._onPause, this), cc.systemEvent.off(a.RecorderEventId.resume, this._onResume, this), cc.systemEvent.off(a.RecorderEventId.error, this._onError, this)
				}, t.prototype._onGameStart = function () {
					l.default.instance.isGuideFinished() ? (this.node.active = !0, a.default.instance.stop(), this.status = r.stop) : this.node.active = !1
				}, t.prototype._onGameOver = function () {
					a.default.instance.stop()
				}, t.prototype._onStart = function (e) {
					this.status = r.recording
				}, t.prototype._onStop = function (e, t) {
					this.status = r.stop, (!e || t < a.default.instance.minDuration) && ui.showTips("录屏失败：录屏时长低于 3 秒")
				}, t.prototype._onPause = function () {
					this.status = r.pause
				}, t.prototype._onResume = function () {
					this.status = r.recording
				}, t.prototype._onError = function () {
					this.status = r.stop, ui.showTips("录屏出错了")
				}, t.prototype._updateDisplay = function () {
					if (this._displayStatus != this.status) {
						var e = this.node.getChildByName("recording"),
							t = this.node.getChildByName("normal"),
							n = r.recording == this.status;
						e.active = n, t.active = !n, this._displayStatus = this.status
					}
				}, t.prototype.onClick = function () {
					SoundMgr.play(c.default.btn), Utils.disableAllBtnsAmoment(this.node, .3, this), a.default.instance.isSupport() ? this.status == r.recording ? a.default.instance.stop() : this.status == r.pause ? a.default.instance.resume() : a.default.instance.start(300) : ui.showTips("APP不支持录屏，请升级您的APP")
				}, t = i([f], t)
			}(cc.Component));
		n.default = p,
			function (e) {
				e[e.none = 0] = "none", e[e.stop = 1] = "stop", e[e.recording = 2] = "recording", e[e.pause = 3] = "pause"
			}(r = n.RecordBtnStatus || (n.RecordBtnStatus = {})), cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Config/SoundID": "SoundID",
		"../../Data/wxsdk": "wxsdk",
		"../../Runtime/guide/GuideLogic": "GuideLogic",
		"./RecordMgr": "RecordMgr"
	}],
	RecordMgr: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f5567LFfBBNXaycO5AMqff8", "RecordMgr");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.RecorderEventId = void 0;
		var r, a = e("../../Base/Share"),
			s = function () {
				function e() {
					if (this._videoPath = "", this._duration = 0, this._timestamp = 0, this._minDuration = 3500, this._recording = !1, this.isSupport()) {
						var e = tt.getGameRecorderManager();
						e && (e.onStart && e.onStart(this._onStart), e.onStop && e.onStop(this._onStop), e.onPause && e.onPause(this._onPause), e.onResume && e.onResume(this._onResume), e.onError && e.onError(this._onError), e.onInterruptionBegin && e.onInterruptionBegin(this._onIntBegin), e.onInterruptionEnd && e.onInterruptionEnd(this._onIntEnd))
					}
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(e.prototype, "minDuration", {
					get: function () {
						return this._minDuration
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(e.prototype, "recording", {
					get: function () {
						return this._recording
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.isSupport = function () {
					return "undefined" != typeof tt && !!tt.getGameRecorderManager
				}, e.prototype.hasRecord = function () {
					return this._recording ? (console.log("[是否有录屏]录屏尚未停止！"), !1) : this._videoPath ? this._duration < this._minDuration ? (console.log("[是否有录屏]录屏时长过短！"), !1) : (console.log("[是否有录屏]有录屏！"), !0) : (console.log("[是否有录屏]录屏不存在！"), !1)
				}, e.prototype.start = function (e) {
					if (this.isSupport()) {
						var t = tt.getGameRecorderManager();
						t && t.start && t.start({
							duration: e,
							canvas: cc.game.canvas
						})
					}
				}, e.prototype.stop = function () {
					if (this.isSupport()) {
						var e = tt.getGameRecorderManager();
						e && e.stop && e.stop()
					}
				}, e.prototype.pause = function () {
					if (this.isSupport()) {
						var e = tt.getGameRecorderManager();
						if (e && e.pause) return e.pause(), !0
					}
					return !1
				}, e.prototype.resume = function () {
					if (this.isSupport()) {
						var e = tt.getGameRecorderManager();
						e && e.resume && e.resume()
					}
				}, e.prototype.checkShareEnv = function () {
					return "undefined" != typeof tt && !!tt.shareAppMessage
				}, e.prototype.share = function () {
					return o(this, void 0, Promise, function () {
						var e = this;
						return i(this, function (t) {
							return this.checkShareEnv() ? !this._videoPath || this._duration < this._minDuration ? (console.log("[分享录屏]分享无效, 已录制:" + !!this._videoPath + ", 时长:" + this._duration), ui.showTips("视频未录制成功，或时长太短"), [2, !1]) : [2, new Promise(function (t, n) {
								var o = !1,
									i = 0,
									r = "share_video";
								sdk.onShow(r, function () {
									sdk.offShow(r), i = setTimeout(function () {
										o || (console.log("[分享录屏]无回调, 算成功"), t(!0))
									}, 200)
								}), tt.shareAppMessage({
									channel: "video",
									title: "台球冠军",
									desc: a.default.defaultShareTitle,
									extra: {
										videoPath: e._videoPath
									},
									success: function (e) {
										console.log("[分享录屏]成功：", e), o = !0, sdk.offShow(r), clearTimeout(i), t(!0)
									},
									fail: function (e) {
										console.log("[分享录屏]失败：", e), ui.showTips("分享失败"), o = !0, sdk.offShow(r), clearTimeout(i), t(!1)
									}
								})
							})] : (ui.showTips("APP不支持分享录屏"), [2, !1])
						})
					})
				}, e.prototype._onStart = function (t) {
					var n = e.instance;
					n._recording = !0, console.log("[录屏]开始：", t), n._duration = 0, n._timestamp = (new Date).getTime(), cc.systemEvent.emit(r.start, t)
				}, e.prototype._onStop = function (t) {
					var n = e.instance;
					n._recording = !1, n._videoPath = t.videoPath || "", console.log("[录屏]停止：", t), n._timestamp > 0 && (n._duration += (new Date).getTime() - n._timestamp, n._timestamp = 0), console.log("[录屏]此次录屏时长：" + (n._duration / 1e3).toFixed(2) + "秒"), cc.systemEvent.emit(r.stop, t.videoPath, n._duration)
				}, e.prototype._onPause = function (t) {
					var n = e.instance;
					n._recording = !1, console.log("[录屏]暂停：", t), n._timestamp > 0 && (n._duration += (new Date).getTime() - n._timestamp, n._timestamp = 0), cc.systemEvent.emit(r.pause)
				}, e.prototype._onResume = function (t) {
					var n = e.instance;
					n._recording = !0, console.log("[录屏]恢复：", t), n._timestamp = (new Date).getTime(), cc.systemEvent.emit(r.resume)
				}, e.prototype._onError = function (t) {
					var n = e.instance;
					n._recording = !1, console.log("[录屏]出错：", t), n._duration = n._timestamp = 0, cc.systemEvent.emit(r.error)
				}, e.prototype._onIntBegin = function (t) {
					var n = e.instance;
					n._recording = !1, console.log("[录屏]中断开始: ", t), n._timestamp > 0 && (n._duration += (new Date).getTime() - n._timestamp, n._timestamp = 0), cc.systemEvent.emit(r.int_begin)
				}, e.prototype._onIntEnd = function (t) {
					var n = e.instance;
					n._recording = !0, console.log("[录屏]中断结束: ", t), n._timestamp = (new Date).getTime(), cc.systemEvent.emit(r.int_end)
				}, e._instance = null, e
			}();
		n.default = s, window.RecordMgr = s,
			function (e) {
				e.start = "start", e.stop = "stop", e.pause = "pause", e.resume = "resume", e.error = "error", e.int_begin = "int_begin", e.int_end = "int_end"
			}(r = n.RecorderEventId || (n.RecorderEventId = {})), cc._RF.pop()
	}, {
		"../../Base/Share": "Share"
	}],
	RecoverVar: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "08358JyfXVHtrqBBRT8ZGvo", "RecoverVar");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = function () {
			function e() {
				this.dataMap = {}, this.timerMap = {}, this._inited = !1
			}
			return Object.defineProperty(e, "instance", {
				get: function () {
					return this._instance || (this._instance = new e)
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype._init = function () {
				var e = this;
				this._inited || (sdk.onShow("recover_var", function () {
					Object.keys(e.dataMap).forEach(function (t) {
						return e.updateForKey(t, !0)
					})
				}), this._inited = !0)
			}, e.prototype.addVar = function (e) {
				this.dataMap[e.key] = e, cc.systemEvent.on(e.eventName, this.updateForKey.bind(this, e.key, !1), this), this.updateForKey(e.key), this._init()
			}, e.prototype.updateForKey = function (e, t) {
				return void 0 === t && (t = !1), o(this, void 0, void 0, function () {
					var n, o, r, a, s, c, l, u, d, f, p, h, y;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return (n = this.dataMap[e]) ? (o = n.getValueFunc(), r = n.getStartTimeFunc(), [4, this.getNow()]) : [2];
							case 1:
								return a = i.sent(), s = n.interval, c = n.maxValue, l = n.minValue, u = n.unitValue, d = n.maxTimes, f = n.emitName, o < l ? this.isValidTimestamp(r) || (r = a, n.setStartTimeFunc(r)) : o >= c && (r = 0, n.setStartTimeFunc(r)), this.isValidTimestamp(r) ? (p = s - (a - r)) > 0 ? this.isScheduledForKey(e) && !t || (this._scheduleForKey(e, p), cc.systemEvent.emit(f, e)) : (h = cc.misc.clampf(Math.floor((a - r) / s), 1, d), r = 0, n.setStartTimeFunc(r), this.isScheduledForKey(e) && (this._unsheduleForKey(e), cc.systemEvent.emit(f, e)), y = Math.min(c, o + u * h), n.setValueFunc(y)) : this.isScheduledForKey(e) && (this._unsheduleForKey(e), cc.systemEvent.emit(f, e)), [2]
						}
					})
				})
			}, e.prototype.getRemainTimeForKey = function (e) {
				return o(this, void 0, void 0, function () {
					var t, n, o, r;
					return i(this, function (i) {
						switch (i.label) {
							case 0:
								return (t = this.dataMap[e]) ? (n = t.getStartTimeFunc(), this.isValidTimestamp(n) ? [4, this.getNow()] : [2, -1]) : [2, -1];
							case 1:
								return o = i.sent(), r = t.interval, [2, r - (o - n)]
						}
					})
				})
			}, e.prototype.isScheduledForKey = function (e) {
				return void 0 !== this.timerMap[e]
			}, e.prototype._scheduleForKey = function (e, t) {
				var n = this;
				clearTimeout(this.timerMap[e]), this.timerMap[e] = setTimeout(function () {
					n.updateForKey(e)
				}, t)
			}, e.prototype._unsheduleForKey = function (e) {
				clearTimeout(this.timerMap[e]), delete this.timerMap[e]
			}, e.prototype.getNow = function () {
				return o(this, void 0, void 0, function () {
					return i(this, function (e) {
						return [2, TimeMgr.getSmartServerTime()]
					})
				})
			}, e.prototype.isValidTimestamp = function (e) {
				return TimeMgr.isMordenTime(e)
			}, e._instance = null, e
		}();
		n.default = r, cc._RF.pop()
	}, {}],
	Recyclable: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a04a9sTkJpLFbY9AhC5uG8p", "Recyclable");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}();
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var i = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.pool = null, t
			}
			return o(t, e), t.prototype.recycle = function () {
				this.pool ? this.pool.put(this.node) : this.node.destroy()
			}, t.recycle = function (e) {
				var n = e.getComponent(t);
				n ? n.recycle() : e.destroy()
			}, t.setup = function (e, n) {
				var o = e.getComponent(t);
				o || (o = e.addComponent(t)), o.pool = n
			}, t
		}(cc.Component);
		n.default = i, cc._RF.pop()
	}, {}],
	RedpackageLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a4d68RXFrROL5rIleB2VufQ", "RedpackageLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.RedpacketLayerParam = void 0;
		var r = e("../../Config/SoundID"),
			a = e("../base/LayerBase"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, s.menu),
			u = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.RedpacketLayerParam = u;
		var d = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				SoundMgr.play(r.default.victory1), this.yuan_lbl.string = (Number(this.data.yuan) || 0).toFixed(2) + "元"
			}, t.show = function (e) {
				return new Promise(function (t, o) {
					var i = new u;
					return i.yuan = e, i.onClose = t, ui.showLayer(n, i)
				})
			}, t.prefabName = "home://dynamic/layer/redpacketLayer", t = n = i([c, l("Layer/RedpacketLayer")], t)
		}(a.default);
		n.default = d, window.RedpacketLayer = d, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../base/LayerBase": "LayerBase"
	}],
	ReportID: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "ed10cbLK8NCG6Nv2XZpHFp1", "ReportID"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		n.default = {
			load1: {
				tag: "load1",
				page: "index"
			},
			home1: {
				tag: "home1",
				page: "index"
			},
			scene1: {
				tag: "scene1",
				page: "index"
			},
			scene2: {
				tag: "scene2",
				page: "index"
			},
			up1: {
				tag: "up1",
				page: "index"
			},
			up2: {
				tag: "up2",
				page: "index"
			},
			up3: {
				tag: "up3",
				page: "index"
			},
			up4: {
				tag: "up4",
				page: "index"
			},
			up5: {
				tag: "up5",
				page: "index"
			},
			up6: {
				tag: "up6",
				page: "index"
			},
			up7: {
				tag: "up7",
				page: "index"
			},
			up8: {
				tag: "up8",
				page: "index"
			},
			up9: {
				tag: "up9",
				page: "index"
			},
			up10: {
				tag: "up10",
				page: "index"
			},
			up11: {
				tag: "up11",
				page: "index"
			},
			up12: {
				tag: "up12",
				page: "index"
			},
			up13: {
				tag: "up13",
				page: "index"
			},
			up14: {
				tag: "up14",
				page: "index"
			},
			up15: {
				tag: "up15",
				page: "index"
			},
			up16: {
				tag: "up16",
				page: "index"
			},
			up17: {
				tag: "up17",
				page: "index"
			},
			up18: {
				tag: "up18",
				page: "index"
			},
			up19: {
				tag: "up19",
				page: "index"
			},
			up20: {
				tag: "up20",
				page: "index"
			},
			up21: {
				tag: "up21",
				page: "index"
			},
			up22: {
				tag: "up22",
				page: "index"
			},
			up23: {
				tag: "up23",
				page: "index"
			},
			up24: {
				tag: "up24",
				page: "index"
			},
			up25: {
				tag: "up25",
				page: "index"
			},
			up26: {
				tag: "up26",
				page: "index"
			},
			task1: {
				tag: "task1",
				page: "index"
			},
			point1: {
				tag: "point1",
				page: "index"
			},
			point2: {
				tag: "point2",
				page: "index"
			},
			point3: {
				tag: "point3",
				page: "index"
			},
			revive1: {
				tag: "revive1",
				page: "index"
			},
			revive2: {
				tag: "revive2",
				page: "index"
			},
			revive3: {
				tag: "revive3",
				page: "index"
			},
			revive4: {
				tag: "revive4",
				page: "index"
			},
			prize1: {
				tag: "prize1",
				page: "index"
			},
			prize2: {
				tag: "prize2",
				page: "index"
			},
			rank1: {
				tag: "rank1",
				page: "index"
			},
			pause4: {
				tag: "pause4",
				page: "index"
			},
			cue1: {
				tag: "cue1",
				page: "index"
			},
			cue2: {
				tag: "cue2",
				page: "index"
			},
			cue3: {
				tag: "cue3",
				page: "index"
			},
			cue4: {
				tag: "cue4",
				page: "index"
			},
			ow1: {
				tag: "ow1",
				page: "index"
			},
			ow2: {
				tag: "ow2",
				page: "index"
			},
			ow3: {
				tag: "ow3",
				page: "index"
			},
			ow4: {
				tag: "ow4",
				page: "index"
			},
			ow5: {
				tag: "ow5",
				page: "index"
			},
			ow6: {
				tag: "ow6",
				page: "index"
			},
			ow7: {
				tag: "ow7",
				page: "index"
			},
			ow8: {
				tag: "ow8",
				page: "index"
			},
			ow9: {
				tag: "ow9",
				page: "index"
			},
			of1: {
				tag: "of1",
				page: "index"
			},
			of2: {
				tag: "of2",
				page: "index"
			},
			of3: {
				tag: "of3",
				page: "index"
			},
			of6: {
				tag: "of6",
				page: "index"
			},
			revive5: {
				tag: "revive5",
				page: "index"
			},
			revive6: {
				tag: "revive6",
				page: "index"
			},
			revive7: {
				tag: "revive7",
				page: "index"
			},
			revive8: {
				tag: "revive8",
				page: "index"
			},
			bet1: {
				tag: "bet1",
				page: "index"
			},
			bet2: {
				tag: "bet2",
				page: "index"
			},
			item1: {
				tag: "item1",
				page: "index"
			},
			item2: {
				tag: "item2",
				page: "index"
			},
			item3: {
				tag: "item3",
				page: "index"
			},
			item4: {
				tag: "item4",
				page: "index"
			},
			chall1: {
				tag: "chall1",
				page: "index"
			},
			chall2: {
				tag: "chall2",
				page: "index"
			},
			match_enter: {
				tag: "enter",
				page: "match"
			},
			match_success: {
				tag: "success",
				page: "match"
			},
			match_fail: {
				tag: "fail",
				page: "match"
			},
			match_dan_1: {
				tag: "dan_1",
				page: "match"
			},
			match_dan_2: {
				tag: "dan_2",
				page: "match"
			},
			match_dan_3: {
				tag: "dan_3",
				page: "match"
			},
			match_dan_4: {
				tag: "dan_4",
				page: "match"
			},
			match_dan_5: {
				tag: "dan_5",
				page: "match"
			},
			match_dan_6: {
				tag: "dan_6",
				page: "match"
			},
			match_dan_7: {
				tag: "dan_7",
				page: "match"
			},
			pvp_again_click: {
				tag: "pvp_again_click",
				page: "index"
			},
			pvp_again_success: {
				tag: "pvp_again_success",
				page: "index"
			},
			double_collect: {
				tag: "double_collect",
				page: "index"
			},
			get_super_line_in_pvp: {
				tag: "get_super_line_in_pvp",
				page: "index"
			},
			vip_active: {
				tag: "vip_active",
				page: "index"
			},
			vip_show: {
				tag: "vip_show",
				page: "index"
			},
			vip_invite_success: {
				tag: "vip_invite_success",
				page: "index"
			},
			vip_video_success: {
				tag: "vip_video_success",
				page: "index"
			},
			task_day_150: {
				tag: "task_day_150",
				page: "index"
			},
			task_week_800: {
				tag: "task_week_800",
				page: "index"
			},
			cash_out: {
				tag: "cash_out",
				page: "index"
			}
		}, cc._RF.pop()
	}, {}],
	ResLoader: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "72e84sWLdxEXJhrmAsmT4qh", "ResLoader");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Lib/sdk"),
			a = e("../Base/JNodePool"),
			s = e("./Recyclable"),
			c = new (function () {
				function e() {
					this._pools = {}, this._spriteFrames = {}, this._getBundlePromiseMap = {}, this._resPromiseMap = {}, this._remotePromiseMap = {}, this._domPromiseMap = {}
				}
				return e.prototype._showLoading = function () {
					r.showLoading("加载中...", !1)
				}, e.prototype._hideLoading = function () {
					r.hideLoading()
				}, e.prototype.parseBundleUrl = function (e) {
					var t = e.split("://"),
						n = t[0],
						o = t[1];
					return o || (o = n, n = ""), {
						bundleName: n,
						url: o
					}
				}, e.prototype.getBundle = function (e, t) {
					var n = this;
					void 0 === t && (t = !1), e || (e = "default");
					var o = cc.assetManager.getBundle(e);
					return o ? Promise.resolve(o) : this._getBundlePromiseMap[e] ? this._getBundlePromiseMap[e] : this._getBundlePromiseMap[e] = new Promise(function (o, i) {
						t && n._showLoading(), cc.assetManager.loadBundle(e, null, function (i, r) {
							t && n._hideLoading(), i && console.error(i), o(i ? null : r), delete n._getBundlePromiseMap[e]
						})
					})
				}, e.prototype.getRes = function (e, t, n) {
					return void 0 === n && (n = !1), o(this, void 0, Promise, function () {
						var o, r, a, s, c, l = this;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return o = this.parseBundleUrl(e), r = o.bundleName, a = o.url, [4, this.getBundle(r, n)];
								case 1:
									return (s = i.sent()) ? (c = s.get(a, t)) ? [3, 3] : [4, this._resPromiseMap[e] || (this._resPromiseMap[e] = new Promise(function (o, i) {
										n && l._showLoading(), s.load(a, t, null, function (t, i) {
											n && l._hideLoading(), t && console.error("加载资源" + e + "时出错："), t && console.error(t), o(t ? null : i), delete l._resPromiseMap[e]
										})
									}))] : [3, 4];
								case 2:
									c = i.sent(), i.label = 3;
								case 3:
									return [2, c];
								case 4:
									return [2, null]
							}
						})
					})
				}, e.prototype.getRemote = function (e, t, n) {
					var o = this;
					return void 0 === n && (n = !1), this._remotePromiseMap[e] ? this._remotePromiseMap[e] : this._remotePromiseMap[e] = new Promise(function (i, r) {
						n && o._showLoading(), cc.assetManager.loadRemote(e, t, function (t, r) {
							n && o._hideLoading(), t && console.error(t), i(t ? null : r), delete o._remotePromiseMap[e]
						})
					})
				}, e.prototype.getSpriteFrame = function (e, t) {
					return void 0 === t && (t = !1), o(this, void 0, Promise, function () {
						var n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return (n = this._spriteFrames[e]) ? [3, 2] : [4, this.getRemote(e, {
										ext: ".png"
									}, t)];
								case 1:
									(o = i.sent()) instanceof cc.Texture2D && (n = this._spriteFrames[e] = new cc.SpriteFrame(o)), i.label = 2;
								case 2:
									return [2, n]
							}
						})
					})
				}, e.prototype.getSpriteFrameByDom = function (e, t) {
					return void 0 === t && (t = !1), o(this, void 0, Promise, function () {
						var n, o = this;
						return i(this, function (i) {
							return (n = this._spriteFrames[e]) ? [2, n] : this._domPromiseMap[e] ? [2, this._domPromiseMap[e]] : [2, this._domPromiseMap[e] = new Promise(function (n, i) {
								t && o._showLoading();
								var r = new Image;
								r.onload = function () {
									t && o._hideLoading();
									var i = new cc.Texture2D;
									i.initWithElement(r), i.handleLoadedTexture();
									var a = o._spriteFrames[e] = new cc.SpriteFrame(i);
									n(a), r.onload = null, r.onerror = null, delete o._domPromiseMap[e]
								}, r.onerror = function (i) {
									t && o._hideLoading(), console.error(i), n(null), r.onload = null, r.onerror = null, delete o._domPromiseMap[e]
								}, r.src = e
							})]
						})
					})
				}, e.prototype.getSpriteFrameRes = function (e, t) {
					return void 0 === t && (t = !1), this.getRes(e, cc.SpriteFrame, t)
				}, e.prototype.getJsonRes = function (e, t) {
					return void 0 === t && (t = !1), o(this, void 0, void 0, function () {
						var n;
						return i(this, function (o) {
							switch (o.label) {
								case 0:
									return [4, this.getRes(e, cc.JsonAsset, t)];
								case 1:
									return (n = o.sent()) ? [2, n.json] : [2, null]
							}
						})
					})
				}, e.prototype.getPrefabRes = function (e, t) {
					return void 0 === t && (t = !1), o(this, void 0, void 0, function () {
						return i(this, function (n) {
							return [2, this.getRes(e, cc.Prefab, t)]
						})
					})
				}, e.prototype.getPool = function (e, t, n, r) {
					return void 0 === t && (t = !1), void 0 === n && (n = 1), void 0 === r && (r = 6), o(this, void 0, void 0, function () {
						var o, s;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return (o = this._pools[e]) ? [3, 2] : [4, this.getPrefabRes(e, t)];
								case 1:
									s = i.sent(), !(o = this._pools[e]) && s && (o = new a.default(s, n, r), this._pools[e] = o), i.label = 2;
								case 2:
									return [2, o]
							}
						})
					})
				}, e.prototype.getNodeRes = function (e, t, n, r, a) {
					return void 0 === t && (t = !1), void 0 === n && (n = !0), void 0 === r && (r = 1), void 0 === a && (a = 6), o(this, void 0, void 0, function () {
						var o, c, l;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return n ? [4, this.getPool(e, t, r, a)] : [3, 2];
								case 1:
									return (o = i.sent()) ? (c = o.get(), this._resetNode(c), s.default.setup(c, o), [2, c]) : [2, null];
								case 2:
									return [4, this.getPrefabRes(e, t)];
								case 3:
									return (l = i.sent()) ? [2, cc.instantiate(l)] : [2, null]
							}
						})
					})
				}, e.prototype.removeNode = function (e) {
					return o(this, void 0, void 0, function () {
						return i(this, function (t) {
							return e && e.isValid && s.default.recycle(e), [2]
						})
					})
				}, e.prototype._resetNode = function (e) {
					e.stopAllActions(), e.scale = 1, e.x = e.y = 0, e.angle = 0, e.opacity = 255, e.color = cc.Color.WHITE
				}, e.prototype._getDragonbone = function (e, t) {
					return o(this, void 0, void 0, function () {
						var n, o, r, a, s, c, l, u, d, f, p, h;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return n = e + "_ske.json", o = e + "_tex.json", r = e + "_tex.png", a = [this.getRemote(n, {
										ext: ".txt"
									}), this.getRemote(o, {
										ext: ".txt"
									}), this.getRemote(r, {
										ext: ".png"
									})], t && this._showLoading(), [4, Promise.all(a)];
								case 1:
									return s = i.sent(), c = s[0], l = s[1], u = s[2], t && this._hideLoading(), c && l && u ? (d = new cc.Node(e), f = d.addComponent(dragonBones.ArmatureDisplay), (p = new dragonBones.DragonBonesAsset).dragonBonesJson = c.text, (h = new dragonBones.DragonBonesAtlasAsset).atlasJson = l.text, h.texture = u, f.dragonAtlasAsset = h, f.dragonAsset = p, f.armatureName = "Armature", [2, Promise.resolve(d)]) : [2, Promise.resolve(null)]
							}
						})
					})
				}, e.prototype.getDragonbonesPool = function (e, t, n, r) {
					return void 0 === t && (t = !1), void 0 === n && (n = 1), void 0 === r && (r = 6), o(this, void 0, void 0, function () {
						var o, s;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return (o = this._pools[e]) ? [3, 2] : [4, this._getDragonbone(e, t)];
								case 1:
									s = i.sent(), o = new a.default(s, n, r), this._pools[e] = o, i.label = 2;
								case 2:
									return [2, o]
							}
						})
					})
				}, e.prototype.getDragonbonesNode = function (e, t) {
					return void 0 === t && (t = !1), o(this, void 0, void 0, function () {
						var n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return [4, this.getDragonbonesPool(e, t)];
								case 1:
									return n = i.sent(), o = n.get(), this._resetNode(o), s.default.setup(o, n), [2, o]
							}
						})
					})
				}, e.prototype._getDragonboneRes = function (e, t) {
					return o(this, void 0, void 0, function () {
						var n, o, r, a, s, c, l, u;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return n = e + "_ske", o = e + "_tex", r = [this.getRes(n, dragonBones.DragonBonesAsset), this.getRes(o, dragonBones.DragonBonesAtlasAsset)], t && this._showLoading(), [4, Promise.all(r)];
								case 1:
									return a = i.sent(), s = a[0], c = a[1], t && this._hideLoading(), s && c ? (l = new cc.Node(e), (u = l.addComponent(dragonBones.ArmatureDisplay)).dragonAsset = s, u.dragonAtlasAsset = c, u.armatureName = "Armature", [2, Promise.resolve(l)]) : [2, Promise.resolve(null)]
							}
						})
					})
				}, e.prototype.getDragonbonesPoolRes = function (e, t, n, r) {
					return void 0 === t && (t = !1), void 0 === n && (n = 1), void 0 === r && (r = 6), o(this, void 0, void 0, function () {
						var o, s;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return (o = this._pools[e]) ? [3, 2] : [4, this._getDragonboneRes(e, t)];
								case 1:
									s = i.sent(), o = new a.default(s, n, r), this._pools[e] = o, i.label = 2;
								case 2:
									return [2, o]
							}
						})
					})
				}, e.prototype.getDragonbonesNodeRes = function (e, t) {
					return void 0 === t && (t = !1), o(this, void 0, void 0, function () {
						var n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return [4, this.getDragonbonesPoolRes(e, t)];
								case 1:
									return n = i.sent(), o = n.get(), this._resetNode(o), s.default.setup(o, n), [2, o]
							}
						})
					})
				}, e
			}());
		n.default = c, window.ResLoader = c, cc._RF.pop()
	}, {
		"../Base/JNodePool": "JNodePool",
		"../Lib/sdk": "sdk",
		"./Recyclable": "Recyclable"
	}],
	ResultLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "30900qepi1H1pmpL0cUBZpj", "ResultLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../base/LayerBase"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, function () { }(), function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t = i([s], t)
			}(r.default));
		n.default = c, window.ResultLayer = c, cc._RF.pop()
	}, {
		"../base/LayerBase": "LayerBase"
	}],
	ReviveConfig: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "45300vuzD1MiabQBY7cYqCV", "ReviveConfig"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = e("../../Config/GameConfig"),
			i = function () {
				function e() { }
				return e.getMaxReviveTimes = function () {
					return o.GameConfig.EIGHT_RULE ? 1 / 0 : 1
				}, e.getRevivePrices = function () {
					return 100
				}, e.getReviveLifeNumber = function () {
					return 3
				}, e.getCountDownNumber = function () {
					return 10
				}, e
			}();
		n.default = i, cc._RF.pop()
	}, {
		"../../Config/GameConfig": "GameConfig"
	}],
	ReviveLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "e1b8b1pEmVDPYa0vXJBbr0O", "ReviveLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.ReviveLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = e("../base/RewardBtn"),
			l = e("../../Base/ShareTypes"),
			u = e("../../Config/SoundID"),
			d = e("./ReviveConfig"),
			f = e("../../Data/EconomicLogic"),
			p = e("../../Config/ReportID"),
			h = cc._decorator,
			y = h.ccclass,
			g = (h.property, h.menu),
			_ = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.ReviveLayerParam = _;
		var v = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t._countDownNumber = 10, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this);
				var t = this.getComponentInChildren(c.default);
				t.sharePos = l.SharePos.Revive, cc.find("dialog/contents/coins_btn", this.node).active = !1, t.node.active = !0, this._countDownNumber = d.default.getCountDownNumber(), this.startCountDown(), Server.reportClick(p.default.revive1)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () { }, t.prototype.startCountDown = function () {
				this._updateLbl(), this.schedule(this._countDown, 1, this._countDownNumber - 1, 1)
			}, t.prototype.stopCountDown = function () {
				this.unschedule(this._countDown)
			}, t.prototype._countDown = function () {
				this._countDownNumber -= 1, this._updateLbl(), this._countDownNumber <= 0 && this.fail()
			}, t.prototype._updateLbl = function () {
				cc.find("dialog/contents/timer_lbl", this.node).getComponent(cc.Label).string = this._countDownNumber.toString()
			}, t.prototype.success = function () {
				this.stopCountDown(), this.data.onSuccess && this.data.onSuccess(), this.close()
			}, t.prototype.fail = function () {
				this.stopCountDown(), this.data.onFail && this.data.onFail(), this.close()
			}, t.prototype.onRewardCallback = function (e) {
				e == c.RewardFuncParam.Click ? (Server.reportClick(p.default.revive3), this.stopCountDown(), Utils.setAllBtnsEnabled(this.node, !1)) : e == c.RewardFuncParam.Success ? (Server.reportClick(p.default.revive4), this.success()) : (this.startCountDown(), Utils.setAllBtnsEnabled(this.node, !0))
			}, t.prototype.onCoinsBtnClick = function (e) {
				return r(this, void 0, void 0, function () {
					var t, n, o;
					return a(this, function (i) {
						switch (i.label) {
							case 0:
								return SoundMgr.play(u.default.btn), Utils.setAllBtnsEnabled(this.node, !1), t = DataBus.user.coins, n = d.default.getRevivePrices(), t.lt(n) ? (ui.showTips("Not enough coins!"), this.fail(), [3, 3]) : [3, 1];
							case 1:
								return o = e.target, o.convertToWorldSpaceAR(cc.Vec2.ZERO), f.default.instance.addCoinsWithAnimation(-n), this.stopCountDown(), DataBus.user.save(), [4, Utils.delayTime(.5, this)];
							case 2:
								i.sent(), this.success(), i.label = 3;
							case 3:
								return [2]
						}
					})
				})
			}, t.prototype.onBtnCloseClick = function () {
				Server.reportClick(p.default.revive2), SoundMgr.play(u.default.btn), this.fail()
			}, t.show = function (e, t, o) {
				var i = new _;
				return i.onSuccess = function () {
					return e && e()
				}, i.onFail = function () {
					return t && t()
				}, i.onClose = function () {
					return o && o()
				}, ui.showLayer(n, i)
			}, t.prefabName = "game://dynamic/layer/reviveLayer", t = n = i([y, g("Layer/ReviveLayer")], t)
		}(s.default);
		n.default = v, window.ReviveLayer = v, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/ReportID": "ReportID",
		"../../Config/SoundID": "SoundID",
		"../../Data/EconomicLogic": "EconomicLogic",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"./ReviveConfig": "ReviveConfig"
	}],
	RewardBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "3a0bdMWXApFAIRZFct2j8zt", "RewardBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.RewardFuncParam = void 0;
		var r, a = e("../../Base/Share"),
			s = e("../../Base/ShareTypes"),
			c = e("../../Data/wxsdk"),
			l = e("../../Config/EventID"),
			u = e("../../Config/SoundID"),
			d = cc._decorator,
			f = d.ccclass,
			p = d.property,
			h = d.menu,
			y = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.sharePos = s.SharePos.Main, t.callback = new cc.Component.EventHandler, t.autoHide = !1, t.autoRefresh = !1, t.isCheckVideo = !1, t.rewardPnl = null, t.videoPnl = null, t.sharePnl = null, t.nonePnl = null, t.rewardType = s.RewardType.None, t.defaultPnlType = s.RewardType.Video, t._rewardEnabled = !0, t.reported = !1, t
				}
				var n;
				return o(t, e), n = t, Object.defineProperty(t.prototype, "rewardEnabled", {
					get: function () {
						return this._rewardEnabled
					},
					set: function (e) {
						this._rewardEnabled = e, this.refreshUi()
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.start = function () {
					var e = this;
					this.rewardPnl = this.node.getChildByName("reward"), this.videoPnl = this.node.getChildByName("video"), this.sharePnl = this.node.getChildByName("share"), this.nonePnl = this.node.getChildByName("none") || (this.defaultPnlType == s.RewardType.Video ? this.videoPnl : this.defaultPnlType == s.RewardType.Share ? this.sharePnl : null), this.refresh(), this.autoRefresh && cc.systemEvent.on(l.default.VIDEO_CHANGED, this.refresh, this), this.scheduleOnce(function () {
						a.default.setFailTimes(e.sharePos, 0)
					}, 0), this.scheduleOnce(function () {
						if (e.sharePos != s.SharePos.Main) {
							for (var t = cc.Canvas.instance.getComponentsInChildren(n), o = 0; o < t.length; ++o) {
								var i = t[o];
								if (i.sharePos == e.sharePos && i.rewardType == e.rewardType && i.reported) return
							}
							e.reported = !0, Server.reportClick({
								tag: s.SharePos[e.sharePos],
								page: "reward"
							})
						}
					}, .05)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(l.default.VIDEO_CHANGED, this.refresh, this)
				}, t.prototype.refresh = function () {
					this.refreshReward(), this.refreshUi()
				}, t.prototype.refreshReward = function () {
					this.rewardType = a.default.isShareOrVideo(this.sharePos), this.node.emit(l.default.REWARD_BTN_CHANGED, this.rewardType)
				}, t.prototype.refreshUi = function () {
					this.rewardPnl && (this.rewardPnl.active = !1), this.videoPnl && (this.videoPnl.active = !1), this.sharePnl && (this.sharePnl.active = !1), this.nonePnl && (this.nonePnl.active = !1), this._rewardEnabled && (this.rewardType == s.RewardType.Video ? (this.rewardPnl && (this.rewardPnl.active = !0), this.videoPnl && (this.videoPnl.active = !0)) : this.rewardType == s.RewardType.Share ? (this.rewardPnl && (this.rewardPnl.active = !0), this.sharePnl && (this.sharePnl.active = !0)) : this.autoHide ? this.node.active = !1 : this.nonePnl && (this.nonePnl.active = !0))
				}, t.prototype.onEnable = function () {
					Utils.bindBtnEvent(this.node, this.node, "RewardBtn", "onClick"), void 0 !== this.sharePos && this.refresh()
				}, t.prototype.onDisable = function () {
					Utils.unbindBtnEvent(this.node)
				}, t.prototype.onClick = function () {
					var e = this;
					SoundMgr.play(u.default.btn), this.callback && (this._rewardEnabled ? this.applyEventHandler(this.callback, [r.Click, this]) || (Server.reportClick({
						tag: s.SharePos[this.sharePos] + "_click",
						page: "reward"
					}), a.default.shareOrVideo(this.sharePos, this.isCheckVideo, this.rewardType).then(function () {
						e.callback.handler && e.callback.emit([r.Success, e]), Server.reportClick({
							tag: s.SharePos[e.sharePos] + "_success",
							page: "reward"
						})
					}).catch(function (t) {
						c.default.isQQ() && e.rewardType == s.RewardType.None ? e.callback.handler && e.callback.emit([r.Success, e]) : e.callback.handler && e.callback.emit([r.Fail, e])
					})) : this.callback.handler && this.callback.emit([r.Disable, this]))
				}, t.prototype.applyEventHandler = function (e, t) {
					if (e) {
						var n = e.target;
						if (cc.isValid(n)) {
							var o = n.getComponent(e._componentName);
							if (cc.isValid(o)) {
								var i = o[e.handler];
								if ("function" == typeof i) return null != e.customEventData && "" !== e.customEventData && (t = t.slice()).push(e.customEventData), i.apply(o, t)
							}
						}
					}
				}, t.create = function (e, t, o, i, r, a, s, c) {
					void 0 === s && (s = !1), void 0 === c && (c = !0);
					var l = e.getComponent(n) || e.addComponent(n);
					if (l) {
						l.sharePos = t, l.autoHide = s, l.autoRefresh = c;
						var u = l.callback || new cc.Component.EventHandler;
						u.target = o, u.component = i, u.handler = r, u.customEventData = a, l.callback = u
					}
					return l
				}, i([p({
					type: cc.Enum(s.SharePos)
				})], t.prototype, "sharePos", void 0), i([p(cc.Component.EventHandler)], t.prototype, "callback", void 0), i([p({
					tooltip: "无激励时自动隐藏节点"
				})], t.prototype, "autoHide", void 0), i([p({
					tooltip: "失败时自动刷新激励方式"
				})], t.prototype, "autoRefresh", void 0), i([p({
					tooltip: "是否需要服务端验证视频"
				})], t.prototype, "isCheckVideo", void 0), t = n = i([f, h("添加 UI 组件/RewardBtn")], t)
			}(cc.Component);
		n.default = y,
			function (e) {
				e[e.Click = 0] = "Click", e[e.Success = 1] = "Success", e[e.Fail = 2] = "Fail", e[e.Disable = 3] = "Disable", e[e.NoReward = 4] = "NoReward", e[e.Other = 5] = "Other"
			}(r = n.RewardFuncParam || (n.RewardFuncParam = {})), cc._RF.pop()
	}, {
		"../../Base/Share": "Share",
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/EventID": "EventID",
		"../../Config/SoundID": "SoundID",
		"../../Data/wxsdk": "wxsdk"
	}],
	RewardToggle: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "75611o3I/hBfKfKH2C0AOKA", "RewardToggle");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./RewardBtn"),
			a = e("../../Base/Share"),
			s = e("../../Base/ShareTypes"),
			c = e("../../Config/SoundID"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, l.menu),
			f = function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), Object.defineProperty(t.prototype, "toggle", {
					get: function () {
						return this._toggle || this.getComponentInChildren(cc.Toggle)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "toggleText", {
					get: function () {
						return this._toggleText || this.node.getChildByName("toggle_text_btn")
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onLoad = function () {
					this.defaultPnlType = s.RewardType.None
				}, t.prototype.start = function () {
					e.prototype.start.call(this), Utils.bindBtnEvent(this.toggleText, this.node, "RewardToggle", "onToggleTextClick")
				}, t.prototype.onEnable = function () {
					Utils.bindBtnEvent(this.node, this.node, "RewardToggle", "onClick")
				}, t.prototype.refreshUi = function () {
					e.prototype.refreshUi.call(this), this._rewardEnabled ? (this.toggle.node.active = this.rewardType != s.RewardType.None, this.toggleText.active = this.rewardType != s.RewardType.None) : (this.toggle.node.active = !1, this.toggleText.active = !1)
				}, t.prototype.onToggleTextClick = function () {
					this._rewardEnabled && (this.toggle.isChecked || (SoundMgr.play(c.default.btn), this.toggle.check()))
				}, t.prototype.onClick = function () {
					var e = this;
					SoundMgr.play(c.default.btn), this.callback && (this._rewardEnabled ? this.toggle.isChecked ? this.rewardType != s.RewardType.None ? this.applyEventHandler(this.callback, [r.RewardFuncParam.Click, this]) || (Server.reportClick({
						tag: s.SharePos[this.sharePos] + "_click",
						page: "reward"
					}), a.default.shareOrVideo(this.sharePos, this.isCheckVideo, this.rewardType).then(function () {
						e.callback.handler && e.callback.emit([r.RewardFuncParam.Success, e]), Server.reportClick({
							tag: s.SharePos[e.sharePos] + "_success",
							page: "reward"
						})
					}).catch(function (t) {
						e.callback.handler && e.callback.emit([r.RewardFuncParam.Fail, e])
					})) : this.callback.handler && this.callback.emit([r.RewardFuncParam.NoReward, this]) : this.callback.handler && this.callback.emit([r.RewardFuncParam.Other, this]) : this.callback.handler && this.callback.emit([r.RewardFuncParam.Disable, this]))
				}, t = i([u, d("添加 UI 组件/RewardToggle")], t)
			}(r.default);
		n.default = f, cc._RF.pop()
	}, {
		"../../Base/Share": "Share",
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/SoundID": "SoundID",
		"./RewardBtn": "RewardBtn"
	}],
	Router: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "48419Flna1Ko7tXpf6nrEel", "Router");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Config/GameConfig"),
			a = e("./HomeScene"),
			s = e("./LevelScene"),
			c = e("./GameScene"),
			l = e("../Ui/energy/NoEnergyLayer"),
			u = e("./ChallengeScene"),
			d = e("./game/pvp/PvpScene"),
			f = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.enterHome = function (e, t, n) {
					return void 0 === t && (t = !1), void 0 === n && (n = !0), o(this, void 0, void 0, function () {
						return i(this, function (o) {
							switch (o.label) {
								case 0:
									return r.GameConfig.EIGHT_RULE ? [4, a.default.enterScene(n)] : [3, 2];
								case 1:
									return o.sent(), [3, 6];
								case 2:
									return t ? [4, s.default.tryToPlay(e, n)] : [3, 4];
								case 3:
									return o.sent(), [3, 6];
								case 4:
									return [4, s.default.enterScene(e, n)];
								case 5:
									o.sent(), o.label = 6;
								case 6:
									return [2]
							}
						})
					})
				}, e.prototype.enterGame = function (e, t) {
					return o(this, void 0, void 0, function () {
						return i(this, function (n) {
							return (e = void 0 === e ? DataBus.user.level : e) >= r.GameConfig.MAX_LEVEL ? (ui.showTips("Stay tuned"), [2]) : (r.GameConfig.EIGHT_RULE, [2, c.default.enterScene(e, t)])
						})
					})
				}, e.prototype.canEnterGame = function (e, t, n) {
					return void 0 === t && (t = !0), void 0 === n && (n = ""), o(this, void 0, void 0, function () {
						return i(this, function (o) {
							switch (o.label) {
								case 0:
									return (e = void 0 === e ? DataBus.user.level : e) >= r.GameConfig.MAX_LEVEL ? (t && ui.showTips("Stay tuned"), [2, !1]) : e > DataBus.user.level ? (t && ui.showTips("The level is not unlocked!"), [2, !1]) : DataBus.user.energy <= 0 ? t ? [4, l.default.show(n)] : [3, 2] : [3, 3];
								case 1:
									if (o.sent(), DataBus.user.energy > 0) return [2, !0];
									o.label = 2;
								case 2:
									return [2, !1];
								case 3:
									return [2, !0]
							}
						})
					})
				}, e.prototype.enterChallenge = function () {
					u.default.enterScene()
				}, e.prototype.enterPvp = function () {
					d.default.enterScene()
				}, e._instance = null, e
			}();
		n.default = f, cc._RF.pop()
	}, {
		"../Config/GameConfig": "GameConfig",
		"../Ui/energy/NoEnergyLayer": "NoEnergyLayer",
		"./ChallengeScene": "ChallengeScene",
		"./GameScene": "GameScene",
		"./HomeScene": "HomeScene",
		"./LevelScene": "LevelScene",
		"./game/pvp/PvpScene": "PvpScene"
	}],
	RuleFactory: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "8d97bzc1kFEdo89KToaT23J", "RuleFactory"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = e("./RuleTypes"),
			i = e("./BaseRule"),
			r = e("./EightSingleRule"),
			a = e("./EightSingleGuideRule"),
			s = e("./ChallengeRule"),
			c = e("../pvp/PvpEightRule"),
			l = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.createRule = function (e, t, n) {
					var l = null;
					switch (e.removeComponent(i.default), t) {
						case o.RuleType.Single:
							break;
						case o.RuleType.EightSingle:
							l = n || !a.default.needGuide0() && !a.default.needGuide1() ? e.addComponent(r.default) : e.addComponent(a.default);
							break;
						case o.RuleType.Eight:
							l = e.addComponent(c.default);
							break;
						case o.RuleType.Nine:
							break;
						case o.RuleType.Challenge:
							l = e.addComponent(s.default)
					}
					return l
				}, e._instance = null, e
			}();
		n.default = l, cc._RF.pop()
	}, {
		"../pvp/PvpEightRule": "PvpEightRule",
		"./BaseRule": "BaseRule",
		"./ChallengeRule": "ChallengeRule",
		"./EightSingleGuideRule": "EightSingleGuideRule",
		"./EightSingleRule": "EightSingleRule",
		"./RuleTypes": "RuleTypes"
	}],
	RuleTypes: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "736aa9NRzRJS7vbiPDYPZJx", "RuleTypes"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.RuleEventBit = n.RuleFailReason = n.RuleResultType = n.ObjectBallType = n.RuleType = void 0,
			function (e) {
				e[e.Single = 0] = "Single", e[e.EightSingle = 1] = "EightSingle", e[e.Eight = 2] = "Eight", e[e.Nine = 3] = "Nine", e[e.Challenge = 4] = "Challenge"
			}(n.RuleType || (n.RuleType = {})),
			function (e) {
				e[e.Solid = 0] = "Solid", e[e.Stripe = 1] = "Stripe", e[e.None = 2] = "None"
			}(n.ObjectBallType || (n.ObjectBallType = {})),
			function (e) {
				e[e.none = 0] = "none", e[e.win = 1] = "win", e[e.lose = 2] = "lose", e[e.change = 3] = "change", e[e.reset = 4] = "reset"
			}(n.RuleResultType || (n.RuleResultType = {})),
			function (e) {
				e[e.unkown = 0] = "unkown", e[e.noStar = 1] = "noStar", e[e.noLife = 2] = "noLife", e[e.foul = 3] = "foul", e[e.touchOther = 4] = "touchOther", e[e.noPot = 5] = "noPot", e[e.noTouch = 6] = "noTouch", e[e.scratch = 7] = "scratch", e[e.noCushion = 8] = "noCushion"
			}(n.RuleFailReason || (n.RuleFailReason = {})),
			function (e) {
				e[e.objectAirball = 1] = "objectAirball", e[e.cueNoTouchCushion = 2] = "cueNoTouchCushion", e[e.potInOrder = 4] = "potInOrder", e[e.cueNoTouchOtherBall = 8] = "cueNoTouchOtherBall", e[e.doubleBall = 16] = "doubleBall", e[e.threeBall = 32] = "threeBall"
			}(n.RuleEventBit || (n.RuleEventBit = {})), cc._RF.pop()
	}, {}],
	ScorePanel: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d6818ejDxRFcb8pmUxreP27", "ScorePanel"), cc._RF.pop()
	}, {}],
	ScrollAdsItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "8dab89ZfLNA35Bsvfa9kJQz", "ScrollAdsItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Lib/tableView/viewCell"),
			a = e("../../Config/SoundID"),
			s = e("../../Base/AdsMgr"),
			c = cc._decorator,
			l = c.ccclass,
			u = c.property,
			d = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.iconSp = null, t.iconSf = null, t.data = null, t
				}
				return o(t, e), t.prototype.init = function (e, t, n, o) {
					var i = t[e];
					this.data = i;
					var r = this.iconSp;
					Utils.loadImage(r, i.icon.skin, function (e) {
						r.isValid && (r.node.width = 135, r.node.height = 135)
					}, this.iconSf)
				}, t.prototype.clicked = function () {
					if (this.data) {
						SoundMgr.play(a.default.btn);
						var e = this.data;
						s.default.instance.clickAds(e, "get_list_friend", "get_list_friend_scan")
					}
				}, i([u(cc.Sprite)], t.prototype, "iconSp", void 0), i([u(cc.SpriteFrame)], t.prototype, "iconSf", void 0), t = i([l], t)
			}(r.default);
		n.default = d, cc._RF.pop()
	}, {
		"../../Base/AdsMgr": "AdsMgr",
		"../../Config/SoundID": "SoundID",
		"../../Lib/tableView/viewCell": "viewCell"
	}],
	ScrollAds: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "18570d6jOpMD67b6RsfjsHR", "ScrollAds");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Base/AdsMgr"),
			s = e("../../Config/EventID"),
			c = e("../../Res/ResLoader"),
			l = e("../../Runtime/YdsdkBridge"),
			u = e("../base/LayerBase"),
			d = cc._decorator,
			f = d.ccclass,
			p = d.property,
			h = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.pnl = null, t.listView = null, t.dataList = [], t._pauseAutoScorll = !1, t._dir = 1, t
				}
				var n;
				return o(t, e), n = t, t.showScrollAds = function () {
					var e = this;
					this._isShowing = !0, this._instance || c.default.getNodeRes("common://dynamic/item/scrollAds").then(function (t) {
						if (e._isShowing && !e._instance) {
							var n = cc.Canvas.instance.node;
							t.zIndex = 32001, t.y = .5 * -n.height, n.addChild(t)
						} else c.default.removeNode(t)
					})
				}, t.hideScrollAds = function () {
					this._isShowing = !1, this._instance && this._instance.node.destroy()
				}, t.prototype.onLoad = function () {
					var e = this;
					this.node.on(cc.Node.EventType.TOUCH_START, function () {
						e._pauseAutoScorll = !0
					}, this, !0), this.node.on(cc.Node.EventType.TOUCH_END, function () {
						e._pauseAutoScorll = !1
					}, this, !0)
				}, t.prototype.onEnable = function () {
					n._instance = this, this._stopScrollAction(), cc.systemEvent.off(s.default.INSIDE_ADS_CHANGED, this._onDataChanged, this), cc.systemEvent.off(s.default.INSIDE_ADS_CLICKED, this._onDataChanged, this), this._onDataChanged(), cc.systemEvent.on(s.default.INSIDE_ADS_CHANGED, this._onDataChanged, this), cc.systemEvent.on(s.default.INSIDE_ADS_CLICKED, this._onDataChanged, this)
				}, t.prototype.onDisable = function () {
					n._instance = null, this._stopScrollAction(), cc.systemEvent.off(s.default.INSIDE_ADS_CHANGED, this._onDataChanged, this), cc.systemEvent.off(s.default.INSIDE_ADS_CLICKED, this._onDataChanged, this)
				}, t.prototype.isVisible = function () {
					return this.pnl.active
				}, t.prototype._onDataChanged = function () {
					var e = r.default.instance.getFixedList();
					if (e.length = 0, e.length > 1 / 0 && (e.length = 1 / 0), e.length > 0) {
						this.pnl.active = !0, this.listView.getComponent("tableView").initTableView(e.length, e), this.dataList = e, this._startScrollAction(), l.default.instance.reportAdsShow(e)
					} else {
						this.pnl.active = !1, this._stopScrollAction();
						var t = Utils.getComponentInParent(this.node, u.default);
						
					}
				}, t.prototype._stopScrollAction = function () {
					this.unschedule(this._scroll)
				}, t.prototype._startScrollAction = function () {
					this.unschedule(this._scroll), this.schedule(this._scroll, 3)
				}, t.prototype._scroll = function () {
					if (!this._pauseAutoScorll) {
						var e = this.dataList.length;
						if (0 != e) {
							var t = this.listView.getComponent(cc.tableView),
								n = t.content.width / e;
							if (!(e <= t.node.width / n)) {
								var o = -t.getScrollOffset().x,
									i = t.getMaxScrollOffset().x;
								o <= 5 ? this._dir = 1 : o >= i - 5 && (this._dir = -1);
								var r = o + this._dir * n;
								t.scrollToOffset(new cc.Vec2(r, 0), .3)
							}
						}
					}
				}, t._instance = null, t._isShowing = !1, i([p(cc.Node)], t.prototype, "pnl", void 0), i([p(cc.Node)], t.prototype, "listView", void 0), t = n = i([f], t)
			}(cc.Component);
		n.default = h, cc._RF.pop()
	}, {
		"../../Base/AdsMgr": "AdsMgr",
		"../../Config/EventID": "EventID",
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/YdsdkBridge": "YdsdkBridge",
		"../base/LayerBase": "LayerBase"
	}],
	ServerConfig: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "0196f3WysNABJQBOkAGXiWX", "ServerConfig"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = function () {
			function e() { }
			return Object.defineProperty(e, "instance", {
				get: function () {
					return this._instance || (this._instance = new e)
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype.isAuditStatus = function () {
				return void 0 === sdk.conf.audit
			}, e.prototype.canShare = function () {
				return void 0 !== sdk.conf.share_flag && parseInt(sdk.conf.share_flag) >= 0
			}, e.prototype.isCustomerServiceEnabled = function () {
				return (parseInt(sdk.conf.show_customer_service) || 0) > 0
			}, e.prototype.dontUseCode = function () {
				return (parseInt(sdk.conf.dont_use_code) || 0) > 0
			}, e.prototype.getInterAdChance = function () {
				return parseFloat(sdk.conf.intad_chance) || 0
			}, e.prototype.getInterAdWhiteList = function () {
				var e = ["GuideLayer"],
					t = sdk.conf.intad_white_list;
				return t && (e = e.concat(t.split("|")).map(function (e) {
					return e.trim()
				})), e.map(function (e) {
					return cc.js.getClassByName(e)
				}).filter(function (e) {
					return e
				})
			}, e.prototype.getTrialGameValidTime = function () {
				return parseFloat(sdk.conf.trial_valid_time) || 5
			}, e.prototype.getResultLayerAdsNumber = function () {
				return parseInt(sdk.conf.result_ads_num) || 0
			}, e.prototype.getHeartbeatInterval = function () {
				return parseInt(sdk.conf.heartbeat) || 300
			}, e.prototype.getReviveTimes = function () {
				return void 0 === sdk.conf.revive_times ? 2 : parseInt(sdk.conf.revive_times) || 0
			}, e.prototype.getHintBlinkDelay = function () {
				return parseFloat(sdk.conf.hint_blink_delay) || 10
			}, e.prototype.isSendHeartbeatOnHide = function () {
				return void 0 === sdk.conf.heartbeat_onhide || 0 != parseInt(sdk.conf.heartbeat_onhide)
			}, e.prototype.useVideoOther = function () {
				return 0 != (parseInt(sdk.conf.use_video_other) || 0)
			}, e.prototype.getEnergyInterval = function () {
				return parseInt(sdk.conf.energy_interval) || 600
			}, e.prototype.getTrialCueLevel = function () {
				return void 0 === sdk.conf.trial_cue_level ? 5 : parseInt(sdk.conf.trial_cue_level) || 0
			}, e.prototype.getChallengeTimes = function () {
				return void 0 === sdk.conf.challenge_times ? 2 : parseInt(sdk.conf.challenge_times) || 0
			}, e.prototype.getAdsCloseBtnDelay = function () {
				return void 0 === sdk.conf.ads_close_btn_delay ? 3 : parseInt(sdk.conf.ads_close_btn_delay) || 0
			}, e.prototype.getRewardCloseBtnDelay = function () {
				return "undefined" != typeof qg ? void 0 === sdk.conf.reward_close_btn_delay ? 0 : parseInt(sdk.conf.reward_close_btn_delay) || 0 : void 0 === sdk.conf.reward_close_btn_delay ? 3 : parseInt(sdk.conf.reward_close_btn_delay) || 0
			}, e.prototype.useRewardBtnAddItem = function () {
				return !!parseInt(sdk.conf.use_reward_btn_add_item)
			}, e.prototype.getPvpTicketsMaxValue = function () {
				return void 0 === sdk.conf.pvp_tickets_max_value ? 3 : parseInt(sdk.conf.pvp_tickets_max_value) || 0
			}, e.prototype.getPvpTicketsRewardValue = function () {
				return void 0 === sdk.conf.pvp_tickets_reward_value ? 2 : parseInt(sdk.conf.pvp_tickets_reward_value) || 0
			}, e.prototype.getPvpTicketsRewardTimes = function () {
				return void 0 === sdk.conf.pvp_tickets_reward_times ? 3 : parseInt(sdk.conf.pvp_tickets_reward_times) || 0
			}, e.prototype.getPvpTicketsTrialValue = function () {
				return void 0 === sdk.conf.pvp_tickets_trial_value ? 3 : parseInt(sdk.conf.pvp_tickets_trial_value) || 0
			}, e.prototype.getQQGroupNumber = function () {
				return sdk.conf.qq_group || "1084695791"
			}, e.prototype.getSuperLineLevel = function () {
				return void 0 === sdk.conf.super_line_level ? 5 : parseInt(sdk.conf.super_line_level) || 0
			}, e.prototype.getSuperLineChance = function () {
				return void 0 === sdk.conf.super_line_chance ? 25 : parseFloat(sdk.conf.super_line_chance) || 0
			}, e.prototype.isPlaceBannerEnable = function () {
				return !!parseInt(sdk.conf.place_banner_enable)
			}, e.prototype.useToggleReward = function () {
				return !!parseInt(sdk.conf.use_toggle_reward)
			}, e.prototype.showSideAdsForBackHome = function () {
				return !!parseInt(sdk.conf.show_side_ads_for_back_home)
			}, e.prototype.getEnergyInitValue = function () {
				return void 0 === sdk.conf.energy_init_value ? 0 : parseInt(sdk.conf.energy_init_value) || 0
			}, e.prototype.getEnergyMaxValue = function () {
				return void 0 === sdk.conf.energy_max_value ? 5 : parseInt(sdk.conf.energy_max_value) || 0
			}, e.prototype.getEnergyRewardValue = function () {
				return void 0 === sdk.conf.energy_reward_value ? 3 : parseInt(sdk.conf.energy_reward_value) || 0
			}, e.prototype.getEnergyRewardTimes = function () {
				return void 0 === sdk.conf.energy_reward_times ? 3 : parseInt(sdk.conf.energy_reward_times) || 0
			}, e.prototype.getEnergyCoinsTimes = function () {
				return void 0 === sdk.conf.energy_coins_times ? 2 : parseInt(sdk.conf.energy_coins_times) || 0
			}, e.prototype.getPvpOpenLevel = function () {
				return void 0 === sdk.conf.pvp_open_level ? 4 : parseInt(sdk.conf.pvp_open_level) || 0
			}, e.prototype.getVipRewardType = function () {
				return 1 == parseInt(sdk.conf.vip_reward_type) ? 1 : 0
			}, e.prototype.getVipDoubleStarChance = function () {
				return void 0 === sdk.conf.vip_double_star ? 60 : parseInt(sdk.conf.vip_double_star) || 0
			}, e.prototype.getVipConfig = function () {
				return sdk.conf.vip_config || "v+15,v*2,v*4|v+15,i+15_60,i+15_60,i+15_60,i+15_60"
			}, e._instance = null, e
		}();
		n.default = o, window.ServerConfig = o, cc._RF.pop()
	}, {}],
	Server_defines: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "1c674xXEktLcoW4NPcHGRVM", "Server_defines"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.createCommonResponse = void 0, n.createCommonResponse = function (e, t, n) {
			return void 0 === n && (n = ""), {
				statusCode: 200,
				data: {
					code: e,
					msg: n,
					data: t
				}
			}
		}, cc._RF.pop()
	}, {}],
	Server: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "543d83AQRJM+pGn/ckctQuQ", "Server");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Lib/sdk"),
			a = e("../Base/ErrorTypes"),
			s = e("../Config/GameConfig"),
			c = e("../Config/ServerConfig"),
			l = e("../Base/Share"),
			u = e("./HttpHelper"),
			d = e("../Lib/MyCrypto"),
			f = e("../Runtime/YdsdkBridge"),
			p = e("./wxsdk"),
			h = e("../Config/ReportID"),
			y = function () {
				function e() {
					this.releaseAPIDomain = ""
				}
				return e.prototype.getData = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return p.default.supportServer() ? (e = "data", [4, new Promise(r.getUserIdOrCode.bind(r, e))]) : [2, Promise.resolve(null)];
								case 1:
									return (t = i.sent()).type = "get", [4, r.promisify(r.request.bind(r), {
										url: "",
										data: t
									})];
								case 2:
									return n = i.sent(), TimeMgr.setServerTime(n), TimeMgr.calcOfflineOffset(n), r.saveUserId(e, n), void 0 != (o = this._checkData(n)) ? (console.log("从服务器获取数据成功", n), [2, o]) : (console.log("从服务器获取数据失败", n), [2, Promise.reject(n)])
							}
						})
					})
				}, e.prototype._checkData = function (e) {
					var t = void 0;
					return e && e.data && 0 == e.data.code && "" == (t = e.data.info) && console.log("服务获取数据成功, 为新用户!"), t
				}, e.prototype.saveData = function (e) {
					return o(this, void 0, void 0, function () {
						var t, n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return p.default.supportServer() ? (t = "data", [4, new Promise(r.getUserIdOrCode.bind(r, t))]) : [2, Promise.resolve(null)];
								case 1:
									return (n = i.sent()).type = "put", n.info = e, console.log("保存数据到服务器(data): ", n), [4, r.promisify(r.request.bind(r), {
										url: "",
										data: n
									})];
								case 2:
									return o = i.sent(), TimeMgr.setServerTime(o), o && o.data && 0 == o.data.code ? (console.log("保存数据到服务器成功", o), [2, o.data]) : (console.log("保存数据到服务器失败", o), [2, Promise.reject(o)])
							}
						})
					})
				}, Object.defineProperty(e.prototype, "leaderloardGameId", {
					get: function () {
						return p.default.isQQ() ? r.game_id : "poolchampion01_eight"
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.submitLeaderboard = function (e, t) {
					return o(this, void 0, void 0, function () {
						var t, n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return p.default.supportServer() ? (console.log("保存成绩到世界排行榜: ", e), [4, r.promisify(wx.login)]) : [2, Promise.reject(a.createError(a.ErrorTypes.PlatformError))];
								case 1:
									return t = i.sent(), [4, r.promisify(wx.getUserInfo, {
										withCredentials: !0,
										lang: "zh_CN"
									})];
								case 2:
									return n = i.sent(), [4, r.promisify(r.request.bind(r), {
										url: "",
										data: {
											game_id: this.leaderloardGameId,
											score: e,
											code: t.code,
											rawData: n.rawData,
											signature: n.signature,
											encryptedData: n.encryptedData,
											iv: n.iv
										}
									})];
								case 3:
									return o = i.sent(), TimeMgr.setServerTime(o), o && o.data && 0 == o.data.code ? (console.log("保存成绩到世界排行榜成功: ", o), [2, o]) : (console.log("保存成绩到世界排行榜失败: ", o), [2, Promise.reject(a.createError(a.ErrorTypes.ServerError))])
							}
						})
					})
				}, e.prototype.getLeaderboard = function () {
					return o(this, void 0, void 0, function () {
						var e, t;
						return i(this, function (n) {
							switch (n.label) {
								case 0:
									return p.default.supportServer() ? (console.log("开始获取世界排行榜"), [4, r.promisify(wx.login)]) : [2, Promise.reject(a.createError(a.ErrorTypes.PlatformError))];
								case 1:
									return e = n.sent(), [4, r.promisify(r.request.bind(r), {
										url: "",
										data: {
											code: e.code,
											game_id: this.leaderloardGameId
										}
									})];
								case 2:
									return t = n.sent(), TimeMgr.setServerTime(t), t && t.data && 0 == t.data.code ? (console.log("获取世界排行榜成功: ", t), [2, t]) : (console.log("获取世界排行榜失败: ", t), [2, Promise.reject(a.createError(a.ErrorTypes.ServerError))])
							}
						})
					})
				}, e.prototype.reportAppid = function (e) {
					return o(this, void 0, void 0, function () {
						var t, n, o, a;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return p.default.supportServer() ? (t = "report_channel", [4, new Promise(r.getUserIdOrCode.bind(r, t))]) : [2];
								case 1:
									return n = i.sent(), o = wx.getLaunchOptionsSync(), n.app_id = o.referrerInfo && o.referrerInfo.appId ? o.referrerInfo.appId : "", n.channel_id = o.query && o.query.cid ? o.query.cid : "", n.agent = o.query && o.query.agent ? o.query.agent : "official", n.share_user_id = o.query && o.query.user_id ? o.query.user_id : "", n.auth_flag = e, console.log("报告来源appid: ", n), [4, r.promisify(r.request.bind(r), {
										url: "",
										data: n
									})];
								case 2:
									return a = i.sent(), TimeMgr.setServerTime(a), r.saveUserId(t, a), a && a.data && 0 == a.data.code ? (console.log("报告来源appid成功: ", a), [2, a]) : (console.log("报告来源appid失败: ", a), [2, a])
							}
						})
					})
				}, e.prototype.reportClick = function (e) {
					return o(this, void 0, void 0, function () {
						var t, n, o, a, c;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return e.page || (e.page = "index"), t = e.tag, n = e.page, s.GameConfig.USE_YDSDK && f.default.instance.onEvent(t, n), console.log("[上报事件]参数:", t), p.default.supportServer() ? (o = "report_click", [4, new Promise(r.getUserIdOrCode.bind(r, o))]) : [2];
								case 1:
								// return a = i.sent(), r.getAddons(!1, !1, !0, a), a.tag = t, a.page = n, 
								// console.log("[上报事件]参数:", a), [4, r.promisify(r.request.bind(r), {
								// 	url: "",
								// 	data: a
								// })];
								case 2:
									return c = i.sent(), TimeMgr.setServerTime(c), r.saveUserId(o, c), c && c.data && 0 == c.data.code ? (console.log("[上报事件]成功: ", c), [2, c]) : (console.log("[上报事件]失败: ", c), [2, null])
							}
						})
					})
				}, e.prototype.getDomian = function () {
					return s.GameConfig.DEBUG ? this.debugDomain : this.releaseAPIDomain
				}, e.prototype.getUserIdOrCode = function () {
					return o(this, void 0, Promise, function () {
						return i(this, function (e) {
							switch (e.label) {
								case 0:
									return [4, r.promisify(wx.checkSession).then(function () {
										return !0
									}).catch(function (e) {
										return !1
									})];
								case 1:
									return e.sent() ? (console.log("登录未超时, 使用本地user_id"), [2, {
										user_id: DataBus.serverUserInfo.user_id
									}]) : [3, 2];
								case 2:
									return console.log("登录超时, 重新登录微信"), [4, r.promisify(wx.login)];
								case 3:
									return [2, {
										code: e.sent().code
									}]
							}
						})
					})
				}, e.prototype.getUserIdAndCode = function () {
					return o(this, void 0, Promise, function () {
						return i(this, function (e) {
							switch (e.label) {
								case 0:
									return [4, r.promisify(wx.login).catch(function (e) {
										return (e.errMsg || "").indexOf("login:fail login no response") > -1 ? (console.log("wx.login出现login:fail login no response错误, 使用加密user_id代替code"), {
											code: d.default.rsa_public_encrypt(DataBus.serverUserInfo.user_id)
										}) : Promise.reject(e)
									})];
								case 1:
									return [2, {
										code: e.sent().code,
										user_id: DataBus.serverUserInfo.user_id
									}]
							}
						})
					})
				}, e.prototype.notWxCommonRequest = function (e, t, n, s) {
					return void 0 === s && (s = !1), o(this, void 0, void 0, function () {
						var o;
						return i(this, function (i) {
							return console.log("[" + e + "]开始请求: ", n), o = {
								game_id: r.game_id,
								version: r.game_version,
								user_id: DataBus.serverUserInfo.user_id,
								code: d.default.randomAesKey()
							}, n && (o = r.extend(o, n)), [2, new Promise(function (n, i) {
								u.default.post(t, l.default.generateQuery(o), function (t, o) {
									TimeMgr.setServerTime({
										header: {
											Date: o && o.getResponseHeader("Date")
										}
									});
									var r = {
										statusCode: o.status,
										data: null
									};
									if (t) {
										try {
											r.data = JSON.parse(o.responseText)
										} catch (e) {
											r.data = null
										}
										if (r.data && 0 == r.data.code) return console.log("[" + e + "]请求成功: ", r), void n(r)
									}
									console.log("[" + e + "]请求失败: ", r), i(a.createError(a.ErrorTypes.ServerError, r))
								})
							})]
						})
					})
				}, e.prototype.commonRequest = function (e, t, n, s) {
					return void 0 === s && (s = !1), o(this, void 0, void 0, function () {
						var o, l, u, f;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									if (!p.default.supportServer()) return [2, null];
									if (o = 0 == t.indexOf("http") ? t : this.getDomian() + t, !p.default.isWX()) return [2, this.notWxCommonRequest(e, o, n, s)];
									console.log("[" + e + "]开始请求: ", n), i.label = 1;
								case 1:
									return i.trys.push([1, 6, , 7]), l = void 0, c.default.instance.dontUseCode() || s ? (l = {
										user_id: DataBus.serverUserInfo.user_id,
										code: d.default.randomAesKey()
									}, [3, 4]) : [3, 2];
								case 2:
									return [4, this.getUserIdAndCode()];
								case 3:
									l = i.sent(), i.label = 4;
								case 4:
									return n && (l = r.extend(l, n)), [4, r.promisify(r.request.bind(r), {
										url: o,
										data: l
									})];
								case 5:
									return u = i.sent(), TimeMgr.setServerTime(u), u && u.data && 0 == u.data.code ? (console.log("[" + e + "]请求成功: ", u), n && n.sig, [2, u]) : (console.log("[" + e + "]请求失败: ", u), [2, Promise.reject(a.createError(a.ErrorTypes.ServerError, u))]);
								case 6:
									return f = i.sent(), console.log("[" + e + "]请求失败: ", f), [2, Promise.reject(a.createError(a.ErrorTypes.ServerError))];
								case 7:
									return [2]
							}
						})
					})
				}, e.prototype.getUserId = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n;
						return i(this, function (o) {
							switch (o.label) {
								case 0:
									return e = "report_click", (t = r.getSavedUserId(e)) ? [3, 2] : [4, Server.reportClick(h.default.load1)];
								case 1:
									n = o.sent(), t = n && n.data && n.data.user_id, o.label = 2;
								case 2:
									return [2, t]
							}
						})
					})
				}, e.prototype.getRankList = function () {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							return [2, this.commonRequest("查询排行榜", "get_ranking.php")]
						})
					})
				}, e.prototype.setMsgV = function () {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							return [2, this.commonRequest("观看视频前请求", "set_msg_v.php")]
						})
					})
				}, e.prototype.videoOther = function () {
					return o(this, void 0, void 0, function () {
						var e, t;
						return i(this, function (n) {
							return e = DataBus.serverUserInfo.video_sig, t = DataBus.serverUserInfo.season, e ? [2, this.commonRequest("观看视频后请求", "user_video.php", {
								season_id: t,
								sig: e
							})] : [2, null]
						})
					})
				}, e.prototype.getShareLevel = function () {
					var e = DataBus && DataBus.user && DataBus.user.level;
					return void 0 === e ? e = -1 : e += 1, e
				}, e.prototype.getReportUserData = function () {
					var e = p.default.isWX() ? wx.getLaunchOptionsSync() : {},
						t = "",
						n = -1,
						o = -1,
						i = -1;
					return e.query && (void 0 !== e.query.strategy_user_id && (t = e.query.strategy_user_id), void 0 !== e.query.position_id && (n = e.query.position_id), void 0 !== e.query.share_id && (o = e.query.share_id), e.query.strategy_cid ? Server.strategyChannelId = e.query.strategy_cid : e.query.cid && "fromshare" != e.query.cid && (Server.strategyChannelId = e.query.cid), void 0 !== e.query.level && (i = e.query.level)), {
						share_user_id: t,
						share_position: n,
						share_picture: o,
						share_level: i
					}
				}, e.prototype.getShareInfo = function () {
					//aha
					return

					var e = this;
					p.default.supportServer() && r.request({
						url: "",
						header: {
							"Content-Type": "application/x-www-form-urlencoded",
							Accept: "application/json"
						},
						method: "POST",
						data: {
							game_id: SDK.game_id
						},
						success: function (t) {
							t && t.data && 0 == t.data.code ? (console.log("拉取分享语成功", t), e.shareInfo = t.data.share) : console.log("拉取分享语失败", t)
						},
						fail: function (e) {
							console.log("拉取分享语失败", e)
						},
						complete: null
					})
				}, e.prototype.reportUser = function (e, t, n, o, i, r) {
					void 0 === o && (o = -1), void 0 === i && (i = null), void 0 === r && (r = null), p.default.supportServer() ? this.reportChannelData("", {
						share_user_id: e,
						share_position: t,
						share_picture: n,
						share_level: o
					}, i, r) : i && i()
				}, e.prototype.reportShare = function (e, t, n) {
					void 0 === n && (n = -1), this.reportChannelData("", {
						share_position: e,
						share_picture: t,
						share_level: n
					}, null)
				}, e.prototype.reportLevel = function (e, t) {
					this.reportChannelData("", {
						level: e,
						report_type: t
					}, null)
				}, e.prototype.reportVideo = function (e) {
					this.reportChannelData("", {
						report_type: e
					}, function () { })
				}, e.prototype.reportChannelData = function (e, t, n, o) {
					var i = this;
					if (void 0 === o && (o = null), p.default.supportServer()) {
						var a = function (a) {
							a.game_id = SDK.game_id, i.strategy_user_id && (a.user_id = i.strategy_user_id);
							var s = wx.getLaunchOptionsSync();
							if (i.strategyChannelId ? a.channel_id = i.strategyChannelId : s.query && s.query.cid && "fromshare" != s.query.cid ? a.channel_id = s.query.cid : a.channel_id = "self", t)
								for (var c in t) {
									var l = t[c];
									void 0 !== l && (a[c] = l)
								}
							console.log("请求投放" + e + "：数据：", a);
							var u = function (t) {
								console.log("请求" + e + "失败", t), o && o()
							};
							r.request({
								url: e,
								header: {
									"Content-Type": "application/x-www-form-urlencoded",
									Accept: "application/json"
								},
								method: "POST",
								data: a,
								success: function (t) {
									t && t.data && 0 == t.data.code ? (console.log("请求" + e + "成功", t), t.data.my_user_id && (i.strategy_user_id = t.data.my_user_id), n && n()) : u && u(t)
								},
								fail: u,
								complete: null
							})
						};
						r.promisify(wx.login).then(function (e) {
							return a({
								code: e.code
							})
						}).catch(o)
					} else n && n()
				}, e
			}();
		n.default = y, cc._RF.pop()
	}, {
		"../Base/ErrorTypes": "ErrorTypes",
		"../Base/Share": "Share",
		"../Config/GameConfig": "GameConfig",
		"../Config/ReportID": "ReportID",
		"../Config/ServerConfig": "ServerConfig",
		"../Lib/MyCrypto": "MyCrypto",
		"../Lib/sdk": "sdk",
		"../Runtime/YdsdkBridge": "YdsdkBridge",
		"./HttpHelper": "HttpHelper",
		"./wxsdk": "wxsdk"
	}],
	SettingLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a5b00x562RKpIoqMxmOBoAl", "SettingLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../base/LayerBase"),
			a = e("../../Config/SoundID"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, function () { }(), function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.onLoad = function () {
					e.prototype.onLoad.call(this)
				}, t.prototype.onDestroy = function () {
					e.prototype.onDestroy.call(this)
				}, t.prototype.onDataLoad = function () {
					this.data
				}, t.prototype.start = function () {
					var e = cc.find("dialog/contents/btns/bgm_btn", this.node),
						t = cc.find("dialog/contents/btns/effe_btn", this.node),
						n = cc.find("dialog/contents/btns/vibr_btn", this.node);
					this.toggleBtn(e, SoundMgr.isMusicEnabled), this.toggleBtn(t, SoundMgr.isSoundEnabled), this.toggleBtn(n, SoundMgr.isVibrateEnabled)

				}, t.prototype.toggleBtn = function (e, t) {
					if (e) {
						var n = e.getChildByName("gray"),
							o = e.getChildByName("bright");
						n && (n.active = !t), o && (o.active = t)
					}
				}, t.prototype.onBtnBgmClick = function (e) {
					var t = SoundMgr.toggleMusic(),
						n = e.target;
					this.toggleBtn(n, t), SoundMgr.play(a.default.btn)
				}, t.prototype.onBtnEffeClick = function (e) {
					var t = SoundMgr.toggleSound(),
						n = e.target;
					this.toggleBtn(n, t), SoundMgr.play(a.default.btn)
				}, t.prototype.onBtnVibrClick = function (e) {
					var t = SoundMgr.toggleVibrate(),
						n = e.target;
					this.toggleBtn(n, t), SoundMgr.play(a.default.btn)
				}, t.prefabName = "home://dynamic/layer/settingLayer", t = i([c], t)
			}(r.default));
		n.default = l, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../base/LayerBase": "LayerBase"
	}],
	ShareTypes: [function (e, t, n) {
		"use strict";
		var o, i;

		function r(e) {
			return "undefined" != typeof qq ? i[e] : o[e]
		}
		cc._RF.push(t, "8c2c8oZ5zpA97U8GjlbFHTB", "ShareTypes"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.RewardType = n.SharePos = void 0,
			function (e) {
				e[e.System = 33] = "System", e[e.Main = 34] = "Main", e[e.NoEnergy = 35] = "NoEnergy", e[e.Result = 36] = "Result", e[e.Revive = 37] = "Revive", e[e.DoublePrize = 38] = "DoublePrize", e[e.LevelItem = 39] = "LevelItem", e[e.Lottery = 40] = "Lottery", e[e.DoubleUpgrade = 51] = "DoubleUpgrade", e[e.NoItem = 73] = "NoItem", e[e.Challenge = 82] = "Challenge", e[e.Balloon = 83] = "Balloon", e[e.SaveStar = 93] = "SaveStar", e[e.FreeCoins = 94] = "FreeCoins", e[e.SignIn = 97] = "SignIn", e[e.UnlockCue = 98] = "UnlockCue", e[e.Matching = 99] = "Matching", e[e.NewbieGift = 100] = "NewbieGift", e[e.UnlockEmoji = 110] = "UnlockEmoji", e[e.NoPvpTickets = 112] = "NoPvpTickets", e[e.SuperLine = 120] = "SuperLine", e[e.VIP = 141] = "VIP", e[e.UnlockPotEffect = 143] = "UnlockPotEffect", e[e.UnlockHitEffect = 144] = "UnlockHitEffect", e[e.Invite = 648] = "Invite", e[e.Unlock = 651] = "Unlock", e[e.TaskShare = 655] = "TaskShare", e[e.TaskInvite = 661] = "TaskInvite", e[e.Offline = 645] = "Offline", e[e.Group = 4042] = "Group"
			}(o || (o = {})),
			function (e) {
				e[e.System = 52] = "System", e[e.Main = 53] = "Main", e[e.NoEnergy = 54] = "NoEnergy", e[e.Result = 55] = "Result", e[e.Revive = 56] = "Revive", e[e.DoublePrize = 57] = "DoublePrize", e[e.LevelItem = 58] = "LevelItem", e[e.Lottery = 59] = "Lottery", e[e.DoubleUpgrade = 60] = "DoubleUpgrade", e[e.NoItem = 101] = "NoItem", e[e.Challenge = 102] = "Challenge", e[e.Balloon = 103] = "Balloon", e[e.SaveStar = 104] = "SaveStar", e[e.FreeCoins = 105] = "FreeCoins", e[e.SignIn = 106] = "SignIn", e[e.UnlockCue = 107] = "UnlockCue", e[e.Matching = 108] = "Matching", e[e.NewbieGift = 109] = "NewbieGift", e[e.UnlockEmoji = 111] = "UnlockEmoji", e[e.NoPvpTickets = 113] = "NoPvpTickets", e[e.SuperLine = 121] = "SuperLine", e[e.VIP = 142] = "VIP", e[e.UnlockPotEffect = 145] = "UnlockPotEffect", e[e.UnlockHitEffect = 146] = "UnlockHitEffect", e[e.Invite = 640] = "Invite", e[e.Unlock = 635] = "Unlock", e[e.TaskShare = 8882] = "TaskShare", e[e.TaskInvite = 639] = "TaskInvite", e[e.Offline = 634] = "Offline", e[e.Group = 4042] = "Group"
			}(i || (i = {})),
			function (e) {
				e[e.System = r("System")] = "System", e[e.Main = r("Main")] = "Main", e[e.NoEnergy = r("NoEnergy")] = "NoEnergy", e[e.Result = r("Result")] = "Result", e[e.Revive = r("Revive")] = "Revive", e[e.DoublePrize = r("DoublePrize")] = "DoublePrize", e[e.LevelItem = r("LevelItem")] = "LevelItem", e[e.Lottery = r("Lottery")] = "Lottery", e[e.DoubleUpgrade = r("DoubleUpgrade")] = "DoubleUpgrade", e[e.NoItem = r("NoItem")] = "NoItem", e[e.Challenge = r("Challenge")] = "Challenge", e[e.Balloon = r("Balloon")] = "Balloon", e[e.SaveStar = r("SaveStar")] = "SaveStar", e[e.FreeCoins = r("FreeCoins")] = "FreeCoins", e[e.SignIn = r("SignIn")] = "SignIn", e[e.UnlockCue = r("UnlockCue")] = "UnlockCue", e[e.Matching = r("Matching")] = "Matching", e[e.NewbieGift = r("NewbieGift")] = "NewbieGift", e[e.UnlockEmoji = r("UnlockEmoji")] = "UnlockEmoji", e[e.NoPvpTickets = r("NoPvpTickets")] = "NoPvpTickets", e[e.SuperLine = r("SuperLine")] = "SuperLine", e[e.VIP = r("VIP")] = "VIP", e[e.UnlockPotEffect = r("UnlockPotEffect")] = "UnlockPotEffect", e[e.UnlockHitEffect = r("UnlockHitEffect")] = "UnlockHitEffect", e[e.Invite = r("Invite")] = "Invite", e[e.Unlock = r("Unlock")] = "Unlock", e[e.TaskShare = r("TaskShare")] = "TaskShare", e[e.TaskInvite = r("TaskInvite")] = "TaskInvite", e[e.Offline = r("Offline")] = "Offline", e[e.Group = r("Group")] = "Group"
			}(n.SharePos || (n.SharePos = {})),
			function (e) {
				e[e.Video = 0] = "Video", e[e.Share = 1] = "Share", e[e.None = -1] = "None"
			}(n.RewardType || (n.RewardType = {})), cc._RF.pop()
	}, {}],
	Share: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "1f65eZln7hMI64kg2VdrXpu", "Share");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Ui/Ui"),
			a = e("./ErrorTypes"),
			s = e("./ShareTypes"),
			c = e("../Data/wxsdk"),
			l = e("./StatusStack"),
			u = e("../Config/StatusStackID"),
			d = e("../Config/GameConfig"),
			f = e("../Runtime/YdsdkBridge"),
			p = e("../Ui/dailyTask/DailyTaskLogic"),
			h = e("../Ui/dailyTask/DailyTaskTypes"),
			y = e("../Lib/MyCrypto"),
			ss = e("../Config/SoundID"),
			g = new (function () {
				function e() {
					this.defaultShareTitle = "快来和我一起打台球吧！", this.defaultSharePic = "res/share.jpg", this.localShareTitleMap = {}, this.fakeShareFailTimes = 0, this.failTimesMap = {}, this.isShareFailSwitchToVideo = !1, this.video_sig = ""
				}
				return e.prototype.getFailTimes = function (e) {
					return this.failTimesMap[e] || 0
				}, e.prototype.setFailTimes = function (e, t) {
					this.failTimesMap[e] = t
				}, e.prototype.hasShare = function (e) {
					if (Utils.configi("share_flag", -1) < 0) return !1;
					if (c.default.isTT() && !c.default.isLogin()) return !1;
					var t = Utils.configi("share_level", 0);
					if (DataBus.user.level < t) return !1;
					var n = Utils.configi("day_share_count", 0);
					return DataBus.other.shareTimes < n
				}, e.prototype.getShareChance = function (e) {
					var t = {};
					return Utils.configs("share_chance", "33_0,34_0,35_0,36_0,37_0,38_0,39_0,40_0").split(",").forEach(function (e) {
						var n = e.split("_").map(function (e) {
							return parseFloat(e)
						});
						t[n[0]] = n[1]
					}), t[e] || 0
				}, e.prototype.allowNoVideoToShare = function () {
					return Utils.configi("no_video_to_share", 0) > 0
				}, e.prototype.isShareOrVideo = function (e) {
					if (d.GameConfig.USE_YDSDK) return f.default.instance.isShareOrVideo(e);
					var t = this.hasShare(e),
						n = sdk.hasVideo();
					if (this.isShareFailSwitchToVideo && n) return console.log("[分享或视频][" + s.SharePos[e] + "], 分享失败次数过多，强制使用视频"), s.RewardType.Video;
					var o = this.getShareChance(e),
						i = 100 * Math.random(),
						r = this.allowNoVideoToShare(),
						a = s.RewardType.None,
						c = "无";
					return t && (i < o || r && !n) ? (a = s.RewardType.Share, c = "分享") : n && (a = s.RewardType.Video, c = "视频"), console.log("[分享或视频][" + s.SharePos[e] + "], 有分享:" + t + ", 有视频:" + n + ", 随机数:" + i.toFixed(2) + ", 下发几率:" + o.toFixed(2) + ", 允许无视频切分享:" + r + " 结果:" + c), a
				}, e.prototype.shareOrVideo = function (e, t, n, c) {
					return o(this, void 0, void 0, function () {
						return i(this, function (o) {
							return d.GameConfig.USE_YDSDK ? (n = this.isShareOrVideo(e)) == s.RewardType.None ? (r.default.showTips("视频未准备好1!"), [2, Promise.reject(a.createError(a.ErrorTypes.NoVideoError))]) : [2, f.default.instance.shareOrVideo(e)] : (void 0 == n && (n = this.isShareOrVideo(e)), this.video_sig = "", n == s.RewardType.Share ? [2, this.share(e, c)] : n == s.RewardType.Video ? [2, this.showVideo(t)] : [2, this.showVideo(t)])
						})
					})
				}, e.prototype.showVideo = function (e) {
					return void 0 === e && (e = !1), o(this, void 0, void 0, function () {
						var e, t, n;
						return i(this, function (o) {
							switch (o.label) {
								case 0:
									l.default.instance.addStatus(u.default.banner, "video", !1), SDK.showLoading("请稍候...", !1), e = null, o.label = 1;
								case 1:
									return o.trys.push([1, 5, , 6]), c.default.isWX() ? [4, Server.setMsgV().catch(function (e) {
										return null
									})] : [3, 3];
								case 2:
									(t = o.sent()) && (DataBus.serverUserInfo.video_sig = y.default.rsa_public_encrypt(t.data.data.sig)), o.label = 3;
								case 3:
									return [4, new Promise(function (e, t) {
										// sdk.showVideo(function (n) {
										// let n = true;
										SoundMgr.stopMusic();
										showRewardedVideoMini((res)=>{
											if(res){
												e && e();
											}else{
												t(a.createError(a.ErrorTypes.NoVideoError))
											}
											SoundMgr.playMusic(ss.default.bgm)
										})
										// n ? (console.log("视频播放成功！"), e(), Server.reportVideo(1)) : (console.log("视频被跳过！"), r.default.showTips("需要看完视频哦!"), t(a.createError(a.ErrorTypes.UserCloseVideo)))
										// }, function () {
										// 	console.log("视频播放失败啦！"), r.default.showTips("视频未准备好!"), t(a.createError(a.ErrorTypes.NoVideoError))
										// }, function () {
										// 	SDK.hideLoading(), Server.reportVideo(0)
										// })
									})];
								case 4:
									return o.sent(), c.default.isWX() && Server.videoOther().catch(function (e) {
										return null
									}), l.default.instance.removeStatus(u.default.banner, "video"), SDK.hideLoading(), console.log("视频无需要校验或校验成功"), p.default.instance.addDailyProgress(h.DailyTaskID.view_video, 1), [3, 6];
								case 5:
									return n = o.sent(), this.video_sig = "", l.default.instance.removeStatus(u.default.banner, "video"), SDK.hideLoading(), console.log("视频播放出错了: ", JSON.stringify(n)), e = n, [3, 6];
								case 6:
									return [2, e ? Promise.reject(e) : Promise.resolve()]
							}
						})
					})
				}, e.prototype.videoFail = function () {
					this.video_sig = "", sdk.hideLoading(), l.default.instance.removeStatus(u.default.banner, "video")
				}, e.prototype.reportShare = function (e, t) {
					var n = Server.getShareLevel();
					Server.reportShare(e, t, n)
				}, e.prototype.ttShare = function (e, t) {
					var n = this;
					return c.default.isTT() ? new Promise(function (o, i) {
						var r = n.getShareConfig(e);
						t && sdk.extend(r.queryObj, t);
						var a = n.generateQuery(r.queryObj);
						tt.shareAppMessage({
							templateId: "e94wyjg0t0a1920q54",
							query: a,
							title: "快来和我打台球",
							desc: r.title,
							imageUrl: r.pic,
							success: function () {
								o()
							},
							fail: function (e) {
								i()
							}
						})
					}) : Promise.reject()
				}, e.prototype.shareWithCallback = function (e, t) {
					var n = this;
					if (c.default.isTT()) return this.ttShare(e, t);
					this.addShareTimesForQQ();
					var o = this.getShareConfig(e);
					t && sdk.extend(o.queryObj, t);
					var i = this.generateQuery(o.queryObj);
					return new Promise(sdk.share.bind(sdk, o.title, o.pic, i)).then(function (t) {
						return n.reportShare(e, o.queryObj.share_id), t
					})
				}, e.prototype.shareWithoutCallback = function (e, t) {
					if (d.GameConfig.USE_YDSDK) {
						var n = t ? this.generateQuery(t) : "";
						return f.default.instance.share(n)
					}
					if (c.default.isTT()) return this.ttShare(e, t);
					if (c.default.isVivo()) return window.qg && qg.share && qg.share();
					this.addShareTimesForQQ();
					var o = this.getShareConfig(e);
					t && sdk.extend(o.queryObj, t);
					var i = this.generateQuery(o.queryObj);
					sdk.share(o.title, o.pic, i), this.reportShare(e, o.queryObj.share_id)
				}, e.prototype.share = function (e, t) {
					if (c.default.isTT()) return this.ttShare(e, t);
					if (c.default.isVivo()) return new Promise(function (e, t) {
						window.qg && qg.share && qg.share({
							success: function (t) {
								console.log("分享成功：", t), e()
							},
							fail: function (e) {
								console.log("分享失败：", e), t()
							},
							cancel: function (e) {
								console.log("分享取消：", e), t()
							}
						})
					});
					this.addShareTimesForQQ();
					var n = this.getShareConfig(e);
					return t && sdk.extend(n.queryObj, t), this._doFakeShare(e, n)
				}, e.prototype._doFakeShare = function (e, t) {
					return o(this, void 0, Promise, function () {
						var n, o, a, s, c, l, u, d = this;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return n = t.title, o = t.pic, a = this.generateQuery(t.queryObj), [4, (s = function () {
										return sdk.share(n, o, a), d.reportShare(e, t.queryObj.share_id), new Promise(function (e) {
											d.fakeShareCallback(function () {
												return e({
													success: !0,
													res: ""
												})
											}, function (t) {
												return e({
													success: !1,
													res: t
												})
											})
										})
									})()];
								case 1:
									return c = i.sent(), [4, Utils.delayTime(.02)];
								case 2:
									if (i.sent(), !(1 == (parseInt(sdk.conf.share_retry) || 0))) return [3, 12];
									l = 1 == (parseInt(sdk.conf.share_switch_video) || 0), i.label = 3;
								case 3:
									return c.success ? [3, 11] : (this.setFailTimes(e, this.getFailTimes(e) + 1), l && this.getFailTimes(e) >= 3 ? (this.isShareFailSwitchToVideo = !0, u = sdk.conf.share_switch_video_toast || "分享失败，看视频也可以哦", [4, Utils.showDialog("提示", u, "去看视频", "取消")]) : [3, 5]);
								case 4:
									return i.sent() ? [2, this.showVideo()] : [3, 11];
								case 5:
									return u = c.res && c.res.info || "操作失败，请重试", l && (u = [sdk.conf.share_time_toast || "分享失败，再试试吧", sdk.conf.share_group_toast || "只能分享到群"][this.getFailTimes(e) - 1] || u), [4, Utils.showDialog("提示", u, "去分享", "取消")];
								case 6:
									return i.sent() ? [4, s()] : [3, 9];
								case 7:
									return c = i.sent(), [4, Utils.delayTime(.02)];
								case 8:
									return i.sent(), [3, 10];
								case 9:
									return [3, 11];
								case 10:
									return [3, 3];
								case 11:
									return c.success ? [3, 13] : [2, Promise.reject(c.res)];
								case 12:
									if (!c.success) return (u = c.res && c.res.info) && r.default.showTips(u), [2, Promise.reject(c.res)];
									i.label = 13;
								case 13:
									return [2]
							}
						})
					})
				}, e.prototype.fakeShareCallback = function (e, t) {
					var n = this,
						o = (new Date).getTime(),
						i = "fakeShare",
						r = 0;
					c.default.isQQ() && (r = setTimeout(function () {
						r = setTimeout(function () {
							sdk.offShow(i), t && t(a.createError(a.ErrorTypes.ShareTimeOutFail))
						}, 500)
					}, 1e3)), sdk.onShow(i, function (s) {
						sdk.offShow(i), clearTimeout(r);
						var c = void 0 == sdk.conf.fake_share_gap ? 2 : parseInt(sdk.conf.fake_share_gap) || 0,
							l = ((new Date).getTime() - o) / 1e3;
						if (console.log("分享回调: 后台返回时间:(" + l + "), 下发/取值:(" + sdk.conf.fake_share_gap + ")/(" + c + "), 结果:(" + (l > c ? "时长有效" : "分享失败") + ")"), l > c) {
							var u = sdk.conf.fake_share_fail_ratio,
								d = [50, 0];
							"string" == typeof u && (d = u.split(",").map(function (e) {
								return parseInt(e) || 0
							}));
							var f = d[n.fakeShareFailTimes] || 0,
								p = 100 * Math.random();
							if (console.log("分享回调: 随机数:(" + p + "), 下发/取值:(" + sdk.conf.fake_share_fail_ratio + ")/(" + d + "), 选取的概率:(" + f + "), 结果:(分享" + (p < f ? "失败" : "成功") + ")"), p < f) {
								var h = Utils.shuffle([sdk.conf.share_group_toast, sdk.conf.share_group_toast2].filter(function (e) {
									return e
								}))[0];
								t && t(a.createError(a.ErrorTypes.ShareChanceFail, h)), ++n.fakeShareFailTimes
							} else e && e(), n.fakeShareFailTimes = 0, n.addShareTimesForWx()
						} else {
							var y = Utils.shuffle([sdk.conf.share_time_toast, sdk.conf.share_time_toast2].filter(function (e) {
								return e
							}))[0];
							t && t(a.createError(a.ErrorTypes.ShareDurationFail, y))
						}
					}, -1)
				}, e.prototype.addShareTimesForQQ = function () {
					c.default.isQQ() && (++DataBus.other.shareTimes, DataBus.other.save())
				}, e.prototype.addShareTimesForWx = function () {
					c.default.isQQ() || (++DataBus.other.shareTimes, DataBus.other.save())
				}, e.prototype.getShareConfig = function (e) {
					var t, n, o, i = null;
					return Server.shareInfo && Server.shareInfo.length > 0 && (i = Utils.randElement(Server.shareInfo)), i ? (t = i.text, n = i.pic, o = i.sid) : (t = this.localShareTitleMap[e] || this.defaultShareTitle, n = this.defaultSharePic, o = -1), {
						title: t,
						pic: n,
						queryObj: {
							position_id: e,
							share_id: o,
							sid: Utils.generateUUID(),
							t: (new Date).getTime(),
							cid: "fromshare",
							strategy_user_id: Server.strategy_user_id,
							strategy_cid: Server.strategyChannelId,
							level: Server.getShareLevel()
						}
					}
				}, e.prototype.generateQuery = function (e) {
					var t = "";
					for (var n in e) t += n + "=" + e[n] + "&";
					return t.length > 0 && (t = t.substring(0, t.length - 1)), t
				}, e
			}());
		n.default = g, window.Share = g, cc._RF.pop()
	}, {
		"../Config/GameConfig": "GameConfig",
		"../Config/StatusStackID": "StatusStackID",
		"../Data/wxsdk": "wxsdk",
		"../Lib/MyCrypto": "MyCrypto",
		"../Runtime/YdsdkBridge": "YdsdkBridge",
		"../Ui/Ui": "Ui",
		"../Ui/dailyTask/DailyTaskLogic": "DailyTaskLogic",
		"../Ui/dailyTask/DailyTaskTypes": "DailyTaskTypes",
		"./ErrorTypes": "ErrorTypes",
		"./ShareTypes": "ShareTypes",
		"./StatusStack": "StatusStack"
	}],
	ShootPointBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "73b85V55hdLKYspiJg4V3Bc", "ShootPointBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../../Config/SoundID"),
			c = e("./ShootPointLayer"),
			l = e("../PoolTypes"),
			u = cc._decorator,
			d = u.ccclass,
			f = (u.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._shootPoint = new cc.Vec2, t._dotNode = null, t._radius = 36, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "shootPoint", {
					get: function () {
						return this._shootPoint
					},
					set: function (e) {
						this._shootPoint.set(e), this.updateDisplay()
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.start = function () {
					this._dotNode = this.node.getChildByName("dot")
				}, t.prototype.onEnable = function () {
					Utils.bindBtnEvent(this.node, this.node, "ShootPointBtn", "onClick")
				}, t.prototype.onDisable = function () {
					Utils.unbindBtnEvent(this.node)
				}, t.prototype.getRoll = function () {
					return this.shootPoint.y
				}, t.prototype.getEnglish = function () {
					return this.shootPoint.x
				}, t.prototype.updateDisplay = function () {
					this._dotNode.setPosition(this.shootPoint.mul(this._radius))
				}, t.prototype.onClick = function () {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return SoundMgr.play(s.default.btn), [4, c.default.show(this.shootPoint)];
								case 1:
									return (e = t.sent()) && e.on(l.PoolEventId.ShootPointChanged, this.onShootPointChanged, this), [2]
							}
						})
					})
				}, t.prototype.onShootPointChanged = function (e) {
					this.shootPoint = e
				}, t = i([d], t)
			}(cc.Component));
		n.default = f, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"../PoolTypes": "PoolTypes",
		"./ShootPointLayer": "ShootPointLayer"
	}],
	ShootPointLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9879bT6pOxM1ZgGukIS8/0t", "ShootPointLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r, a = e("../../../Ui/base/LayerBase"),
			s = e("../PoolTypes"),
			c = e("../../../Config/ReportID");
		(function (e) {
			e[e.Click = 0] = "Click", e[e.Slide = 1] = "Slide"
		})(r || (r = {}));
		var l = cc._decorator,
			u = l.ccclass,
			d = (l.property, function () {
				return function () {
					this.onClose = function () { }
				}
			}()),
			f = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._shootPoint = new cc.Vec2, t.radius = 215, t.contentsNode = null, t.dotNode = null, t._touching = !1, t._touchMode = r.Click, t._modified = !1, t
				}
				var n;
				return o(t, e), n = t, Object.defineProperty(t.prototype, "shootPoint", {
					get: function () {
						return this._shootPoint
					},
					set: function (e) {
						this._shootPoint.set(e), this._shootPoint.lengthSqr() > 1 && this._shootPoint.normalizeSelf(), this.updateDisplay(), this.node.emit(s.PoolEventId.ShootPointChanged, this._shootPoint)
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onLoad = function () {
					e.prototype.onLoad.call(this), this.contentsNode = cc.find("dialog/contents", this.node), this.dotNode = this.contentsNode.getChildByName("dot"), n._instance = this, Server.reportClick(c.default.point1)
				}, t.prototype.onDestroy = function () {
					this._modified ? Server.reportClick(c.default.point3) : Server.reportClick(c.default.point2), n._instance = null, e.prototype.onDestroy.call(this)
				}, t.prototype.onDataLoad = function () {
					this.data, this.shootPoint = this.data.shootPoint
				}, t.prototype.updateDisplay = function () {
					this.dotNode.setPosition(this._shootPoint.mul(this.radius))
				}, t.prototype.onEnable = function () {
					this.setTouchEnabled(!0)
				}, t.prototype.onDisable = function () {
					this.setTouchEnabled(!1)
				}, t.prototype.setTouchEnabled = function (e) {
					this.contentsNode.off(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.contentsNode.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), this.contentsNode.off(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this), this.contentsNode.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this), e && (this.contentsNode.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.contentsNode.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), this.contentsNode.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this), this.contentsNode.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this))
				}, t.prototype.onTouchStart = function (e) {
					var t = this.contentsNode.convertToNodeSpaceAR(e.getLocation()),
						n = this.contentsNode.height / 2;
					this._touching = t.lengthSqr() <= n * n, this._touchMode = r.Click, e.stopPropagation()
				}, t.prototype.onTouchMove = function (e) {
					if (this._touching) {
						if (this._touchMode == r.Click) {
							var t = e.getStartLocation();
							e.getLocation().sub(t).lengthSqr() >= 25 && (this._touchMode = r.Slide)
						}
						if (this._touchMode == r.Slide) {
							var n = this.contentsNode.convertToNodeSpaceAR(e.getPreviousLocation()),
								o = this.contentsNode.convertToNodeSpaceAR(e.getLocation()).subSelf(n).divSelf(this.radius);
							this.shootPoint = this._shootPoint.addSelf(o), this._modified = !0
						}
					}
					e.stopPropagation()
				}, t.prototype.onTouchEnd = function (e) {
					if (this._touching) {
						if (this._touchMode == r.Click) {
							var t = this.contentsNode.convertToNodeSpaceAR(e.getLocation()).divSelf(this.radius);
							this.shootPoint = t, this._modified = !0
						}
						this._touching = !1
					} else this.tapToClose && this.close();
					e.stopPropagation()
				}, t.show = function (e, t) {
					var o = new d;
					return o.shootPoint = e, o.onClose = function () {
						return t && t()
					}, ui.showLayer(n, o)
				}, t.close = function () {
					n._instance && n._instance.close()
				}, t.prefabName = "game_newbie://dynamic/layer/shootPointLayer", t.paramType = d, t._instance = null, t = n = i([u], t)
			}(a.default);
		n.default = f, cc._RF.pop()
	}, {
		"../../../Config/ReportID": "ReportID",
		"../../../Ui/base/LayerBase": "LayerBase",
		"../PoolTypes": "PoolTypes"
	}],
	ShortcutMgr: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "aee76vCV/hOJ5ENP/AGlEmH", "ShortcutMgr"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = e("../Data/wxsdk"),
			i = e("./guide/GuideLogic"),
			r = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.isSupport = function () {
					return o.default.isQg() && !!qg.hasShortcutInstalled
				}, e.prototype.getMaxDisplayTimes = function () {
					return 2
				}, e.prototype.installShortcut = function () {
					if (i.default.instance.isGuideFinished())
						if (this.isSupport()) {
							var e = this.getMaxDisplayTimes();
							DataBus.other.shortcutTimes >= e ? console.log("[桌面图标]今天已经显示" + e + "次了") : qg.hasShortcutInstalled({
								success: function (e) {
									e ? console.log("[桌面图标]已经安装了") : (DataBus.other.shortcutTimes += 1, DataBus.other.save(), qg.installShortcut({
										success: function () {
											console.log("[桌面图标]安装成功")
										},
										fail: function (e) {
											console.log("[桌面图标]安装失败: ", e)
										}
									}))
								},
								fail: function (e) {
									console.log("[桌面图标]获取安装状态失败: ", e)
								}
							})
						} else console.log("[桌面图标]功能不支持");
					else console.log("[桌面图标]新手引导期间跳过")
				}, e._instance = null, e
			}();
		n.default = r, cc._RF.pop()
	}, {
		"../Data/wxsdk": "wxsdk",
		"./guide/GuideLogic": "GuideLogic"
	}],
	ShowItemLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7808aj4OP1AHaCBG4Dlsk1S", "ShowItemLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.ShowItemLayerParam = void 0;
		var r = e("../../../Ui/base/LayerBase"),
			a = e("../../LevelConfig"),
			s = e("../../../Ui/prize/PrizePanel"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, c.menu),
			d = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.ShowItemLayerParam = d;
		var f = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this._updateDisplay()
			}, t.prototype._updateDisplay = function () {
				var e = this.data.level,
					t = a.default.instance.getNextLevelPrizeConfig(e);
				cc.find("dialog/contents/item_list", this.node).getComponent(s.default).setData(t.prizeList.filter(function (e) {
					return e.value > 0
				}));
				var n = t.level - e;
				cc.find("dialog/contents/label", this.node).getComponent(cc.Label).string = "There are still " + n + " levels, get rewards"
			}, t.show = function (e) {
				return new Promise(function (t, o) {
					var i = new d;
					i.level = e, i.onClose = t, ui.showLayer(n, i)
				})
			}, t.prefabName = "common://dynamic/layer/showItemLayer", t = n = i([l, u("Layer/ShowItemLayer")], t)
		}(r.default);
		n.default = f, window.ShowItemLayer = f, cc._RF.pop()
	}, {
		"../../../Ui/base/LayerBase": "LayerBase",
		"../../../Ui/prize/PrizePanel": "PrizePanel",
		"../../LevelConfig": "LevelConfig"
	}],
	SideAdsLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "4b436BfaTZBnJLHcuP7XZ63", "SideAdsLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.SideAdsLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = e("../../Config/EventID"),
			s = e("../../Base/AdsMgr"),
			c = e("./AdsItem"),
			l = e("../../Runtime/YdsdkBridge"),
			u = e("../../Config/ServerConfig"),
			d = e("../../Runtime/guide/GuideLogic"),
			f = cc._decorator,
			p = f.ccclass,
			h = f.property,
			y = f.menu,
			g = function () {
				return function () {
					this.fromLeft = !0, this.onClose = function () { }
				}
			}();
		n.SideAdsLayerParam = g;
		var _ = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.itemPrefab = null, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this._onDataChanged(), cc.systemEvent.on(a.default.INSIDE_ADS_CHANGED, this._onDataChanged, this);
				var t = this.getCloseBtn();
				if (t) {
					t.active = !1;
					var o = u.default.instance.getAdsCloseBtnDelay();
					this.scheduleOnce(function () {
						t.active = !0
					}, o)
				}
				n._instance = this
			}, t.prototype.onDestroy = function () {
				n._instance = null, cc.systemEvent.off(a.default.INSIDE_ADS_CHANGED, this._onDataChanged, this), e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this._playOpenAnimation()
			}, t.prototype._onDataChanged = function () {
				var e = s.default.instance.getFixedList();
				this.content.children.forEach(function (e) {
					return e.active = !1
				});
				for (var t = Math.max(e.length, this.content.childrenCount), n = 0; n < t; ++n) this._initItem(n, e[n]);
				l.default.instance.reportAdsShow(e)
			}, t.prototype._initItem = function (e, t) {
				var n = this.content.children[e];
				t ? (n || ((n = cc.instantiate(this.itemPrefab)).parent = this.content), n.active = !0, n.getComponent(c.default).setData(t)) : n && (n.active = !1)
			}, t.prototype._playOpenAnimation = function () {
				var e = this.dialog_node;
				this.data.fromLeft ? e.x = -700 : e.x = 700, e.stopAllActions();
				e.runAction(cc.moveTo(.5, 0, e.y).easing(cc.easeBackOut()))
			}, t.prototype.close = function () {
				var e, t = this,
					n = this.dialog_node;
				e = this.data.fromLeft ? -700 : 700, n.stopAllActions();
				n.runAction(cc.sequence(cc.moveTo(.5, e, n.y).easing(cc.easeBackIn()), cc.callFunc(function () {
					return t.node.destroy()
				})));
				var o = this.getMaskNode();
				o && (o.stopAllActions(), o.runAction(cc.fadeOut(.5)))
			}, t.showForBackHome = function (e) {
				return u.default.instance.showSideAdsForBackHome() && d.default.instance.isGuideFinished() && s.default.instance.isValid() ? n.show(e) : null
			}, t.show = function (e) {
				var t = new g;
				return t.fromLeft = e, ui.showLayer(n, t)
			}, t.close = function () {
				n._instance && n._instance.close()
			}, t.prefabName = "home://dynamic/layer/sideAdsLayer", t._instance = null, i([h({
				type: cc.Prefab,
				displayName: "item预制体"
			})], t.prototype, "itemPrefab", void 0), t = n = i([p, y("Layer/SideAdsLayer")], t)
		}(r.default);
		n.default = _, window.SideAdsLayer = _, cc._RF.pop()
	}, {
		"../../Base/AdsMgr": "AdsMgr",
		"../../Config/EventID": "EventID",
		"../../Config/ServerConfig": "ServerConfig",
		"../../Runtime/YdsdkBridge": "YdsdkBridge",
		"../../Runtime/guide/GuideLogic": "GuideLogic",
		"../base/LayerBase": "LayerBase",
		"./AdsItem": "AdsItem"
	}],
	SightLine: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "223d9VrXktLE7rIJwXegiZF", "SightLine");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../PoolGlobal"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._displayDirty = !0, t._angle = 0, t._aimLineLength = 1, t._aimCirclePos = new cc.Vec2, t._reflectLineLength = 0, t._reflectLineAngle = 0, t._objectLineLength = 0, t._objectPos = new cc.Vec2, t._objectAngle = 0, t._objectColor = new cc.Color(255, 255, 255, 255), t._aimLineColor = new cc.Color(255, 255, 255, 255), t._forbidPos = new cc.Vec2, t.aimCircleNode = null, t.aimLineNode = null, t.objectLineNode = null, t.reflectLineNode = null, t.forbidNode = null, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "angle", {
					get: function () {
						return this._angle
					},
					set: function (e) {
						this._angle = e, this._displayDirty = !0
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "aimLineLength", {
					get: function () {
						return this._aimLineLength
					},
					set: function (e) {
						this._aimLineLength = e, this._displayDirty = !0
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "aimCirclePos", {
					get: function () {
						return this._aimCirclePos
					},
					set: function (e) {
						this._aimCirclePos.set(e), this._displayDirty = !0
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "reflectLineLength", {
					get: function () {
						return this._reflectLineLength
					},
					set: function (e) {
						this._reflectLineLength = e, this._displayDirty = !0
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "reflectLineAngle", {
					get: function () {
						return this._reflectLineAngle
					},
					set: function (e) {
						this._reflectLineAngle = e, this._displayDirty = !0
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "objectLineLength", {
					get: function () {
						return this._objectLineLength
					},
					set: function (e) {
						this._objectLineLength = e, this._displayDirty = !0
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "objectPos", {
					get: function () {
						return this._objectPos
					},
					set: function (e) {
						this._objectPos.set(e), this._displayDirty = !0
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "objectAngle", {
					get: function () {
						return this._objectAngle
					},
					set: function (e) {
						this._objectAngle = e, this._displayDirty = !0
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "objectColor", {
					get: function () {
						return this._objectColor
					},
					set: function (e) {
						this._objectColor.set(e), this._displayDirty = !0
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "aimLineColor", {
					get: function () {
						return this._aimLineColor
					},
					set: function (e) {
						this._aimLineColor.set(e), this._displayDirty = !0
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(t.prototype, "forbidPos", {
					get: function () {
						return this._forbidPos
					},
					set: function (e) {
						this._forbidPos.set(e), this._displayDirty = !0
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.start = function () {
					this.aimCircleNode = this.node.getChildByName("aim_circle"), this.aimLineNode = this.node.getChildByName("aim_line"), this.objectLineNode = this.node.getChildByName("object_line"), this.reflectLineNode = this.node.getChildByName("reflect_line"), this.forbidNode = this.node.parent.getChildByName("forbid_node");
					var e = r.default.radius / 25 * .9;
					this.aimCircleNode.scale = e, this.aimLineNode.scale = e, this.objectLineNode.scale = e, this.reflectLineNode.scale = e, this.node.zIndex = r.default.sightLineZIndex, this.node.active = !1, this.forbidNode && (this.forbidNode.scale = e, this.forbidNode.active = !1, this.forbidNode.zIndex = r.default.forbidZIndex)
				}, t.prototype.setData = function (e, t, n, o) {
					this.angle = e, this.aimLineLength = t, this.reflectLineLength = n, this.objectLineLength = o
				}, t.prototype.show = function () {
					if (this.enabled && (this.node.active = !0, this.updateDisplay(), this.node.opacity < 255)) {
						this.node.stopAllActions(), this.node.runAction(cc.fadeIn(.1))
					}
				}, t.prototype.hide = function () {
					var e = this;
					this.node.stopAllActions(), this.node.runAction(cc.sequence(cc.fadeOut(.1), cc.callFunc(function () {
						e.node.active = !1
					}))), this.forbidNode && (this.forbidNode.active = !1)
				}, t.prototype.updateDisplay = function () {
					if (this._displayDirty) {
						if (this.aimCircleNode.active = !0, this.aimCircleNode.setPosition(this.aimCirclePos), this.aimLineNode.active = !0, this.aimLineNode.width = this.aimLineLength / this.aimLineNode.scale + 32, this.aimLineNode.width < 55 && (this.aimLineNode.width = 0), this.aimLineNode.angle = cc.misc.radiansToDegrees(this.angle), this.aimLineNode.color = this.aimLineColor || cc.Color.WHITE, this.aimCircleNode.color = this.aimLineColor || cc.Color.WHITE, this.forbidNode && (this.aimLineColor.equals(cc.Color.WHITE) ? this.forbidNode.active = !1 : (this.forbidNode.active = !0, this.forbidNode.setPosition(this.forbidPos))), this.objectLineLength > 0) {
							this.reflectLineNode.active = !1, this.objectLineNode.active = !0, this.objectLineNode.angle = cc.misc.radiansToDegrees(this.objectAngle);
							var e = this.objectLineLength / this.objectLineNode.scale + 32;
							this.objectLineNode.width = e, this.objectLineNode.children.forEach(function (t) {
								return t.width = e
							}), this.objectLineNode.setPosition(this.objectPos), this.objectLineNode.color = this.objectColor || cc.Color.WHITE
						} else if (this.reflectLineLength > 0) {
							this.objectLineNode.active = !1, this.reflectLineNode.active = !0, this.reflectLineNode.angle = cc.misc.radiansToDegrees(this.reflectLineAngle);
							var t = this.reflectLineLength / this.reflectLineNode.scale + 32;
							this.reflectLineNode.width = t, this.reflectLineNode.children.forEach(function (e) {
								return e.width = t
							}), this.reflectLineNode.setPosition(this.aimCirclePos), this.reflectLineNode.color = this.aimLineColor || cc.Color.WHITE
						} else this.objectLineNode.active = !1, this.reflectLineNode.active = !1;
						this._displayDirty = !1
					}
				}, t = i([s], t)
			}(cc.Component));
		n.default = c, cc._RF.pop()
	}, {
		"../PoolGlobal": "PoolGlobal"
	}],
	SignInLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "2c30crbzt1NHYuLzwfljcgE", "SignInLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.SignInLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = e("./SignInLogic"),
			l = e("../prize/PrizePanel"),
			u = e("../base/RewardBtn"),
			d = e("../../Base/ShareTypes"),
			f = e("../../Config/EventID"),
			p = e("../../Runtime/game/item2/ReceiveItemLayer"),
			h = e("../../Runtime/LevelConfig"),
			y = e("../../Config/SoundID"),
			g = e("../../Config/GameConfig"),
			_ = e("../../Data/wxsdk"),
			v = cc._decorator,
			b = v.ccclass,
			m = (v.property, v.menu),
			w = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.SignInLayerParam = w;
		var S = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), n._instance = this, this._data = c.default.instance.getPrizeList(), Utils.loadVarFromNode(this.node, "$", this), this.receive_btn.getComponent(u.default).sharePos = d.SharePos.SignIn, this.receive_btn.node.on(f.default.REWARD_BTN_CHANGED, this.onRewardBtnChanged, this), this._updateRewardLbl(), this._updateDisplay()
			}, t.prototype.onDestroy = function () {
				n._instance = null, e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () { }, t.prototype._updateRewardLbl = function () {
				var e = this._data.findIndex(function (e) {
					return e.status == c.SignInStatus.current
				});
				if (-1 != e) {
					var t = this._data[e].prize,
						n = t.filter(function (e) {
							return e.type == h.LevelPrizeType.cue_17 || e.type == h.LevelPrizeType.cue_18
						}).length == t.length;
					this.reward_video_lbl.string = n ? "Watch video to claim" : "Watch the video to claim double rewards", this.reward_share_lbl.string = n ? "分享到群领取奖励" : "分享到群领双倍奖励"
				}
			}, t.prototype._updateDisplay = function () {
				for (var e = 0; e < 7; ++e) {
					var t = "item" + (e + 1),
						n = this.item_node.getChildByName(t);
					n || ((n = cc.instantiate(this.item_node.children[0])).name = t, n.parent = this.item_node), n.zIndex = e;
					var o = {};
					Utils.loadVarFromNode(n, "_", o);
					var i = this._data[e];
					o.current_bg.active = i.status == c.SignInStatus.current, o.locked_bg.active = i.status == c.SignInStatus.locked, o.received_bg.active = i.status == c.SignInStatus.received, o.item_node.getComponent(l.default).setData(i.prize), o.day_lbl.string = i.title
				}
				this.onRewardBtnChanged()
			}, t.prototype.onRewardBtnChanged = function () {
				// var e = this._canReceivePrize();
				// if (e) {
				// 	var t = this.receive_btn.getComponent(u.default).rewardType;
				// 	this.reward_video_lbl.node.active = t == d.RewardType.Video, this.reward_share_lbl.node.active = t == d.RewardType.Share, this.reward_toggle.node.active = t != d.RewardType.None, _.default.isQg() && (this.reward_toggle.isChecked = !1)
				// } else this.reward_video_lbl.node.active = !1, this.reward_share_lbl.node.active = !1, this.reward_toggle.node.active = !1;
				this.reward_video_lbl.node.active = !0, this.reward_share_lbl.node.active = !1, this.reward_toggle.node.active = !1
				Utils.setNodeBright(this.receive_btn.node, e, !0)
			}, t.prototype._canReceivePrize = function () {
				return this._data.findIndex(function (e) {
					return e.status == c.SignInStatus.current
				}) > -1
			}, t.prototype._prizeNeedReward = function () {
				if (_.default.isQg() || _.default.isTT()) return !1;
				var e = this._data.findIndex(function (e) {
					return e.status == c.SignInStatus.current
				});
				return -1 != e && this._data[e].prize.filter(function (e) {
					return e.type == h.LevelPrizeType.cue_17 || e.type == h.LevelPrizeType.cue_18
				}).length > 0
			}, t.prototype._receivePrize = function (e) {
				return r(this, void 0, void 0, function () {
					var t, n, o;
					return a(this, function (i) {
						switch (i.label) {
							case 0:
								return -1 == (t = this._data.findIndex(function (e) {
									return e.status == c.SignInStatus.current
								})) ? [2] : (n = this._data[t], o = n.prize.map(function (t) {
									return {
										type: t.type,
										value: t.value * e
									}
								}), [4, p.default.show(o)]);
							case 1:
								return i.sent(), n.status = c.SignInStatus.received, c.default.instance.receivePrize(), this._updateDisplay(), [2]
						}
					})
				})
			}, t.prototype.onToggleTextClick = function () {
				SoundMgr.play(y.default.btn), this.reward_toggle.isChecked || this.reward_toggle.check()
			}, t.prototype.onRewardCallback = function (e) {
				var t = this;
				if (e == u.RewardFuncParam.Click) {
					if (!this._canReceivePrize()) return ui.showTips("Come back tomorrow"), !0;
					// if (Utils.setAllBtnsEnabled(this.node, !1), !this.reward_toggle.isChecked || !this.reward_toggle.node.active) return this._prizeNeedReward() ? (this.reward_toggle.node.active ? ui.showTips("球杆奖励需要视频领取哦！") : ui.showTips("视频未准备好！"), Utils.setAllBtnsEnabled(this.node, !0)) : this._receivePrize(1).then(function () {
					// 	Utils.setAllBtnsEnabled(t.node, !0)
					// }), !0
				} else e == u.RewardFuncParam.Success ? this._receivePrize(2).then(function () {
					Utils.setAllBtnsEnabled(t.node, !0)
				}) : g.GameConfig.VIDEO_FAIL_HAS_PRIZE && !this._prizeNeedReward() ? this._receivePrize(1).then(function () {
					Utils.setAllBtnsEnabled(t.node, !0)
				}) : Utils.setAllBtnsEnabled(this.node, !0)
			}, t.show = function () {
				return new Promise(function (e, t) {
					var o = new w;
					o.onClose = e, ui.showLayer(n, o)
				})
			}, t.close = function () {
				n._instance && n._instance.close()
			}, t.prefabName = "home://dynamic/layer/signInLayer", t._instance = null, t = n = i([b, m("Layer/SignInLayer")], t)
		}(s.default);
		n.default = S, window.SignInLayer = S, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/EventID": "EventID",
		"../../Config/GameConfig": "GameConfig",
		"../../Config/SoundID": "SoundID",
		"../../Data/wxsdk": "wxsdk",
		"../../Runtime/LevelConfig": "LevelConfig",
		"../../Runtime/game/item2/ReceiveItemLayer": "ReceiveItemLayer",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"../prize/PrizePanel": "PrizePanel",
		"./SignInLogic": "SignInLogic"
	}],
	SignInLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "591711z+OpFv5I87X+0qvaI", "SignInLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.SignInStatus = void 0;
		var r, a = e("../../Runtime/LevelConfig"),
			s = e("../../Runtime/guide/GuideLogic"),
			c = e("./SignInLayer"),
			l = function () {
				function e() {
					this._prizeConfig = [
						[{
							type: a.LevelPrizeType.coins,
							value: 2e3
						}],
						[{
							type: a.LevelPrizeType.cue_17,
							value: 0
						}],
						[{
							type: a.LevelPrizeType.coins,
							value: 1e4
						}],
						[{
							type: a.LevelPrizeType.lottery_tickets,
							value: 10
						}],
						[{
							type: a.LevelPrizeType.coins,
							value: 3e3
						}],
						[{
							type: a.LevelPrizeType.lottery_tickets,
							value: 15
						}],
						[{
							type: a.LevelPrizeType.coins,
							value: 1e4
						}, {
							type: a.LevelPrizeType.cue_18,
							value: 0
						}]
					], this._alternatePrizeConfig = [
						[{
							type: a.LevelPrizeType.coins,
							value: 2e3
						}],
						[{
							type: a.LevelPrizeType.lottery_tickets,
							value: 5
						}],
						[{
							type: a.LevelPrizeType.coins,
							value: 3e3
						}],
						[{
							type: a.LevelPrizeType.lottery_tickets,
							value: 10
						}],
						[{
							type: a.LevelPrizeType.coins,
							value: 5e3
						}],
						[{
							type: a.LevelPrizeType.lottery_tickets,
							value: 15
						}],
						[{
							type: a.LevelPrizeType.coins,
							value: 3e4
						}]
					], this._titleConfig = ["Day 1", "Day 2", "Day 3", "Day 4", "Day 5", "Day 6", "Day 7"]
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype._checkAlternate = function (e, t, n) {
					var o = DataBus.other.signInTimes;
					return o < 7 ? e : 7 == o && n == r.received ? e : this._alternatePrizeConfig[t]
				}, e.prototype.getPrizeList = function () {
					var e = this,
						t = DataBus.other.todayTS,
						n = DataBus.other.signInTS,
						o = Utils.isSameDay(n, t),
						i = DataBus.other.signInTimes % 7;
					return this._prizeConfig.map(function (t, n) {
						var a = n < i ? r.received : n != i || o ? r.locked : r.current;
						return t = e._checkAlternate(t, n, a), {
							id: n,
							title: e._titleConfig[n],
							prize: t,
							status: a
						}
					})
				}, e.prototype.receivePrize = function () {
					DataBus.other.signInTS = DataBus.other.todayTS, DataBus.other.signInTimes += 1, DataBus.other.save()
				}, e.prototype.hasBadage = function () {
					var e = DataBus.other.todayTS,
						t = DataBus.other.signInTS;
					return !Utils.isSameDay(t, e)
				}, e.prototype.canShowLayer = function () {
					if (!s.default.instance.isGuideFinished()) return console.log("[签到自动弹窗]新手引导未完成，不自动弹出签到界面。"), !1;
					if (DataBus.other._signInLayerAutoPopped) return console.log("[签到自动弹窗]这次启动游戏已经弹过窗，不自动弹出签到界面。"), !1;
					var e = DataBus.other.todayTS,
						t = DataBus.other.signInTS;
					return !Utils.isSameDay(t, e) || (console.log("[签到自动弹窗]今天已经签到了，不自动弹出签到界面。"), !1)
				}, e.prototype.tryToShowLayer = function () {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							return this.canShowLayer() ? (DataBus.other._signInLayerAutoPopped = !0, [2, c.default.show()]) : [2]
						})
					})
				}, e._instance = null, e
			}();
		n.default = l,
			function (e) {
				e[e.received = 0] = "received", e[e.current = 1] = "current", e[e.locked = 2] = "locked"
			}(r = n.SignInStatus || (n.SignInStatus = {})), cc._RF.pop()
	}, {
		"../../Runtime/LevelConfig": "LevelConfig",
		"../../Runtime/guide/GuideLogic": "GuideLogic",
		"./SignInLayer": "SignInLayer"
	}],
	SingleGuideRule: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "269fdWgayFLiLdKkUXg8BXC", "SingleGuideRule"), cc._RF.pop()
	}, {}],
	SingleRule: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "c91fd4zLGxCNbQxyfpN8avA", "SingleRule"), cc._RF.pop()
	}, {}],
	Skin2Config: [function (e, t, n) {
		"use strict";
		var o, i;
		cc._RF.push(t, "bdc1e/U5sBGx7quhlzivum1", "Skin2Config"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.emojiConfigList = n.avatarBorderConfigList = n.hitEffectConfigList = n.potEffectConfigList = n.Skin2PanelsResList = n.Skin2TablesResList = n.Skin2TablesSort = void 0;
		var r = e("../skin/SkinDefines"),
			a = e("./Skin2Defines");
		n.Skin2TablesSort = [a.Skin2Type.Role, a.Skin2Type.Cue, a.Skin2Type.PotEffect, a.Skin2Type.HitEffect, a.Skin2Type.AvatarBorder, a.Skin2Type.Emoji], n.Skin2TablesResList = ((o = {})[a.Skin2Type.Role] = "home://dynamic/altas/换衣间/图标_角色", o[a.Skin2Type.Cue] = "home://dynamic/altas/换衣间/图标_球杆", o[a.Skin2Type.PotEffect] = "home://dynamic/altas/换衣间/图标_进球", o[a.Skin2Type.HitEffect] = "home://dynamic/altas/换衣间/图标_击球", o[a.Skin2Type.AvatarBorder] = "home://dynamic/altas/换衣间/图标_头像框", o[a.Skin2Type.Emoji] = "home://dynamic/altas/换衣间/图标_表情", o), n.Skin2PanelsResList = ((i = {})[a.Skin2Type.Role] = "home://dynamic/prefab_item/skinNodeForRole", i[a.Skin2Type.Cue] = "home://dynamic/prefab_item/skinNodeForCue", i[a.Skin2Type.PotEffect] = "home://dynamic/prefab_item/skinNodeForEffect", i[a.Skin2Type.HitEffect] = "home://dynamic/prefab_item/skinNodeForEffect", i[a.Skin2Type.AvatarBorder] = "home://dynamic/prefab_item/skinNodeForAvatarBorder", i[a.Skin2Type.Emoji] = "home://dynamic/prefab_item/skinNodeForEmoji", i), n.potEffectConfigList = [{
			index: 0,
			id: 1,
			name: "tornado",
			title: "Novice gift pack unlocked",
			unlock: r.SkinUnlockType.other,
			value: 0
		}, {
			index: 1,
			id: 2,
			name: "fireworks",
			title: "Watch 5 videos to unlock",
			unlock: r.SkinUnlockType.video,
			value: 5
		}, {
			index: 2,
			id: 3,
			name: "ribbon",
			title: "Watch 5 videos to unlock",
			unlock: r.SkinUnlockType.video,
			value: 5
		}], n.hitEffectConfigList = [{
			index: 0,
			id: 1,
			name: "electricity",
			title: "Novice gift pack unlocked",
			unlock: r.SkinUnlockType.other,
			value: 0
		}, {
			index: 1,
			id: 2,
			name: "flame",
			title: "Watch 5 videos to unlock",
			unlock: r.SkinUnlockType.video,
			value: 5
		}, {
			index: 2,
			id: 3,
			name: "water",
			title: "Watch 5 videos to unlock",
			unlock: r.SkinUnlockType.video,
			value: 5
		}], n.avatarBorderConfigList = [], n.emojiConfigList = [{
			index: 0,
			id: 1,
			name: "",
			title: "Unlock by default",
			unlock: r.SkinUnlockType.none,
			value: 0
		}, {
			index: 1,
			id: 2,
			name: "",
			title: "Unlock by default",
			unlock: r.SkinUnlockType.none,
			value: 0
		}, {
			index: 2,
			id: 3,
			name: "",
			title: "Unlock by default",
			unlock: r.SkinUnlockType.none,
			value: 0
		}, {
			index: 3,
			id: 4,
			name: "",
			title: "Watch 1 videos to unlock",
			unlock: r.SkinUnlockType.video,
			value: 1
		}, {
			index: 4,
			id: 5,
			name: "",
			title: "Watch 1 videos to unlock",
			unlock: r.SkinUnlockType.video,
			value: 1
		}, {
			index: 5,
			id: 6,
			name: "",
			title: "Watch 1 videos to unlock",
			unlock: r.SkinUnlockType.video,
			value: 1
		}], cc._RF.pop()
	}, {
		"../skin/SkinDefines": "SkinDefines",
		"./Skin2Defines": "Skin2Defines"
	}],
	Skin2Defines: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9f698WYlzhDTaFy0HQlBEPi", "Skin2Defines"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.Skin2Type = void 0,
			function (e) {
				e[e.Role = 0] = "Role", e[e.Cue = 1] = "Cue", e[e.PotEffect = 2] = "PotEffect", e[e.HitEffect = 3] = "HitEffect", e[e.AvatarBorder = 4] = "AvatarBorder", e[e.Emoji = 5] = "Emoji"
			}(n.Skin2Type || (n.Skin2Type = {})), cc._RF.pop()
	}, {}],
	Skin2ItemForCue: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "2e075Y1KyZF95whHM1DaO0E", "Skin2ItemForCue");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Res/ResLoader"),
			a = e("../../Runtime/game/PoolGlobal"),
			s = e("./Skin2Item"),
			c = e("./Skin2Logic"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, l.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._lastId = void 0, t
				}
				return o(t, e), t.prototype.updateItemDisplay = function () {
					var e = this,
						t = this._data,
						n = t.id,
						o = t.type;
					if (this._lastId !== n) {
						this._lastId = n, this._sp.spriteFrame = null;
						var i = this._sp.node;
						i.children.slice().forEach(function (e) {
							return r.default.removeNode(e)
						});
						var s = a.default.getCueRes(n);
						r.default.getNodeRes(s).then(function (t) {
							if (e.isValid && e._lastId == n) {
								t.parent = i;
								var o = t.getChildByName("Ball_yinying");
								o && o.setPosition(40, 40)
							} else r.default.removeNode(t)
						});
						var l = c.default.instance.fastGetConfig(o, n),
							u = a.default.getCueLevelRes(l.level);
						r.default.getSpriteFrameRes(u).then(function (t) {
							e.isValid && e._lastId == n && (e.cue_level_sp.spriteFrame = t)
						}), this.cue_attr_lbl.string = "Aiming \nline+" + l.line, this.cue_desc_lbl.string = l.title
					}
				}, t = i([u], t)
			}(s.default));
		n.default = d, cc._RF.pop()
	}, {
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/game/PoolGlobal": "PoolGlobal",
		"./Skin2Item": "Skin2Item",
		"./Skin2Logic": "Skin2Logic"
	}],
	Skin2ItemHandler: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "6d888PPQK1Pt45kDsUxtdxy", "Skin2ItemHandler");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../skin/SkinDefines"),
			a = e("./Skin2Item"),
			s = e("./Skin2Logic"),
			c = e("./Skin2ScrollNode"),
			l = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.onItemClickItem = function (e) {
					var t = e.getData();
					if (t && !t.selected) {
						var n = Utils.getComponentInParent(e.node, c.default);
						return n && n.select(t.index), !0
					}
					return !1
				}, e.prototype._onItemChanged = function (e) {
					var t = e.getData(),
						n = t.using,
						o = t.type,
						i = t.id;
					n || (e.getDataList().forEach(function (e) {
						return e.using = !1
					}), t.using = !0, s.default.instance.setUsed(o, i), DataBus.user.save(), Utils.dispatchEvent(e.node, a.default.Event.Use, e));
					Utils.dispatchEvent(e.node, a.default.Event.StatusChanged, e)
				}, e.prototype.onItemClickBtn = function (e) {
					return o(this, void 0, void 0, function () {
						var t, n, o, a, l, u, d, f, p, h;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									if (!(t = e.getData())) return [2];
									if (n = t.type, o = t.id, a = t.unlockType, l = t.selected, u = t.locked, d = t.showHas, t.using, t.value, t.total, f = e.node.convertToWorldSpaceAR(cc.Vec2.ZERO), p = !1, !u) return [3, 7];
									switch (a) {
										case r.SkinUnlockType.invite:
											return [3, 1];
										case r.SkinUnlockType.fragment:
											return [3, 3];
										case r.SkinUnlockType.coins:
											return [3, 4]
									}
									return [3, 5];
								case 1:
									return [4, s.default.instance.invite()];
								case 2:
									return i.sent(), [3, 6];
								case 3:
									return s.default.instance.roleFragmentUnlock(o) && (t.locked = !1, this._onItemChanged(e), p = !0), [3, 6];
								case 4:
									return s.default.instance.coinsUnlock(n, o, f) && (t.locked = !1, this._onItemChanged(e), p = !0), [3, 6];
								case 5:
									return [3, 6];
								case 6:
									return [3, 8];
								case 7:
									d || this._onItemChanged(e), i.label = 8;
								case 8:
									return e.isValid && (l || (h = Utils.getComponentInParent(e.node, c.default)) && h.select(t.index), p ? (h = Utils.getComponentInParent(e.node, c.default)) && h.reload() : e.updateBtnDisplay()), [2]
							}
						})
					})
				}, e.prototype.onItemVideoSuccess = function (e) {
					var t = e.getData();
					if (t) {
						var n = t.type,
							o = t.id,
							i = t.selected,
							r = s.default.instance.addVideoTimes(n, o);
						if (t.value += 1, r) {
							t.locked = !1;
							var a = s.default.instance.fastGetConfig(n, o);
							a && a.name && ui.showTips("got the skin 【" + a.name + "】"), this._onItemChanged(e)
						}
						if (i)
							if (r) {
								var l;
								(l = Utils.getComponentInParent(e.node, c.default)) && l.reload()
							} else e.updateBtnDisplay();
						else (l = Utils.getComponentInParent(e.node, c.default)) && l.select(t.index)
					}
				}, e._instance = null, e
			}();
		n.default = l, cc._RF.pop()
	}, {
		"../skin/SkinDefines": "SkinDefines",
		"./Skin2Item": "Skin2Item",
		"./Skin2Logic": "Skin2Logic",
		"./Skin2ScrollNode": "Skin2ScrollNode"
	}],
	Skin2Item: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "edaf0yKukhFo6LdvNbB4TiZ", "Skin2Item");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/SoundID"),
			a = e("../../Lib/tableView/viewCell"),
			s = e("../../Res/ResLoader"),
			c = e("../../Runtime/game/PoolEffect"),
			l = e("../../Runtime/game/pvp/PvpLogic"),
			u = e("../base/RewardBtn"),
			d = e("../emoji/EmojiLogic"),
			f = e("../skin/SkinDefines"),
			p = e("./Skin2Defines"),
			h = e("./Skin2ItemHandler"),
			y = e("./Skin2Logic"),
			g = cc._decorator,
			_ = g.ccclass,
			v = (g.property, g.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					Utils.loadVarFromNode(this.node, "#", this), Utils.setBtnZoomStyle(this._btn.node, 1.1), Utils.bindBtnEvent(this.node, this.node, "Skin2Item", "clickItem"), Utils.setBtnZoomStyle(this.node, .97)
				}, t.prototype.init = function (e, t) {
					this._btn || Utils.loadVarFromNode(this.node, "#", this), this._dataList = t, this._data = t[e], this._initRewardBtn(), this.updateItemDisplay(), this.updateBtnDisplay()
				}, t.prototype.getData = function () {
					return this._data
				}, t.prototype.getDataList = function () {
					return this._dataList
				}, t.prototype._initRewardBtn = function () {
					var e = y.default.instance.getSharePos(this._data.type, this._data.unlockType);
					u.default.create(this._btn.node, e, this.node, "Skin2Item", "onRewardCallback", void 0, !1, !0)
				}, t.prototype.updateItemDisplay = function () {
					var e, t = this,
						n = this._data,
						o = n.type,
						i = n.id,
						r = this._sp;
					switch (o) {
						case p.Skin2Type.Role:
							e = l.default.instance.getRoleThumbRes(i);
							break;
						case p.Skin2Type.Cue:
							break;
						case p.Skin2Type.PotEffect:
							e = c.default.getPotEffectThumbRes(i);
							break;
						case p.Skin2Type.HitEffect:
							e = c.default.getHitEffectThumbRes(i);
							break;
						case p.Skin2Type.AvatarBorder:
							break;
						case p.Skin2Type.Emoji:
							e = d.default.instance.getBigResById(i)
					}
					e && s.default.getSpriteFrameRes(e).then(function (e) {
						t.isValid && t._data && t._data.id == i && (r.spriteFrame = e)
					})
				}, t.prototype.updateBtnDisplay = function () {
					if (this._data) {
						var e = this._data,
							t = e.unlockType,
							n = e.selected,
							o = e.locked,
							i = e.showHas,
							r = e.using,
							a = e.value,
							s = e.total;
						if (this.selected_node.active = n, this.layout.children.forEach(function (e) {
							return e.active = !1
						}), this.has_node.active = !1, o) switch (this._btn.node.active = !0, t) {
							case f.SkinUnlockType.video:
								this.video_node.active = !0, this._lbl.node.active = !0, this._lbl.string = a + "/" + s, this._setBtnBright(!0);
								break;
							case f.SkinUnlockType.invite:
								this._btn.node.active = !1,
								this.invite_node.active = !0, this._lbl.node.active = !0, this._lbl.string = a + "/" + s, this._setBtnBright(!0);
								break;
							case f.SkinUnlockType.fragment:
								a < s ? this.fragment_node.active = !0 : this.exchange_node.active = !0, this._lbl.node.active = !0, this._lbl.string = a + "/" + s, this._setBtnBright(a >= s);
								break;
							case f.SkinUnlockType.coins:
								this.coins_node.active = !0, this._lbl.node.active = !0, this._lbl.string = (s || 0) + "", this._setBtnBright(DataBus.user.coins.gte(s));
								break;
							default:
								this.locked_node.active = !0, this._setBtnBright(!1)
						} else i ? (this.has_node.active = !0, this._btn.node.active = !1) : (this._btn.node.active = !0, r ? this.using_node.active = !0 : this.use_node.active = !0), this._setBtnBright(!0)
					}
				}, t.prototype._setBtnBright = function (e) {
					Utils.setNodeBright(this._btn, e)
				}, t.prototype.onRewardCallback = function (e) {
					var t = this;
					if (e == u.RewardFuncParam.Click) {
						var o = this._data;
						if (!o || o.unlockType != f.SkinUnlockType.video || !o.locked) return Utils.dispatchEvent(this.node, n.Event.ClickBtnBegin, this), h.default.instance.onItemClickBtn(this).then(function () {
							Utils.dispatchEvent(t.node, n.Event.ClickBtnEnded, t)
						}), !0;
						Utils.dispatchEvent(this.node, n.Event.VideoBegin, this)
					} else e == u.RewardFuncParam.Success ? this.isValid && (h.default.instance.onItemVideoSuccess(this), Utils.dispatchEvent(this.node, n.Event.VideoEnded, this)) : this.isValid && Utils.dispatchEvent(this.node, n.Event.VideoEnded, this)
				}, t.prototype.clickItem = function () {
					SoundMgr.play(r.default.btn), h.default.instance.onItemClickItem(this)
				}, t.Event = {
					ClickBtnBegin: "ClickBtnBegin",
					ClickBtnEnded: "ClickBtnEnded",
					VideoBegin: "VideoBegin",
					VideoEnded: "VideoEnded",
					Use: "Use",
					StatusChanged: "StatusChanged"
				}, t = n = i([_], t)
			}(a.default));
		n.default = v, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../../Lib/tableView/viewCell": "viewCell",
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/game/PoolEffect": "PoolEffect",
		"../../Runtime/game/pvp/PvpLogic": "PvpLogic",
		"../base/RewardBtn": "RewardBtn",
		"../emoji/EmojiLogic": "EmojiLogic",
		"../skin/SkinDefines": "SkinDefines",
		"./Skin2Defines": "Skin2Defines",
		"./Skin2ItemHandler": "Skin2ItemHandler",
		"./Skin2Logic": "Skin2Logic"
	}],
	Skin2Layer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "05f0fS4eqNGqY2vV1bNtaYT", "Skin2Layer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.Skin2LayerParam = void 0;
		var s = e("../../Res/ResLoader"),
			c = e("../base/LayerBase"),
			l = e("./Skin2Defines"),
			u = e("./Skin2Item"),
			d = e("./Skin2Logic"),
			f = e("./Skin2MainNode"),
			p = e("./Skin2Panels"),
			h = e("./Skin2ScrollNode"),
			y = e("./Skin2StatusBar"),
			g = e("./Skin2Tables"),
			_ = cc._decorator,
			v = _.ccclass,
			b = (_.property, _.menu),
			m = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.Skin2LayerParam = m;
		var w = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this)
			}, t.prototype.start = function () {
				e.prototype.start && e.prototype.start.call(this), this.tables = this.getComponentInChildren(g.default), 
				this.panels = this.getComponentInChildren(p.default), this.statusBar = this.getComponentInChildren(y.default), 
				this.mainNode = this.getComponentInChildren(f.default), 
				this.mainNode.node.on(f.default.Event.ClickItem, this.onMainNodeClickItem, this), 
				this.tables.node.on(g.default.Event.TableChanged, this.onTablesChanged, this), 
				this.node.on(u.default.Event.ClickBtnBegin, this.onItemClickBtnBegin, this), 
				this.node.on(u.default.Event.ClickBtnEnded, this.onItemClickBtnEnded, this), 
				this.node.on(u.default.Event.VideoBegin, this.onItemVideoBegin, this), 
				this.node.on(u.default.Event.VideoEnded, this.onItemVideoEnded, this), 
				this.node.on(h.default.Event.SelectItem, this.onSelectItem, this), 
				this.node.on(u.default.Event.Use, this.onItemUse, this), 
				this.node.on(u.default.Event.StatusChanged, this.onItemStatusChanged, this), this.tables.select(this.data && this.data.type || 0)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () { }, t.prototype.onMainNodeClickItem = function (e) {
				var t = this;
				this.tables.select(e), this.panels.getScrollNode(e).then(function (n) {
					if (t.isValid && n) {
						var o = d.default.instance.getUsed(e),
							i = d.default.instance.fastGetConfig(e, o);
						i && (n.select(i.index), n.scrollTo(i.index))
					}
				})
			}, t.prototype.onTablesChanged = function (e) {
				var t = this;
				this.panels.setType(e), this.panels.getScrollNode(e).then(function (n) {
					if (t.isValid && n) {
						var o = n.getSelectIndex();
						if (-1 == o) {
							var i = d.default.instance.getUsed(e),
								r = d.default.instance.fastGetConfig(e, i);
							if (r && n.select(r.index)) return void n.scrollTo(r.index)
						}
						t.panels.getType() == e && (t.statusBar.setType(e), t.statusBar.setIndex(o))
					}
				})
			}, t.prototype.onItemClickBtnBegin = function (e) {
				e.stopPropagation(), Utils.setAllBtnsEnabled(this.node, !1)
			}, t.prototype.onItemClickBtnEnded = function (e) {
				e.stopPropagation(), Utils.setAllBtnsEnabled(this.node, !0)
			}, t.prototype.onItemVideoBegin = function (e) {
				e.stopPropagation(), Utils.setAllBtnsEnabled(this.node, !1)
			}, t.prototype.onItemVideoEnded = function (e) {
				e.stopPropagation(), Utils.setAllBtnsEnabled(this.node, !0)
			}, t.prototype.onItemUse = function (e) {
				e.stopPropagation();
				var t = e.getUserData().getData().type;
				this.mainNode.updateDisplay(t)
			}, t.prototype.onSelectItem = function (e) {
				e.stopPropagation();
				var t = e.getUserData(),
					n = t.getType(),
					o = t.getSelectIndex();
				this.statusBar.setType(n), this.statusBar.setIndex(o)
			}, t.prototype.onItemStatusChanged = function (e) {
				e.stopPropagation();
				var t = e.getUserData().getData(),
					n = t.type,
					o = t.index;
				this.statusBar.setType(n), this.statusBar.setIndex(o)
			}, t.show = function (e) {
				return void 0 === e && (e = l.Skin2Type.Role), r(this, void 0, void 0, function () {
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return [4, s.default.getBundle("game_newbie", !0)];
							case 1:
								return t.sent(), [4, s.default.getBundle("game", !0)];
							case 2:
								return t.sent(), [2, new Promise(function (t, o) {
									var i = new m;
									i.type = e, i.onClose = t, ui.showLayer(n, i)
								})]
						}
					})
				})
			}, t.prefabName = "home://dynamic/layer/skin2Layer", t = n = i([v, b("Layer/Skin2Layer")], t)
		}(c.default);
		n.default = w, window.Skin2Layer = w, cc._RF.pop()
	}, {
		"../../Res/ResLoader": "ResLoader",
		"../base/LayerBase": "LayerBase",
		"./Skin2Defines": "Skin2Defines",
		"./Skin2Item": "Skin2Item",
		"./Skin2Logic": "Skin2Logic",
		"./Skin2MainNode": "Skin2MainNode",
		"./Skin2Panels": "Skin2Panels",
		"./Skin2ScrollNode": "Skin2ScrollNode",
		"./Skin2StatusBar": "Skin2StatusBar",
		"./Skin2Tables": "Skin2Tables"
	}],
	Skin2Logic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "0e6fd6WHJxJmorao6V33V7K", "Skin2Logic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Base/ShareTypes"),
			a = e("../../Data/EconomicLogic"),
			s = e("../../Res/ResLoader"),
			c = e("../coins/FreeCoinsLayer"),
			l = e("../invite/InviteLayer"),
			u = e("../invite/InviteLogic"),
			d = e("../skin/SkinDefines"),
			f = e("../skin/SkinLogic"),
			p = e("./Skin2Config"),
			h = e("./Skin2Defines"),
			y = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getConfigList = function (e) {
					switch (e) {
						case h.Skin2Type.Role:
							return f.default.instance.roleConfigList;
						case h.Skin2Type.Cue:
							return f.default.instance.cueConfigList;
						case h.Skin2Type.PotEffect:
							return p.potEffectConfigList;
						case h.Skin2Type.HitEffect:
							return p.hitEffectConfigList;
						case h.Skin2Type.AvatarBorder:
							return p.avatarBorderConfigList;
						case h.Skin2Type.Emoji:
							return p.emojiConfigList;
						default:
							return null
					}
				}, e.prototype.fastGetConfig = function (e, t) {
					var n = this.getConfigList(e);
					return n && 0 != n.length ? n[t - n[0].id] : null
				}, e.prototype.getItemDataList = function (e) {
					var t = this,
						n = this.getConfigList(e),
						o = this.getSaveList(e),
						i = this.getUsed(e);
					return n.map(function (n) {
						var r = n.index,
							a = n.id,
							s = n.unlock,
							c = s != d.SkinUnlockType.none && -1 == o.indexOf(n.id),
							l = void 0 === i,
							u = i === a,
							f = t.getCurrentUnlockValue(e, a, s),
							p = n.value;
						return {
							index: r,
							type: e,
							id: a,
							unlockType: s,
							selected: !1,
							locked: c,
							showHas: l,
							using: u,
							value: f,
							total: p
						}
					}).sort(function (e, t) {
						return e.index - t.index
					})
				}, e.prototype.getSharePos = function (e, t) {
					switch (e) {
						case h.Skin2Type.Role:
							break;
						case h.Skin2Type.Cue:
							switch (t) {
								case d.SkinUnlockType.video:
									return r.SharePos.UnlockCue
							}
							break;
						case h.Skin2Type.PotEffect:
							switch (t) {
								case d.SkinUnlockType.video:
									return r.SharePos.UnlockPotEffect
							}
							break;
						case h.Skin2Type.HitEffect:
							switch (t) {
								case d.SkinUnlockType.video:
									return r.SharePos.UnlockHitEffect
							}
							break;
						case h.Skin2Type.AvatarBorder:
							break;
						case h.Skin2Type.Emoji:
							switch (t) {
								case d.SkinUnlockType.video:
									return r.SharePos.UnlockEmoji
							}
					}
				}, e.prototype.addVideoTimes = function (e, t) {
					var n, o, i = function () {
						return DataBus.user.save()
					};
					switch (e) {
						case h.Skin2Type.Role:
							break;
						case h.Skin2Type.Cue:
							return f.default.instance.addCueVideoTimes(t);
						case h.Skin2Type.PotEffect:
							return n = function () {
								return DataBus.user.potEffectVideoTimes
							}, o = function (e) {
								return DataBus.user.potEffectVideoTimes = e
							}, this._addVideoTimes(e, t, n, o, i);
						case h.Skin2Type.HitEffect:
							return n = function () {
								return DataBus.user.hitEffectVideoTimes
							}, o = function (e) {
								return DataBus.user.hitEffectVideoTimes = e
							}, this._addVideoTimes(e, t, n, o, i);
						case h.Skin2Type.AvatarBorder:
							break;
						case h.Skin2Type.Emoji:
							return this._addVideoTimes(e, t, n, o, i)
					}
				}, e.prototype._addVideoTimes = function (e, t, n, o, i) {
					var r = this.fastGetConfig(e, t);
					if (!r) return !1;
					if (r.unlock != d.SkinUnlockType.video) return !1;
					var a = 1;
					if (r.value > 1) {
						var s = n();
						a = s[t] = (s[t] || 0) + 1, o(s)
					}
					return a >= r.value && this.unlock(e, t), i(), a >= r.value
				}, e.prototype.unlock = function (e, t) {
					var n = this.getSaveList(e);
					return !(!n || -1 != n.indexOf(t)) && (n.push(t), this.setSaveList(e, n), !0)
				}, e.prototype.getSaveList = function (e) {
					switch (e) {
						case h.Skin2Type.Role:
							return DataBus.user.roleList;
						case h.Skin2Type.Cue:
							return DataBus.user.unlockCueList2;
						case h.Skin2Type.PotEffect:
							return DataBus.user.potEffectList;
						case h.Skin2Type.HitEffect:
							return DataBus.user.hitEffectList;
						case h.Skin2Type.AvatarBorder:
							return DataBus.user.avatarBorderList;
						case h.Skin2Type.Emoji:
							return DataBus.user.emojiList
					}
				}, e.prototype.setSaveList = function (e, t) {
					switch (e) {
						case h.Skin2Type.Role:
							return DataBus.user.roleList = t;
						case h.Skin2Type.Cue:
							return DataBus.user.unlockCueList2 = t;
						case h.Skin2Type.PotEffect:
							return DataBus.user.potEffectList = t;
						case h.Skin2Type.HitEffect:
							return DataBus.user.hitEffectList = t;
						case h.Skin2Type.AvatarBorder:
							return DataBus.user.avatarBorderList = t;
						case h.Skin2Type.Emoji:
							return DataBus.user.emojiList = t
					}
				}, e.prototype.setUsed = function (e, t) {
					switch (e) {
						case h.Skin2Type.Role:
							return DataBus.user.usedRole = t;
						case h.Skin2Type.Cue:
							return DataBus.user.usedCue1 = t;
						case h.Skin2Type.PotEffect:
							return DataBus.user.usedPotEffect = t;
						case h.Skin2Type.HitEffect:
							return DataBus.user.usedHitEffect = t;
						case h.Skin2Type.AvatarBorder:
							return DataBus.user.usedAvatarBorder = t;
						case h.Skin2Type.Emoji:
					}
				}, e.prototype.getUsed = function (e) {
					switch (e) {
						case h.Skin2Type.Role:
							return DataBus.user.usedRole || 0;
						case h.Skin2Type.Cue:
							return DataBus.user.usedCue1 || 0;
						case h.Skin2Type.PotEffect:
							return DataBus.user.usedPotEffect || 0;
						case h.Skin2Type.HitEffect:
							return DataBus.user.usedHitEffect || 0;
						case h.Skin2Type.AvatarBorder:
							return DataBus.user.usedAvatarBorder || 0;
						case h.Skin2Type.Emoji:
					}
				}, e.prototype.getCurrentUnlockValue = function (e, t, n) {
					if (n == d.SkinUnlockType.coins) return DataBus.user.coins.toNumber();
					switch (e) {
						case h.Skin2Type.Role:
							switch (n) {
								case d.SkinUnlockType.fragment:
									return DataBus.user.roleFragment || 0
							}
							break;
						case h.Skin2Type.Cue:
							switch (n) {
								case d.SkinUnlockType.invite:
									return DataBus.user.inviteNumber || 0;
								case d.SkinUnlockType.video:
									return DataBus.user.cueVideoTimes[t] || 0
							}
							break;
						case h.Skin2Type.PotEffect:
							switch (n) {
								case d.SkinUnlockType.video:
									return DataBus.user.potEffectVideoTimes[t] || 0
							}
							break;
						case h.Skin2Type.HitEffect:
							switch (n) {
								case d.SkinUnlockType.video:
									return DataBus.user.hitEffectVideoTimes[t] || 0
							}
							break;
						case h.Skin2Type.AvatarBorder:
							break;
						case h.Skin2Type.Emoji:
							switch (n) {
								case d.SkinUnlockType.video:
									return 0
							}
					}
				}, e.prototype.roleFragmentUnlock = function (t) {
					var n = h.Skin2Type.Role,
						o = DataBus.user.roleFragment,
						i = e.instance.fastGetConfig(n, t);
					if (o >= i.value) {
						if (this.unlock(n, t)) return DataBus.user.roleFragment = o - i.value, DataBus.user.save(), ui.showTips("got the skin 【" + i.name + "】"), !0
					} else ui.showTips("Insufficient shards");
					return !1
				}, e.prototype.coinsUnlock = function (t, n, o) {
					var i = e.instance.fastGetConfig(t, n);
					if (DataBus.user.coins.gte(i.value)) {
						if (this.unlock(t, n)) return a.default.instance.addCoinsWithAnimation(-i.value, o), DataBus.user.save(), ui.showTips("got the skin 【" + i.name + "】"), !0
					} else c.default.show(!0);
					return !1
				}, e.prototype.invite = function () {
					return o(this, void 0, void 0, function () {
						return i(this, function (e) {
							switch (e.label) {
								case 0:
									return [4, s.default.getBundle("game", !0)];
								case 1:
									return e.sent(), [4, s.default.getBundle("game_newbie", !0)];
								case 2:
									return e.sent(), [4, ui.showLayer(l.default)];
								case 3:
									return e.sent(), u.default.instance.shareForInvite(), [2]
							}
						})
					})
				}, e._instance = null, e
			}();
		n.default = y, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Data/EconomicLogic": "EconomicLogic",
		"../../Res/ResLoader": "ResLoader",
		"../coins/FreeCoinsLayer": "FreeCoinsLayer",
		"../invite/InviteLayer": "InviteLayer",
		"../invite/InviteLogic": "InviteLogic",
		"../skin/SkinDefines": "SkinDefines",
		"../skin/SkinLogic": "SkinLogic",
		"./Skin2Config": "Skin2Config",
		"./Skin2Defines": "Skin2Defines"
	}],
	Skin2MainNode: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "229da661DZP/axDcxcYQPUW", "Skin2MainNode");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Config/SoundID"),
			c = e("../../Res/ResLoader"),
			l = e("../../Runtime/game/PoolEffect"),
			u = e("../../Runtime/game/PoolGlobal"),
			d = e("../../Runtime/game/pvp/PvpLogic"),
			f = e("../honorTitle/HonorTitleLayer"),
			p = e("../honorTitle/HonorTitleLogic"),
			h = e("./Skin2Defines"),
			y = cc._decorator,
			g = y.ccclass,
			_ = (y.property, y.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					Utils.loadVarFromNode(this.node, "_", this), 
					// Utils.bindBtnEvent(this.role_db_node, this.node, "Skin2MainNode", "_onItemClick", h.Skin2Type.Role + ""), 
					Utils.bindBtnEvent(this.cue_node, this.node, "Skin2MainNode", "_onItemClick", h.Skin2Type.Cue + ""), 
					Utils.setBtnZoomStyle(this.cue_node, 1.1), 
					Utils.bindBtnEvent(this.avatar_border_node, this.node, "Skin2MainNode", "_onItemClick", h.Skin2Type.AvatarBorder + ""), 
					Utils.setBtnZoomStyle(this.avatar_border_node, 1.1), 
					Utils.bindBtnEvent(this.pot_effect_node, this.node, "Skin2MainNode", "_onItemClick", h.Skin2Type.PotEffect + ""), 
					Utils.setBtnZoomStyle(this.pot_effect_node, 1.1), 
					Utils.bindBtnEvent(this.hit_effect_node, this.node, "Skin2MainNode", "_onItemClick", h.Skin2Type.HitEffect + ""), 
					Utils.setBtnZoomStyle(this.hit_effect_node, 1.1), 
					Utils.bindBtnEvent(this.honor_title_btn.node, this.node, "Skin2MainNode", "_onHonorTitleClick"), 
					Utils.setBtnZoomStyle(this.honor_title_btn.node, 1.1), this._updateRoleNode(), this._updateCueNode(), this._updateAvatarBorderNode(), this._updatePotEffectNode(), this._updateHitEffectNode(), this._updateHonorTitleNode()
				}, t.prototype.updateDisplay = function (e) {
					switch (e) {
						case h.Skin2Type.Role:
							this._updateRoleNode();
							break;
						case h.Skin2Type.Cue:
							this._updateCueNode();
							break;
						case h.Skin2Type.PotEffect:
							this._updatePotEffectNode();
							break;
						case h.Skin2Type.HitEffect:
							this._updateHitEffectNode();
							break;
						case h.Skin2Type.AvatarBorder:
							this._updateAvatarBorderNode();
							break;
						case h.Skin2Type.Emoji:
					}
				}, t.prototype._updateRoleNode = function () {
					var e = this,
						t = DataBus.user.usedRole;
					this.role_db_node.children.slice().forEach(function (e) {
						return c.default.removeNode(e)
					});
					var n = d.default.instance.getRoleRes(t);
					c.default.getDragonbonesNodeRes(n).then(function (n) {
						e.isValid && DataBus.user.usedRole == t ? (n.parent = e.role_db_node, n.getComponent(dragonBones.ArmatureDisplay).playAnimation("newAnimation", -1)) : c.default.removeNode(n)
					})
				}, t.prototype._updateThumbNode = function (e, t, n) {
					var o = t(),
						i = e.getChildByName("add_bg"),
						r = e.getChildByName("normal_bg"),
						a = n(o);
					a ? (i.active = !1, r.active = !0, c.default.getSpriteFrameRes(a).then(function (n) {
						if (e.isValid && t() == o) {
							var i = cc.find("mask/sp", e);
							if (i) i.getComponent(cc.Sprite).spriteFrame = n
						}
					})) : (i.active = !0, r.active = !1)
				}, t.prototype._updateCueNode = function () {
					this._updateThumbNode(this.cue_node, function () {
						return DataBus.user.usedCue1
					}, u.default.getCueThumbRes.bind(u.default))
				}, t.prototype._updateAvatarBorderNode = function () { }, t.prototype._updatePotEffectNode = function () {
					this._updateThumbNode(this.pot_effect_node, function () {
						return DataBus.user.usedPotEffect
					}, l.default.getPotEffectThumbRes.bind(l.default))
				}, t.prototype._updateHitEffectNode = function () {
					this._updateThumbNode(this.hit_effect_node, function () {
						return DataBus.user.usedHitEffect
					}, l.default.getHitEffectThumbRes.bind(l.default))
				}, t.prototype._updateHonorTitleNode = function () {
					var e = p.default.instance.getLevel();
					e > 0 ? (this.honor_title_node.active = !0, p.default.instance.loadSpriteFrame(this.honor_title_sp, e)) : this.honor_title_node.active = !1
				}, t.prototype._onItemClick = function (e, t) {
					var o = Number(t);
					SoundMgr.play(s.default.btn), this.node.emit(n.Event.ClickItem, o)
				}, t.prototype._onHonorTitleClick = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return SoundMgr.play(s.default.btn), Utils.setAllBtnsEnabled(this.node, !1), [4, f.default.show()];
								case 1:
									return e.sent(), this._updateHonorTitleNode(), Utils.setAllBtnsEnabled(this.node, !0), [2]
							}
						})
					})
				}, t.Event = {
					ClickItem: "ClickItem"
				}, t = n = i([g], t)
			}(cc.Component));
		n.default = _, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/game/PoolEffect": "PoolEffect",
		"../../Runtime/game/PoolGlobal": "PoolGlobal",
		"../../Runtime/game/pvp/PvpLogic": "PvpLogic",
		"../honorTitle/HonorTitleLayer": "HonorTitleLayer",
		"../honorTitle/HonorTitleLogic": "HonorTitleLogic",
		"./Skin2Defines": "Skin2Defines"
	}],
	Skin2Panels: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "b5f06bWjDxKiqdUMgnatT+3", "Skin2Panels");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Res/ResLoader"),
			c = e("./Skin2Config"),
			l = e("./Skin2ScrollNode"),
			u = cc._decorator,
			d = u.ccclass,
			f = u.property,
			p = (u.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.scrollViewPrefab = null, t._type = void 0, t._panels = {}, t
				}
				return o(t, e), t.prototype.onDestroy = function () {
					this._panels = {}
				}, t.prototype.setType = function (e) {
					this._type = e, this._updateDisplay()
				}, t.prototype.getType = function () {
					return this._type
				}, t.prototype.getScrollNode = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n, o, i, r;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return (t = this._panels[e]) ? [3, 2] : (n = c.Skin2PanelsResList[e], t = s.default.getNodeRes(n), this._panels[e] = t, [4, t]);
								case 1:
									return o = a.sent(), this.isValid ? (o.parent = this.node, (i = o.getComponent(l.default)) && i.setType(e), [2, i]) : (s.default.removeNode(o), [2]);
								case 2:
									return [4, t];
								case 3:
									return [2, (r = a.sent()) && r.getComponent(l.default)]
							}
						})
					})
				}, t.prototype._updateDisplay = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return this.isValid ? (e = this._type, [4, this.getScrollNode(e)]) : [2];
								case 1:
									return (t = o.sent()) && this.isValid && (n = t.node, this._type == e ? (this.node.children.forEach(function (e) {
										return e.active = !1
									}), n.active = !0) : n.active = !1), [2]
							}
						})
					})
				}, i([f(cc.Prefab)], t.prototype, "scrollViewPrefab", void 0), t = i([d], t)
			}(cc.Component));
		n.default = p, cc._RF.pop()
	}, {
		"../../Res/ResLoader": "ResLoader",
		"./Skin2Config": "Skin2Config",
		"./Skin2ScrollNode": "Skin2ScrollNode"
	}],
	Skin2ScrollNode: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "55a95+p6aBNDo5q+L/zDcmd", "Skin2ScrollNode");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/SoundID"),
			a = e("./Skin2Logic"),
			s = cc._decorator,
			c = s.ccclass,
			l = s.property,
			u = (s.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.itemPrefab = null, t.itemWidth = 150, t._inited = !1, t._selectedIndex = -1, t
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					this.init()
				}, t.prototype.init = function () {
					this._inited || (this._inited = !0, Utils.loadVarFromNode(this.node, "_", this), 
					this.tableview = this.scrollview.getComponent(cc.tableView), 
					this.tableview.cell = this.itemPrefab,
					 this.scrollview.on("scrolling", this._onScrolling, this), 
					 this.left_btn.node.active = this.right_btn.node.active = !1, 
					 this.scheduleOnce(this._onScrolling, 0), 
					 Utils.bindBtnEvent(this.left_btn.node, this.node, "Skin2ScrollNode", "_onBtnLeftClick"), 
					 Utils.setBtnZoomStyle(this.left_btn.node, 1.1), 
					 Utils.bindBtnEvent(this.right_btn.node, this.node, "Skin2ScrollNode", "_onBtnRightClick"), 
					 Utils.setBtnZoomStyle(this.right_btn.node, 1.1))
				}, t.prototype.setType = function (e) {
					this.init(), this._type = e;
					var t = a.default.instance.getItemDataList(e);
					this.itemPrefab && this.tableview.initTableView(t.length, t), this._dataList = t
				}, t.prototype.getType = function () {
					return this._type
				}, t.prototype.reload = function () {
					this.tableview && this.tableview.reload()
				}, t.prototype.getDataList = function () {
					return this._dataList
				}, t.prototype.select = function (e) {
					if (!this._dataList) return !1;
					var t = this._dataList,
						o = t[e];
					return !(!o || o.selected) && (t.forEach(function (e) {
						return e.selected = !1
					}), o.selected = !0, this._selectedIndex = e, 
					this.reload(), Utils.dispatchEvent(this.node, n.Event.SelectItem, this), !0)
				}, t.prototype.getSelectIndex = function () {
					return this._selectedIndex
				}, t.prototype.scrollTo = function (e, t) {
					if (this._dataList && this._dataList.length > 0) {
						var n = this.tableview;
						Utils.scrollTo(n, e, this._dataList.length, n.node.width / this.itemWidth, t)
					}
				}, t.prototype._onScrolling = function () {
					var e = this.tableview,
						t = e.content,
						n = -e.node.width * e.node.anchorX,
						o = t.x - t.width * t.anchorX;
					this.left_btn.node.active = o < n - 10, this.right_btn.node.active = o + t.width > n + e.node.width + 10;
					var i = this._dataList;
					if (i && i.length > 0) {
						var r = this.itemWidth,
							a = o + (this._selectedIndex + .5) * r;
						if (a < n || a >= n + e.node.width) {
							var s = Math.floor((n - o) / r + .5);
							this.select(s)
						}
					}
				}, t.prototype._onBtnLeftClick = function () {
					SoundMgr.play(r.default.btn);
					var e = this.tableview.getScrollOffset(),
						t = this.itemWidth,
						n = Utils.alignTo(e.x, t);
					Math.abs(n - e.x) > 20 ? (e.x = -n, this.tableview.scrollToOffset(e, .2, !0)) : (e.x = Utils.alignTo(-e.x - t, t), this.tableview.scrollToOffset(e, .2, !0))
				}, t.prototype._onBtnRightClick = function () {
					SoundMgr.play(r.default.btn);
					var e = this.tableview.getScrollOffset(),
						t = this.itemWidth,
						n = Utils.alignTo(e.x, t);
					Math.abs(n - e.x) > 20 ? (e.x = -n, this.tableview.scrollToOffset(e, .2, !0)) : (e.x = Utils.alignTo(-e.x + t, t), this.tableview.scrollToOffset(e, .2, !0))
				}, t.Event = {
					SelectItem: "SelectItem"
				}, i([l(cc.Prefab)], t.prototype, "itemPrefab", void 0), i([l], t.prototype, "itemWidth", void 0), t = n = i([c], t)
			}(cc.Component));
		n.default = u, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"./Skin2Logic": "Skin2Logic"
	}],
	Skin2StatusBar: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "c002dMxqIVPaIUzTn8v1ROA", "Skin2StatusBar");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../skin/SkinLogic"),
			a = e("./Skin2Defines"),
			s = e("./Skin2Logic"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, c.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._updateFunc = null, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "updateFunc", {
					get: function () {
						return this._updateFunc || (this._updateFunc = Utils.debounce(this.updateDisplay, .02)), this._updateFunc
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.onLoad = function () {
					Utils.loadVarFromNode(this.node, "_", this)
				}, t.prototype.setType = function (e) {
					this._type = e, this.updateFunc()
				}, t.prototype.setIndex = function (e) {
					this._index = e, this.updateFunc()
				}, t.prototype.updateDisplay = function () {
					this.isValid && void 0 !== this._type && (this._type == a.Skin2Type.Cue ? (this.cue_node.active = !0, this.desc_node.active = !1, this.updateCueNode()) : (this.cue_node.active = !1, this.desc_node.active = !0, this.udpateDescNode()), this.updateIndexNode())
				}, t.prototype.updateIndexNode = function () {
					if (void 0 !== this._index) {
						var e = s.default.instance.getConfigList(this._type);
						this.index_lbl.string = "- " + (this._index + 1) + "/" + e.length + " -"
					}
				}, t.prototype.udpateDescNode = function () {
					var e = this;
					if (void 0 !== this._index) {
						var t = s.default.instance.getConfigList(this._type),
							n = t.findIndex(function (t) {
								return t.index == e._index
							});
						if (n > -1) {
							var o = t[n];
							this.desc_lbl.string = o.title
						}
					}
				}, t.prototype.updateCueNode = function () {
					var e = r.default.instance.getCueData(),
						t = e.filter(function (e) {
							return !e.locked
						}).length,
						n = r.default.instance.getCueAttrConfig(t),
						o = n ? n.cueCount : e.length;
					this.cue_progress.progress = t / o, this.cue_lbl.string = t + "/" + o;
					var i = r.default.instance.getCueAttrConfig(t),
						a = "vigour<color=#de7823>+" + DataBus.user.cue_force + "</c> Garces<color=#de7823>+" + DataBus.user.cue_english + "</c> Aiming line<color=#de7823>+" + DataBus.user.cue_sight + "</c>";
					if (i) {
						var s = n.type == r.CueAttrType.all_bet ? "X" : "+";
						a += "\nAnother <color=#de7823>" + i.offset + "</c> club can " + i.attrName + "<color=#de7823>" + s + i.value + "</c> "
					}
					this.add_richtext.string = a
				}, t = i([l], t)
			}(cc.Component));
		n.default = u, cc._RF.pop()
	}, {
		"../skin/SkinLogic": "SkinLogic",
		"./Skin2Defines": "Skin2Defines",
		"./Skin2Logic": "Skin2Logic"
	}],
	Skin2Tables: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "61be5LbMIVJVaGSVLoxIH3K", "Skin2Tables");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Res/ResLoader"),
			a = e("../base/Table"),
			s = e("../base/TableItem"),
			c = e("./Skin2Config"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, l.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._type = void 0, t._table = void 0, t
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					this._initDisplay(),console.log(this.node),this.node.getChildByName("0").active = false;
				}, t.prototype.onDestroy = function () {
					this._table = null
				}, t.prototype.select = function (e) {
					if (this.isValid) {
						var t = c.Skin2TablesSort.indexOf(e);
						this._table && this._table.setItemBright(t, 0), this._select(e)
					}
				}, t.prototype._initDisplay = function () {
					for (var e = this, t = this.node, n = t.children, o = c.Skin2TablesSort, i = function (i) {
						var a = n[i];
						a || ((a = cc.instantiate(n[0])).parent = t);
						var l = o[i],
							u = c.Skin2TablesResList[l];
						r.default.getSpriteFrameRes(u).then(function (t) {
							e.isValid && (a.getChildByName("icon").getComponent(cc.Sprite).spriteFrame = t)
						}), a.getComponent(s.default) || a.addComponent(s.default), a.name = l + ""
					}, l = 0; l < o.length; ++l) i(l);
					var u = t.getComponent(a.default) || t.addComponent(a.default);
					u && u.switchHandler && (u.switchHandler.target = t, u.switchHandler.component = "Skin2Tables", u.switchHandler.handler = "_onTableChanged"), this._table = u
				}, t.prototype._onTableChanged = function (e, t, n) {
					var o = Number(t);
					return this._select(o)
				}, t.prototype._select = function (e) {
					return !!this.isValid && (this._type = e, this.node.emit(n.Event.TableChanged, e), !0)
				}, t.Event = {
					TableChanged: "TableChanged"
				}, t = n = i([u], t)
			}(cc.Component));
		n.default = d, cc._RF.pop()
	}, {
		"../../Res/ResLoader": "ResLoader",
		"../base/Table": "Table",
		"../base/TableItem": "TableItem",
		"./Skin2Config": "Skin2Config"
	}],
	SkinCardList: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "4a28bRF+o5L4brf1pK+jPr+", "SkinCardList");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.SkinCardListEventId = void 0,
			function (e) {
				e.SelectCard = "SelectCard"
			}(n.SkinCardListEventId || (n.SkinCardListEventId = {}));
		var r = cc._decorator,
			a = r.ccclass,
			s = (r.property, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t = i([a], t)
			}(cc.Component));
		n.default = s, cc._RF.pop()
	}, {}],
	SkinCard: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "8122epJtFRLPKIiggHVMXKa", "SkinCard");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.cueSp = null, t.sssSp = null, t.label = null, t.bgSp = null, t.index = -1, t
				}
				return o(t, e), i([s({
					type: cc.Sprite,
					displayName: "球杆精灵"
				})], t.prototype, "cueSp", void 0), i([s({
					type: cc.Sprite,
					displayName: "评级精灵"
				})], t.prototype, "sssSp", void 0), i([s({
					type: cc.RichText,
					displayName: "文本标签"
				})], t.prototype, "label", void 0), i([s({
					type: cc.Sprite,
					displayName: "背景精灵"
				})], t.prototype, "bgSp", void 0), t = i([a], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	SkinDefines: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7e7a75XXVtLS6AkVa5HyMhT", "SkinDefines"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.SkinUnlockType = n.SkinItemType = void 0,
			function (e) {
				e[e.Role = 0] = "Role", e[e.Cue = 1] = "Cue"
			}(n.SkinItemType || (n.SkinItemType = {})),
			function (e) {
				e[e.none = 0] = "none", e[e.dan = 1] = "dan", e[e.video = 2] = "video", e[e.signIn = 3] = "signIn", e[e.gift = 4] = "gift", e[e.invite = 5] = "invite", e[e.season = 6] = "season", e[e.fragment = 7] = "fragment", e[e.dan3 = 8] = "dan3", e[e.coins = 9] = "coins", e[e.other = 10] = "other"
			}(n.SkinUnlockType || (n.SkinUnlockType = {})), cc._RF.pop()
	}, {}],
	SkinItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "74a2fXxbEREtq9MuD2xJJOt", "SkinItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Lib/tableView/viewCell"),
			a = e("../../Res/ResLoader"),
			s = e("../../Runtime/game/pvp/PvpLogic"),
			c = e("../../Runtime/game/PoolGlobal"),
			l = e("../../Config/SoundID"),
			u = e("./SkinPanel"),
			d = e("./SkinDefines"),
			f = cc._decorator,
			p = f.ccclass,
			h = f.property,
			y = (f.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.role_sp = null, t.cue_sp = null, t.selected_node = null, t.locked_node = null, t.unlocked_node = null, t.data = null, t
				}
				return o(t, e), t.prototype.init = function (e, t, n, o) {
					var i = this,
						r = t[e];
					if (r) {
						if (this.data = r, r.type == d.SkinItemType.Role) {
							this.cue_sp.node.active = !1, this.role_sp.node.active = !0;
							var l = s.default.instance.getRoleThumbRes(r.id);
							a.default.getSpriteFrameRes(l).then(function (e) {
								i.isValid && i.data == r && (i.role_sp.spriteFrame = e)
							})
						} else {
							this.cue_sp.node.active = !0, this.role_sp.node.active = !1;
							l = c.default.getCueThumbRes(r.id);
							a.default.getSpriteFrameRes(l).then(function (e) {
								i.isValid && i.data == r && (i.cue_sp.spriteFrame = e)
							})
						}
						this.locked_node.active = r.locked, this.unlocked_node.active = !r.locked, this.selected_node.active = r.selected
					}
				}, t.prototype.updateSelectDisplay = function () {
					this.selected_node.active = this.data.selected
				}, t.prototype.clicked = function () {
					SoundMgr.play(l.default.btn), Utils.getComponentInParent(this.node, u.default).selectItem(this.data.id)
				}, i([h({
					type: cc.Sprite
				})], t.prototype, "role_sp", void 0), i([h({
					type: cc.Sprite
				})], t.prototype, "cue_sp", void 0), i([h({
					type: cc.Node
				})], t.prototype, "selected_node", void 0), i([h({
					type: cc.Node
				})], t.prototype, "locked_node", void 0), i([h({
					type: cc.Node
				})], t.prototype, "unlocked_node", void 0), t = i([p], t)
			}(r.default));
		n.default = y, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../../Lib/tableView/viewCell": "viewCell",
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/game/PoolGlobal": "PoolGlobal",
		"../../Runtime/game/pvp/PvpLogic": "PvpLogic",
		"./SkinDefines": "SkinDefines",
		"./SkinPanel": "SkinPanel"
	}],
	SkinLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9140bPquR1H5IsU+x3Lj7Wd", "SkinLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.SkinLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = e("./SkinPanel"),
			l = e("./SkinLogic"),
			u = e("../../Config/SoundID"),
			d = e("../../Res/ResLoader"),
			f = e("../../Config/EventID"),
			p = e("./SkinDefines"),
			h = cc._decorator,
			y = h.ccclass,
			g = (h.property, h.menu),
			_ = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.SkinLayerParam = _;
		var v = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.type = null, t._extendTween = null, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), cc.systemEvent.on(f.default.CUE_UNLOCKED, this.updateExtend, this), l.default.instance.tryToUnlock()
			}, t.prototype.onDestroy = function () {
				cc.systemEvent.off(f.default.CUE_UNLOCKED, this.updateExtend, this), e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this.init()
			}, t.prototype.init = function () {
				var e = l.default.instance.getRoleData(),
					t = l.default.instance.getCueData();
				this.panel1 = this.panel1_node.getComponentInChildren(c.default), this.panel2 = this.panel2_node.getComponentInChildren(c.default), this.panel1.setData({
					type: p.SkinItemType.Role,
					itemList: e
				}), this.panel2.setData({
					type: p.SkinItemType.Cue,
					itemList: t
				}), this.setType(this.data.type, 0), this.updateExtend()
			}, t.prototype.setType = function (e, t) {
				void 0 === t && (t = .3), e !== this.type && (this.type = e, this.updatePanelDisplay(), this.updateTableBtn(), this.updateExtendVisible(t))
			}, t.prototype.updatePanelDisplay = function () {
				var e = this.type == p.SkinItemType.Role;
				this.panel1_node.active = e, this.panel2_node.active = !e
			}, t.prototype.updateTableBtn = function () {
				var e = this.type == p.SkinItemType.Role;
				this.table1_btn.node.getChildByName("gray").active = !e, this.table1_btn.node.getChildByName("bright").active = e, this.table2_btn.node.getChildByName("gray").active = e, this.table2_btn.node.getChildByName("bright").active = !e
			}, t.prototype.updateExtendVisible = function (e) {
				var t = this.type == p.SkinItemType.Role,
					n = this.contents_node,
					o = t ? 850 : 1020;
				this._extendTween && this._extendTween.stop(), this._extendTween = Utils.tweenFloat(n.height, o, e, function (e) {
					n.height = e, n.getComponentsInChildren(cc.Widget).forEach(function (e) {
						e.updateAlignment()
					})
				});
				var i = this.extend_node;
				t ? (i.stopAllActions(), i.runAction(cc.sequence(cc.fadeOut(e), cc.callFunc(function () {
					return i.active = !1
				})))) : (i.active = !0, i.stopAllActions(), i.runAction(cc.fadeIn(e)))
			}, t.prototype.updateExtend = function () {
				var e = l.default.instance.getCueData(),
					t = e.filter(function (e) {
						return !e.locked
					}).length,
					n = l.default.instance.getCueAttrConfig(t),
					o = n ? n.cueCount : e.length;
				this.cue_progress.progress = t / o, this.cue_lbl.string = t + "/" + o;
				var i = l.default.instance.getCueAttrConfig(t),
					r = "vigour<color=#de7823>+" + DataBus.user.cue_force + "</c> Garces<color=#de7823>+" + DataBus.user.cue_english + "</c> Aiming line<color=#de7823>+" + DataBus.user.cue_sight + "</c>";
				if (i) {
					var a = n.type == l.CueAttrType.all_bet ? "X" : "+";
					r += "\nCollect <color=#de7823>" + i.offset + "</c> clubs available " + i.attrName + "<color=#de7823>" + a + i.value + "</c> "
				}
				this.add_richtext.string = r
			}, t.prototype.onBtnTableClick = function (e, t) {
				SoundMgr.play(u.default.btn), Utils.disableAllBtnsAmoment(this.node, .2, this), this.setType("1" == t ? p.SkinItemType.Role : p.SkinItemType.Cue)
			}, t.show = function (e) {
				return void 0 === e && (e = p.SkinItemType.Role), r(this, void 0, void 0, function () {
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return [4, d.default.getBundle("game_newbie", !0)];
							case 1:
								return t.sent(), [4, d.default.getBundle("game", !0)];
							case 2:
								return t.sent(), [2, new Promise(function (t, o) {
									var i = new _;
									i.type = e, i.onClose = t, ui.showLayer(n, i)
								})]
						}
					})
				})
			}, t.prefabName = "Prefab/layer/skinLayer", t = n = i([y, g("Layer/SkinLayer")], t)
		}(s.default);
		n.default = v, window.SkinLayer = v, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Config/SoundID": "SoundID",
		"../../Res/ResLoader": "ResLoader",
		"../base/LayerBase": "LayerBase",
		"./SkinDefines": "SkinDefines",
		"./SkinLogic": "SkinLogic",
		"./SkinPanel": "SkinPanel"
	}],
	SkinLogic: [function (e, t, n) {
		"use strict";
		var o;
		cc._RF.push(t, "c0d50bv3V5CQ6k4/H9gRuNN", "SkinLogic"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.CueAttrType = void 0;
		var i, r = e("./SkinDefines"),
			a = e("../../Runtime/LevelConfig"),
			s = e("../../Config/EventID"),
			c = function () {
				function e() {
					this.cueAttrConfigList = [{
						cueCount: 5,
						type: i.sight,
						value: 30
					}, {
						cueCount: 10,
						type: i.english,
						value: 10
					}, {
						cueCount: 15,
						type: i.force,
						value: 10
					}, {
						cueCount: 18,
						type: i.all_bet,
						value: 2
					}], this.cueConfigList = [{
						index: 0,
						id: 0,
						res: 7,
						level: 5,
						line: 100,
						name: "Classic cue",
						title: "Unlock by default",
						unlock: r.SkinUnlockType.none,
						value: 0
					}, {
						index: 15,
						id: 1,
						res: 20,
						level: 4,
						line: 100,
						name: "Vivacious blue",
						title: "Arriving Order Silver unlocks the skin",
						unlock: r.SkinUnlockType.dan,
						value: 1
					}, {
						index: 14,
						id: 2,
						res: 2,
						level: 2,
						line: 200,
						name: "Electric light",
						title: "Reach Glory Gold to unlock this skin",
						unlock: r.SkinUnlockType.dan,
						value: 2
					}, {
						index: 13,
						id: 3,
						res: 12,
						level: 2,
						line: 200,
						name: "Planet fantasy",
						title: "Reach Luxe Platinum to unlock the skin",
						unlock: r.SkinUnlockType.dan,
						value: 3
					}, {
						index: 12,
						id: 4,
						res: 15,
						level: 2,
						line: 200,
						name: "Blue victory",
						title: "Reaching the diamond unlocks the skin",
						unlock: r.SkinUnlockType.dan,
						value: 4
					}, {
						index: 11,
						id: 5,
						res: 9,
						level: 2,
						line: 200,
						name: "Scepter victory",
						title: "Reach the Master to unlock the skin",
						unlock: r.SkinUnlockType.dan,
						value: 5
					}, {
						index: 10,
						id: 6,
						res: 14,
						level: 1,
						line: 200,
						name: "Supreme king",
						title: "Reach the King to unlock the skin",
						unlock: r.SkinUnlockType.dan,
						value: 6
					}, {
						index: 1,
						id: 7,
						res: 1,
						level: 1,
						line: 200,
						name: "Pharaoh's stick",
						title: "Watch five videos to unlock the skin",
						unlock: r.SkinUnlockType.video,
						value: 5
					}, {
						index: 2,
						id: 8,
						res: 4,
						level: 1,
						line: 200,
						name: "Amethyst wand",
						title: "Not yet on shelves",
						unlock: r.SkinUnlockType.invite,
						value: 5
					}, {
						index: 3,
						id: 9,
						res: 5,
						level: 1,
						line: 200,
						name: "Legend of Sakura",
						title: "Watch five videos to unlock the skin",
						unlock: r.SkinUnlockType.video,
						value: 5
					}, {
						index: 4,
						id: 10,
						res: 6,
						level: 2,
						line: 200,
						name: "Brave man",
						title: "Watch five videos to unlock the skin",
						unlock: r.SkinUnlockType.video,
						value: 5
					}, {
						index: 5,
						id: 11,
						res: 11,
						level: 3,
						line: 200,
						name: "Elegant silver",
						title: "Watch five videos to unlock the skin",
						unlock: r.SkinUnlockType.video,
						value: 5
					}, {
						index: 6,
						id: 12,
						res: 13,
						level: 4,
						line: 100,
						name: "Classic sallow",
						title: "Watch five videos to unlock the skin",
						unlock: r.SkinUnlockType.video,
						value: 5
					}, {
						index: 7,
						id: 13,
						res: 16,
						level: 3,
						line: 200,
						name: "White gold scepter",
						title: "Watch five videos to unlock the skin",
						unlock: r.SkinUnlockType.video,
						value: 5
					}, {
						index: 8,
						id: 14,
						res: 19,
						level: 2,
						line: 200,
						name: "Dream chain",
						title: "Watch five videos to unlock the skin",
						unlock: r.SkinUnlockType.video,
						value: 5
					}, {
						index: 9,
						id: 15,
						res: 3,
						level: 2,
						line: 200,
						name: "The Rod Danatus",
						title: "Novice activity obtains the skin",
						unlock: r.SkinUnlockType.gift,
						value: 3
					}, {
						index: 16,
						id: 16,
						res: 17,
						level: 2,
						line: 200,
						name: "Magic arrow",
						title: "Sign in for 2 days to unlock the skin",
						unlock: r.SkinUnlockType.signIn,
						value: 2
					}, {
						index: 17,
						id: 17,
						res: 18,
						level: 2,
						line: 200,
						name: "Sunset bow",
						title: "Sign in 7 days to unlock the skin",
						unlock: r.SkinUnlockType.signIn,
						value: 7
					}], this.roleConfigList = [{
						index: 0,
						id: 0,
						name: "Migrant worker",
						title: "Play eight balls and get rich!",
						unlock: r.SkinUnlockType.none,
						value: 0
					}, {
						index: 1,
						id: 1,
						name: "Little master",
						title: "The platinum level will unlock the skin",
						unlock: r.SkinUnlockType.dan3,
						value: 0
					}, {
						index: 2,
						id: 2,
						name: "Li Wenwen",
						title: "It can be unlocked using fragments",
						unlock: r.SkinUnlockType.fragment,
						value: 30
					}, {
						index: 3,
						id: 3,
						name: "Ding Huihui",
						title: "Can be unlocked with gold coins",
						unlock: r.SkinUnlockType.coins,
						value: 5e4
					}, {
						index: 4,
						id: 4,
						name: "Ding Junjun",
						title: "Can be unlocked with gold coins",
						unlock: r.SkinUnlockType.coins,
						value: 18e4
					}, {
						index: 5,
						id: 5,
						name: "Panda king",
						title: "Can be unlocked with gold coins",
						unlock: r.SkinUnlockType.coins,
						value: 6e5
					}, {
						index: 6,
						id: 6,
						name: "Porter",
						title: "S1 Season best King skin award",
						unlock: r.SkinUnlockType.season,
						value: 0
					}]
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getCueAttrConfig = function (e) {
					var t = this.cueAttrConfigList.findIndex(function (t) {
						return t.cueCount > e
					});
					if (t < 0) return null;
					var n = this.cueAttrConfigList[t];
					return n.attrName = l[n.type] || "", n.offset = n.cueCount - e, n
				}, e.prototype.getCueData = function () {
					var e = DataBus.user.unlockCueList2;
					return this.cueConfigList.map(function (t, n) {
						return {
							index: t.index,
							type: r.SkinItemType.Cue,
							id: t.id,
							locked: -1 == e.indexOf(t.id),
							selected: !1
						}
					}).sort(function (e, t) {
						return e.index - t.index
					})
				}, e.prototype.getCueVideoTimes = function (e) {
					return DataBus.user.cueVideoTimes[e] || 0
				}, e.prototype.getCueConfig = function (e) {
					var t = this.cueConfigList.findIndex(function (t) {
						return t.id == e
					});
					return t > -1 ? this.cueConfigList[t] : null
				}, e.prototype.fastGetCueConfig = function (e) {
					return this.cueConfigList[e]
				}, e.prototype.addCueVideoTimes = function (t) {
					var n = this.fastGetCueConfig(t);
					if (!n) return !1;
					if (n.unlock != r.SkinUnlockType.video) return !1;
					var o = DataBus.user.cueVideoTimes,
						i = o[t] = (o[t] || 0) + 1;
					return DataBus.user.cueVideoTimes = o, i >= n.value && e.instance.unlockCue(t), DataBus.user.save(), i >= n.value
				}, e.prototype.getRoleData = function () {
					var e = DataBus.user.roleList;
					return this.roleConfigList.map(function (t, n) {
						return {
							type: r.SkinItemType.Role,
							id: t.id,
							locked: -1 == e.indexOf(t.id),
							selected: !1
						}
					})
				}, e.prototype.getRoleConfig = function (e) {
					var t = this.roleConfigList.findIndex(function (t) {
						return t.id == e
					});
					return t > -1 ? this.roleConfigList[t] : null
				}, e.prototype.unlockCue = function (e) {
					var t = DataBus.user.unlockCueList2;
					return -1 == t.indexOf(e) && (t.push(e), DataBus.user.unlockCueList2 = t, DataBus.user.usedCue1 = e, this.addCueAttr(), cc.systemEvent.emit(s.default.CUE_UNLOCKED, e), cc.systemEvent.emit(s.default.CUE_CHANGED, e), !0)
				}, e.prototype.addCueAttr = function () {
					var e = DataBus.user.unlockCueList2.length,
						t = this.cueAttrConfigList.findIndex(function (t) {
							return t.cueCount == e
						});
					if (t > -1) {
						var n = this.cueAttrConfigList[t];
						switch (n.type) {
							case i.english:
								DataBus.user.cue_english += n.value;
								break;
							case i.force:
								DataBus.user.cue_force += n.value;
								break;
							case i.sight:
								DataBus.user.cue_sight += n.value;
								break;
							case i.all_bet:
								DataBus.user.cue_english *= n.value, DataBus.user.cue_force *= n.value, DataBus.user.cue_sight *= n.value
						}
						return !0
					}
					return !1
				}, e.prototype.tryToUnlock = function () {
					var e = this,
						t = DataBus.user.star,
						n = DataBus.user.unlockCueList2,
						o = a.default.instance.getDanConfig(t),
						i = [],
						s = !1;
					this.cueConfigList.forEach(function (t) {
						t.unlock == r.SkinUnlockType.dan && o.dan >= t.value && -1 == n.indexOf(t.id) && (i.push("The club is unlocked 【" + t.name + "】"), e.unlockCue(t.id), s = !0)
					});
					var c = DataBus.user.roleList,
						l = !1;
					this.roleConfigList.forEach(function (e) {
						e.unlock == r.SkinUnlockType.dan3 && o.dan >= 3 && -1 == c.indexOf(e.id) && (i.push("got the skin 【" + e.name + "】"), c.push(e.id), l = !0)
					}), l && (DataBus.user.roleList = c), (s || l) && DataBus.user.save(), i.length > 0 && i.forEach(function (e, t) {
						Utils.delayTime(.5 * t).then(function () {
							ui.showTips(e, 2.5, 100 * -t)
						})
					})
				}, e._instance = null, e
			}();
		n.default = c, window.SkinLogic = c,
			function (e) {
				e[e.sight = 0] = "sight", e[e.force = 1] = "force", e[e.english = 2] = "english", e[e.all_bet = 3] = "all_bet"
			}(i = n.CueAttrType || (n.CueAttrType = {}));
			var l = ((o = {})[i.sight] = "Aiming line", o[i.force] = "vigour", o[i.english] = "Garces", o[i.all_bet] = "Add", o);
		cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Runtime/LevelConfig": "LevelConfig",
		"./SkinDefines": "SkinDefines"
	}],
	SkinPanel: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "fac05WKfO9D+Z+QHu72A8PO", "SkinPanel");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("./SkinItem"),
			c = e("./SkinDefines"),
			l = e("./SkinLogic"),
			u = e("../../Res/ResLoader"),
			d = e("../../Runtime/game/pvp/PvpLogic"),
			f = e("../../Runtime/game/PoolGlobal"),
			p = e("../../Config/SoundID"),
			h = e("../base/RewardBtn"),
			y = e("../../Base/ShareTypes"),
			g = e("../../Data/EconomicLogic"),
			_ = e("../coins/FreeCoinsLayer"),
			v = e("../honorTitle/HonorTitleLogic"),
			b = e("../honorTitle/HonorTitleLayer"),
			m = e("../invite/InviteLayer"),
			w = e("../invite/InviteLogic"),
			S = e("../../Config/EventID"),
			C = cc._decorator,
			P = C.ccclass,
			L = (C.property, C.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.selectId = -1, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					Utils.loadVarFromNode(this.node, "_", this), this.tableview = this.scrollview.getComponent(cc.tableView), 
					this.scrollview.on("scrolling", this.onScrolling, this), this.scheduleOnce(this.onScrolling, 0), 
					Utils.bindBtnEvent(this.use_btn.node, this.node, "SkinPanel", "onBtnUseClick"), 
					Utils.bindBtnEvent(this.fragment_unlock_btn.node, this.node, "SkinPanel", "onBtnFragmentUnlockClick"), 
					Utils.bindBtnEvent(this.fragment_locked_btn.node, this.node, "SkinPanel", "onBtnFragmentLockedClick"), 
					Utils.bindBtnEvent(this.coins_locked_btn.node, this.node, "SkinPanel", "onBtnCoinsClick"), 
					Utils.bindBtnEvent(this.invite_locked_btn.node, this.node, "SkinPanel", "onBtnInviteClick"), 
					this.video_locked_btn.getComponent(h.default).sharePos = y.SharePos.UnlockCue, this.updateHonorTitle(), 
					cc.systemEvent.on(S.default.INVITE_GIFT_CHANGED, this.onInviteGiftChanged, this)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(S.default.INVITE_GIFT_CHANGED, this.onInviteGiftChanged, this)
				}, t.prototype.setData = function (e) {
					var t = this;
					if (this.data = e, this.updateDisplay(), -1 == this.selectId) {
						var n = this.getDefaultSelectId();
						this.selectItem(n), this.scheduleOnce(function () {
							return t.scrollToItem(n, .2)
						}, 0)
					} else {
						var o = this.selectId;
						this.selectId = -1, this.selectItem(o), this.scheduleOnce(function () {
							return t.scrollToItem(o, 0)
						}, 0)
					}
				}, t.prototype.updateDisplay = function () {
					var e = this.data,
						t = e.type,
						n = e.itemList;
					this.tableview.initTableView(n.length, n), this.cue_node.active = t == c.SkinItemType.Cue, this.role_db_node.active = t == c.SkinItemType.Role
				}, t.prototype.getDefaultSelectId = function () {
					return (this.data.type == c.SkinItemType.Cue ? DataBus.user.usedCue1 : DataBus.user.usedRole) || 0
				}, t.prototype.scrollToItem = function (e, t) {
					var n = this.data.itemList.findIndex(function (t) {
						return t.id == e
					});
					if (n > -1) {
						var o = new cc.Vec2(151 * (n - 1.5), 0);
						this.tableview.scrollToOffset(o, t, !0)
					}
				}, t.prototype.selectItem = function (e) {
					var t = this;
					if (this.selectId != e) {
						var n = this._findDataInItemList(e);
						if (n)
							if (this.selectId = e, this.data.itemList.forEach(function (e) {
								return e.selected = !1
							}), n.selected = !0, this.tableview.getComponentsInChildren(s.default).forEach(function (e) {
								e.updateSelectDisplay()
							}), this.data.type == c.SkinItemType.Role) {
								this.updateHonorTitle(), this.cue_level_node.active = !1;
								var o = l.default.instance.getRoleConfig(e);
								if (o) {
									this.name_lbl.string = o.name, this.condition_lbl.string = o.title, this.role_db_node.children.slice().forEach(function (e) {
										return u.default.removeNode(e)
									});
									var i = d.default.instance.getRoleRes(e);
									if (u.default.getDragonbonesNodeRes(i).then(function (n) {
										t.isValid && t.selectId == e ? (n.parent = t.role_db_node, n.getComponent(dragonBones.ArmatureDisplay).playAnimation("newAnimation", -1)) : u.default.removeNode(n)
									}), this.video_locked_btn.node.active = !1, this.invite_locked_btn.node.active = !1, n.locked)
										if (this.in_use_btn.node.active = !1, this.use_btn.node.active = !1, o.unlock == c.SkinUnlockType.fragment) {
											this.locked_btn.node.active = !1, this.coins_locked_btn.node.active = !1;
											var r = DataBus.user.roleFragment,
												a = r >= o.value;
											this.fragment_locked_btn.node.active = !a, this.fragment_unlock_btn.node.active = a, (a ? this.fragment_unlock_lbl : this.fragment_locked_lbl).string = r + "/" + o.value
										} else o.unlock == c.SkinUnlockType.coins ? (this.locked_btn.node.active = !1, this.fragment_locked_btn.node.active = !1, this.fragment_unlock_btn.node.active = !1, this.coins_locked_btn.node.active = !0, this.coins_locked_lbl.string = "" + o.value) : (this.locked_btn.node.active = !0, this.fragment_locked_btn.node.active = !1, this.fragment_unlock_btn.node.active = !1, this.coins_locked_btn.node.active = !1);
									else {
										var p = DataBus.user.usedRole == e;
										this.in_use_btn.node.active = p, this.use_btn.node.active = !p, this.locked_btn.node.active = !1, this.fragment_locked_btn.node.active = !1, this.fragment_unlock_btn.node.active = !1, this.coins_locked_btn.node.active = !1
									}
								}
							} else {
								this.honor_title_node.active = !1, this.cue_level_node.active = !0;
								var h = l.default.instance.fastGetCueConfig(e);
								if (h) {
									this.name_lbl.string = h.name, this.condition_lbl.string = h.title, this.cue_node.children.slice().forEach(function (e) {
										return e.destroy()
									});
									i = f.default.getCueRes(e);
									u.default.getNodeRes(i).then(function (n) {
										t.isValid && t.selectId == e && (n.parent = t.cue_node)
									});
									var y = f.default.getCueLevelRes(h.level);
									if (u.default.getSpriteFrameRes(y).then(function (n) {
										t.isValid && t.selectId == e && (t.cue_level_sp.spriteFrame = n, t.cue_level_lbl.string = "Pass the level\nAiming line+" + h.line)
									}), this.fragment_locked_btn.node.active = !1, this.fragment_unlock_btn.node.active = !1, this.coins_locked_btn.node.active = !1, n.locked)
										if (this.in_use_btn.node.active = !1, this.use_btn.node.active = !1, h.unlock == c.SkinUnlockType.video) {
											this.locked_btn.node.active = !1, this.video_locked_btn.node.active = !0, this.invite_locked_btn.node.active = !1;
											var g = l.default.instance.getCueVideoTimes(e);
											this.video_locked_lbl.string = g + "/" + h.value
										} else if (h.unlock == c.SkinUnlockType.invite) {
											this.locked_btn.node.active = !1, this.video_locked_btn.node.active = !1, this.invite_locked_btn.node.active = !0;
											var _ = w.default.instance.getInviteNumber(),
												v = w.default.instance.getInviteTotalNumber();
											this.invite_locked_lbl.string = _ + "/" + v
										} else this.video_locked_btn.node.active = !1, this.invite_locked_btn.node.active = !1, this.locked_btn.node.active = !0;
									else {
										p = DataBus.user.usedCue1 == e;
										this.in_use_btn.node.active = p, this.use_btn.node.active = !p, this.locked_btn.node.active = !1, this.video_locked_btn.node.active = !1, this.invite_locked_btn.node.active = !1
									}
								}
							}
					}
				}, t.prototype.onBtnUseClick = function () {
					SoundMgr.play(p.default.btn), Utils.disableAllBtnsAmoment(this.node, .2, this);
					var e = this.selectId;
					this.data.type == c.SkinItemType.Cue ? (DataBus.user.usedCue1 = e, DataBus.user.save(), cc.systemEvent.emit(S.default.CUE_CHANGED, e)) : (DataBus.user.usedRole = e, DataBus.user.save()), this.selectId = -1, this.selectItem(e)
				}, t.prototype.onBtnFragmentLockedClick = function () {
					SoundMgr.play(p.default.btn), Utils.disableAllBtnsAmoment(this.node, .2, this), ui.showTips("Insufficient shards")
				}, t.prototype.onBtnFragmentUnlockClick = function () {
					if (SoundMgr.play(p.default.btn), Utils.disableAllBtnsAmoment(this.node, .2, this), this.data.type == c.SkinItemType.Role) {
						var e = this.selectId,
							t = l.default.instance.getRoleConfig(e);
						if (t && t.unlock == c.SkinUnlockType.fragment) {
							var n = DataBus.user.roleList;
							if (-1 == n.indexOf(e)) {
								var o = DataBus.user.roleFragment;
								if (o >= t.value) {
									DataBus.user.roleFragment = o - t.value, n.push(e), DataBus.user.roleList = n, DataBus.user.save(), ui.showTips("got the skin 【" + t.name + "】");
									var i = this._findDataInItemList(e);
									i && (i.locked = !1), this.tableview.reload(), this.selectId = -1, this.selectItem(e)
								}
							}
						}
					}
				}, t.prototype.onBtnCoinsClick = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n, o, i;
						return a(this, function (r) {
							switch (r.label) {
								case 0:
									return SoundMgr.play(p.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this.data.type != c.SkinItemType.Role ? [3, 3] : (e = this.selectId, (t = l.default.instance.getRoleConfig(e)) ? t.unlock != c.SkinUnlockType.coins ? [3, 3] : -1 != (n = DataBus.user.roleList).indexOf(e) ? [3, 3] : DataBus.user.coins.gte(t.value) ? (o = this.coins_locked_btn.node.convertToWorldSpaceAR(cc.Vec2.ZERO), g.default.instance.addCoinsWithAnimation(-t.value, o), n.push(e), DataBus.user.roleList = n, DataBus.user.save(), [4, Utils.delayTime(.5, this)]) : [3, 2] : [3, 3]);
								case 1:
									return r.sent(), ui.showTips("got the skin 【" + t.name + "】"), this.isValid && ((i = this._findDataInItemList(e)) && (i.locked = !1), this.tableview.reload(), this.selectId = -1, this.selectItem(e)), [3, 3];
								case 2:
									_.default.show(!0), r.label = 3;
								case 3:
									return Utils.setAllBtnsEnabled(this.node, !0), [2]
							}
						})
					})
				}, t.prototype.onBtnInviteClick = function () {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return this.data.type != c.SkinItemType.Cue ? [3, 4] : (e = this.selectId, l.default.instance.fastGetCueConfig(e).unlock != c.SkinUnlockType.invite ? [3, 4] : (SoundMgr.play(p.default.btn), Utils.setAllBtnsEnabled(this.node, !1), [4, u.default.getBundle("game", !0)]));
								case 1:
									return t.sent(), [4, u.default.getBundle("game_newbie", !0)];
								case 2:
									return t.sent(), [4, ui.showLayer(m.default)];
								case 3:
									t.sent(), Utils.setAllBtnsEnabled(this.node, !0), w.default.instance.shareForInvite(), t.label = 4;
								case 4:
									return [2]
							}
						})
					})
				}, t.prototype.onInviteGiftChanged = function () {
					if (this.data.type == c.SkinItemType.Cue) {
						var e = this.selectId,
							t = DataBus.user.unlockCueList2;
						this.data.itemList.forEach(function (e) {
							l.default.instance.fastGetCueConfig(e.id).unlock == c.SkinUnlockType.invite && (e.locked = -1 == t.indexOf(e.id))
						}), this.selectId = -1, this.selectItem(e)
					}
				}, t.prototype.onScrolling = function () {
					var e = this.tableview,
						t = e.content,
						n = -e.node.width * e.node.anchorX,
						o = t.x - t.width * t.anchorX;
					this.left_btn.node.active = o < n - 10, this.right_btn.node.active = o + t.width > n + e.node.width + 10
				}, t.prototype.onBtnLeftClick = function () {
					SoundMgr.play(p.default.btn);
					var e = this.tableview.getScrollOffset();
					e.x = -e.x - 151, this.tableview.scrollToOffset(e, .2, !0)
				}, t.prototype.onBtnRightClick = function () {
					SoundMgr.play(p.default.btn);
					var e = this.tableview.getScrollOffset();
					e.x = 151 - e.x, this.tableview.scrollToOffset(e, .2, !0)
				}, t.prototype.onRewardCallback = function (e) {
					var t = this.selectId;
					if (e == h.RewardFuncParam.Click) Utils.setAllBtnsEnabled(this.node, !1);
					else if (e == h.RewardFuncParam.Success) {
						if (l.default.instance.addCueVideoTimes(t)) {
							var n = this._findDataInItemList(t);
							n && (n.locked = !1, this.tableview.reload());
							var o = l.default.instance.fastGetCueConfig(t);
							o && ui.showTips("got the skin 【" + o.name + "】")
						}
						this.selectId = -1, this.selectItem(t), Utils.setAllBtnsEnabled(this.node, !0)
					} else Utils.setAllBtnsEnabled(this.node, !0)
				}, t.prototype._findDataInItemList = function (e) {
					var t = this.data.itemList.findIndex(function (t) {
						return t.id == e
					});
					return t > -1 ? this.data.itemList[t] : null
				}, t.prototype.updateHonorTitle = function () {
					var e = v.default.instance.getLevel();
					e > 0 ? (this.honor_title_node.active = !0, v.default.instance.loadSpriteFrame(this.honor_title_sp, e)) : this.honor_title_node.active = !1
				}, t.prototype.onBtnHonorTitleClick = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							switch (e.label) {
								case 0:
									return SoundMgr.play(p.default.btn), Utils.setAllBtnsEnabled(this.node, !1), [4, b.default.show()];
								case 1:
									return e.sent(), this.updateHonorTitle(), Utils.setAllBtnsEnabled(this.node, !0), [2]
							}
						})
					})
				}, t = i([P], t)
			}(cc.Component));
		n.default = L, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/EventID": "EventID",
		"../../Config/SoundID": "SoundID",
		"../../Data/EconomicLogic": "EconomicLogic",
		"../../Res/ResLoader": "ResLoader",
		"../../Runtime/game/PoolGlobal": "PoolGlobal",
		"../../Runtime/game/pvp/PvpLogic": "PvpLogic",
		"../base/RewardBtn": "RewardBtn",
		"../coins/FreeCoinsLayer": "FreeCoinsLayer",
		"../honorTitle/HonorTitleLayer": "HonorTitleLayer",
		"../honorTitle/HonorTitleLogic": "HonorTitleLogic",
		"../invite/InviteLayer": "InviteLayer",
		"../invite/InviteLogic": "InviteLogic",
		"./SkinDefines": "SkinDefines",
		"./SkinItem": "SkinItem",
		"./SkinLogic": "SkinLogic"
	}],
	SkinScene: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "5b47f0Jj3lJF4JscEjXPoOH", "SkinScene");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = cc._decorator,
			c = s.ccclass,
			l = (s.property, s.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.enterScene = function () {
					return r(this, void 0, void 0, function () {
						return a(this, function (e) {
							return [2]
						})
					})
				}, t.prefabName = "skin", t = i([c], t)
			}(cc.Component));
		n.default = l, cc._RF.pop()
	}, {}],
	SoundID: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a94aeaxkQRLLqUJ8WV3mvTN", "SoundID"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		n.default = {
			bgm: "bgm",
			btn: "btn",
			fail: "fail",
			gem: "gem",
			coins: "coins",
			victory1: "victory1",
			open_gift: "open_gift",
			right: "right",
			error: "error",
			UpgradeBuilding: "UpgradeBuilding",
			UpgradeRole: "UpgradeRole",
			Collide: "Collide",
			HeartBreak: "HeartBreak",
			Hit: "Hit",
			Particle: "Particle",
			Pocket0: "Pocket0",
			Pocket1: "Pocket1",
			Pocket2: "Pocket2",
			Pocket3: "Pocket3",
			Tuning: "Tuning",
			YourTurn: "YourTurn",
			countDown: "countDown"
		}, cc._RF.pop()
	}, {}],
	SoundMgr: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d3c00vq30hJuZ2cXscNaZFc", "SoundMgr");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Data/wxsdk"),
			a = e("../Res/ResLoader"),
			s = function () {
				function e() {
					this.isSoundEnabled = !0, this.isMusicEnabled = !0, this.isVibrateEnabled = !0, this._files = {}, this._ids = {}, this._qqAudioPool = [], this._qqTsMap = {}, this._qqUrlMap = {}, this._qgFunc = null, this.isSoundEnabled = sdk.getStorageSync("_sound"), this.isMusicEnabled = sdk.getStorageSync("_music"), this.isVibrateEnabled = sdk.getStorageSync("_vibrate"), null == this.isSoundEnabled && (this.isSoundEnabled = !0), null == this.isMusicEnabled && (this.isMusicEnabled = !0), null == this.isVibrateEnabled && (this.isVibrateEnabled = !0)
				}
				return e.prototype.toggleSound = function () {
					return this.isSoundEnabled = !this.isSoundEnabled, sdk.setStorage("_sound", this.isSoundEnabled), this.isSoundEnabled
				}, e.prototype.toggleMusic = function () {
					return this.isMusicEnabled = !this.isMusicEnabled, sdk.setStorage("_music", this.isMusicEnabled), this.isMusicEnabled ? this.playMusic("bgm") : this.stopMusic(), this.isMusicEnabled
				}, e.prototype.toggleVibrate = function () {
					return this.isVibrateEnabled = !this.isVibrateEnabled, sdk.setStorage("_vibrate", this.isVibrateEnabled), this.isVibrateEnabled
				}, e.prototype.play = function (e, t, n) {
					var o = this;
					void 0 === t && (t = !1), void 0 === n && (n = 1), this.isSoundEnabled && this.getAudioClip(e).then(function (i) {
						o._ids[e] = cc.audioEngine.play(i, t, n)
					}).catch(function () {
						console.log("音频" + e + "不存在!")
					})
				}, e.prototype.playEffectForQQ = function (e, t, n) {
					return void 0 === t && (t = !1), void 0 === n && (n = 1), o(this, void 0, void 0, function () {
						var o, a, s, c, l, u, d, f = this;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return this.isSoundEnabled ? r.default.isQQ() ? (o = (new Date).getTime(), a = this._qqTsMap[e] || 0, o - a < 20 ? [2] : (this._qqTsMap[e] = o, [4, this._getUrlForQQ(e)])) : [3, 2] : [3, 3];
								case 1:
									return s = i.sent(), (c = this._qqAudioPool.length > 0 ? this._qqAudioPool.pop() : wx.createInnerAudioContext()).src != s && (c.src = s), l = function () {
										c.offEnded(l), c.offError(u), -1 == f._qqAudioPool.indexOf(c) && f._qqAudioPool.push(c)
									}, u = function () {
										c.offEnded(l), c.offError(u), c.destroy()
									}, c.onEnded(l), c.onError(u), c.play(), [3, 3];
								case 2:
									return r.default.isQg() ? ((d = this._qgFunc) || (d = this._qgFunc = Utils.throttle(this.play, 20).bind(this)), [2, d(e, t, n)]) : [2, this.play(e, t, n)];
								case 3:
									return [2]
							}
						})
					})
				}, e.prototype._getUrlForQQ = function (e) {
					return o(this, void 0, void 0, function () {
						var t, n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return (t = this._qqUrlMap[e]) ? [3, 2] : [4, a.default.getBundle("default")];
								case 1:
									n = i.sent(), o = n.getInfoWithPath("effe/" + e, cc.AudioClip), t = this._qqUrlMap[e] = cc.assetManager.utils.getUrlWithUuid(o.uuid, {
										isNative: !0
									}).replace(".json", ".mp3"), i.label = 2;
								case 2:
									return [2, t]
							}
						})
					})
				}, e.prototype.playMusic = function (e, t) {
					var n = this;
					void 0 === t && (t = !0), this.isMusicEnabled && this.getAudioClip(e).then(function (o) {
						n._ids[e] = cc.audioEngine.playMusic(o, t)
					}).catch(function () {
						console.log("音频" + e + "不存在!")
					})
				}, e.prototype.stopMusic = function () {
					cc.audioEngine.stopMusic()
				}, e.prototype.getAudioClip = function (e) {
					return o(this, void 0, void 0, function () {
						var t, n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return (t = this._files[e]) ? [3, 2] : (n = "effe/" + e, [4, a.default.getRes(n, cc.AudioClip)]);
								case 1:
									(o = i.sent()) ? t = this._files[e] = o : console.error("加载音频出错: ", n), i.label = 2;
								case 2:
									return [2, t]
							}
						})
					})
				}, e.prototype.stop = function (e) {
					cc.audioEngine.stop(this._ids[e])
				}, e.prototype.pause = function (e) {
					cc.audioEngine.pause(this._ids[e])
				}, e.prototype.resume = function (e) {
					this._ids[e] ? cc.audioEngine.resume(this._ids[e]) : this.play(e, !0)
				}, e.prototype.vibrateShort = function () {
					this.isVibrateEnabled && (r.default.isWX() ? wx.vibrateShort() : r.default.isQg() && qg.vibrateShort())
				}, e.prototype.vibrateLong = function () {
					this.isVibrateEnabled && (r.default.isWX() ? wx.vibrateLong() : r.default.isQg() && qg.vibrateLong())
				}, e
			}();
		n.default = s, cc._RF.pop()
	}, {
		"../Data/wxsdk": "wxsdk",
		"../Res/ResLoader": "ResLoader"
	}],
	StageBannerMgr: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "2fcbeGhVEBNqKdqPyHvxt/T", "StageBannerMgr");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var a = e("../../Base/StatusStack"),
			s = e("../../Config/EventID"),
			c = e("../../Config/StatusStackID"),
			l = e("../../Data/wxsdk"),
			u = e("../../Ui/ads/NativeAdsLogic"),
			d = e("../../Ui/base/AdaptForScreen"),
			f = e("../guide/GuideLogic"),
			p = cc._decorator,
			h = p.ccclass,
			y = p.property,
			g = (p.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.stageNode = null, t
				}
				return o(t, e), t.prototype.start = function () {
					// var e = l.default.isQg() ? 1 / 0 : 300;
					// r.default.instance.setBannerWidth(e), this.updateBanner(), cc.systemEvent.on(s.default.LOAD_PUZZLE, this.updateBanner, this)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(s.default.LOAD_PUZZLE, this.updateBanner, this), a.default.instance.removeStatus(c.default.banner, this.uuid)
				}, t.prototype.setBannerVisible = function (e) {
					e ? u.default.instance.canShowAds() ? (console.log("[StageBanner]显示原生横幅"), a.default.instance.addStatus(c.default.banner, this.uuid, c.BannerStatus.NativeBanner)) : (console.log("[StageBanner]显示横幅"), a.default.instance.addStatus(c.default.banner, this.uuid, c.BannerStatus.Banner)) : a.default.instance.addStatus(c.default.banner, this.uuid, c.BannerStatus.Hide)
				}, t.prototype.updateBanner = function () {
					if (l.default.isTT()) return console.log("[StageBanner]头条游戏界面不显示横幅"), void this.setBannerVisible(!1);
					if (!f.default.instance.isGuideFinished(f.GuideStep.Level2)) return console.log("[StageBanner]新手引导未完成，不显示横幅"), void this.setBannerVisible(!1);
					var e = cc.view.getVisibleSize().height,
						t = r.default.instance.getBannerHeight() * r.default.instance.getPixelRatio(),
						n = this.getStageHeight();
					if (t + n > e) console.log("[StageBanner]空间不够，不显示横幅"), this.setBannerVisible(!1);
					else {
						var o = this.getStageYAvoidBanner(n, t);
						o = Math.max(0, o), console.log("[StageBanner]舞台高:" + n.toFixed(0) + ", 横幅高:" + t.toFixed(0) + ", 舞台位置调整:" + o.toFixed(0)), this.stageNode.y = o, this.setBannerVisible(!0)
					}
				}, t.prototype.getStageYAvoidBanner = function (e, t) {
					cc.Canvas.instance.getComponentsInChildren(cc.Widget).forEach(function (e) {
						e.updateAlignment()
					});
					var n = t + e * this.stageNode.anchorY,
						o = new cc.Vec2(0, n);
					return this.stageNode.parent.convertToNodeSpaceAR(o).y
				}, t.prototype.getStageHeight = function () {
					var e = Utils.getComponentInParent(this.stageNode, d.default) ? d.default.getScale() : 1;
					return this.stageNode.height * e
				}, i([y({
					type: cc.Node,
					displayName: "舞台节点"
				})], t.prototype, "stageNode", void 0), t = i([h], t)
			}(cc.Component));
		n.default = g, cc._RF.pop()
	}, {
		"../../Base/StatusStack": "StatusStack",
		"../../Config/EventID": "EventID",
		"../../Config/StatusStackID": "StatusStackID",
		"../../Data/wxsdk": "wxsdk",
		"../../Ui/ads/NativeAdsLogic": "NativeAdsLogic",
		"../../Ui/base/AdaptForScreen": "AdaptForScreen",
		"../guide/GuideLogic": "GuideLogic"
	}],
	StatusStackID: [function (e, t, n) {
		"use strict";
		var o;
		cc._RF.push(t, "361a9fWlelLcK0wFxxBeQgj", "StatusStackID"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.BannerStatus = void 0,
			function (e) {
				e.scrollAds = "scrollAds", e.banner = "banner", e.feedback = "feedback"
			}(o || (o = {})), n.default = o,
			function (e) {
				e[e.Hide = 0] = "Hide", e[e.Banner = 1] = "Banner", e[e.NativeBanner = 2] = "NativeBanner", e[e.NativeBottom = 3] = "NativeBottom"
			}(n.BannerStatus || (n.BannerStatus = {})), cc._RF.pop()
	}, {}],
	StatusStack: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "2ebd1I1gERAxZnbzk0q20VF", "StatusStack"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = function () {
			function e() {
				this._stackMap = {}
			}
			return Object.defineProperty(e, "instance", {
				get: function () {
					return this._instance || (this._instance = new e)
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype.createStack = function (e, t, n) {
				void 0 === n && (n = !1);
				var o = this._stackMap[e];
				o ? o.statusFunc = t : this._stackMap[e] = {
					statusFunc: t,
					stack: [],
					force: n
				}
			}, e.prototype.getStatus = function (e) {
				var t = this._stackMap[e];
				if (t) {
					var n = t.stack[t.stack.length - 1];
					if (n) return n
				}
				return null
			}, e.prototype.addStatus = function (e, t, n) {
				
			}, e.prototype.removeStatus = function (e, t) {
				
			}, e.prototype.clearStatus = function (e) {
				
			}, e._instance = null, e
		}();
		n.default = o, window.StatusStack = o, cc._RF.pop()
	}, {}],
	SubPackageLoader: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "4b8feG6Ib5NFLcmUiPjUGj1", "SubPackageLoader");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Data/wxsdk"),
			a = function () {
				function e() {
					this._loadedMap = {}
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getSubPackageJsName = function (e) {
					var t = cc.loader.downloader._subpackages[e];
					return t ? t.path + "game.js" : ""
				}, e.prototype.loadSubPackage = function (e, t) {
					return void 0 === t && (t = !0), o(this, void 0, void 0, function () {
						var n, o, a, s, c;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return r.default.isWX() ? this._loadedMap[e] ? [2, !0] : (n = this.getSubPackageJsName(e)) ? t ? [4, ui.showLoading()] : [3, 2] : (console.log("分包" + e + "不存在"), [2, !0]) : [3, 7];
								case 1:
									i.sent(), i.label = 2;
								case 2:
									o = (new Date).getTime(), a = !1, i.label = 3;
								case 3:
									return i.trys.push([3, 5, , 6]), [4, sdk.loadSubpackage(e, n)];
								case 4:
									return a = i.sent(), s = (new Date).getTime(), console.log("加载分包" + e + "耗时：" + (s - o).toFixed(2) + "毫秒"), [3, 6];
								case 5:
									return c = i.sent(), a = !1, console.error("加载分包" + e + "失败：", c), [3, 6];
								case 6:
									return this._loadedMap[e] = a, t && ui.hideLoading(), [2, a];
								case 7:
									return [2, !0]
							}
						})
					})
				}, e._instance = null, e
			}();
		n.default = a, window.SubPackageLoader = a, cc._RF.pop()
	}, {
		"../Data/wxsdk": "wxsdk"
	}],
	Sub: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "8ec48xsmOFI/rQ+nKXypgpG", "Sub");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Data/wxsdk"),
			a = e("../../Lib/sdk"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.fps = 30, t.sprite = null, t.tex = null, t.sharedCanvas = null, t._frameTime = 0, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					if (r.default.supportSubDomain()) {
						var e = wx.getOpenDataContext();
						this.sharedCanvas = e.canvas, this.tex = new cc.Texture2D, this.tex.initWithElement(this.sharedCanvas), this.sprite = this.getComponent(cc.Sprite) || this.addComponent(cc.Sprite), this.sprite.type, cc.Sprite.Type.SIMPLE, this.sprite.sizeMode = cc.Sprite.SizeMode.CUSTOM, this.sprite.trim = !1, this.sprite.spriteFrame = new cc.SpriteFrame(this.tex)
					}
				}, t.prototype.getResolution = function () {
					var e = this.node.getBoundingBoxToWorld(),
						t = cc.view.getVisibleSize();
					return [Math.round(e.x), Math.round(t.height - e.y - e.height), Math.round(t.width), Math.round(t.height), Math.round(e.width), Math.round(e.height)]
				}, t.prototype.updateSize = function () {
					var e = {
						resolution: this.getResolution()
					};
					a.subMsg(e, void 0)
				}, t.prototype.show = function (e, t) {
					void 0 === t && (t = 30), r.default.supportSubDomain() && (this.sharedCanvas.width = this.node.width, this.sharedCanvas.height = this.node.height, e.resolution = this.getResolution(), a.subMsg(e, void 0)), this.fps = t, console.log("子域材质刷新帧率：", t), this.node.active = !0
				}, t.prototype.update = function (e) {
					r.default.supportSubDomain() && (this.fps >= 60 ? this.tex.handleLoadedTexture() : (this._frameTime += e, this._frameTime >= 1 / this.fps && (this._frameTime = 0, this.tex.handleLoadedTexture())))
				}, t.prototype.hide = function (e) {
					if (void 0 === e && (e = "hideAll"), r.default.supportSubDomain()) {
						var t = {
							msg: e,
							pauseUpdate: !0
						};
						a.subMsg(t, void 0)
					}
					this.node.active = !1
				}, t.prototype.onDestroy = function () {
					this.hide("closeAll")
				}, t = i([c], t)
			}(cc.Component));
		n.default = l, cc._RF.pop()
	}, {
		"../../Data/wxsdk": "wxsdk",
		"../../Lib/sdk": "sdk"
	}],
	SuperLineLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "14d10Yi5tdBS7TidciLaGkj", "SuperLineLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.SuperLineLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = e("../base/RewardBtn"),
			s = e("./SuperLineLogic"),
			c = e("../../Base/ShareTypes"),
			l = e("../../Runtime/guide/GuideLogic"),
			u = e("../../Runtime/guide/GuideTips"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, d.menu),
			h = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.SuperLineLayerParam = h;
		var y = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.success = !1, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.getComponentsInChildren(a.default).forEach(function (e) {
					return e.sharePos = c.SharePos.SuperLine
				})
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this.udpateDisplay(), this.data && this.data.showGuide && this.showGuide()
			}, t.prototype.udpateDisplay = function () {
				this.once_node.active = this.data.oneTimes, this.multi_node.active = !this.data.oneTimes, this.total_lbl.string = "" + s.default.instance.getTimes(), this.times_lbl.string = "1", this.total_node.active = !this.data.oneTimes
			}, t.prototype.showGuide = function () {
				l.default.instance.needGuide(l.GuideStep.SuperLine) && (l.default.instance.finishGuide(l.GuideStep.SuperLine), u.default.show("Super auxiliary line trial ended", new cc.Vec2(0, -400), cc.find("dialog/contents", this.node)))
			}, t.prototype.onRewardSuccess = function () {
				s.default.instance.addTimes(), this.isValid && (this.data.oneTimes ? (this.success = !0, this.close()) : (this.success = !0, Utils.setAllBtnsEnabled(this.node, !0, !1), this.udpateDisplay()))
			}, t.prototype.onRewardCallback = function (e) {
				e == a.RewardFuncParam.Click ? Utils.setAllBtnsEnabled(this.node, !1, !1) : e == a.RewardFuncParam.Success ? this.onRewardSuccess() : Utils.setAllBtnsEnabled(this.node, !0, !1)
			}, t.show = function (e, t) {
				return void 0 === t && (t = !1), new Promise(function (o, i) {
					var r = new h;
					r.oneTimes = e, r.showGuide = t, ui.showLayer(n, r).then(function (e) {
						var t = e.getComponent(n);
						r.onClose = function () {
							return o(t.success)
						}
					})
				})
			}, t.prefabName = "home://dynamic/layer/superLineLayer", t = n = i([f, p("Layer/SuperLineLayer")], t)
		}(r.default);
		n.default = y, window.SuperLineLayer = y, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Runtime/guide/GuideLogic": "GuideLogic",
		"../../Runtime/guide/GuideTips": "GuideTips",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"./SuperLineLogic": "SuperLineLogic"
	}],
	SuperLineLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "de2a7f3RmxGfoM18iL2Lvpk", "SuperLineLogic"), Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var o = e("./SuperLineLayer"),
			i = e("../../Config/ServerConfig"),
			r = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.canUse = function () {
					return DataBus.user.superLineTimes > 0
				}, e.prototype.addTimes = function () {
					DataBus.user.superLineTimes += 1, DataBus.user.save()
				}, e.prototype.getTimes = function () {
					return DataBus.user.superLineTimes
				}, e.prototype.getLength = function () {
					return 380
				}, e.prototype.use = function (e) {
					var t = DataBus.user.superLineTimes > 0;
					return t && (DataBus.user.superLineTimes -= 1, DataBus.user.save()), e && (DataBus.other.lastPvpUsingSuperLine = t ? 1 : 2, DataBus.other.save()), t
				}, e.prototype.isLevelEnough = function () {
					return DataBus.user.level >= i.default.instance.getSuperLineLevel()
				}, e.prototype.canShowOnceLayer = function () {
					return 0 == DataBus.user.superLineTimes
				}, e.prototype.tryToShowOnceLayer = function () {
					return this.canShowOnceLayer() ? o.default.show(!0) : null
				}, e.prototype.showLayer = function () {
					return o.default.show(!1)
				}, e.prototype.showGuide = function () {
					return o.default.show(!1, !0)
				}, e._instance = null, e
			}();
		n.default = r, cc._RF.pop()
	}, {
		"../../Config/ServerConfig": "ServerConfig",
		"./SuperLineLayer": "SuperLineLayer"
	}],
	SuperLineRewardBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "4e412x9fQZDnqQZXW+LuX4b", "SuperLineRewardBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/ReportID"),
			a = e("../base/RewardBtn"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, s.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.onRewardCallback = function (e) {
					e == a.RewardFuncParam.Click ? Utils.setAllBtnsEnabled(this.node, !1) : e == a.RewardFuncParam.Success ? (Server.reportClick(r.default.get_super_line_in_pvp), this.onSuccess && this.onSuccess()) : Utils.setAllBtnsEnabled(this.node, !0)
				}, t = i([c], t)
			}(cc.Component));
		n.default = l, cc._RF.pop()
	}, {
		"../../Config/ReportID": "ReportID",
		"../base/RewardBtn": "RewardBtn"
	}],
	TableItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a4878vGhItIjZQSTe3VsuFw", "TableItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.brightNode = null, t.grayNode = null, t
				}
				return o(t, e), t.prototype.setBright = function (e, t) {
					var n = this.brightNode || this.node.getChildByName("bright"),
						o = this.grayNode || this.node.getChildByName("gray"),
						i = e ? n : o,
						r = e ? o : n;
					this._switchPanel(i, r, t)
				}, t.prototype._switchPanel = function (e, t, n) {
					e.stopAllActions(), t.stopAllActions(), e.active = !0, cc.tween(e).to(n, {
						opacity: 255
					}).start(), t.active && cc.tween(t).to(n, {
						opacity: 0
					}).call(function () {
						return t.active = !1
					}).start()
				}, i([s({
					type: cc.Node
				})], t.prototype, "brightNode", void 0), i([s({
					type: cc.Node
				})], t.prototype, "grayNode", void 0), t = i([a], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	TableManager: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "1e820TeSgZMpLnz0H1vZMwx", "TableManager");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../../Res/ResLoader"),
			c = e("../PoolGlobal"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._stageNode = null, t._tableNode = null, t._tableSpriteNode = null, t._pocketInfoList = null, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					this._stageNode = this.node
				}, t.prototype.getTableNode = function () {
					return this._tableNode
				}, t.prototype.removeTableNode = function () {
					this._tableNode = null
				}, t.prototype.addTableNode = function (e) {
					return r(this, void 0, void 0, function () {
						var t, n;
						return a(this, function (o) {
							switch (o.label) {
								case 0:
									return this._tableNode && (this._tableNode.destroy(), this._tableNode = null), this._tableSpriteNode && (this._tableSpriteNode.destroy(), this._tableSpriteNode = null), this._pocketInfoList && (this._pocketInfoList = null), t = c.default.getTableRes(e), [4, s.default.getNodeRes(t)];
								case 1:
									return n = o.sent(), [4, Utils.delayTime(.032, this)];
								case 2:
									return o.sent(), this.isValid ? (n.parent = this._stageNode, this._tableNode = n, this._initTable()) : s.default.removeNode(n), [2]
							}
						})
					})
				}, t.prototype._initTable = function () {
					var e = this._tableNode,
						t = e.getChildByName("table_physics");
					t && e.getComponentsInChildren(cc.PhysicsCircleCollider).forEach(function (e) {
						"pocket" == e.node.group && e.radius > 20 && (e.radius -= c.default.radius)
					}), this.modifyPocketNodeAngleAndCollectInfo(), t && (t.active = !0);
					var n = e.getChildByName("table_sprite");
					if (n) {
						var o = cc.instantiate(n);
						n.active = !1, o.active = !0, o.parent = this._stageNode, o.zIndex = c.default.tableZIndex, this.node.width = o.width, this.node.height = o.height, this._tableSpriteNode = o
					}
				}, t.prototype.getPocketInfoList = function () {
					return this._pocketInfoList
				}, t.prototype.modifyPocketNodeAngleAndCollectInfo = function () {
					var e = this._tableNode;
					if (e) {
						0;
						var t = e.getChildByName("table_physics");
						if (t) {
							var n = t.getComponentsInChildren(cc.RigidBody).map(function (e) {
								return e.node
							}),
								o = n.filter(function (e) {
									return "pocket" == e.group
								}),
								i = n.filter(function (e) {
									return "pocket_potted" == e.group
								}),
								r = c.default.radius;
							this._pocketInfoList = [];
							for (var a = 0; a < o.length; ++a)
								for (var s = o[a], l = 0; l < i.length; ++l) {
									var u = i[l];
									if (s.getPosition().sub(u.getPosition()).lengthSqr() < r * r) {
										s.angle = u.angle, i.splice(l, 1);
										var d = s.getComponent(cc.PhysicsCircleCollider),
											f = cc.misc.degreesToRadians(s.angle),
											p = new cc.Vec2(Math.cos(f), Math.sin(f)),
											h = s.getPosition().addSelf(p.mul(.96 * r + d.radius)),
											y = s.getPosition();
										this._pocketInfoList.push({
											pocket: s,
											dir: p,
											pos: h,
											center: y
										});
										s.x -= Math.cos(f) * (45 - d.radius), s.y -= Math.sin(f) * (45 - d.radius), d.radius = 45, s.center = y;
										break
									}
								}
						}
					}
				}, t = i([u], t)
			}(cc.Component));
		n.default = d, cc._RF.pop()
	}, {
		"../../../Res/ResLoader": "ResLoader",
		"../PoolGlobal": "PoolGlobal"
	}],
	Table: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "1315cS3c1NMyZUV4gD8OxS9", "Table");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/SoundID"),
			a = e("./TableItem"),
			s = cc._decorator,
			c = s.ccclass,
			l = s.property,
			u = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.defaultItem = null, t.switchHandler = new cc.Component.EventHandler, t.duration = .2, t.items = [], t
				}
				return o(t, e), t.prototype.onLoad = function () {
					var e = this;
					this.items = this.node.children.map(function (e) {
						return e.getComponent(a.default)
					}).filter(function (e) {
						return e
					}), this.items.forEach(function (t, n) {
						Utils.bindBtnEvent(t.node, e.node, "Table", "_onItemClick", n + "")
					}), this.defaultItem ? this.setItemBright(this.defaultItem, 0) : this.items[0] && this.setItemBright(this.items[0], 0)
				}, t.prototype._onItemClick = function (e, t) {
					var n = !0,
						o = Number(t),
						i = this.items[o],
						a = this.switchHandler;
					a && a.target && (a.component || a._componentName) && a.handler && (n = this._applyEventHandler(this.switchHandler, [o, i.node.name, i, this])), n && (SoundMgr.play(r.default.btn), this.setItemBright(i, this.duration), this.node.emit("table_changed", o, i.node.name, i))
				}, t.prototype.setItemBright = function (e, t) {
					if ("number" == typeof e) e = this.items[e];
					else if ("string" == typeof e) {
						var n = this.items.findIndex(function (t) {
							return t.node.name == e
						});
						e = this.items[n]
					}
					e && (this.items.map(function (e) {
						return e.setBright(!1, t)
					}), e.setBright(!0, t))
				}, t.prototype._applyEventHandler = function (e, t) {
					if (e) {
						var n = e.target;
						if (cc.isValid(n)) {
							var o = n.getComponent(e._componentName);
							if (cc.isValid(o)) {
								var i = o[e.handler];
								if ("function" == typeof i) return null != e.customEventData && "" !== e.customEventData && (t = t.slice()).push(e.customEventData), i.apply(o, t)
							}
						}
					}
				}, i([l(a.default)], t.prototype, "defaultItem", void 0), i([l({
					type: cc.Component.EventHandler,
					tooltip: "函数参数为(索引，节点名，item)，返回true表示可以切换。用于控制切换，不需要控制时，可直接监听table_changed事件。"
				})], t.prototype, "switchHandler", void 0), i([l({
					tooltip: "item切换时过渡动画时长"
				})], t.prototype, "duration", void 0), t = i([c], t)
			}(cc.Component);
		n.default = u, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"./TableItem": "TableItem"
	}],
	TaskBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f3be8AKGBRENI6ML9KZVABc", "TaskBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./TaskLogic"),
			a = e("../../Config/SoundID"),
			s = e("./TaskLayer"),
			c = e("./TaskTips"),
			l = cc._decorator,
			u = l.ccclass,
			d = (l.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._level = 0, t._isEditor = !1, t
				}
				return o(t, e), t.prototype.start = function () {
					this.node.active = !1
				}, t.prototype.onDestroy = function () { }, t.prototype.tryToShow = function (e, t) {
					this._level = e, this._isEditor = t;
					var n = r.default.instance.getTaskInfo(e, t),
						o = !!n;
					this.node.active = o, o && c.default.show("Extra task:" + n.title)
				}, t.prototype.onClick = function () {
					SoundMgr.play(a.default.btn), Utils.disableAllBtnsAmoment(this.node, .2, this), s.default.show(this._level, this._isEditor)
				}, t = i([u], t)
			}(cc.Component));
		n.default = d, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"./TaskLayer": "TaskLayer",
		"./TaskLogic": "TaskLogic",
		"./TaskTips": "TaskTips"
	}],
	TaskLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "84a9eVGjUtLlYr5X+p3OMYx", "TaskLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.TaskLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = e("./TaskLogic"),
			s = e("../../Config/ReportID"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, c.menu),
			d = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.TaskLayerParam = d;
		var f = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), n._instance = this, Server.reportClick(s.default.task1)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this), n._instance = null
			}, t.prototype.onDataLoad = function () {
				this.updateDisplay()
			}, t.prototype.updateDisplay = function () {
				var e = cc.find("dialog/contents/task_lbl", this.node).getComponent(cc.Label),
					t = cc.find("dialog/contents/coins_lbl", this.node).getComponent(cc.Label),
					n = this.data.level,
					o = this.data.isEditor,
					i = a.default.instance.getTaskInfo(n, o);
				i && (e.string = i.title, t.string = i.prize + "")
			}, t.show = function (e, t, o) {
				void 0 === t && (t = !1);
				var i = new d;
				return i.level = e, i.isEditor = t, i.onClose = function () {
					return o && o()
				}, ui.showLayer(n, i)
			}, t.close = function () {
				this._instance && this._instance.close()
			}, t.prefabName = "game_newbie://dynamic/layer/taskLayer", t._instance = null, t = n = i([l, u("Layer/TaskLayer")], t)
		}(r.default);
		n.default = f, window.TaskLayer = f, cc._RF.pop()
	}, {
		"../../Config/ReportID": "ReportID",
		"../base/LayerBase": "LayerBase",
		"./TaskLogic": "TaskLogic"
	}],
	TaskLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "c02500Dt2pK2pKcDt5zP7/r", "TaskLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Runtime/LevelConfig"),
			a = e("../../Runtime/editor/EditorFixedLevelData"),
			s = e("./TaskBtn"),
			c = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getTaskInfo = function (e, t) {
					void 0 === t && (t = !1);
					var n = null;
					n = t ? a.default.instance.data && a.default.instance.data[e] : r.default.instance.getEightSingleLevelData(e);
					var o = r.default.instance.resolveEvent(n.event),
						i = r.default.instance.getEventNames(),
						s = Object.keys(o).map(function (e) {
							return o[e] && i[e]
						}).filter(function (e) {
							return e
						});
					if (s.length > 0) {
						var c = r.default.instance.getLevelEventCoins(e, n.event, n.event);
						return {
							title: s[0],
							prize: c
						}
					}
					return null
				}, e.prototype.hideTaskBtn = function () {
					var e = cc.Canvas.instance.getComponentInChildren(s.default);
					e && (e.node.active = !1)
				}, e.prototype.tryToShowTaskBtn = function (e, t) {
					return o(this, void 0, void 0, function () {
						var n;
						return i(this, function (o) {
							return (n = cc.Canvas.instance.getComponentInChildren(s.default)) && n.tryToShow(e, t), [2]
						})
					})
				}, e._instance = null, e
			}();
		n.default = c, cc._RF.pop()
	}, {
		"../../Runtime/LevelConfig": "LevelConfig",
		"../../Runtime/editor/EditorFixedLevelData": "EditorFixedLevelData",
		"./TaskBtn": "TaskBtn"
	}],
	TaskTips: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "afaff/fULVDcLYSGTTT8w/c", "TaskTips");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Effect/EffectMgr"),
			c = e("./TaskBtn"),
			l = e("../../Res/ResLoader"),
			u = cc._decorator,
			d = u.ccclass,
			f = u.property,
			p = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.label = null, t
				}
				var n;
				return o(t, e), n = t, t.prototype.setString = function (e) {
					var t = this.label;
					t.string = e, t._updateRenderData && t._updateRenderData(!0), t._forceUpdateRenderData && t._forceUpdateRenderData(), this.node.width = t.node.width + 100, this.node.height = t.node.height + 48
				}, t.prototype.playAnimation = function () {
					var e = this;
					this.node.scale = 0, this.node.opacity = 0;
					this.node.stopAllActions(), this.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(.5), cc.scaleTo(.5, 1).easing(cc.easeElasticOut(.3))), cc.delayTime(2), cc.callFunc(function () {
						var t = cc.Canvas.instance.getComponentInChildren(c.default);
						if (t) {
							var n = Utils.covertToNodeSpaceAR(t.node, e.node.parent, cc.Vec2.ZERO);
							e.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.5, n), cc.scaleTo(.5, 0)), cc.callFunc(function () {
								l.default.removeNode(e.node)
							})))
						} else e.node.runAction(cc.sequence(cc.fadeOut(.5), cc.callFunc(function () {
							l.default.removeNode(e.node)
						})))
					})))
				}, t.show = function (e) {
					return r(this, void 0, void 0, function () {
						var t, o;
						return a(this, function (i) {
							switch (i.label) {
								case 0:
									return [4, s.default.play("game_newbie://dynamic/prefab_effect/taskTips")];
								case 1:
									return t = i.sent(), (o = t.getComponent(n)).setString(e), o.playAnimation(), [2, t]
							}
						})
					})
				}, i([f(cc.Label)], t.prototype, "label", void 0), t = n = i([d], t)
			}(cc.Component);
		n.default = p, cc._RF.pop()
	}, {
		"../../Effect/EffectMgr": "EffectMgr",
		"../../Res/ResLoader": "ResLoader",
		"./TaskBtn": "TaskBtn"
	}],
	TextTips: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "24f96rdzXRAepO7RIc4EHMA", "TextTips");
		var o = this && this.__decorate || function (e, t, n, o) {
			var i, r = arguments.length,
				a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
			if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
			else
				for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
			return r > 3 && a && Object.defineProperty(t, n, a), a
		},
			i = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			r = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.TextTipsAnimType = void 0;
		var a, s = e("../../Res/ResLoader"),
			c = cc._decorator,
			l = c.ccclass;
		c.property;
		(function (e) {
			e[e.Flutter = 0] = "Flutter", e[e.Pop = 1] = "Pop"
		})(a = n.TextTipsAnimType || (n.TextTipsAnimType = {}));
		var u = function () {
			function e() { }
			var t;
			return t = e, Object.defineProperty(e, "instance", {
				get: function () {
					return this._instance || (this._instance = new t)
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype.showTips = function (e, t, n, o, c) {
				return void 0 === n && (n = (new cc.Color).fromHEX("#FB9000")), void 0 === c && (c = a.Flutter), i(this, void 0, void 0, function () {
					var i, l, u, d, f, p;
					return r(this, function (r) {
						switch (r.label) {
							case 0:
								return t || (i = cc.view.getVisibleSize(), t = new cc.Vec2(.5 * i.width, .5 * i.height)), o = o || cc.Canvas.instance.node, l = o.convertToNodeSpaceAR(t), u = l.x, d = l.y, [4, s.default.getNodeRes("Prefab/item/textTips")];
							case 1:
								return f = r.sent(), o.isValid ? (f.x = u, f.y = d, p = 1, f.parent = o, f.color = n, f.getComponent(cc.Label).string = e, f.stopAllActions(), a.Flutter == c ? (f.opacity = 255, f.runAction(cc.spawn(cc.sequence(cc.delayTime(.7), cc.fadeOut(.4), cc.callFunc(function () {
									s.default.removeNode(f)
								})), cc.moveBy(1, 0, 150 * p)))) : (f.opacity = 128, f.runAction(cc.sequence(cc.spawn(cc.moveBy(.4, 0, 70 * p).easing(cc.easeCubicActionOut()), cc.fadeIn(.3)), cc.delayTime(.5), cc.fadeOut(.3), cc.callFunc(function () {
									s.default.removeNode(f)
								})))), [2]) : (s.default.removeNode(f), [2])
						}
					})
				})
			}, e._instance = null, e.NormalColor = (new cc.Color).fromHEX("#FFFFFF"), e.RedColor = (new cc.Color).fromHEX("#FB9000"), e.GreenColor = (new cc.Color).fromHEX("#00FB00"), e.BlueColor = (new cc.Color).fromHEX("#C1FFF1"), e = t = o([l], e)
		}();
		n.default = u, window.TextTips = u, cc._RF.pop()
	}, {
		"../../Res/ResLoader": "ResLoader"
	}],
	TimeMgr: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "de11ekyNc9B3rDPMdWHYREL", "TimeMgr");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Config/EventID"),
			a = e("./wxsdk"),
			s = function () {
				function e() {
					this._localTime = 0, this._serverTime = 0, this._offlineTime = 0, this._offlineOffset = 0, this._promise = null
				}
				return Object.defineProperty(e.prototype, "localTime", {
					get: function () {
						return this._localTime
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(e.prototype, "serverTime", {
					get: function () {
						return this._serverTime
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.setServerTime = function (e) {
					return !(!e || !e.header || !e.header.Date && !e.header.date) && (this._localTime = (new Date).getTime(), this._serverTime = new Date(e.header.Date || e.header.date).getTime(), console.log("从header中获得服务器时间戳: ", this._serverTime), cc.systemEvent.emit(r.default.UPDATE_SERVER_TIME, this._serverTime), !0)
				}, e.prototype.getRevisionServerTime = function () {
					var e = this._serverTime,
						t = this._localTime;
					return e + (new Date).getTime() - t
				}, e.prototype.getSmartServerTime = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o, r;
						return i(this, function (i) {
							return e = this._serverTime, t = this._localTime, n = (new Date).getTime(), (o = n - t) >= 0 && o < 6e5 && (r = e + o, Utils.isSameDay(r, e)) ? [2, r] : [2, this.getTimeFromServer()]
						})
					})
				}, e.prototype.isTimeValid = function () {
					return Math.abs((new Date).getTime() - this._serverTime) < 6e5
				}, e.prototype.isDateValid = function () {
					return new Date(this._serverTime).toDateString() == (new Date).toDateString() || this.isTimeValid()
				}, e.prototype.isMordenTime = function (e) {
					return e > 159e10
				}, Object.defineProperty(e.prototype, "offlineTime", {
					get: function () {
						return this._offlineTime
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.setOfflineTime = function (e) {
					return !(!e || !e.header || !e.header.Date && !e.header.date) && (this._offlineTime = new Date(e.header.Date || e.header.date).getTime(), console.log("从header中获得时间, 作为离线时间戳: ", this._offlineTime), !0)
				}, e.prototype.getOfflineOffset = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n;
						return i(this, function (o) {
							switch (o.label) {
								case 0:
									return (e = this._offlineOffset) > 0 ? (this._offlineOffset = 0, [2, e]) : [3, 1];
								case 1:
									return this._offlineTime > 159e10 ? [4, this.getTimeFromServer()] : [3, 3];
								case 2:
									return t = o.sent(), n = this._offlineTime, t > n && n > 159e10 ? (this._offlineTime = t, [2, t - n]) : [2, 0];
								case 3:
									return [2, 0];
								case 4:
									return [2]
							}
						})
					})
				}, e.prototype.calcOfflineOffset = function (e) {
					if (e && e.header && (e.header.Date || e.header.date) && e.data && e.data.last_time) {
						var t = 1e3 * parseInt(e.data.last_time),
							n = new Date(e.header.Date || e.header.date).getTime();
						n > t && t > 159e10 && (this._offlineOffset = n - t, this._offlineTime = n)
					}
				}, e.prototype.getTimeFromServer = function () {
					return o(this, void 0, void 0, function () {
						var e, t = this;
						return i(this, function (n) {
							return a.default.supportNetwork() ? this._promise ? [2, this._promise] : (e = "", [2, this._promise = sdk.promisify(wx.request, {
								url: e,
								data: {
									t: Math.random()
								}
							}).then(function (e) {
								return t._promise = null, console.info("从time接口获取服务器时间, 访问成功: ", e), t.setServerTime(e) ? t._serverTime : 0
							}).catch(function (e) {
								return t._promise = null, console.info("从time接口获取服务器时间, 访问失败: ", e), t.setServerTime(e) ? t._serverTime : 0
							})]) : [2, Promise.resolve(this._localTime = this._serverTime = (new Date).getTime())]
						})
					})
				}, e
			}();
		n.default = s, cc._RF.pop()
	}, {
		"../Config/EventID": "EventID",
		"./wxsdk": "wxsdk"
	}],
	ToastTips: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "28865iZr7xCHpFmdnFzP5Gm", "ToastTips");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = (r.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.bg = null, t.label = null, t.maxWidth = 450, t.marginLeft = 30, t.marginTop = 20, t
				}
				return o(t, e), t.prototype.setString = function (e) {
					var t = this.label;
					t.overflow = cc.Label.Overflow.NONE, t.horizontalAlign = cc.Label.HorizontalAlign.CENTER, t.string = e, t._updateRenderData && t._updateRenderData(!0), t._forceUpdateRenderData && t._forceUpdateRenderData(), t.node.width > this.maxWidth && (t.overflow = cc.Label.Overflow.RESIZE_HEIGHT, t.horizontalAlign = cc.Label.HorizontalAlign.LEFT, t.node.width = this.maxWidth, t._updateRenderData && t._updateRenderData(!0), t._forceUpdateRenderData && t._forceUpdateRenderData()), this.bg.width = t.node.width + 2 * this.marginLeft, this.bg.height = t.node.height + 2 * this.marginTop
				}, i([s(cc.Node)], t.prototype, "bg", void 0), i([s(cc.Label)], t.prototype, "label", void 0), i([s], t.prototype, "maxWidth", void 0), i([s], t.prototype, "marginLeft", void 0), i([s], t.prototype, "marginTop", void 0), t = i([a], t)
			}(cc.Component));
		n.default = c, cc._RF.pop()
	}, {}],
	TouchController: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9be1aSzs7FIibSRTUNkNp7C", "TouchController");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r, a = e("./BallManager"),
			s = e("../PoolTypes"),
			c = e("../ball/BallEvent"),
			l = e("./CueBallMover"),
			u = e("../PoolGlobal");
		(function (e) {
			e[e.Click = 0] = "Click", e[e.Slide = 1] = "Slide"
		})(r || (r = {}));
		var d = cc._decorator,
			f = d.ccclass,
			p = (d.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._angle = 0, t.ratio = 1, t.onlyClickBall = !1, t._ballManager = null, t._cueBallMover = null, t._cueBallMovable = !1, t._cueBallMoving = !1, t._touchMode = r.Click, t._touchID = null, t
				}
				return o(t, e), Object.defineProperty(t.prototype, "angle", {
					get: function () {
						return this._angle
					},
					set: function (e) {
						this._angle = e, this._onAngleChange()
					},
					enumerable: !1,
					configurable: !0
				}), t.prototype.start = function () {
					this._ballManager = this.getComponent(a.default), this._cueBallMover = this.node.parent.getComponentInChildren(l.default)
				}, t.prototype._onAngleChange = function () {
					this.node.emit(s.PoolEventId.AngleChanged, this.angle)
				}, t.prototype.setCueBallMovable = function (e) {
					this._cueBallMovable = e, e ? this._cueBallMover.setMoveType(l.CueBallMoveType.Normal) : this._cueBallMover.setMoveType(l.CueBallMoveType.None)
				}, t.prototype.setCueBallMoveRange = function (e) {
					this._cueBallMover.setMoveRange(e)
				}, t.prototype.onEnable = function () {
					this._touchID = null, this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this)
				}, t.prototype.onDisable = function () {
					this.node.off(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), this.node.off(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this), this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this)
				}, t.prototype.onTouchStart = function (e) {
					if (null === this._touchID && (this._touchMode = r.Click, this._touchID = e.getID(), this._cueBallMovable)) {
						var t = this._ballManager.getCueBall();
						if (t) {
							var n = t.node.getPosition();
							if (this.node.convertToNodeSpaceAR(e.getLocation()).sub(n).lengthSqr() < 5625) return this.node.emit(s.PoolEventId.CueBallMoveStart), this._cueBallMoving = !0, void this._cueBallMover.onTouchStart(e)
						}
					}
				}, t.prototype.onTouchMove = function (e) {
					if (this._touchID === e.getID())
						if (this._cueBallMovable && this._cueBallMoving) this._cueBallMover.onTouchMove(e);
						else {
							var t = this._ballManager.getCueBall();
							if (t) {
								var n = t.node;
								if (this._touchMode == r.Click) {
									var o = e.getStartLocation();
									e.getLocation().sub(o).lengthSqr() >= 25 && (this._touchMode = r.Slide)
								}
								if (!this.onlyClickBall && this._touchMode == r.Slide) {
									var i = n.getPosition(),
										a = this.node.convertToNodeSpaceAR(e.getPreviousLocation()),
										s = this.node.convertToNodeSpaceAR(e.getLocation()),
										c = a.subSelf(i).normalizeSelf(),
										l = s.subSelf(i).normalizeSelf(),
										u = new cc.Vec2(Math.cos(this.angle), Math.sin(this.angle)).rotateSelf(c.signAngle(l) * this.ratio);
									this.angle = Math.atan2(u.y, u.x)
								}
							}
						}
				}, t.prototype.onTouchEnd = function (e) {
					if (this._touchID === e.getID()) {
						if (this._touchID = null, this._cueBallMovable && this._cueBallMoving) return this._cueBallMoving = !1, this.node.emit(s.PoolEventId.CueBallMoveEnd), void this._cueBallMover.onTouchEnd(e);
						var t = this._ballManager.getCueBall();
						if (t && this._touchMode == r.Click) {
							for (var n = t.node.getPosition(), o = this.node.convertToNodeSpaceAR(e.getLocation()), i = 1 / 0, a = null, l = u.default.radius, d = this._ballManager.getObjectBalls(), f = 0; f < d.length; ++f) {
								var p = d[f],
									h = p.node.getPosition(),
									y = o.sub(h).lengthSqr();
								if (y < l * l) {
									a = p;
									break
								}
								y < i && y < 1225 && (i = y, a = p)
							}
							if (a) {
								var g = (h = a.node.getPosition()).sub(n);
								return this.angle = Math.atan2(g.y, g.x), void a.node.emit(c.BallEventId.BallClick, a.node, e)
							}
							var _ = o.subSelf(n).normalizeSelf();
							this.angle = Math.atan2(_.y, _.x)
						}
					}
				}, t = i([f], t)
			}(cc.Component));
		n.default = p, cc._RF.pop()
	}, {
		"../PoolGlobal": "PoolGlobal",
		"../PoolTypes": "PoolTypes",
		"../ball/BallEvent": "BallEvent",
		"./BallManager": "BallManager",
		"./CueBallMover": "CueBallMover"
	}],
	TouchSingle: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "846d3MK0XBOqqZNLpgT4tVL", "TouchSingle");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator.ccclass,
			a = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._touchID = null, t
				}
				return o(t, e), t.prototype._touchStart = function (e) {
					null !== this._touchID ? e.stopPropagation() : this._touchID = e.getID()
				}, t.prototype._touchMove = function (e) {
					this._touchID !== e.getID() && e.stopPropagation()
				}, t.prototype._touchEnd = function (e) {
					this._touchID !== e.getID() ? e.stopPropagation() : e.simulate || (this._touchID = null)
				}, t.prototype._onMouseMoveIn = function (e) {
					e.getID && this._touchID !== e.getID() && e.stopPropagation()
				}, t.prototype._onMouseMoveOut = function (e) {
					e.getID && this._touchID !== e.getID() && e.stopPropagation()
				}, t.prototype.onEnable = function () {
					this.node.on(cc.Node.EventType.TOUCH_START, this._touchStart, this, !0), this.node.on(cc.Node.EventType.TOUCH_MOVE, this._touchMove, this, !0), this.node.on(cc.Node.EventType.TOUCH_END, this._touchEnd, this, !0), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._touchEnd, this, !0), this.node.on(cc.Node.EventType.MOUSE_ENTER, this._onMouseMoveIn, this), this.node.on(cc.Node.EventType.MOUSE_LEAVE, this._onMouseMoveOut, this)
				}, t.prototype.onDisable = function () {
					this.node.off(cc.Node.EventType.TOUCH_START, this._touchStart, this, !0), this.node.off(cc.Node.EventType.TOUCH_MOVE, this._touchMove, this, !0), this.node.off(cc.Node.EventType.TOUCH_END, this._touchEnd, this, !0), this.node.off(cc.Node.EventType.TOUCH_CANCEL, this._touchEnd, this, !0), this.node.off(cc.Node.EventType.MOUSE_ENTER, this._onMouseMoveIn, this), this.node.off(cc.Node.EventType.MOUSE_LEAVE, this._onMouseMoveOut, this)
				}, t = i([r], t)
			}(cc.Component);
		n.default = a, cc._RF.pop()
	}, {}],
	TrialAdsItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "bf3deoWHYJLyKclHbLtwepW", "TrialAdsItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../Lib/tableView/viewCell"),
			c = e("../../Base/AdsMgr"),
			l = e("../../Config/SoundID"),
			u = e("../../Runtime/game/item2/ReceiveItemLayer"),
			d = e("./TrialAdsLogic"),
			f = e("./TrialAdsLayer"),
			p = e("../prize/PrizeItem"),
			h = cc._decorator,
			y = h.ccclass,
			g = (h.property, h.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.prizeItem = null, t.data = null, t
				}
				return o(t, e), t.prototype.init = function (e, t, n, o) {
					this.icon_sp || (Utils.loadVarFromNode(this.node, "_", this), this.prizeItem = this.prize_node.getComponent(p.default), this.prizeItem.prefix = "+");
					var i = this.data = t[e];
					Utils.loadImage(this.icon_sp, i.data.icon.skin), this.name_lbl.string = i.data.nameLbl.text, this.prizeItem.setData(i.prize);
					var r = i.status == d.TrialAdsStatus.canReceive;
					this.trial_btn.node.active = !r, this.receive_btn.node.active = r, this.badage.active = i.status != d.TrialAdsStatus.received, i.status == d.TrialAdsStatus.received ? (Utils.setNodeBright(this.trial_btn.node, !1, !0), this.sub_title_lbl.string = "奖励已领取") : (Utils.setNodeBright(this.trial_btn.node, !0, !0), this.sub_title_lbl.string = "试玩15秒，返回即可领取")
				}, t.prototype.onDestroy = function () {
					sdk.offShow(this.uuid), e.prototype.onDestroy && e.prototype.onDestroy.call(this)
				}, t.prototype.setParentBtnEnabled = function (e) {
					var t = this.node.parent;
					Utils.setAllBtnsEnabled(t, e)
				}, t.prototype.onBtnTrialClick = function (e) {
					return r(this, void 0, void 0, function () {
						var e, t = this;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return SoundMgr.play(l.default.btn), this.setParentBtnEnabled(!1), [4, c.default.instance.clickAds(this.data.data)];
								case 1:
									return e = n.sent(), this.data.status != d.TrialAdsStatus.received && e > 0 && sdk.onShow(this.uuid, function () {
										sdk.offShow(t.uuid);
										var n = ((new Date).getTime() - e) / 1e3;
										console.log("试玩时长：" + n.toFixed(2) + "秒"), n < 15 ? ui.showTips("Please play for at least 15 seconds") : (d.default.instance.setAdsCanReceive(t.data.data), t.data.status = d.TrialAdsStatus.canReceive, t.receive_btn.node.active = !0, t.trial_btn.node.active = !1)
									}), this.setParentBtnEnabled(!0), [2]
							}
						})
					})
				}, t.prototype.onBtnReceiveClick = function (e) {
					return r(this, void 0, void 0, function () {
						var e;
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return SoundMgr.play(l.default.btn), this.setParentBtnEnabled(!1), [4, u.default.show([this.data.prize])];
								case 1:
									return t.sent(), d.default.instance.setAdsReceived(this.data.data), this.data.status = d.TrialAdsStatus.received, this.receive_btn.node.active = !1, this.trial_btn.node.active = !0, this.badage.active = !1, (e = Utils.getComponentInParent(this.node, f.default)) && e.isValid && e.sortDisplay(), this.setParentBtnEnabled(!0), [2]
							}
						})
					})
				}, t = i([y], t)
			}(s.default));
		n.default = g, cc._RF.pop()
	}, {
		"../../Base/AdsMgr": "AdsMgr",
		"../../Config/SoundID": "SoundID",
		"../../Lib/tableView/viewCell": "viewCell",
		"../../Runtime/game/item2/ReceiveItemLayer": "ReceiveItemLayer",
		"../prize/PrizeItem": "PrizeItem",
		"./TrialAdsLayer": "TrialAdsLayer",
		"./TrialAdsLogic": "TrialAdsLogic"
	}],
	TrialAdsLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d60f5Bs/Q9Aab+TmR9waRut", "TrialAdsLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.TrialAdsLayerParam = void 0;
		var r = e("../base/LayerBase"),
			a = e("../../Config/EventID"),
			s = e("./TrialAdsLogic"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, c.menu),
			d = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.TrialAdsLayerParam = d;
		var f = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			return o(t, e), t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.tableview = this.tableview_node.getComponent(cc.tableView), this._onDataChanged(), cc.systemEvent.on(a.default.INSIDE_ADS_CHANGED, this._onDataChanged, this)
			}, t.prototype.onDestroy = function () {
				cc.systemEvent.off(a.default.INSIDE_ADS_CHANGED, this._onDataChanged, this), e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () { }, t.prototype._onDataChanged = function () {
				var e = s.default.instance.getList();
				this._data = e, this.sortDisplay()
			}, t.prototype.sortDisplay = function () {
				if (this._data) {
					var e = this._data = this._data.sort(function (e, t) {
						return e.status - t.status
					});
					this.tableview.initTableView(e.length, e)
				}
			}, t.prefabName = "home://dynamic/layer/trialAdsLayer", t = i([l, u("Layer/TrialAdsLayer")], t)
		}(r.default);
		n.default = f, window.TrialAdsLayer = f, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../base/LayerBase": "LayerBase",
		"./TrialAdsLogic": "TrialAdsLogic"
	}],
	TrialAdsLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "29e3cfEVTlDjagxiUclXAaB", "TrialAdsLogic"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.TrialAdsStatus = void 0;
		var o, i = e("../../Base/AdsMgr"),
			r = e("../../Data/DataBus_LocalData"),
			a = e("../../Runtime/LevelConfig"),
			s = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.setAdsCanReceive = function (e) {
					this.setAdsStatus(e, o.canReceive)
				}, e.prototype.setAdsReceived = function (e) {
					this.setAdsStatus(e, o.received)
				}, e.prototype.setAdsStatus = function (e, t) {
					var n = r.default.data.trialList,
						o = n.findIndex(function (t) {
							return t.id == e.id && t.app_id == e.app_id && t.app_path == e.app_path
						});
					o > -1 ? n[o].status = t : n.push({
						id: e.id,
						app_id: e.app_id,
						app_path: e.app_path,
						status: t
					}), r.default.saveData()
				}, e.prototype.getAdsStatus = function (e) {
					var t = r.default.data.trialList,
						n = t.findIndex(function (t) {
							return t.id == e.id && t.app_id == e.app_id && t.app_path == e.app_path
						});
					return n > -1 ? t[n].status : o.normal
				}, e.prototype.getList = function () {
					var e = {
						type: a.LevelPrizeType.lottery_tickets,
						value: 3
					},
						t = i.default.instance.getFixedList(),
						n = r.default.data.trialList.slice();
					return t.map(function (t) {
						var i = o.normal,
							r = n.findIndex(function (e) {
								return e.id == t.id && e.app_id == t.app_id && e.app_path == t.app_path
							});
						return r > -1 && (i = n[r].status, n.splice(r, 1)), {
							data: t,
							prize: e,
							status: i
						}
					})
				}, e.prototype.hasBadage = function () {
					for (var e = i.default.instance.getFixedList(), t = r.default.data.trialList.slice(), n = function (n) {
						var i = e[n],
							r = t.findIndex(function (e) {
								return e.id == i.id && e.app_id == i.app_id && e.app_path == i.app_path
							});
						return r > -1 ? t[r].status != o.received ? {
							value: !0
						} : void 0 : {
							value: !0
						}
					}, a = 0; a < e.length; ++a) {
						var s = n(a);
						if ("object" == typeof s) return s.value
					}
					return !1
				}, e._instance = null, e
			}();
		n.default = s,
			function (e) {
				e[e.canReceive = 0] = "canReceive", e[e.normal = 1] = "normal", e[e.received = 2] = "received"
			}(o = n.TrialAdsStatus || (n.TrialAdsStatus = {})), cc._RF.pop()
	}, {
		"../../Base/AdsMgr": "AdsMgr",
		"../../Data/DataBus_LocalData": "DataBus_LocalData",
		"../../Runtime/LevelConfig": "LevelConfig"
	}],
	TuningBar: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "0b47enUwMFKA7fPvLzyf3D8", "TuningBar");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../PoolTypes"),
			a = e("../../../Config/SoundID"),
			s = cc._decorator,
			c = s.ccclass,
			l = (s.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.tuningNode = null, t._touchID = null, t._attrName = "y", t._tuningNodeY = 0, t._unitY = 31, t
				}
				return o(t, e), t.prototype.start = function () {
					this.tuningNode = cc.find("mask/tuning", this.node), this._attrName = this.node.width > this.node.height ? "x" : "y"
				}, t.prototype._changeAngle = function (e) {
					this.node.emit(r.PoolEventId.TuningAngleChanged, e)
				}, t.prototype.onEnable = function () {
					this._touchID = null, this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this)
				}, t.prototype.onDisable = function () {
					this.node.off(cc.Node.EventType.TOUCH_START, this.onTouchStart, this), this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this), this.node.off(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this), this.node.off(cc.Node.EventType.TOUCH_CANCEL, this.onTouchEnd, this)
				}, t.prototype.onTouchStart = function (e) {
					null === this._touchID && (this._touchID = e.getID(), e.stopPropagation())
				}, t.prototype.onTouchMove = function (e) {
					if (this._touchID === e.getID() && this.enabled) {
						var t = this.node.convertToNodeSpaceAR(e.getPreviousLocation()),
							n = this.node.convertToNodeSpaceAR(e.getLocation())[this._attrName] - t[this._attrName],
							o = cc.misc.degreesToRadians(n / 100);
						this._changeAngle(o), n *= .5;
						var i = this._tuningNodeY + n;
						this.tuningNode[this._attrName] = i % this._unitY, Math.floor(i / this._unitY) != Math.floor(this._tuningNodeY / this._unitY) && SoundMgr.play(a.default.Tuning), this._tuningNodeY = i, e.stopPropagation()
					}
				}, t.prototype.onTouchEnd = function (e) {
					this._touchID === e.getID() && (this._touchID = null, e.stopPropagation())
				}, t = i([c], t)
			}(cc.Component));
		n.default = l, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"../PoolTypes": "PoolTypes"
	}],
	Ui: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "eb0dcenBaFLh7a3bGdWT5cW", "Ui");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.SceneCtrl = n.SceneCloseTypeEnum = void 0;
		var s, c = e("../Base/JNodePool"),
			l = e("../Res/ResLoader"),
			u = e("../Config/EventID"),
			d = e("./base/ToastTips"),
			f = cc._decorator,
			p = f.ccclass,
			h = f.property;
		(function (e) {
			e[e.self_fade_out_to_left = 0] = "self_fade_out_to_left", e[e.new_fade_in_from_right = 1] = "new_fade_in_from_right", e[e.self_fade_out_to_right = 2] = "self_fade_out_to_right"
		})(s = n.SceneCloseTypeEnum || (n.SceneCloseTypeEnum = {}));
		var y = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.closeType = s.self_fade_out_to_left, t.isClosing = !1, t
			}
			return o(t, e), t.prototype.close = function (e) {
				var t = this;
				this.isClosing = !0;
				var n = cc.view.getVisibleSize(),
					o = function () {
						cc.systemEvent.emit(u.default.CLOSE_SCENE, t.node), t.node.destroy()
					};
				switch (this.closeType) {
					case s.self_fade_out_to_left:
						this.node.zIndex = 1, e.zIndex = 0, this.node.runAction(cc.sequence(cc.spawn(cc.moveBy(.3, -n.width, 0), cc.fadeOut(.3)), cc.callFunc(o)));
						break;
					case s.new_fade_in_from_right:
						this.node.zIndex = 0, e.zIndex = 1, e.opacity = 0, e.runAction(cc.sequence(cc.delayTime(0), cc.callFunc(function () {
							e.x += n.width
						}), cc.spawn(cc.moveBy(.3, -n.width, 0), cc.fadeIn(.3)), cc.callFunc(o)));
						break;
					case s.self_fade_out_to_right:
						this.node.zIndex = 1, e.zIndex = 0, this.node.runAction(cc.sequence(cc.spawn(cc.moveBy(.3, n.width, 0), cc.fadeOut(.3)), cc.callFunc(o)))
				}
			}, t
		}(cc.Component);
		n.SceneCtrl = y;
		var g = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.sceneRoot = null, t.layerRoot = null, t.tipsPrefab = null, t._layerQueue = [], t._layerIndex = 0, t._layerUniqueSet = new Set, t._originLayerRoot = null, t
			}
			return o(t, e), t.prototype.onDestroy = function () {
				ui.instance = null
			}, t.prototype.onLoad = function () {
				ui.instance = this, this._originLayerRoot = this.layerRoot, ui.tipsPool ? ui.tipsPool.mPrefab != this.tipsPrefab && (ui.tipsPool.mNodePool.clear(), ui.tipsPool = new c.default(this.tipsPrefab, 3)) : ui.tipsPool = new c.default(this.tipsPrefab, 3), this.layerRoot.on("child-removed", this._onLayerRemoved, this)
			}, t.prototype.changeLayerRoot = function (e) {
				e != this.layerRoot && (this.layerRoot.off("child-removed", this._onLayerRemoved, this), this.layerRoot.children.slice().forEach(function (t) {
					return t.parent = e
				}), this.layerRoot = e, this.layerRoot.on("child-removed", this._onLayerRemoved, this))
			}, t.prototype.resetLayerRoot = function () {
				this.changeLayerRoot(this._originLayerRoot)
			}, t.prototype.switchScene = function (e) {
				return r(this, void 0, void 0, function () {
					var t, n, o, i, r, s, c;
					return a(this, function (a) {
						switch (a.label) {
							case 0:
								return t = this._getPrefabName(e), n = this._getNodeName(t), (o = this.sceneRoot.getChildByName(n)) ? [3, 2] : (i = this.sceneRoot.children.slice(), r = t, [4, l.default.getPrefabRes(r, !0)]);
							case 1:
								s = a.sent(), (o = cc.instantiate(s)).name = n, o.parent = this.sceneRoot, o.addComponent(y).isClosing = !1, c = i.pop(), i.forEach(function (e) {
									cc.systemEvent.emit(u.default.CLOSE_SCENE, e), e.destroy()
								}), c && (c.getComponent(y) || c.addComponent(y)).close(o), a.label = 2;
							case 2:
								return [2, o]
						}
					})
				})
			}, t.prototype.pushScene = function (e) {
				return r(this, void 0, void 0, function () {
					var t, n, o, i, r;
					return a(this, function (a) {
						switch (a.label) {
							case 0:
								return t = this._getPrefabName(e), n = this._getNodeName(t), (o = this.sceneRoot.getChildByName(n)) ? [3, 2] : (i = t, [4, l.default.getPrefabRes(i, !0)]);
							case 1:
								r = a.sent(), (o = cc.instantiate(r)).name = n, o.parent = this.sceneRoot, a.label = 2;
							case 2:
								return [2, o]
						}
					})
				})
			}, t.prototype.popScene = function (e) {
				var t = this._getPrefabName(e),
					n = this._getNodeName(t),
					o = this.sceneRoot.getChildByName(n);
				o && (cc.systemEvent.emit(u.default.CLOSE_SCENE, o), o.destroy())
			}, t.prototype.getSceneLength = function () {
				return this.sceneRoot.childrenCount
			}, t.prototype._getNextZIndex = function () {
				return this._layerIndex = (this._layerIndex + 1) % ui.MAX_ZORDER, this._layerIndex
			}, t.prototype._getPrefabName = function (e) {
				return "string" == typeof e ? e : e.prefabName
			}, t.prototype._getNodeName = function (e) {
				return e.replace(/\//g, "_")
			}, t.prototype.showLayerUnique = function (e, t) {
				var n = this,
					o = this._getPrefabName(e),
					i = this._getNodeName(o);
				if (!this._layerUniqueSet.has(i)) return this._layerUniqueSet.add(i), this._showLayer(i, o, t).then(function (e) {
					return e.tag1 = 86, e
				}).catch(function (e) {
					return console.error("显示弹窗[" + o + "]失败. ", e), n._layerUniqueSet.delete(i), null
				});
				console.log("【唯一弹窗】弹窗[" + o + "]已存在")
			}, t.prototype.showLayer = function (e, t) {
				var n = this._getPrefabName(e),
					o = this._getNodeName(n + "Layer");
				return this._showLayer(o, n, t).catch(function (e) {
					return console.error("显示弹窗[" + n + "]失败. ", e), null
				})
			}, t.prototype._showLayer = function (e, t, n) {
				return r(this, void 0, void 0, function () {
					var o, i, r;
					return a(this, function (a) {
						switch (a.label) {
							case 0:
								return (o = this.layerRoot.getChildByName(e)) && 88 != o.tag1 ? (o.active = !0, o.emit("layerdata", n), [3, 3]) : [3, 1];
							case 1:
								return i = t, [4, l.default.getPrefabRes(i, !1)];
							case 2:
								r = a.sent(), (o = cc.instantiate(r)).zIndex = this._getNextZIndex(), o.name = e, o.parent = this.layerRoot, o.active = !0, o.emit("layerdata", n), a.label = 3;
							case 3:
								return [2, o]
						}
					})
				})
			}, t.prototype._onLayerRemoved = function (e) {
				this._layerQueue.length > 0 && e == this._layerQueue[0].layer && (console.log("【弹窗队列】关闭弹窗[" + this._layerQueue[0].name + "]"), this._showNextLayer()), 86 == e.tag1 && this._layerUniqueSet.delete(e.name)
			}, t.prototype._showNextLayer = function () {
				var e = this._layerQueue;
				e && e.length > 0 ? (e.shift(), e.length > 0 && this._showLayerQueue()) : console.log("【弹窗队列】已经没有弹窗了")
			}, t.prototype._showLayerQueue = function () {
				var e = this,
					t = this._layerQueue[0];
				console.log("【弹窗队列】显示弹窗[" + t.name + "]");
				var n = this._getNodeName(t.name + "LayerQueue");
				this._showLayer(n, t.name, t.data).then(function (e) {
					e.tag1 = 88, t.layer = e
				}).catch(function (n) {
					console.error("【弹窗队列】显示弹窗[" + t.name + "]失败. ", n), e._showNextLayer()
				})
			}, t.prototype.showLayerQueue = function (e, t) {
				var n = this._getPrefabName(e),
					o = this._layerQueue;
				console.log("【弹窗队列】添加弹窗[" + n + "]"), o.push({
					name: n,
					data: t,
					layer: null
				}), o.length <= 1 && this._showLayerQueue()
			}, t.prototype.insertLayerQueue = function (e, t) {
				var n = this._getPrefabName(e),
					o = this._layerQueue;
				console.log("【弹窗队列】插入弹窗[" + n + "]"), o.splice(1, 0, {
					name: n,
					data: t,
					layer: null
				}), o.length <= 1 && this._showLayerQueue()
			}, t.prototype.isLayerInQueue = function (e) {
				var t = this._getPrefabName(e);
				return this._layerQueue.map(function (e) {
					return e.name
				}).indexOf(t) > -1
			}, t.prototype.getLayerQueueLength = function () {
				return this._layerQueue.length
			}, t.prototype.getLayer = function (e) {
				return this.layerRoot.getComponentInChildren(e)
			}, t.showLoading = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return ui._loadingShow = !0, [4, ui.showLayerUnique("Prefab/layer/loadingLayer")];
							case 1:
								return (e = t.sent()) ? ui._loadingShow ? (e.zIndex = ui.MAX_ZORDER, ui._loadingInstance = e, [2, e]) : (l.default.removeNode(e), [2, null]) : [2, null]
						}
					})
				})
			}, t.hideLoading = function () {
				ui._loadingShow = !1, ui._loadingInstance && (l.default.removeNode(ui._loadingInstance), ui._loadingInstance = null)
			}, t.showTips = function (e, t, n) {
				var o = this;
				if (void 0 === t && (t = 1.5), void 0 === n && (n = 0), e && ui.tipsPool) {
					var i = cc.Canvas.instance.node,
						r = ui.tipsPool.get();
					r.zIndex = ui.TIPS_ZORDER, r.parent = i, r.getComponent(d.default).setString(e), r.stopAllActions(), r.x = 0, r.y = n, r.scale = .8, r.opacity = 255, r.runAction(cc.sequence(cc.scaleTo(.3, 1).easing(cc.easeElasticOut(.4)), cc.delayTime(t), cc.spawn(cc.moveBy(.3, 0, 20), cc.fadeOut(.3)), cc.callFunc(function () {
						o._curTips == r && (o._curTips = null), ui.tipsPool.put(r)
					}))), this._curTips = r
				}
			}, t.changeLayerRoot = function (e) {
				ui.instance && ui.instance.changeLayerRoot(e)
			}, t.resetLayerRoot = function () {
				ui.instance && ui.instance.resetLayerRoot()
			}, t.switchScene = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return ui.instance ? [4, ui.instance.switchScene(e)] : [3, 2];
							case 1:
								return [2, t.sent()];
							case 2:
								return [2]
						}
					})
				})
			}, t.pushScene = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return ui.instance ? [4, ui.instance.pushScene(e)] : [3, 2];
							case 1:
								return [2, t.sent()];
							case 2:
								return [2]
						}
					})
				})
			}, t.popScene = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (t) {
						return ui.instance ? [2, ui.instance.popScene(e)] : [2]
					})
				})
			}, t.getSceneLength = function () {
				return ui.instance ? ui.instance.getSceneLength() : 0
			}, t.showLayer = function (e, t) {
				return r(this, void 0, Promise, function () {
					return a(this, function (n) {
						switch (n.label) {
							case 0:
								return ui.instance ? [4, ui.instance.showLayer(e, t)] : [3, 2];
							case 1:
								return [2, n.sent()];
							case 2:
								return [2]
						}
					})
				})
			}, t.showLayerUnique = function (e, t) {
				return r(this, void 0, Promise, function () {
					return a(this, function (n) {
						switch (n.label) {
							case 0:
								return ui.instance ? [4, ui.instance.showLayerUnique(e, t)] : [3, 2];
							case 1:
								return [2, n.sent()];
							case 2:
								return [2]
						}
					})
				})
			}, t.showLayerQueue = function (e, t) {
				ui.instance && ui.instance.showLayerQueue(e, t)
			}, t.insertLayerQueue = function (e, t) {
				ui.instance && ui.instance.insertLayerQueue(e, t)
			}, t.isLayerInQueue = function (e) {
				return !!ui.instance && ui.instance.isLayerInQueue(e)
			}, t.getLayer = function (e) {
				return ui.instance ? ui.instance.getLayer(e) : null
			}, t.MAX_ZORDER = 32e3, t.TIPS_ZORDER = 32001, t.instance = null, t.tipsPool = null, t._curTips = null, t._loadingShow = !1, t._loadingInstance = null, i([h(cc.Node)], t.prototype, "sceneRoot", void 0), i([h(cc.Node)], t.prototype, "layerRoot", void 0), i([h(cc.Prefab)], t.prototype, "tipsPrefab", void 0), t = i([p], t)
		}(cc.Component);
		n.default = g, cc._RF.pop()
	}, {
		"../Base/JNodePool": "JNodePool",
		"../Config/EventID": "EventID",
		"../Res/ResLoader": "ResLoader",
		"./base/ToastTips": "ToastTips"
	}],
	UpgradeAttrItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "627ca4rrBlL54vITctdAw9W", "UpgradeAttrItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./UpgradeLogic"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, a.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t.prototype.setData = function (e) {
					e ? (this.node.active = !0, this.value_lbl || Utils.loadVarFromNode(this.node, "#", this), this.sight_node && (this.sight_node.active = e.type == r.UpgradeAttrType.sight), this.force_node && (this.force_node.active = e.type == r.UpgradeAttrType.force), this.english_node && (this.english_node.active = e.type == r.UpgradeAttrType.english), this.capacity_node && (this.capacity_node.active = e.type == r.UpgradeAttrType.capacity), this.profit_node && (this.profit_node.active = e.type == r.UpgradeAttrType.profit), this.value_lbl.string = e.value, this.add_lbl.string = e.add_value) : this.node.active = !1
				}, t = i([s], t)
			}(cc.Component));
		n.default = c, cc._RF.pop()
	}, {
		"./UpgradeLogic": "UpgradeLogic"
	}],
	UpgradeLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "ecb15rgkLVJEK3c9M3wLX0o", "UpgradeLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.UpgradeLayerParam = void 0;
		var r = e("../../Ui/base/LayerBase"),
			a = e("./UpgradePanel"),
			s = e("./UpgradeLogic"),
			c = e("../guide/GuideLogic"),
			l = e("../../Config/SoundID"),
			u = e("../../Base/Share"),
			d = e("../../Base/ShareTypes"),
			f = cc._decorator,
			p = f.ccclass,
			h = (f.property, f.menu),
			y = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.UpgradeLayerParam = y;
		var g = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.typeList = [s.UpgradeType.building, s.UpgradeType.garden, s.UpgradeType.car, s.UpgradeType.role], t
			}
			return o(t, e), t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.initUpgradeItems(), this.switchToPanel(s.UpgradeType.building);
				for (var t = 0; t < this.typeList.length; ++t) {
					var n = this.typeList[t];
					if (s.default.instance.hasUpgradeForType(n)) {
						n != s.UpgradeType.building && this.switchToPanel(n);
						break
					}
				}
				this.updateBadage()
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				var e = this;
				Utils.setAllBtnsEnabled(this.node, !1), c.default.instance.tryToShowUpgradeLayerGuide0().then(function () {
					e.isValid && Utils.setAllBtnsEnabled(e.node, !0)
				})
			}, t.prototype.initUpgradeItems = function () {
				var e = this,
					t = this.panels_node,
					n = t.getChildByName("panel1"),
					o = t.getChildByName("panel4");
				n.zIndex = 1, o && (o.zIndex = 4);
				for (var i = this.typeList, r = 1; r <= 2; ++r) {
					var s = cc.instantiate(n);
					s.name = "panel" + (1 + r), s.zIndex = 1 + r, s.getComponent(a.default).type = i[r], s.parent = t
				}
				this.tables_node.children.forEach(function (t, n) {
					Utils.bindBtnEvent(t, e.node, "UpgradeLayer", "onTableBtnClick", n + "")
				})
			}, t.prototype.getTableBtn = function (e) {
				var t = this.typeList.indexOf(e);
				return this.tables_node.children[t]
			}, t.prototype.getPanel = function (e) {
				var t = "panel" + (this.typeList.indexOf(e) + 1);
				return this.panels_node.getChildByName(t)
			}, t.prototype.setTableBtnBright = function (e) {
				var t = this.typeList.indexOf(e);
				this.tables_node.children.forEach(function (e, n) {
					e.getChildByName("bright").active = n == t, e.getChildByName("gray").active = n != t
				})
			}, t.prototype.updateBadage = function () {
				var e = this;
				this.tables_node.children.forEach(function (t, n) {
					var o = e.typeList[n];
					t.getChildByName("badage").active = s.default.instance.hasUpgradeForType(o)
				})
			}, t.prototype.switchToPanel = function (e) {
				this.setTableBtnBright(e);
				var t = "panel" + (this.typeList.indexOf(e) + 1),
					n = this.panels_node,
					o = n.getChildByName(t);
				o && (n.children.forEach(function (e) {
					return e.active = !1
				}), o.active = !0)
			}, t.prototype.onTableBtnClick = function (e, t) {
				SoundMgr.play(l.default.btn);
				var n = parseInt(t),
					o = this.typeList[n];
				this.switchToPanel(o)
			}, t.prototype.onBtnFlauntClick = function () {
				SoundMgr.play(l.default.btn), u.default.shareWithoutCallback(d.SharePos.Main)
			}, t.prefabName = "home://dynamic/layer/upgrade3Layer", t = i([p, h("Layer/UpgradeLayer")], t)
		}(r.default);
		n.default = g, window.UpgradeLayer = g, cc._RF.pop()
	}, {
		"../../Base/Share": "Share",
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/SoundID": "SoundID",
		"../../Ui/base/LayerBase": "LayerBase",
		"../guide/GuideLogic": "GuideLogic",
		"./UpgradeLogic": "UpgradeLogic",
		"./UpgradePanel": "UpgradePanel"
	}],
	UpgradeLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "8b0baNMfXpNLaSM6ebMts/C", "UpgradeLogic");
		var o, i, r = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.UpgradeAttrType = n.UpgradeType = void 0;
		var s, c, l = e("../../Config/EventID"),
			u = e("../../Config/ReportID"),
			d = e("../../Data/EconomicLogic"),
			f = e("../../Ui/msgbox/MsgboxLayer"),
			p = e("./ProfitLogic");
		(function (e) {
			e[e.role = 0] = "role", e[e.building = 1] = "building", e[e.garden = 2] = "garden", e[e.car = 3] = "car"
		})(s = n.UpgradeType || (n.UpgradeType = {})),
			function (e) {
				e[e.sight = 0] = "sight", e[e.force = 1] = "force", e[e.english = 2] = "english", e[e.capacity = 3] = "capacity", e[e.profit = 4] = "profit"
			}(c = n.UpgradeAttrType || (n.UpgradeAttrType = {}));
		var h = function () {
			function e() {
				var e, t, n, o, i, r, a, l, u;
				this._config = ((e = {})[s.building] = [
					[3600, 3, 100, 20, 100, 800],
					[5400, 5, 150, 25, 60, 1300],
					[10800, 10, 300, 30, 50, 2500],
					[16200, 16, 500, 40, 40, 4e3],
					[28800, 28, 850, 40, 30, 7e3],
					[43200, 43, 1300, 40, 20, 11e3],
					[131500, 131, 3900, 50, 10, 33e3],
					[263e3, 263, 7800, 50, 5, 65e3],
					[789e3, 789, 23500, 50, 4, 2e5],
					[1446500, 1446, 43e3, 60, 3, 36e4]
				], e[s.car] = [
					[2160, 2, 100, 10, 100, 500],
					[3240, 3, 100, 10, 60, 800],
					[6480, 6, 150, 10, 50, 1500],
					[9720, 9, 250, 10, 40, 2300],
					[17280, 17, 450, 10, 30, 4e3],
					[25920, 25, 750, 10, 20, 6e3],
					[78900, 78, 2300, 10, 10, 19e3],
					[157800, 157, 4700, 10, 5, 4e4],
					[473400, 473, 15e3, 10, 4, 119e3],
					[867900, 867, 26e3, 10, 3, 217e3]
				], e[s.garden] = [
					[1440, 1, 100, 10, 70, 150],
					[2160, 2, 100, 10, 60, 300],
					[4320, 4, 150, 10, 50, 600],
					[6480, 6, 150, 10, 40, 900],
					[11520, 11, 300, 10, 20, 1600],
					[17280, 17, 500, 10, 10, 2500],
					[52600, 52, 1500, 10, 5, 7800],
					[105200, 105, 3100, 10, 4, 15e3],
					[315600, 315, 9500, 10, 3, 47e3],
					[578600, 578, 17e3, 10, 1, 86e3]
				], e[s.role] = [], e), this._compensateConfig = ((t = {})[s.building] = [
					[1260, 120],
					[3150, 320],
					[8190, 1160],
					[18270, 2240],
					[40950, 4960]
				], t[s.car] = [
					[756, 80],
					[1890, 200],
					[4914, 520],
					[10962, 1160],
					[24570, 2640]
				], t[s.garden] = [
					[504, 40],
					[1260, 120],
					[3276, 320],
					[7308, 720],
					[16380, 1640]
				], t[s.role] = [], t), this._cueAdditionInitMap = ((n = {})[c.sight] = 0, n[c.force] = 0, n[c.english] = 0, n), this._profitAdditionInitMap = ((o = {})[c.capacity] = ((i = {})[s.building] = 3e3, i[s.car] = 2e3, i[s.garden] = 1e3, i[s.role] = 0, i), o[c.profit] = ((r = {})[s.building] = 300, r[s.car] = 200, r[s.garden] = 200, r[s.role] = 0, r), o), this._attrMap = ((a = {})[s.building] = {
					type: c.sight,
					getValue: function () {
						return DataBus.user.sight
					}
				}, a[s.car] = {
					type: c.force,
					getValue: function () {
						return DataBus.user.force
					}
				}, a[s.garden] = {
					type: c.english,
					getValue: function () {
						return DataBus.user.english
					}
				}, a[s.role] = {
					type: c.force,
					getValue: function () {
						return DataBus.user.force
					}
				}, a), this._pos = ((l = {})[s.building] = [new cc.Vec2(87, -28), new cc.Vec2(0, -35), new cc.Vec2(0, -35), new cc.Vec2(0, -32), new cc.Vec2(0, -32), new cc.Vec2(0, -32), new cc.Vec2(0, -32), new cc.Vec2(0, -95), new cc.Vec2(0, -95), new cc.Vec2(63, 16), new cc.Vec2(63, 16)], l[s.car] = [new cc.Vec2(-18, -22), new cc.Vec2(20, 0), new cc.Vec2(20, 0), new cc.Vec2(0, 0), new cc.Vec2(0, 0), new cc.Vec2(50, -13), new cc.Vec2(50, -13), new cc.Vec2(50, -13), new cc.Vec2(50, -13), new cc.Vec2(-28, -15), new cc.Vec2(-28, -15)], l[s.garden] = [new cc.Vec2(-110, 58), new cc.Vec2(-110, 64), new cc.Vec2(-110, 64), new cc.Vec2(-110, -5), new cc.Vec2(-110, -5), new cc.Vec2(-110, -50), new cc.Vec2(-110, -50), new cc.Vec2(-110, 12), new cc.Vec2(-110, 12), new cc.Vec2(-110, 88), new cc.Vec2(-110, 88)], l[s.role] = [], l), this._upgradeReportIdNames = ((u = {})[s.building] = 1, u[s.car] = 6, u[s.garden] = 11, u[s.role] = 16, u)
			}
			return Object.defineProperty(e, "instance", {
				get: function () {
					return this._instance || (this._instance = new e)
				},
				enumerable: !1,
				configurable: !0
			}), e.prototype.getTypeString = function (t) {
				return e._typeStringMap[t]
			}, e.prototype.getMaxLevel = function (t) {
				return e._maxLevel[t]
			}, e.prototype.isMaxLevel = function (e) {
				return this.getLevel(e) >= this.getMaxLevel(e)
			}, e.prototype.getOldLevel = function (e) {
				if (e == s.role) return DataBus.user.usedRole;
				var t = this.getTypeString(e) + "Level";
				return DataBus.user[t] || 0
			}, e.prototype.setOldLevel = function (e, t) {
				var n = this.getTypeString(e) + "Level";
				DataBus.user[n] = t
			}, e.prototype.getLevel = function (e) {
				if (e == s.role) return DataBus.user.usedRole;
				var t = this.getTypeString(e) + "Level2";
				return DataBus.user[t] || 0
			}, e.prototype.setLevel = function (e, t) {
				Server.reportClick(this._getUpgredeReportId(e, t));
				var n = this.getTypeString(e) + "Level2";
				DataBus.user[n] = t
			}, e.prototype.getCueInitValue = function (e) {
				return this._cueAdditionInitMap[e]
			}, e.prototype.getProfitInitValue = function (e) {
				return this._profitAdditionInitMap[c.profit][e] || 0
			}, e.prototype.getProfit = function (e) {
				var t = this.getTypeString(e) + "Profit";
				return DataBus.user[t] || 0
			}, e.prototype.setProfit = function (e, t) {
				var n = this.getTypeString(e) + "Profit";
				DataBus.user[n] = t
			}, e.prototype.getProfitMsInitValue = function (e) {
				return this.getProfitInitValue(e) / 60 / 60 / 1e3
			}, e.prototype.getProfitMs = function (e) {
				return this.getProfit(e) / 60 / 60 / 1e3
			}, e.prototype.getCapacityInitValue = function (e) {
				return this._profitAdditionInitMap[c.capacity][e] || 0
			}, e.prototype.getCapacity = function (e) {
				var t = this.getTypeString(e) + "Capacity";
				return DataBus.user[t] || 0
			}, e.prototype.setCapacity = function (e, t) {
				var n = this.getTypeString(e) + "Capacity";
				DataBus.user[n] = t
			}, e.prototype.getPanelDisplayData = function (e) {
				var t = this.getLevel(e),
					n = t >= this.getMaxLevel(e),
					o = 0 == t,
					i = this.getExp(e),
					r = this.getNextLevelExp(e, t);
				return {
					level: t,
					isMaxLevel: n,
					isZeroLevel: o,
					curExp: i,
					totalExp: r,
					isFullExp: i >= r
				}
			}, e.prototype.checkOldLevel = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n, o = this;
					return a(this, function (i) {
						switch (i.label) {
							case 0:
								return e = 0, t = 0, [s.building, s.car, s.garden].forEach(function (n) {
									var i = o.getOldLevel(n);
									if (i > 0) {
										var r = o._compensateConfig[n],
											a = r[i - 1] || r[r.length - 1],
											s = a[0],
											c = a[1];
										e += c, t += s, o.setOldLevel(n, 0)
									}
								}), e > 0 || t > 0 ? (DataBus.user.bcoins += e, d.default.instance.setCoins(DataBus.user.coins.plus(t)), DataBus.user.save(), n = "建筑系统更新了，原有的建筑等级兑换得到", e > 0 && (n += ' <img src="建筑币" />' + Utils.toAbb(e)), t > 0 && (n += ' <img src="金币" />' + Utils.toAbb(t)), [4, f.default.show(n, !0, !1, !1)]) : [3, 2];
							case 1:
								i.sent(), cc.systemEvent.emit(l.default.UPDATE_COINS, {
									value: t,
									delay: .2
								}), cc.systemEvent.emit(l.default.UPDATE_BCOINS, {
									value: e
								}), i.label = 2;
							case 2:
								return [2]
						}
					})
				})
			}, e.prototype.initProfit = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n = this;
					return a(this, function (o) {
						switch (o.label) {
							case 0:
								return p.default.instance.loadData(), e = [s.building, s.garden, s.car], [4, TimeMgr.getTimeFromServer()];
							case 1:
								return t = o.sent(), e.forEach(function (e) {
									var o = n.getTypeString(e);
									p.default.instance.getItem(o).modifyData(n.getProfitMs(e) + n.getProfitMsInitValue(e), n.getCapacity(e) + n.getCapacityInitValue(e), t)
								}), [2]
						}
					})
				})
			}, e.prototype._getUpgredeReportId = function (e, t) {
				return u.default["up" + (this._upgradeReportIdNames[e] + t - 1)]
			}, e.prototype.getExp = function (e) {
				var t = this.getTypeString(e) + "Exp";
				return DataBus.user[t] || 0
			}, e.prototype.setExp = function (e, t) {
				var n = this.getTypeString(e) + "Exp";
				DataBus.user[n] = t
			}, e.prototype.getRes = function (t, n) {
				if (t == s.role) return "home://dynamic/db/renwu1_" + (n + 1);
				var o = 0 == n ? 0 : Math.floor((n - 1) / 2) + 1;
				return "home://dynamic/altas/upgrade/" + e._typeStringMap[t] + "_" + o
			}, e.prototype.getThumbRes = function (t, n, o) {
				var i = 0 == n ? 0 : Math.floor((n - 1) / 2) + 1;
				return "home://dynamic/altas/upgrade_thumb/" + e._typeStringMap[t] + "_" + i + (o ? "_gray" : "")
			}, e.prototype.getNextLevelExp = function (e, t) {
				var n = this._config[e];
				return (n[t] || n[n.length - 1])[1]
			}, e.prototype.getExpPrice = function (e, t) {
				return {
					coins: 0,
					bcoins: 100
				}
			}, e.prototype.getUpgradePrice = function (e, t) {
				var n = this._config[e],
					o = n[t] || n[n.length - 1];
				return {
					coins: o[0],
					bcoins: o[2]
				}
			}, e.prototype.getAttrAdditionByExp = function (e, t) {
				var n = this._attrMap,
					o = n[e] || n[s.building],
					i = t >= this.getMaxLevel(e),
					r = this._config[e],
					a = r[t] || r[r.length - 1];
				return [{
					type: o.type,
					value: o.getValue() + this.getCueInitValue(o.type),
					add_value: 0
				}, {
					type: c.capacity,
					value: this.getCapacity(e) + this.getCapacityInitValue(e),
					add_value: 0
				}, {
					type: c.profit,
					value: this.getProfit(e) + this.getProfitInitValue(e),
					add_value: i ? 0 : a[4]
				}]
			}, e.prototype.getAttrAdditionByUpgrade = function (e, t) {
				var n = this._attrMap,
					o = n[e] || n[s.building],
					i = t >= this.getMaxLevel(e),
					r = this._config[e],
					a = r[t] || r[r.length - 1];
				return [{
					type: o.type,
					value: o.getValue() + this.getCueInitValue(o.type),
					add_value: i ? 0 : a[3]
				}, {
					type: c.capacity,
					value: this.getCapacity(e) + this.getCapacityInitValue(e),
					add_value: i ? 0 : a[5]
				}, {
					type: c.profit,
					value: this.getProfit(e) + this.getProfitInitValue(e),
					add_value: 0
				}]
			}, e.prototype.getAttrAddition = function (e, t, n) {
				return n ? this.getAttrAdditionByUpgrade(e, t) : this.getAttrAdditionByExp(e, t)
			}, e.prototype.convertAttrDataToItemData = function (e) {
				var t = function (e) {
					return Utils.toAbb(e)
				},
					n = function (e) {
						return e + ""
					};
				return e.map(function (e) {
					var o = e.type == c.capacity || e.type == c.profit ? t : n,
						i = e.type == c.profit ? "/h" : "";
					return {
						type: e.type,
						value: o(e.value) + i,
						add_value: e.add_value <= 0 ? "" : "+" + o(e.add_value)
					}
				})
			}, e.prototype.hasEnoughMoney = function (e, t) {
				return void 0 === t && (t = !1), e.coins > 0 && DataBus.user.coins.lt(e.coins) ? (t && ui.showTips("Gold inadequate!"), !1) : !(e.bcoins > 0 && DataBus.user.bcoins < e.bcoins) || (t && ui.showTips("Go to the qualifying competition to get it!"), !1)
			}, e.prototype.reduceMoney = function (e, t) {
				e.coins > 0 && d.default.instance.addCoinsWithAnimation(-e.coins, t), e.bcoins > 0 && d.default.instance.addBCoinsWithAnimation(-e.bcoins, t)
			}, e.prototype.addAddition = function (e, t) {
				var n = this;
				t.forEach(function (t) {
					if (t.add_value > 0) {
						var o = n.getTypeString(e);
						switch (t.type) {
							case c.force:
								DataBus.user.force += t.add_value;
								break;
							case c.sight:
								DataBus.user.sight += t.add_value;
								break;
							case c.english:
								DataBus.user.english += t.add_value;
								break;
							case c.capacity:
								n.setCapacity(e, n.getCapacity(e) + t.add_value), p.default.instance.getItem(o).modifyData(n.getProfitMs(e) + n.getProfitMsInitValue(e), n.getCapacity(e) + n.getCapacityInitValue(e));
								break;
							case c.profit:
								n.setProfit(e, n.getProfit(e) + t.add_value), p.default.instance.getItem(o).modifyData(n.getProfitMs(e) + n.getProfitMsInitValue(e), n.getCapacity(e) + n.getCapacityInitValue(e))
						}
					}
				})
			}, e.prototype.getCritBet = function () {
				return 1
			}, e.prototype.getPos = function (e, t) {
				return this._pos[e][t] || cc.Vec2.ZERO
			}, e.prototype.hasUpgrade = function () {
				for (var e = [s.role, s.building, s.garden, s.car], t = 0; t < e.length; ++t) {
					var n = e[t];
					if (this.hasUpgradeForType(n)) return !0
				}
				return !1
			}, e.prototype.hasUpgradeForType = function (e) {
				var t = this.getLevel(e),
					n = t >= this.getMaxLevel(e);
				if (e == s.role) return !1;
				var o = this.hasEnoughMoney(this.getExpPrice(e, t));
				return !(n || !o)
			}, e._instance = null, e._typeStringMap = ((o = {})[s.role] = "role", o[s.building] = "building", o[s.garden] = "garden", o[s.car] = "car", o), e._maxLevel = ((i = {})[s.role] = 6, i[s.building] = 10, i[s.garden] = 10, i[s.car] = 10, i), e
		}();
		n.default = h, window.UpgradeLogic = h, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Config/ReportID": "ReportID",
		"../../Data/EconomicLogic": "EconomicLogic",
		"../../Ui/msgbox/MsgboxLayer": "MsgboxLayer",
		"./ProfitLogic": "ProfitLogic"
	}],
	UpgradeObject: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "b716alLcL5MlagcvLupr2VC", "UpgradeObject");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("./UpgradeLogic"),
			c = e("../../Res/ResLoader"),
			l = e("../../Config/EventID"),
			u = e("../../Config/SoundID"),
			d = cc._decorator,
			f = d.ccclass,
			p = d.property,
			h = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.type = s.UpgradeType.role, t.isThumb = !1, t.isGray = !1, t.level = 0, t._dbNode = null, t._dbLevel = -1, t
				}
				return o(t, e), t.prototype.onLoad = function () {
					cc.systemEvent.on(l.default.CLOSE_SCENE, this.onCloseScene, this)
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(l.default.CLOSE_SCENE, this.onCloseScene, this)
				}, t.prototype.onCloseScene = function (e) {
					this.node.isChildOf(e) && this.getComponentsInChildren(dragonBones.ArmatureDisplay).forEach(function (e) {
						c.default.removeNode(e.node)
					})
				}, t.prototype.syncToCurrentLevel = function (e) {
					return void 0 === e && (e = !1), r(this, void 0, void 0, function () {
						var t;
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return t = s.default.instance.getLevel(this.type), [4, this.setLevel(t, e)];
								case 1:
									return n.sent(), [2]
							}
						})
					})
				}, t.prototype.setLevel = function (e, t) {
					return void 0 === t && (t = !1), r(this, void 0, void 0, function () {
						return a(this, function (n) {
							switch (n.label) {
								case 0:
									return this.level = e, t ? [4, this.playAnimation()] : [3, 2];
								case 1:
									return n.sent(), [3, 4];
								case 2:
									return [4, this.updateDisplay()];
								case 3:
									n.sent(), n.label = 4;
								case 4:
									return [2]
							}
						})
					})
				}, t.prototype.playAnimation = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n, o, i = this;
						return a(this, function (r) {
							switch (r.label) {
								case 0:
									return [4, c.default.getDragonbonesNodeRes("home://dynamic/db/effect_shengji")];
								case 1:
									return (e = r.sent()).setPosition(new cc.Vec2(20, -25)), e.zIndex = 100, e.parent = this.node, t = e.getComponent(dragonBones.ArmatureDisplay), this.type == s.UpgradeType.role ? (t.playAnimation("sj2", 1), t.once(dragonBones.EventObject.FRAME_EVENT, function (e) {
										"event1" == e.name && i.updateDisplay()
									}, this), SoundMgr.play(u.default.UpgradeRole)) : (n = this.node.getChildByName("text"), t.playAnimation("sj1", 1), o = .3, n.stopAllActions(), n.runAction(cc.scaleTo(o, 0)), t.once(dragonBones.EventObject.FRAME_EVENT, function (e) {
										"event1" == e.name && (i.updateDisplay(), n.stopAllActions(), n.runAction(cc.scaleTo(o, 1).easing(cc.easeBackOut())))
									}, this), SoundMgr.play(u.default.UpgradeBuilding)), t.once(dragonBones.EventObject.COMPLETE, function () {
										c.default.removeNode(e)
									}, this), [2]
							}
						})
					})
				}, t.prototype.updateDisplay = function () {
					return r(this, void 0, void 0, function () {
						var e, t, n, o, i, r, l;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return e = this.level, t = this.isGray, this.isThumb ? (o = this.getComponentInChildren(cc.Sprite), 0 == e ? (o.spriteFrame = null, [2]) : (i = s.default.instance.getThumbRes(this.type, e, t), [4, c.default.getSpriteFrameRes(i)])) : [3, 2];
								case 1:
									return r = a.sent(), e == this.level && t == this.isGray && o.isValid && (o.spriteFrame = r), [2];
								case 2:
									if (this.type != s.UpgradeType.role) return [3, 7];
									if (this._dbNode && this._dbLevel == e) return [2];
									n = null, a.label = 3;
								case 3:
									return a.trys.push([3, 5, , 6]), i = s.default.instance.getRes(this.type, e), [4, c.default.getDragonbonesNodeRes(i)];
								case 4:
									return n = a.sent(), [3, 6];
								case 5:
									return a.sent(), n = null, [3, 6];
								case 6:
									return n && (e == this.level && this.isValid ? (n.getComponent(dragonBones.ArmatureDisplay).playAnimation("newAnimation", -1), n.scale = 1, n.parent = this.node, this._dbNode && c.default.removeNode(this._dbNode), this._dbNode = n, this._dbLevel = e) : c.default.removeNode(n)), [3, 9];
								case 7:
									return o = this.getComponentInChildren(cc.Sprite), i = s.default.instance.getRes(this.type, e), [4, c.default.getSpriteFrameRes(i)];
								case 8:
									r = a.sent(), e == this.level && o.isValid && (o.spriteFrame = r, l = s.default.instance.getPos(this.type, e), o.node.setPosition(l)), a.label = 9;
								case 9:
									return [2]
							}
						})
					})
				}, i([p({
					type: cc.Enum(s.UpgradeType),
					displayName: "类型"
				})], t.prototype, "type", void 0), i([p({
					displayName: "是缩略图"
				})], t.prototype, "isThumb", void 0), t = i([f], t)
			}(cc.Component);
		n.default = h, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Config/SoundID": "SoundID",
		"../../Res/ResLoader": "ResLoader",
		"./UpgradeLogic": "UpgradeLogic"
	}],
	UpgradePanel: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "032c3nLIP9Jvo1+bgKdvWcn", "UpgradePanel");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("./UpgradeLogic"),
			c = e("./UpgradeObject"),
			l = e("../../Config/SoundID"),
			u = e("./UpgradeLayer"),
			d = e("../../Config/ReportID"),
			f = e("../../Base/PlaceBanner"),
			p = e("../../Config/ServerConfig"),
			h = e("../guide/GuideLogic"),
			y = e("./UpgradeAttrItem"),
			g = e("../../Data/wxsdk"),
			_ = cc._decorator,
			v = _.ccclass,
			b = _.property,
			m = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.type = s.UpgradeType.role, t._tween = null, t._clickTimes = 0, t
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					if (Utils.loadVarFromNode(this.node, "_", this), !g.default.isVivo() && g.default.isQg()) {
						var e = this.complete_node.getChildByName("btn");
						e && (e.active = !1)
					}
				}, t.prototype.start = function () {
					var e = s.default.instance.getPanelDisplayData(this.type);
					this.updateDisplay(e, !1)
				}, t.prototype.onDestroy = function () {
					this._tween && this._tween.stop(), this._tween = null
				}, t.prototype.updateDisplay = function (e, t, n) {
					void 0 === n && (n = 0);
					var o = e.level,
						i = e.isMaxLevel,
						r = e.isZeroLevel,
						a = e.curExp,
						s = e.totalExp,
						l = e.isFullExp,
						u = this.incomplete_node,
						d = this.complete_node,
						f = this.progress_node,
						p = i || r;
					if (u.active = !i, d.active = i, f.active = !i, p) {
						this.object1_node.active = !1, this.object2_node.active = !0, this.object_anim.active = !1;
						var h = this.object2_node.getComponent(c.default);
						h.type = this.type, h.isGray = r, r ? h.setLevel(o + 1) : h.setLevel(o), h.node.getChildByName("locked").active = r
					} else {
						this.object1_node.active = !0, this.object2_node.active = !0, this.object_anim.active = !0;
						var y = this.object1_node.getComponent(c.default),
							g = this.object2_node.getComponent(c.default);
						y.type = g.type = this.type, y.isGray = !1, y.setLevel(o), g.isGray = !0, g.setLevel(o + 1)
					}
					if (this.level_lbl.string = "" + (o + 1), !i) {
						var _ = this.p_progress,
							v = this.upgrade_anim.getComponent(dragonBones.ArmatureDisplay),
							b = this.progress_lbl,
							m = _.node.getChildByName("bar2"),
							w = _.node.width,
							S = cc.misc.clamp01(a / s),
							C = _.progress;
						_.progress = S;
						if (this._tween && this._tween.stop(), S > C ? this._tween = cc.tween(m).to(.5, {
							width: w * S
						}).start() : m.width = w * S, b.string = a + "/" + s, t && n > 0) {
							v.node.active = !0;
							var P = {
								1: "+1",
								2: "+2",
								5: "+5",
								10: "+10"
							},
								L = P[n] || P[1];
							v.playAnimation(L, 1), v.once(dragonBones.EventObject.COMPLETE, function (e) {
								v.node.active = !1
							}, this)
						} else v.node.active = !1;
						this.upgrade_btn.node.active = l, this.exp_btn.node.active = !l
					}
					this.updateAttrDisplay(e), this.updateBtnDisplay(e)
				}, t.prototype.updateBtnDisplay = function (e) {
					var t = e.level,
						n = e.isMaxLevel,
						o = (e.isZeroLevel, e.curExp, e.totalExp, e.isFullExp ? s.default.instance.getUpgradePrice(this.type, t) : s.default.instance.getExpPrice(this.type, t)),
						i = s.default.instance.hasEnoughMoney(o),
						r = !n && i;
					Utils.setNodeBright(this.upgrade_btn, r, !0), Utils.setNodeBright(this.exp_btn, r, !0), this.updatePriceNode(o)
				}, t.prototype.updatePriceNode = function (e) {
					var t = this.price_node,
						n = t.getChildByName("coins_pnl"),
						o = t.getChildByName("bcoins_pnl");
					e.coins > 0 ? (n.active = !0, n.getComponentInChildren(cc.Label).string = Utils.toAbb(e.coins)) : n.active = !1, e.bcoins > 0 ? (o.active = !0, o.getComponentInChildren(cc.Label).string = Utils.toAbb(e.bcoins)) : o.active = !1
				}, t.prototype.updateAttrDisplay = function (e) {
					var t = e.level,
						n = (e.isMaxLevel, e.isZeroLevel, e.curExp, e.totalExp, e.isFullExp),
						o = s.default.instance.getAttrAddition(this.type, t, n),
						i = s.default.instance.convertAttrDataToItemData(o);
					this.attr_node.children.forEach(function (e, t) {
						e.getComponent(y.default).setData(i[t])
					})
				}, t.prototype.onBtnExpClick = function (e) {
					return r(this, void 0, void 0, function () {
						var e, t, n, o, i, r, c, d, y, g, _, v, b;
						return a(this, function (a) {
							if (SoundMgr.play(l.default.btn), e = Utils.getComponentInParent(this.node, u.default), Utils.setAllBtnsEnabled(e.node, !1), h.default.instance.isGuideFinished() && p.default.instance.isPlaceBannerEnable() && (this._clickTimes += 1, (this._clickTimes - 2) % 4 == 0 && e.getComponentInChildren(f.default).placeAmoment(1)), this.reportClick(), t = s.default.instance.getPanelDisplayData(this.type), n = t.level, o = t.isMaxLevel, t.isZeroLevel, i = t.curExp, t.totalExp, t.isFullExp, o) return ui.showTips("Already the highest level!"), r = Utils.getComponentInParent(this.node, u.default), Utils.setAllBtnsEnabled(r.node, !0), [2];
							if (this.type == s.UpgradeType.role) Utils.setAllBtnsEnabled(e.node, !0);
							else {
								if (c = s.default.instance.getExpPrice(this.type, n), !s.default.instance.hasEnoughMoney(c, !0)) return d = Utils.getComponentInParent(this.node, u.default), Utils.setAllBtnsEnabled(d.node, !0), [2];
								y = this.progress_lbl.node, g = y.convertToWorldSpaceAR(cc.Vec2.ZERO), s.default.instance.reduceMoney(c, g), .7, _ = s.default.instance.getCritBet(), i += _, v = s.default.instance.getAttrAdditionByExp(this.type, n), s.default.instance.addAddition(this.type, v), s.default.instance.setExp(this.type, i), DataBus.user.save(), t = s.default.instance.getPanelDisplayData(this.type), this.updateDisplay(t, !0, _), b = Utils.getComponentInParent(this.node, u.default), Utils.setAllBtnsEnabled(b.node, !0), this.updateAllBtnDisplay()
							}
							return [2]
						})
					})
				}, t.prototype.onBtnUpgradeClick = function (e) {
					return r(this, void 0, void 0, function () {
						var e, t, n, o, i, r, c, d, y, g, _, v;
						return a(this, function (a) {
							switch (a.label) {
								case 0:
									return SoundMgr.play(l.default.btn), e = Utils.getComponentInParent(this.node, u.default), Utils.setAllBtnsEnabled(e.node, !1), h.default.instance.isGuideFinished() && p.default.instance.isPlaceBannerEnable() && (this._clickTimes += 1, (this._clickTimes - 2) % 4 == 0 && e.getComponentInChildren(f.default).placeAmoment(1)), t = s.default.instance.getPanelDisplayData(this.type), n = t.level, o = t.isMaxLevel, t.isZeroLevel, t.curExp, t.totalExp, i = t.isFullExp, o ? (ui.showTips("Already the highest level!"), r = Utils.getComponentInParent(this.node, u.default), Utils.setAllBtnsEnabled(r.node, !0), [2]) : i ? (c = s.default.instance.getUpgradePrice(this.type, n), s.default.instance.hasEnoughMoney(c, !0) ? (y = this.progress_lbl.node, g = y.convertToWorldSpaceAR(cc.Vec2.ZERO), s.default.instance.reduceMoney(c, g), s.default.instance.setExp(this.type, 0), s.default.instance.setLevel(this.type, n + 1), _ = s.default.instance.getAttrAdditionByUpgrade(this.type, n), s.default.instance.addAddition(this.type, _), DataBus.user.save(), [4, Utils.delayTime(.8, this)]) : (d = Utils.getComponentInParent(this.node, u.default), Utils.setAllBtnsEnabled(d.node, !0), [2])) : [3, 3];
								case 1:
									return a.sent(), t = s.default.instance.getPanelDisplayData(this.type), this.updateDisplay(t, !1), [4, Utils.delayTime(.3, this)];
								case 2:
									return a.sent(), this.closeLayer(), [3, 4];
								case 3:
									v = Utils.getComponentInParent(this.node, u.default), Utils.setAllBtnsEnabled(v.node, !0), this.updateAllBtnDisplay(), a.label = 4;
								case 4:
									return [2]
							}
						})
					})
				}, t.prototype.reportClick = function () {
					switch (this.type) {
						case s.UpgradeType.building:
							Server.reportClick(d.default.up21);
							break;
						case s.UpgradeType.car:
							Server.reportClick(d.default.up22);
							break;
						case s.UpgradeType.garden:
							Server.reportClick(d.default.up23);
							break;
						case s.UpgradeType.role:
							Server.reportClick(d.default.up24)
					}
				}, t.prototype.closeLayer = function () {
					var e = Utils.getComponentInParent(this.node, u.default);
					e && e.close()
				}, t.prototype.updateAllBtnDisplay = function () {
					var e = Utils.getComponentInParent(this.node, u.default);
					e && (e.getComponentsInChildren(n).forEach(function (e) {
						var t = s.default.instance.getPanelDisplayData(e.type);
						e.updateBtnDisplay(t)
					}), e.updateBadage())
				}, i([b({
					type: cc.Enum(s.UpgradeType),
					displayName: "类型"
				})], t.prototype, "type", void 0), t = n = i([v], t)
			}(cc.Component);
		n.default = m, cc._RF.pop()
	}, {
		"../../Base/PlaceBanner": "PlaceBanner",
		"../../Config/ReportID": "ReportID",
		"../../Config/ServerConfig": "ServerConfig",
		"../../Config/SoundID": "SoundID",
		"../../Data/wxsdk": "wxsdk",
		"../guide/GuideLogic": "GuideLogic",
		"./UpgradeAttrItem": "UpgradeAttrItem",
		"./UpgradeLayer": "UpgradeLayer",
		"./UpgradeLogic": "UpgradeLogic",
		"./UpgradeObject": "UpgradeObject"
	}],
	UpgradeUi: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9cc99Zpu1hDFK9j4mAoKBDy", "UpgradeUi");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./UpgradeObject"),
			a = e("../../Config/EventID"),
			s = e("./UpgradeLayer"),
			c = e("../../Ui/other/CheatLayer"),
			l = e("./UpgradeLogic"),
			u = e("../../Ui/skin/SkinLayer"),
			d = e("../../Ui/skin2/Skin2Layer"),
			f = cc._decorator,
			p = f.ccclass,
			h = f.property,
			y = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.upgradeBadage = null, t
				}
				return o(t, e), t.prototype.start = function () {
					this.getComponentsInChildren(r.default).forEach(function (e) {
						return e.syncToCurrentLevel(!1)
					}), cc.systemEvent.on(a.default.CLOSE_LAYER, this.onLayerClosed, this), this.upgradeBadage.active = l.default.instance.hasUpgrade()
				}, t.prototype.onDestroy = function () {
					cc.systemEvent.off(a.default.CLOSE_LAYER, this.onLayerClosed, this)
				}, t.prototype.onLayerClosed = function (e) {
					(e instanceof s.default || e instanceof c.default || e instanceof u.default || e instanceof d.default) && (this.getComponentsInChildren(r.default).forEach(function (e) {
						if (e.type == l.UpgradeType.role) e.level != DataBus.user.usedRole && e.syncToCurrentLevel(!0);
						else {
							var t = l.default.instance.getLevel(e.type);
							e.syncToCurrentLevel(e.level < t)
						}
					}), this.upgradeBadage.active = l.default.instance.hasUpgrade())
				}, i([h({
					type: cc.Node,
					displayName: "升级按钮红点"
				})], t.prototype, "upgradeBadage", void 0), t = i([p], t)
			}(cc.Component);
		n.default = y, cc._RF.pop()
	}, {
		"../../Config/EventID": "EventID",
		"../../Ui/other/CheatLayer": "CheatLayer",
		"../../Ui/skin/SkinLayer": "SkinLayer",
		"../../Ui/skin2/Skin2Layer": "Skin2Layer",
		"./UpgradeLayer": "UpgradeLayer",
		"./UpgradeLogic": "UpgradeLogic",
		"./UpgradeObject": "UpgradeObject"
	}],
	UseItemLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "e9a65Ih9FZKK7aJ8CB97CQr", "UseItemLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.UseItemLayerParam = void 0;
		var r = e("../../../Ui/base/LayerBase"),
			a = e("./PoolItem2Mgr"),
			s = e("../../../Config/SoundID"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, c.menu),
			d = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.UseItemLayerParam = d;
		var f = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), n._instance = this
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this), n._instance = null
			}, t.prototype.onDataLoad = function () {
				this._updateDisplay()
			}, t.prototype._updateDisplay = function () {
				var e = cc.find("dialog/contents", this.node).getChildByName("item_list"),
					t = e.getChildByName("move_item"),
					n = e.getChildByName("free_item");
				this._updateItemDisplay(t, a.PoolItem2Type.move), this._updateItemDisplay(n, a.PoolItem2Type.free)
			}, t.prototype._updateItemDisplay = function (e, t) {
				if (this.data.type == t) {
					e.active = !0;
					var n = e.getComponentInChildren(cc.Label),
						o = a.default.instance.getItemCount(t);
					n.string = "" + o
				} else e.active = !1
			}, t.prototype.closeWithResult = function (e) {
				Utils.setAllBtnsEnabled(this.node, !1), this.data.onResult && this.data.onResult(e), this.close()
			}, t.prototype.onUseBtnClick = function () {
				SoundMgr.play(s.default.btn);
				var e = this.data.type;
				a.default.instance.getItemCount(e) > 0 ? this.closeWithResult(!0) : ui.showTips("Insufficient number of props")
			}, t.prototype.onBtnCloseClick = function () {
				SoundMgr.play(s.default.btn), this.closeWithResult(!1)
			}, t.show = function (e) {
				return new Promise(function (t, o) {
					var i = new d;
					i.type = e, i.onResult = t, ui.showLayer(n, i)
				})
			}, t.close = function () {
				n._instance && n._instance.close()
			}, t.prefabName = "game://dynamic/layer/useItemLayer", t._instance = null, t = n = i([l, u("Layer/UseItemLayer")], t)
		}(r.default);
		n.default = f, window.UseItemLayer = f, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"../../../Ui/base/LayerBase": "LayerBase",
		"./PoolItem2Mgr": "PoolItem2Mgr"
	}],
	UserInfoBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7512fKWvr1BTJfVkO0ummg2", "UserInfoBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("./WxBtn"),
			a = e("../Lib/sdk"),
			s = e("../Data/wxsdk"),
			c = cc._decorator,
			l = c.ccclass,
			u = (c.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.successFunc = null, t.failFunc = null, t
				}
				return o(t, e), t.prototype._getUserInfo = function (e, t) {
					console.log("使用getUserInfo获取用户信息"), a.getUserInfo(function (t) {
						console.log("getUserInfo获取用户信息成功, res:", t), e && e(t)
					}, function (e) {
						console.log("getUserInfo获取用户信息失败, res:", e), t && t(e)
					})
				}, t.prototype.createWxBtn = function () {
					var e = this;
					if (s.default.isWX() && "function" == typeof wx.createUserInfoButton) {
						var t = this.node.convertToWorldSpaceAR(cc.v2(0, 0)),
							n = cc.view.getVisibleSize(),
							o = t.x - this.node.width / 2,
							i = n.height - t.y - this.node.height / 2,
							r = wx.getSystemInfoSync(),
							a = r.screenWidth,
							c = r.screenHeight,
							l = o / n.width * a,
							u = i / n.height * c,
							d = this.node.width / n.width * a,
							f = this.node.height / n.height * c,
							p = wx.createUserInfoButton({
								type: "text",
								text: " ",
								style: {
									left: l,
									top: u,
									width: d,
									height: f,
									backgroundColor: "#00000001",
									borderColor: "#00000001",
									color: "#00000001",
									borderWidth: 0,
									borderRadius: 0,
									textAlign: "center",
									fontSize: 1,
									lineHeight: 1
								},
								withCredentials: !0,
								lang: "zh_CN"
							});
						return p.onTap(function (t) {
							console.log("使用UserInfoButton获取用户信息: ", t), t.errMsg.indexOf("auth deny") > -1 || t.errMsg.indexOf("auth denied") > -1 ? (console.log("使用UserInfoButton获取用户信息, 授权失败!"), e.failFunc && e.failFunc(t)) : (console.log("使用UserInfoButton获取用户信息, 授权成功!"), e.successFunc && e.successFunc(t))
						}), p
					}
					return null
				}, t.prototype.afterCreateWxBtn = function () { }, t.prototype.onEnable = function () {
					e.prototype.onEnable.call(this)
				}, t = i([l], t)
			}(r.default));
		n.default = u, cc._RF.pop()
	}, {
		"../Data/wxsdk": "wxsdk",
		"../Lib/sdk": "sdk",
		"./WxBtn": "WxBtn"
	}],
	Utils: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "760c2Op+BZA6ImdPUbjkXOx", "Utils");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		for (var r = e("../Data/wxsdk"), a = e("../Lib/bignumber"), s = e("../Lib/sdk"), c = e("../Res/ResLoader"), l = [], u = 0; u < 256; u++) l[u] = (u < 16 ? "0" : "") + u.toString(16);
		var d = function () {
			function e() { }
			return e.prototype.randInt = function (e, t) {
				return Math.floor(Math.random() * (t - e) + e)
			}, e.prototype.randFloat = function (e, t) {
				return Math.random() * (t - e) + e
			}, e.prototype.randElement = function (e) {
				if (!e) return null;
				var t = e.length;
				return 0 == t ? null : e[Math.floor(Math.random() * t)]
			}, e.prototype.randMultiInt = function (e, t, n) {
				if (t - e > 50 || n / t - e < .3) {
					for (var o = []; o.length < n;) {
						var i = this.randInt(e, t); - 1 == o.indexOf(i) && o.push(i)
					}
					return o
				}
				for (var r = [], a = e; a < t; ++a) r.push(a);
				for (o = []; r.length > 0 && o.length < n;) {
					var s = this.randInt(0, r.length);
					o.push(r.splice(s, 1)[0])
				}
				return o
			}, e.prototype.shuffle = function (e) {
				for (var t, n, o = e.length; 0 !== o;) n = Math.floor(Math.random() * o), t = e[o -= 1], e[o] = e[n], e[n] = t;
				return e
			}, e.prototype.clampAngle = function (e) {
				var t = Math.PI,
					n = e % (2 * t);
				return n >= t ? n - 2 * t : n < -t ? n + 2 * t : n
			}, e.prototype.clampAnglePositive = function (e) {
				var t = Math.PI,
					n = e % (2 * t);
				return n < 0 ? n + 2 * t : n
			}, e.prototype.alignTo = function (e, t) {
				return Math.round(e / t) * t
			}, e.prototype.delayTime = function (e, t) {
				return t ? new Promise(function (n) {
					return t.scheduleOnce(n, e)
				}) : new Promise(function (t) {
					return setTimeout(t, 1e3 * e)
				})
			}, e.prototype.callLater = function (e, t) {
				e.unschedule(t), e.scheduleOnce(t, 0)
			}, e.prototype.config = function (e) {
				return s.conf[e]
			}, e.prototype.configi = function (e, t) {
				var n = s.conf[e];
				if (void 0 == n) return t;
				var o = Number(n);
				return isNaN(o) ? t : o
			}, e.prototype.configs = function (e, t) {
				var n = s.conf[e];
				return void 0 == n ? t : n
			}, e.prototype.getAbbFmt = function (e) {
				if (e > 0) {
					for (var t = "万亿兆京垓秭穰沟涧正载极归僧那思猴格", n = t.length, o = Math.floor((e - 1) / n), i = t[(e - 1) % n], r = 0; r < o; ++r) i += t[n - 1];
					return i
				}
				return ""
			}, e.prototype.getAbb = function (e, t) {
				void 0 === t && (t = 2);
				var n = {
					score: "0",
					unit: 0,
					fmt: ""
				};
				if (e instanceof a.BigNumber || (e = new a.BigNumber(e)), e.isNaN() || e.isZero() || !e.isFinite()) return n;
				var o = "";
				e.isNegative() && (o = "-", e = e.negated());
				var i = e.toFixed(0, a.BigNumber.ROUND_FLOOR),
					r = i.length;
				if (r <= 4) return n.score = o + i, n;
				for (var s = "万亿兆京垓秭穰沟涧正载极归僧那思猴格", c = s.length, l = Math.ceil(r / 4) - 1, u = Math.floor((l - 1) / c), d = s[(l - 1) % c], f = 0; f < u; ++f) d += s[c - 1];
				var p = r - 4 * l,
					h = i.substring(0, p),
					y = t > 0 ? "." + i.substring(p, p + t) : "";
				return n.score = o + h + y, n.unit = l, n.fmt = d, n
			}, e.prototype.toAbb = function (e, t) {
				void 0 === t && (t = 2);
				var n = this.getAbb(e, t);
				return n.score + n.fmt
			}, e.prototype.dispatchEvent = function (e, t, n, o) {
				void 0 === n && (n = null), void 0 === o && (o = !0);
				var i = new cc.Event.EventCustom(t, o);
				i.setUserData(n), e.dispatchEvent(i)
			}, e.prototype.getComponentInParent = function (e, t) {
				for (var n = null; e;) {
					if (n = e.getComponent(t)) return n;
					e = e.parent
				}
			}, e.prototype.getComponentInChildren = function (e, t) {
				for (var n = null, o = null, i = [e]; i.length > 0;)
					if ((o = i.shift()).isValid) {
						if (n = o.getComponent(t)) return n;
						i.push.apply(i, o.children)
					}
			}, e.prototype.getScaleInHierarchy = function (e) {
				for (var t = new cc.Vec2(1, 1); e;) t.x *= e.scaleX, t.y *= e.scaleY, e = e.parent;
				return t
			}, e.prototype.visitNode = function (e, t, n, o) {
				if (void 0 === n && (n = !0), void 0 === o && (o = !1), e && t)
					for (var i = null, r = [e]; r.length > 0;) t(i = n ? r.pop() : r.shift()), r.push.apply(r, n && o ? i.children.slice().reverse() : i.children)
			}, e.prototype.setNodeBright = function (e, t, n) {
				var o = this;
				if (void 0 === n && (n = !0), e instanceof cc.Component && (e = e.node), e instanceof cc.Node)
					if (n) e.getComponentsInChildren(cc.RenderComponent).forEach(function (e) {
						o._setSpriteBright(e, t)
					});
					else {
						var i = e.getComponent(cc.RenderComponent);
						i && this._setSpriteBright(i, t)
					}
			}, e.prototype._setSpriteBright = function (e, t) {
				if (e.setMaterial) {
					var n = t ? cc.Material.createWithBuiltin(cc.Material.BUILTIN_NAME.SPRITE, 0) : cc.Material.createWithBuiltin(cc.Material.BUILTIN_NAME.GRAY_SPRITE, 0);
					t && n.define("USE_TEXTURE", !0, 0, !1), e.setMaterial(0, n)
				} else e instanceof cc.Sprite && (e.setState ? e.setState(t ? cc.Sprite.State.NORMAL : cc.Sprite.State.GRAY) : e._sgNode && e._sgNode.setState(t ? 0 : 1))
			}, e.prototype.bindBtnEvent = function (e, t, n, o, i) {
				var r = e.getComponent(cc.Button) || e.addComponent(cc.Button);
				if (r) {
					var a = new cc.Component.EventHandler;
					return a.target = t, a.component = n, a.handler = o, a.customEventData = i, r.clickEvents = [a], !0
				}
				return !1
			}, e.prototype.unbindBtnEvent = function (e) {
				var t = e.getComponent(cc.Button);
				t && (t.clickEvents = [])
			}, e.prototype.unbindAllBtnEvent = function (e) {
				var t = this;
				e.getComponentsInChildren(cc.Button).forEach(function (e) {
					return t.unbindBtnEvent(e.node)
				})
			}, e.prototype.setBtnZoomStyle = function (e, t, n) {
				void 0 === t && (t = 1.1), void 0 === n && (n = null);
				var o = e.getComponent(cc.Button) || e.addComponent(cc.Button);
				o && (o.transition = cc.Button.Transition.SCALE, o.duration = .1, o.zoomScale = t, o.target = n)
			}, e.prototype.setAllBtnsEnabled = function (e, t, n) {
				var o = this;
				(void 0 === n && (n = !1), e && e.isValid) && e.getComponentsInChildren(cc.Button).forEach(function (e) {
					e.interactable = t, n && e.scheduleOnce(function () {
						o.setNodeBright(e, t, !0)
					}, 0)
				})
			}, e.prototype.disableAllBtnsAmoment = function (e, t, n) {
				return void 0 === t && (t = .2), void 0 === n && (n = null), o(this, void 0, void 0, function () {
					return i(this, function (o) {
						switch (o.label) {
							case 0:
								return e ? (Utils.setAllBtnsEnabled(e, !1), [4, Utils.delayTime(t, n)]) : [3, 2];
							case 1:
								o.sent(), e.isValid && Utils.setAllBtnsEnabled(e, !0), o.label = 2;
							case 2:
								return [2]
						}
					})
				})
			}, e.prototype.covertToNodeSpaceAR = function (e, t, n) {
				return t.convertToNodeSpaceAR(e.convertToWorldSpaceAR(n))
			}, e.prototype.getWorldPosition = function (e) {
				return e.parent.convertToWorldSpaceAR(e.getPosition())
			}, e.prototype.isNodeActive = function (e) {
				if (!e || !e.active) return !1;
				for (; e && !(e instanceof cc.Scene);) {
					if (!e.active) return !1;
					e = e.parent
				}
				return !0
			}, e.prototype.loadVarFromNode = function (e, t, n) {
				if (e) {
					var o = function (e, t) {
						var n = e.lastIndexOf(t);
						return n > -1 && n == e.length - t.length
					};
					Utils.visitNode(e, function (e) {
						var i = e.name;
						if (i[0] == t) {
							var r = i.substring(1);
							o(i, "btn") ? n[r] = e.getComponent(cc.Button) : o(i, "sp") ? n[r] = e.getComponent(cc.Sprite) : o(i, "lbl") ? n[r] = e.getComponent(cc.Label) : o(i, "progress") ? n[r] = e.getComponent(cc.ProgressBar) : o(i, "db") ? n[r] = e.getComponent(dragonBones.ArmatureDisplay) : o(i, "toggle") ? n[r] = e.getComponent(cc.Toggle) : o(i, "richtext") ? n[r] = e.getComponent(cc.RichText) : o(i, "tv") ? n[r] = e.getComponent(cc.tableView) : n[r] = e
						}
					})
				}
			}, e.prototype.loadImage = function (e, t, n, o) {
				if (e && (e.spriteFrame = o || null, t)) {
					e.__url__ = t, (0 != t.indexOf("http") ? c.default.getSpriteFrameRes : r.default.isQg() ? c.default.getSpriteFrame : c.default.getSpriteFrameByDom).call(c.default, t).then(function (o) {
						e.isValid && e.__url__ == t && (e.spriteFrame = o, n && n(o))
					})
				}
			}, e.prototype.shakeCamera = function (e, t) {
				e = e || cc.Canvas.instance.getComponentInChildren(cc.Camera), this.shakeNode(e.node, t)
			}, e.prototype.shakeNode = function (e, t) {
				t || (t = {
					times: 6,
					duration: .2,
					amp: 10
				});
				for (var n = t.times || 5, o = t.duration || .2, i = t.amp || 10, r = t.srcPos || e.getPosition(), a = new cc.Vec2, s = [], c = 0; c < n; ++c) cc.Vec2.random(a, c == n - 1 ? 0 : i), s.push(cc.moveTo(o / n, r.add(a)));
				e.runAction(cc.sequence(s))
			}, e.prototype.generateUUID = function () {
				var e = l,
					t = 4294967295 * Math.random() | 0,
					n = 4294967295 * Math.random() | 0,
					o = 4294967295 * Math.random() | 0,
					i = 4294967295 * Math.random() | 0;
				return (e[255 & t] + e[t >> 8 & 255] + e[t >> 16 & 255] + e[t >> 24 & 255] + "-" + e[255 & n] + e[n >> 8 & 255] + "-" + e[n >> 16 & 15 | 64] + e[n >> 24 & 255] + "-" + e[63 & o | 128] + e[o >> 8 & 255] + "-" + e[o >> 16 & 255] + e[o >> 24 & 255] + e[255 & i] + e[i >> 8 & 255] + e[i >> 16 & 255] + e[i >> 24 & 255]).toUpperCase()
			}, e.prototype.isSameDay = function (e, t, n) {
				return void 0 === n && (n = 8), this.getDay(e, n) == this.getDay(t, n)
			}, e.prototype.isToday = function (e, t) {
				return void 0 === t && (t = 8), this.getDay((new Date).getTime(), t) == this.getDay(e, t)
			}, e.prototype.getDay = function (e, t) {
				return void 0 === t && (t = 8), Math.floor(new Date(e).getTime() / 864e5 + t / 24)
			}, e.prototype.getNextDaysTimestamp = function (e, t) {
				return void 0 === t && (t = 8), 864e5 * (this.getDay(e, t) + 1 - t / 24)
			}, e.prototype.getTodaysTimestamp = function (e, t) {
				return void 0 === t && (t = 8), 864e5 * (this.getDay(e, t) - t / 24)
			}, e.prototype.getNextHourTimestamp = function (e, t, n) {
				return void 0 === n && (n = 8), Utils.getNextDaysTimestamp(e, n + 24 - t)
			}, e.prototype.timestampToHour = function (e, t) {
				void 0 === t && (t = 8);
				var n = new Date(e).getTime() / 864e5 + t / 24;
				return 24 * (n -= Math.floor(n))
			}, e.prototype.getWeek = function (e, t) {
				return void 0 === t && (t = 8), Math.floor((new Date(e).getTime() - 3456e5 + 36e5 * t) / 6048e5)
			}, e.prototype.getNextWeekTimestamp = function (e, t) {
				return void 0 === t && (t = 8), 6048e5 * (this.getWeek(e, t) + 1) - 36e5 * t + 3456e5
			}, e.prototype.isSameWeek = function (e, t, n) {
				return void 0 === n && (n = 8), this.getWeek(e, n) == this.getWeek(t, n)
			}, e.prototype.formatDuration = function (e, t) {
				void 0 === t && (t = "dhms");
				for (var n = "", o = e, i = 0, r = this._fd_cnf || (this._fd_cnf = [
					["d", "天", 864e5],
					["h", "小时", 36e5],
					["m", "分钟", 6e4],
					["s", "秒", 1e3]
				]); i < r.length; i++) {
					var a = r[i],
						s = Math.floor(o / a[2]);
					s > 0 && t.indexOf(a[0]) > -1 && (n += s + a[1], o -= s * a[2])
				}
				return n || "0秒"
			}, e.prototype.formatDuration2 = function (e) {
				var t = e / 1e3,
					n = "",
					o = Math.floor(t / 60);
				return n += o > 9 ? o + ":" : "0" + o + ":", n += (o = Math.floor(t % 60)) > 9 ? o : "0" + o
			}, e.prototype.formatDuration3 = function (e) {
				var t = .001 * e,
					n = "",
					o = Math.floor(t / 3600);
				n += o > 9 ? o + ":" : "0" + o + ":";
				var i = Math.floor((t - 3600 * o) / 60);
				n += i > 9 ? i + ":" : "0" + i + ":";
				var r = Math.floor(t % 60);
				return n += r > 9 ? r : "0" + r
			}, e.prototype.formatDuration4 = function (e) {
				return e >= 31104e6 ? Math.floor(e / 31104e6) + "年前" : e >= 2592e6 ? Math.floor(e / 2592e6) + "月前" : e >= 864e5 ? Math.floor(e / 864e5) + "天前" : e >= 36e5 ? Math.floor(e / 36e5) + "小时前" : e >= 6e4 ? Math.floor(e / 6e4) + "分钟前" : e >= 1e3 ? Math.floor(e / 1e3) + "秒前" : "刚刚"
			}, e.prototype.formatDuration5 = function (e) {
				if (e < 1e3) return "0s";
				for (var t = [864e5, 36e5, 6e4, 1e3], n = ["day", "h", "min", "s"], o = [], i = e, r = 0; r < t.length; ++r) {
					var a = t[r],
						s = i / a,
						c = Math.floor(s);
					if (c > 0) o.push(c + n[r]);
					else if (o.length >= 1) return o.join("");
					if (o.length >= 2) return o.join("");
					i -= c * a
				}
				return o.join("")
			}, e.prototype.formatDate = function (e, t) {
				var n = new Date(t),
					o = {
						"M+": n.getMonth() + 1,
						"d+": n.getDate(),
						"h+": n.getHours(),
						"m+": n.getMinutes(),
						"s+": n.getSeconds(),
						"q+": Math.floor((n.getMonth() + 3) / 3),
						S: n.getMilliseconds()
					};
				for (var i in /(y+)/.test(e) && (e = e.replace(RegExp.$1, (n.getFullYear() + "").substr(4 - RegExp.$1.length))), o) new RegExp("(" + i + ")").test(e) && (e = e.replace(RegExp.$1, 1 == RegExp.$1.length ? o[i] : ("00" + o[i]).substr(("" + o[i]).length)));
				return e
			}, e.prototype.formatDate2 = function (e) {
				return this.formatDate("yyyy-MM-dd hh:mm:ss", e)
			}, e.prototype.formatDate3 = function (e) {
				var t = (new Date).getTime() - e;
				return this.formatDuration4(t)
			}, e.prototype.scrollTo = function (e, t, n, o, i) {
				void 0 === i && (i = .3), t = Math.max(0, Math.min(n - 1, t));
				var r = n - o;
				if (e.vertical) {
					var a = (r - t) / r;
					e.scrollToPercentVertical(a, i)
				} else {
					a = t / r;
					e.scrollToPercentHorizontal(a, i)
				}
			}, e.prototype.showDialog = function (e, t, n, a) {
				return void 0 === n && (n = "重试"), void 0 === a && (a = ""), o(this, void 0, Promise, function () {
					return i(this, function (o) {
						switch (o.label) {
							case 0:
								return r.default.isVivo() ? [2, new Promise(function (o, i) {
									var r = [{
										text: n
									}];
									a && r.push({
										text: a
									}), qg.showDialog({
										title: e,
										message: t,
										buttons: r,
										success: function (e) {
											o(e && 0 == e.index)
										},
										cancel: function (e) {
											o(!1)
										},
										fail: function (e, t) {
											o(!1)
										}
									})
								})] : [3, 1];
							case 1:
								return r.default.isWX() ? [2, s.promisify(wx.showModal, {
									title: e,
									content: t,
									showCancel: !!a,
									cancelText: a,
									confirmText: n
								}).then(function (e) {
									return e && e.confirm
								}).catch(function () {
									return !1
								})] : [3, 2];
							case 2:
								return [4, Utils.delayTime(1)];
							case 3:
								return o.sent(), alert(t), [2, Utils.delayTime(.2).then(function () {
									return !0
								})]
						}
					})
				})
			}, e.prototype.tweenFloat = function (e, t, n, o, i, r) {
				void 0 === r && (r = !0);
				var a = {
					_value: e
				};
				Object.defineProperty(a, "value", {
					get: function () {
						return a._value
					},
					set: function (e) {
						a._value = e, o && o(a._value)
					}
				});
				var s = cc.tween(a).to(n, {
					value: t
				}).call(i);
				return r && s.start(), s
			}, e.prototype.debounce = function (e, t) {
				var n;
				return function () {
					var o = this,
						i = arguments;
					clearTimeout(n), n = setTimeout(function () {
						n = null, e.apply(o, i)
					}, t)
				}
			}, e.prototype.throttle = function (e, t) {
				var n;
				return function () {
					var o = Date.now();
					(!n || n + t <= o) && (n = o, e.apply(this, arguments))
				}
			}, e
		}();
		n.default = d, cc._RF.pop()
	}, {
		"../Data/wxsdk": "wxsdk",
		"../Lib/bignumber": "bignumber",
		"../Lib/sdk": "sdk",
		"../Res/ResLoader": "ResLoader"
	}],
	VipBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f10c3Vx+WtHIJdJFix2feaY", "VipBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = (r.property, r.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				return o(t, e), t = i([a], t)
			}(cc.Component));
		n.default = s, cc._RF.pop()
	}, {}],
	VipInviteItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "8831d97r3dBkYbR/s4uj+n6", "VipInviteItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Config/SoundID"),
			a = e("../../Lib/tableView/viewCell"),
			s = e("./VipLogic"),
			c = cc._decorator,
			l = c.ccclass,
			u = c.property,
			d = (c.menu, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.avatarSf = null, t.btnSf = null, t
				}
				return o(t, e), t.prototype.init = function (e, t, n, o) {
					this.avatar_sp || Utils.loadVarFromNode(this.node, "_", this);
					var i = t.list[e],
						r = this.avatar_sp;
					i ? (Utils.loadImage(r, i.avatar, null, this.avatarSf), Utils.unbindBtnEvent(this.node)) : (Utils.loadImage(r, "", null, this.btnSf), Utils.bindBtnEvent(this.node, this.node, "VipInviteItem", "onClick"))
				}, t.prototype.onClick = function () {
					SoundMgr.play(r.default.btn), s.default.instance.shareForInvite()
				}, i([u({
					type: cc.SpriteFrame,
					displayName: "头像材质"
				})], t.prototype, "avatarSf", void 0), i([u({
					type: cc.SpriteFrame,
					displayName: "按钮材质"
				})], t.prototype, "btnSf", void 0), t = i([l], t)
			}(a.default));
		n.default = d, cc._RF.pop()
	}, {
		"../../Config/SoundID": "SoundID",
		"../../Lib/tableView/viewCell": "viewCell",
		"./VipLogic": "VipLogic"
	}],
	VipLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "c81d8RzFMlCSr9kp4h4CHfe", "VipLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.VipLayerParam = void 0;
		var s = e("../../Base/ShareTypes"),
			c = e("../../Config/EventID"),
			l = e("../../Config/ReportID"),
			u = e("../../Config/ServerConfig"),
			d = e("../base/CountDown"),
			f = e("../base/LayerBase"),
			p = e("../base/RewardBtn"),
			h = e("./VipBtn"),
			y = e("./VipLogic"),
			g = cc._decorator,
			_ = g.ccclass,
			v = (g.property, g.menu),
			b = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.VipLayerParam = b;
		var m = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this._updateCountDownDisplay(0), this.reward_btn.getComponent(p.default).sharePos = s.SharePos.VIP, cc.systemEvent.on(c.default.VIP_CHANGED, this.onVipChanged, this), Server.reportClick(l.default.vip_show)
			}, t.prototype.onDestroy = function () {
				cc.systemEvent.off(c.default.VIP_CHANGED, this.onVipChanged, this), e.prototype.onDestroy.call(this), sdk.hideLoading()
			}, t.prototype.onDataLoad = function () {
				this.updateDisplay()
			}, t.prototype.onVipChanged = function () {
				this.unschedule(this.updateDisplay), this.scheduleOnce(this.updateDisplay, .02)
			}, t.prototype.updateDisplay = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return this.isValid ? (sdk.showLoading("加载中...", !1), [4, this.updateVipDisplay()]) : [3, 4];
							case 1:
								return e.sent(), this.isValid ? [4, this.updateMainDisplay()] : [3, 3];
							case 2:
								e.sent(), e.label = 3;
							case 3:
								sdk.hideLoading(), e.label = 4;
							case 4:
								return [2]
						}
					})
				})
			}, t.prototype.updateMainDisplay = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n;
					return a(this, function (o) {
						switch (o.label) {
							case 0:
								return e = y.default.instance.getCurrentConfig(), t = !1, e ? (t = e.reward_type == y.VipRewardType.invite, Utils.setNodeBright(this.reward_btn, !0, !0), this.desc_lbl.string = t ? "邀请玩家点击链接\n新用户+" + e.value2 + "分钟，老用户+" + e.value + "分钟" : e.increase_type == y.VipIncreaseType.add ? "VIP +" + e.value + " min" : "VIP X" + e.value) : (t = 1 == u.default.instance.getVipRewardType(), Utils.setNodeBright(this.reward_btn, !1, !0), this.desc_lbl.string = ""), this.invite_node.active = t, this.video_node.active = !t, t ? [4, y.default.instance.getInviteData()] : [3, 2];
							case 1:
								if (n = o.sent(), !this.isValid) return [2];
								if (!n) return ui.showTips("网络错误，请稍后重试"), this.close(), [2];
								this._updateListNode(n), o.label = 2;
							case 2:
								return [2]
						}
					})
				})
			}, t.prototype._updateListNode = function (e) {
				if (e) {
					var t = y.default.instance.getCurrentConfig(),
						n = y.default.instance.getMaxInviteTimes(),
						o = t ? n : Math.min(n, e.list.length);
					this.invite_list_node.getComponent(cc.tableView).initTableView(o, e)
				}
			}, t.prototype.updateVipDisplay = function () {
				return r(this, void 0, void 0, function () {
					var e, t;
					return a(this, function (n) {
						switch (n.label) {
							case 0:
								return [4, TimeMgr.getSmartServerTime()];
							case 1:
								return e = n.sent(), this.isValid ? TimeMgr.isMordenTime(e) ? ((t = y.default.instance.getDuration(e)) ? this._updateCountDownDisplay(t.duration, t.total) : this._updateCountDownDisplay(0), [2]) : (ui.showTips("网络错误，请稍后重试"), this.close(), [2]) : [2]
						}
					})
				})
			}, t.prototype._updateCountDownDisplay = function (e, t) {
				var n = this;
				void 0 === t && (t = e);
				var o = this.time_lbl.getComponent(d.default) || this.time_lbl.addComponent(d.default);
				o.formatFunc = function (e) {
					return Utils.formatDuration3(e)
				}, o.stop(), 0 == e ? (this.time_lbl.string = o.formatFunc(0), this.total_time_lbl.string = "VIP " + Utils.formatDuration3(0), this.time_progress.progress = 0) : (this.time_progress.progress = e / t, this.total_time_lbl.string = "VIP " + Utils.formatDuration3(t), o.begin(e / 1e3, function (e) {
					n.updateDisplay()
				}, function (e) {
					n.time_progress.progress = 1e3 * e / t
				}))
			}, t.prototype.onRewardCallback = function (e) {
				var t = this;
				if (e == p.RewardFuncParam.Click) {
					if (!y.default.instance.getCurrentConfig()) return !0;
					Utils.setAllBtnsEnabled(this.node, !1)
				} else e == p.RewardFuncParam.Success ? this.isValid && r(t, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return sdk.showLoading("loading...", !1), e = y.default.instance.getRewardTimes(), [4, y.default.instance.increase()];
							case 1:
								return t.sent() && e > 0 && Server.reportClick(l.default.vip_video_success), sdk.hideLoading(), this.isValid && Utils.setAllBtnsEnabled(this.node, !0), [2]
						}
					})
				}) : Utils.setAllBtnsEnabled(this.node, !0)
			}, t.prototype.close = function () {
				var t = this,
					n = cc.Canvas.instance.getComponentInChildren(h.default);
				if (n) {
					var o = Utils.covertToNodeSpaceAR(n.node, this.dialog.parent, cc.Vec2.ZERO);
					this.dialog && this.dialog.runAction(cc.sequence(cc.spawn(cc.moveTo(.3, o), cc.scaleTo(.3, 0, 0)), cc.callFunc(function () {
						t.node.destroy()
					})));
					var i = this.getMaskNode();
					i && i.runAction(cc.fadeOut(.3))
				} else e.prototype.close.call(this)
			}, t.show = function () {
				return new Promise(function (e, t) {
					var o = new b;
					return o.onClose = e, ui.showLayer(n, o)
				})
			}, t.prefabName = "home://dynamic/layer/vipLayer", t = n = i([_, v("Layer/VipLayer")], t)
		}(f.default);
		n.default = m, window.VipLayer = m, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/EventID": "EventID",
		"../../Config/ReportID": "ReportID",
		"../../Config/ServerConfig": "ServerConfig",
		"../base/CountDown": "CountDown",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"./VipBtn": "VipBtn",
		"./VipLogic": "VipLogic"
	}],
	VipLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9e852XuIvhLmpic3GTEIUM/", "VipLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.VipIncreaseType = n.VipRewardType = void 0;
		var r, a, s = e("../../Base/Share"),
			c = e("../../Base/ShareTypes"),
			l = e("../../Config/EventID"),
			u = e("../../Config/ReportID"),
			d = e("../../Config/ServerConfig"),
			f = e("../../Data/wxsdk"),
			p = e("./VipLayer"),
			h = function () {
				function e() {
					this._inited = !1, this.history = [], this.current = null, this._config = null, this._layerShowed = !1
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.loadData = function () {
					var e = DataBus.user.vipData;
					if (e) {
						var t = null;
						try {
							t = JSON.parse(e)
						} catch (e) {
							t = null
						}
						this.history = t.h.map(function (e) {
							return {
								start_ts: e[0],
								end_ts: e[1],
								times: e[2] || 0,
								invite_new: e[3] || 0,
								invite_old: e[4] || 0
							}
						}), this.current = t.c ? {
							start_ts: t.c[0],
							end_ts: t.c[1],
							times: t.c[2] || 0,
							invite_new: t.c[3] || 0,
							invite_old: t.c[4] || 0
						} : null
					} else this.history = [], this.current = null;
					this._inited = !0
				}, e.prototype.saveData = function () {
					var e = {
						h: this.history.map(function (e) {
							var t = [e.start_ts, e.end_ts];
							return e.times > 0 && (t[2] = e.times), e.invite_new > 0 && (t[3] = e.invite_new), e.invite_old > 0 && (t[4] = e.invite_old), t
						})
					},
						t = this.current;
					if (t) {
						var n = e.c = [t.start_ts, t.end_ts];
						t.times > 0 && (n[2] = t.times), t.invite_new > 0 && (n[3] = t.invite_new), t.invite_old > 0 && (n[4] = t.invite_old)
					}
					DataBus.user.vipData = JSON.stringify(e), DataBus.saveData()
				}, e.prototype.updateData = function (e) {
					if (this.current) {
						var t = this.current;
						t.end_ts <= e && (this.history.push(t), t.invite_new + t.invite_old > 0 && this.clearInviteData(), this.current = null, this.saveData())
					}
				}, e.prototype.getDuration = function (e) {
					this.updateData(e);
					var t = this.current;
					return t ? {
						duration: t.end_ts - e,
						total: t.end_ts - t.start_ts
					} : null
				}, e.prototype.addDuration = function (e, t) {
					this.current ? (this.current.end_ts += e, this.current.times += 1) : (this.current = {
						start_ts: t,
						end_ts: t + e,
						times: 1,
						invite_new: 0,
						invite_old: 0
					}, Server.reportClick(u.default.vip_active)), cc.systemEvent.emit(l.default.VIP_CHANGED), this.saveData()
				}, e.prototype.scaleDuration = function (e, t) {
					var n;
					return this.current ? ((n = this.current).end_ts = n.start_ts + (n.end_ts - n.start_ts) * e, n.times += 1, cc.systemEvent.emit(l.default.VIP_CHANGED), this.saveData(), !0) : !!((n = this.history[this.history.length - 1]) && t - n.end_ts < 3e4 && n.start_ts + (n.end_ts - n.start_ts) * e > t) && (n.end_ts = n.start_ts + (n.end_ts - n.start_ts) * e, n.times += 1, this.history.length = this.history.length - 1, this.current = n, cc.systemEvent.emit(l.default.VIP_CHANGED), this.saveData(), !0)
				}, e.prototype._calcOverlapDuration = function (e, t, n, o) {
					var i = Math.max(e, n),
						r = Math.min(t, o);
					return Math.max(0, r - i)
				}, e.prototype.calcVipDuration = function (e, t) {
					for (var n = 0, o = 0, i = this.history.length; o < i; ++o) {
						var r = this.history[o];
						n += this._calcOverlapDuration(e, t, r.start_ts, r.end_ts)
					}
					var a = this.current;
					a && (n += this._calcOverlapDuration(e, t, a.start_ts, a.end_ts));
					return n
				}, e.prototype.isVip = function () {
					return o(this, void 0, void 0, function () {
						var e;
						return i(this, function (t) {
							switch (t.label) {
								case 0:
									return [4, this._getTimeFromServer()];
								case 1:
									return e = t.sent(), this.updateData(e), [2, !!this.current]
							}
						})
					})
				}, e.prototype.clearVipHistory = function (e) {
					for (var t = this.history.length - 1; t >= 0; --t) {
						this.history[t].end_ts <= e && this.history.splice(t, 1)
					}
					this.saveData()
				}, Object.defineProperty(e.prototype, "_videoConfig", {
					get: function () {
						return this._config || (this._config = this._getServerConfig()), this._config.videoConfig
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(e.prototype, "_inviteConfig", {
					get: function () {
						return this._config || (this._config = this._getServerConfig()), this._config.inviteConfig
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype._getServerConfig = function () {
					var e = d.default.instance.getVipConfig().split("|", 2).map(function (e) {
						return e.split(",").map(function (e) {
							var t = e.substring(2).split("_");
							return {
								reward_type: "v" == e[0] ? r.video : r.invite,
								increase_type: "*" == e[1] ? a.scale : a.add,
								value: parseInt(t[0]) || 0,
								value2: parseInt(t[1]) || 0
							}
						})
					});
					return {
						videoConfig: e[0],
						inviteConfig: e[1]
					}
				}, e.prototype.getMaxInviteTimes = function () {
					return this._inviteConfig.filter(function (e) {
						return e.reward_type == r.invite
					}).length
				}, e.prototype.getRewardTimes = function () {
					return this.current && this.current.times || 0
				}, e.prototype.getCurrentConfig = function () {
					var e = d.default.instance.getVipRewardType(),
						t = this.getRewardTimes();
					return 1 == e ? this._inviteConfig[t] || this._inviteConfig[0] : this._videoConfig[t] || this._inviteConfig[0]
				}, e.prototype.increase = function (e, t) {
					return void 0 === e && (e = 0), o(this, void 0, void 0, function () {
						var n, o, s;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return d.default.instance.getVipRewardType() == r.invite || 1 != e && 2 != e ? (n = this.getCurrentConfig()) ? [4, this._getTimeFromServer(t)] : (console.log("[VIP时长]已经超过激励次数：", this.getRewardTimes()), [2, null]) : (console.log("[VIP时长]当前下发是视频，邀请无效"), [2, null]);
								case 1:
									if (t = i.sent(), !TimeMgr.isMordenTime(t)) return console.log("[VIP时长]获取时间失败"), [2, null];
									switch (0 != this.getRewardTimes() || 1 != e && 2 != e || (o = this._inviteConfig.findIndex(function (e) {
										return e.reward_type == r.invite
									}), n = this._inviteConfig[o]), s = n.reward_type == r.invite && 2 == e ? n.value2 : n.value, n.increase_type) {
										case a.add:
											return this.addDuration(60 * s * 1e3, t), [2, n];
										case a.scale:
											if (this.scaleDuration(s, t)) return [2, n]
									}
									return console.log("[VIP时长]VIP未激活，不能翻倍"), [2, null]
							}
						})
					})
				}, e.prototype._getTimeFromServer = function (e) {
					return o(this, void 0, void 0, function () {
						return i(this, function (t) {
							switch (t.label) {
								case 0:
									return void 0 !== e ? [3, 2] : [4, TimeMgr.getSmartServerTime()];
								case 1:
									if (e = t.sent(), !TimeMgr.isMordenTime(e)) return ui.showTips("网络错误，请稍后重试"), [2, 0];
									t.label = 2;
								case 2:
									return [2, e]
							}
						})
					})
				}, e.prototype.getInviteData = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o, r;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									if (!f.default.supportServer()) return [3, 6];
									i.label = 1;
								case 1:
									return i.trys.push([1, 4, , 5]), [4, new Promise(sdk.getUserCode.bind(sdk))];
								case 2:
									return t = i.sent(), [4, sdk.promisify(sdk.request.bind(sdk), {
										url: "",
										data: t
									})];
								case 3:
									return n = i.sent(), TimeMgr.setServerTime(n), console.log("[VIP]获取邀请数据：", n), n && n.data && 0 == n.data.code && n.data.data && (e = n.data.data), [3, 5];
								case 4:
									return o = i.sent(), console.error(o), [3, 5];
								case 5:
									return [3, 8];
								case 6:
									return [4, Utils.delayTime(.3)];
								case 7:
									i.sent(), e = {
										invite_num: 2,
										list: [{
											name: "胡明阳",
											avatar: "",
											is_new: 1
										}, {
											name: "lester",
											avatar: "",
											is_new: 0
										}]
									}, i.label = 8;
								case 8:
									return e && (r = Number(e.invite_num) || (e.list ? e.list.length : 0) || 0, e.invite_num = r, e.list = e.list || []), [4, this._addInviteDuration(e)];
								case 9:
									return i.sent(), [2, e]
							}
						})
					})
				}, e.prototype._addInviteDuration = function (e) {
					return o(this, void 0, void 0, function () {
						var t, n, o, a, s, c, l, d, f, p, h, y;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return (t = this.getCurrentConfig()) && t.reward_type == r.invite ? e && (n = this._calcInviteCount(e)) ? (o = this.current) ? [3, 2] : [4, TimeMgr.getSmartServerTime()] : [3, 11] : [2];
								case 1:
									a = i.sent(), o = this.current = {
										start_ts: a,
										end_ts: a,
										times: 0,
										invite_new: 0,
										invite_old: 0
									}, i.label = 2;
								case 2:
									s = n.invite_new_count - o.invite_new, c = n.invite_old_count - o.invite_old, o.invite_new = n.invite_new_count, o.invite_old = n.invite_old_count, l = 0, d = 0, f = 0, h = 0, i.label = 3;
								case 3:
									return h < s ? [4, this.increase(2)] : [3, 6];
								case 4:
									(p = i.sent()) && (l += 1, f += p.value2, Server.reportClick(u.default.vip_invite_success)), i.label = 5;
								case 5:
									return ++h, [3, 3];
								case 6:
									h = 0, i.label = 7;
								case 7:
									return h < c ? [4, this.increase(1)] : [3, 10];
								case 8:
									(y = i.sent()) && (d += 1, f += y.value, Server.reportClick(u.default.vip_invite_success)), i.label = 9;
								case 9:
									return ++h, [3, 7];
								case 10:
									l + d > 0 && f > 0 ? ui.showTips("邀请了" + (s + c) + "位好友，VIP时长增加了") : o.start_ts == o.end_ts && (o = this.current = null), i.label = 11;
								case 11:
									return [2]
							}
						})
					})
				}, e.prototype._calcInviteCount = function (e) {
					if (!e || 0 == e.list.length) return null;
					var t = {
						invite_new_count: 0,
						invite_old_count: 0
					};
					return e.list.forEach(function (e) {
						1 == Number(e.is_new) ? t.invite_new_count += 1 : t.invite_old_count += 1
					}), t
				}, e.prototype.clearInviteData = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									if (e = !1, !f.default.supportServer()) return [3, 6];
									i.label = 1;
								case 1:
									return i.trys.push([1, 4, , 5]), [4, new Promise(sdk.getUserCode.bind(sdk))];
								case 2:
									return t = i.sent(), [4, sdk.promisify(sdk.request.bind(sdk), {
										url: "",
										data: t
									})];
								case 3:
									return n = i.sent(), console.log("[VIP]清除邀请数据：", n), TimeMgr.setServerTime(n), n && n.data && 0 == n.data.code && (e = !0), [3, 5];
								case 4:
									return o = i.sent(), console.error(o), [3, 5];
								case 5:
									return [3, 7];
								case 6:
									e = !0, i.label = 7;
								case 7:
									return [2, e]
							}
						})
					})
				}, e.prototype.addInvite = function (e) {
					return o(this, void 0, void 0, function () {
						var t, n, o, r, a, s, c, l, u, d;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return e && e.query && e.query.vipInviteId ? (t = sdk.getSavedUserId("data"), n = e.query.vipInviteId, t == n ? [3, 4] : [4, new Promise(sdk.getUserCode.bind(sdk))]) : [3, 4];
								case 1:
									return o = i.sent().code, [4, sdk.promisify(wx.getUserInfo, {
										withCredentials: !0,
										lang: "zh_CN"
									}).catch(function (e) {
										return null
									})];
								case 2:
									return r = i.sent(), a = {
										user_id: n,
										code: o
									}, r && (s = r.encryptedData, c = r.iv, l = r.signature, u = r.rawData, a.encryptedData = s, a.iv = c, a.signature = l, a.rawData = u), console.log("[VIP]开始提交邀请：", a), [4, sdk.promisify(sdk.request.bind(sdk), {
										url: "",
										data: a
									})];
								case 3:
									return d = i.sent(), TimeMgr.setServerTime(d), d && d.data && 0 == d.data.code ? (console.log("[VIP]提交邀请成功：", d), [2, !0]) : (console.log("[VIP]提交邀请失败：", d), [2, !1]);
								case 4:
									return [2]
							}
						})
					})
				}, e.prototype.shareForInvite = function () {
					var e = sdk.getSavedUserId("data");
					s.default.shareWithoutCallback(c.SharePos.Invite, {
						vipInviteId: e
					})
				}, e.prototype.canShowLayer = function () {
					return !this._layerShowed
				}, e.prototype.tryToShowLayer = function () {
					if (this.canShowLayer()) return this._layerShowed = !0, p.default.show()
				}, e._instance = null, e
			}();
		n.default = h, window.VipLogic = h,
			function (e) {
				e[e.video = 0] = "video", e[e.invite = 1] = "invite"
			}(r = n.VipRewardType || (n.VipRewardType = {})),
			function (e) {
				e[e.add = 0] = "add", e[e.scale = 1] = "scale"
			}(a = n.VipIncreaseType || (n.VipIncreaseType = {})), cc._RF.pop()
	}, {
		"../../Base/Share": "Share",
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/EventID": "EventID",
		"../../Config/ReportID": "ReportID",
		"../../Config/ServerConfig": "ServerConfig",
		"../../Data/wxsdk": "wxsdk",
		"./VipLayer": "VipLayer"
	}],
	WheelItem: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "9053bmbGepHlILwdNprAJvZ", "WheelItem");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Runtime/LevelConfig"),
			a = cc._decorator,
			s = a.ccclass,
			c = a.property,
			l = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.label = null, t.prizeSp = null, t.titleSp = null, t.prizeSfList = [], t.titleSfList = [], t
				}
				return o(t, e), t.prototype.setData = function (e) {
					this.prizeSp.spriteFrame = this.prizeSfList[e.type], e.type == r.LevelPrizeType.coins ? (this.titleSp.spriteFrame = e.isHuge ? this.titleSfList[1] : this.titleSfList[0], this.label.node.active = !1) : e.type == r.LevelPrizeType.bcoins ? (this.titleSp.spriteFrame = e.isHuge ? this.titleSfList[7] : this.titleSfList[6], this.label.node.active = !1) : e.type == r.LevelPrizeType.energy ? (this.titleSp.spriteFrame = e.isHuge ? this.titleSfList[3] : this.titleSfList[2], this.label.node.active = !1) : e.type == r.LevelPrizeType.role_fragments ? (this.titleSp.spriteFrame = this.titleSfList[5], this.label.node.active = !0, this.label.string = "" + e.value) : (this.titleSp.spriteFrame = this.titleSfList[4], this.label.node.active = !0, this.label.string = "" + e.value), this.node.angle = 360 * (e.index + .5) / 8
				}, i([c(cc.Label)], t.prototype, "label", void 0), i([c({
					type: cc.Sprite,
					displayName: "奖励Sprite"
				})], t.prototype, "prizeSp", void 0), i([c({
					type: cc.Sprite,
					displayName: "标题Sprite"
				})], t.prototype, "titleSp", void 0), i([c({
					type: [cc.SpriteFrame],
					displayName: "奖励材质列表",
					tooltip: "顺序（金币，体力，移动，自由，建设币，碎片）"
				})], t.prototype, "prizeSfList", void 0), i([c({
					type: [cc.SpriteFrame],
					displayName: "标题材质列表",
					tooltip: "顺序（少量金币，大量金币，少量体力，大量体力，道具，碎片，少量建设币，大量建设币）"
				})], t.prototype, "titleSfList", void 0), t = i([s], t)
			}(cc.Component);
		n.default = l, cc._RF.pop()
	}, {
		"../../Runtime/LevelConfig": "LevelConfig"
	}],
	WheelLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "c2b6dq5VCdBlq26p1rYAcAy", "WheelLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.WheelLayerParam = void 0;
		var s = e("../base/LayerBase"),
			c = e("../../Config/SoundID"),
			l = e("./WheelLogic"),
			u = e("./WheelItem"),
			d = e("../base/RewardBtn"),
			f = e("../../Base/ShareTypes"),
			p = e("../base/RewardToggle"),
			h = e("../../Config/ServerConfig"),
			y = cc._decorator,
			g = y.ccclass,
			_ = (y.property, y.menu),
			v = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.WheelLayerParam = v;
		var b = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t._wheelNode = null, t._lightNode = null, t._numberLbl = null, t._lotteryBtn = null, t._rewardBtn = null, t._rewardToggle = null, t._rewardNode = null, t._rotateTween = null, t._prizeList = null, t._wheelIndex = 0, t
			}
			return o(t, e), t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this);
				var t = cc.find("dialog/contents", this.node);
				(this._wheelNode = cc.find("wheel", t), this._lightNode = cc.find("light", t), this._numberLbl = cc.find("label", t).getComponent(cc.Label), this._lotteryBtn = cc.find("lottery_btn", t), this._rewardBtn = cc.find("reward_btn", t), this._rewardToggle = cc.find("reward_toggle_btn", t), h.default.instance.useToggleReward()) ? (this._rewardToggle.active = !0, this._rewardBtn.active = !1, this._rewardNode = this._rewardToggle, this._rewardToggle.getComponent(p.default).sharePos = f.SharePos.Lottery) : (this._rewardToggle.active = !1, this._rewardBtn.active = !0, this._rewardNode = this._rewardBtn, this._rewardBtn.getComponent(d.default).sharePos = f.SharePos.Lottery)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this._slowBlinkLight(), this._prizeList = l.default.instance.getPrizeList(), this._updatePrizeDisplay(), this._updateWheelNumberDisplay(), this._updateLotteryBtn()
			}, t.prototype._updatePrizeDisplay = function () {
				var e = this._prizeList;
				if (e) {
					var t = this._wheelNode.getChildByName("prize_list");
					e.forEach(function (e, n) {
						var o = t.children[n];
						o || ((o = cc.instantiate(t.children[0])).parent = t), o.getComponent(u.default).setData(e)
					})
				}
			}, t.prototype.startLottery = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n, o;
					return a(this, function (i) {
						switch (i.label) {
							case 0:
								return (e = l.default.instance.getWheelNumber()) <= 0 ? (ui.showTips("come back tomorrow"), [2]) : (Utils.setAllBtnsEnabled(this.node, !1), this._updateWheelNumberDisplay(e - 1), t = l.default.instance.hit(this._prizeList), n = this._prizeList[t], console.log("[转盘]命中奖励：", n), o = t + .5, this._fastBlinkLight(), [4, this._rotateToIndex(o)]);
							case 1:
								return i.sent(), this._blinkPrizeNode(t), this._slowBlinkLight(), [4, l.default.instance.receivePrize(n)];
							case 2:
								return i.sent(), this._updateLotteryBtn(), Utils.setAllBtnsEnabled(this.node, !0), [2]
						}
					})
				})
			}, t.prototype.onBtnLotteryClick = function () {
				SoundMgr.play(c.default.btn), this.startLottery()
			}, t.prototype._blinkNode = function (e) {
				e && e.active && (e.stopAllActions(), e.runAction(cc.blink(.7, 4)))
			}, t.prototype.onRewardCallback = function (e, t) {
				if (e == d.RewardFuncParam.NoReward) ui.showTips("come back tomorrow");
				else if (e == d.RewardFuncParam.Other) {
					var n = t.rewardType == f.RewardType.Share ? "分享" : t.rewardType == f.RewardType.Video ? "视频" : "";
					n && (ui.showTips("try to use" + n + " ?"), this._blinkNode(t.rewardPnl), this._blinkNode(t.videoPnl), this._blinkNode(t.sharePnl))
				} else if (e == d.RewardFuncParam.Click) Utils.setAllBtnsEnabled(this.node, !1);
				else if (e == d.RewardFuncParam.Success) {
					var o = t instanceof p.default;
					l.default.instance.rewardAddWheelNumber(!o), this._updateLotteryBtn(), this._updateWheelNumberDisplay(), o ? this.startLottery() : Utils.setAllBtnsEnabled(this.node, !0)
				} else Utils.setAllBtnsEnabled(this.node, !0)
			}, t.prototype._updateLotteryBtn = function () {
				var e = l.default.instance.getWheelNumber() <= 0,
					t = l.default.instance.hasReward(),
					n = e && t;
				this._lotteryBtn.active = !n, this._rewardNode.active = n, e ? Utils.setNodeBright(this._lotteryBtn, !1, !0) : Utils.setNodeBright(this._lotteryBtn, !0, !0)
			}, Object.defineProperty(t.prototype, "wheelIndex", {
				get: function () {
					return this._wheelIndex
				},
				set: function (e) {
					this._wheelIndex = e, this._updateWheelAngle()
				},
				enumerable: !1,
				configurable: !0
			}), t.prototype._updateWheelAngle = function () {
				var e = -45 * this._wheelIndex;
				this._wheelNode.angle = e
			}, t.prototype._rotateToIndex = function (e, t) {
				var n = this;
				return void 0 === t && (t = cc.easing.cubicInOut), new Promise(function (o, i) {
					var r = e + 48;
					n._rotateTween && n._rotateTween.stop(), n._rotateTween = cc.tween(n).to(6, {
						wheelIndex: r
					}, {
						easing: t
					}).set({
						wheelIndex: e
					}).call(o).start()
				})
			}, t.prototype._blinkPrizeNode = function (e) {
				e = Math.floor(e);
				var t = this._wheelNode.getChildByName("prize_list").children[e];
				t && (t.stopAllActions(), t.runAction(cc.blink(2, 6)))
			}, t.prototype._updateWheelNumberDisplay = function (e) {
				void 0 === e && (e = l.default.instance.getWheelNumber()), this._numberLbl.string = "" + e
			}, t.prototype._slowBlinkLight = function () {
				this._blinkLight(.6)
			}, t.prototype._fastBlinkLight = function () {
				this._blinkLight(.25)
			}, t.prototype._blinkLight = function (e) {
				var t = this._lightNode;
				t.stopAllActions(), t.runAction(cc.repeatForever(cc.sequence(cc.callFunc(function () {
					t.angle = 0 == t.angle ? 22.5 : 0
				}), cc.delayTime(e))))
			}, t.prefabName = "home://dynamic/layer/wheelLayer", t = i([g, _("Layer/WheelLayer")], t)
		}(s.default);
		n.default = b, window.WheelLayer = b, cc._RF.pop()
	}, {
		"../../Base/ShareTypes": "ShareTypes",
		"../../Config/ServerConfig": "ServerConfig",
		"../../Config/SoundID": "SoundID",
		"../base/LayerBase": "LayerBase",
		"../base/RewardBtn": "RewardBtn",
		"../base/RewardToggle": "RewardToggle",
		"./WheelItem": "WheelItem",
		"./WheelLogic": "WheelLogic"
	}],
	WheelLogic: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a3df3Sv7ShKUZOyBMwUCF5B", "WheelLogic");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../../Runtime/LevelConfig"),
			a = e("../receive/DoubleItemLayer"),
			s = function () {
				function e() { }
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.getPrizeList = function () {
					var e = [{
						index: 0,
						type: r.LevelPrizeType.coins,
						value: 0,
						isHuge: !0,
						weight: 6
					}, {
						index: 1,
						type: r.LevelPrizeType.role_fragments,
						value: 2,
						isHuge: !1,
						weight: 23
					}, {
						index: 2,
						type: r.LevelPrizeType.bcoins,
						value: 0,
						isHuge: !0,
						weight: 6
					}, {
						index: 3,
						type: r.LevelPrizeType.role_fragments,
						value: 6,
						isHuge: !0,
						weight: 10
					}, {
						index: 4,
						type: r.LevelPrizeType.coins,
						value: 0,
						isHuge: !1,
						weight: 20
					}, {
						index: 5,
						type: r.LevelPrizeType.free_item,
						value: 1,
						isHuge: !1,
						weight: 11
					}, {
						index: 6,
						type: r.LevelPrizeType.bcoins,
						value: 0,
						isHuge: !1,
						weight: 20
					}, {
						index: 7,
						type: r.LevelPrizeType.move_item,
						value: 1,
						isHuge: !1,
						weight: 5
					}],
						t = DataBus.user.star,
						n = [
							[1e3, 5e3, 150, 450],
							[1500, 7500, 200, 600],
							[2e3, 1e4, 250, 750],
							[3e3, 15e3, 300, 900],
							[4e3, 2e4, 400, 1200],
							[6e3, 3e4, 600, 1800],
							[1e4, 5e4, 1e3, 3e3]
						],
						o = n[r.default.instance.getDanConfig(t).dan] || n[0];
					return e.forEach(function (e) {
						e.type == r.LevelPrizeType.coins ? e.value = e.isHuge ? o[1] : o[0] : e.type == r.LevelPrizeType.bcoins && (e.value = e.isHuge ? o[3] : o[2])
					}), e
				}, e.prototype.hit = function (e) {
					for (var t = e.length, n = e.map(function (e) {
						return e.weight
					}).reduce(function (e, t) {
						return e + t
					}, 0), o = Math.random() * n, i = 0; i < t; ++i) {
						var r = e[i];
						if (o < r.weight) return i;
						o -= r.weight
					}
					return 6
				}, e.prototype.getWheelNumber = function () {
					return DataBus.other.wheelNumber
				}, e.prototype.getRewardTimes = function () {
					return DataBus.other.wheelRewardTimes
				}, e.prototype.getRewardMaxTimes = function () {
					return 2
				}, e.prototype.hasReward = function () {
					return this.getRewardTimes() < this.getRewardMaxTimes()
				}, e.prototype.rewardAddWheelNumber = function (e) {
					DataBus.other.wheelNumber += 1, DataBus.other.wheelRewardTimes += 1, DataBus.other.save(), e && ui.showTips("raffle ticket+1")
				}, e.prototype.receivePrize = function (e) {
					return o(this, void 0, void 0, function () {
						var t;
						return i(this, function (n) {
							return t = DataBus.other.wheelNumber, DataBus.other.wheelNumber = Math.max(0, t - 1), DataBus.other.save(), [2, a.default.show([e])]
						})
					})
				}, e._instance = null, e
			}();
		n.default = s, cc._RF.pop()
	}, {
		"../../Runtime/LevelConfig": "LevelConfig",
		"../receive/DoubleItemLayer": "DoubleItemLayer"
	}],
	WorldMatchLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "589caaawBdPZreBvrP0HOWv", "WorldMatchLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.WorldMatchLayerParam = void 0;
		var s = e("../../../Ui/base/LayerBase"),
			c = e("./PvpLogic"),
			l = e("../../../Config/SoundID"),
			u = e("./MatchSuccessLayer"),
			d = e("./PvpUiHelper"),
			f = e("../../../Base/UserInfoBtn"),
			p = e("../../../Ui/rank/RankLayer"),
			h = e("./WorldMatchPrizeLayer"),
			y = e("../item2/ReceiveItemLayer"),
			g = e("../../../Config/EventID"),
			_ = e("../../../Ui/honorTitle/HonorTitleLogic"),
			v = e("../../Router"),
			b = e("../../../Ui/base/RewardBtn"),
			m = e("../../../Ui/emoji/EmojiLogic"),
			w = e("../../guide/GuideLogic"),
			S = e("../../../Config/ServerConfig"),
			C = e("../../../Ui/superLine/SuperLineLayer"),
			P = e("../PoolGlobal"),
			L = e("../../../Res/ResLoader"),
			T = e("../../../Ui/skin2/Skin2Layer"),
			D = e("../../../Ui/skin2/Skin2Defines"),
			B = e("../../../Data/wxsdk"),
			R = cc._decorator,
			E = R.ccclass,
			I = (R.property, R.menu),
			O = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.WorldMatchLayerParam = O;
		var A = function (e) {
			function t() {
				var t = null !== e && e.apply(this, arguments) || this;
				return t.rank_prefix = "Current rank:", t.star_margin = 55, t._data = null, t._matching = !1, t._countDownValue = 0, t._costCoins = !1, t.success = !1, t._lastPullWorldTime = 0, t._authed = !1, t
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				(e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this.prize_badage.active = !1, m.default.instance.setEmojiUi(this.emoji_sp, 1), this._initPromise = this._init(), this._updateMatchingNode(), this._initUserInfoBtn(), cc.systemEvent.on(g.default.SEASON_CHANGED, this._onSeasonChanged, this), this._onCueChanged(), cc.systemEvent.on(g.default.CUE_CHANGED, this._onCueChanged, this), B.default.isQg() || B.default.isTT()) && (this.matching_btn.node.parent.getChildByName("rank_btn").active = !1, this.rank_lbl.node.active = !1)
			}, t.prototype.onDestroy = function () {
				cc.systemEvent.off(g.default.SEASON_CHANGED, this._onSeasonChanged, this), cc.systemEvent.off(g.default.CUE_CHANGED, this._onCueChanged, this), e.prototype.onDestroy.call(this), sdk.hideLoading()
			}, t.prototype.onDataLoad = function () {
				var e = this;
				this._initPromise && this._initPromise.then(function () {
					e.isValid && e.data.autoMatching && c.default.instance.worldMatchHasEnoughCoins() && e.startMatching()
				}), this.data.autoMatching || w.default.instance.tryToShowWorldMatchLayerGuide()
			}, t.prototype._calcCountDownValue = function () {
				console.log(this)
				this.view_prize_btn.node.active = false;
				var e = this._data,
					t = c.default.instance.calcSeason(e.begin_time, e.current_time, e.duration);
				console.log("当前是第" + t + "赛季"), this._countDownValue = e.begin_time + e.duration * (t + 1) - e.current_time
			}, t.prototype._updateDisplay = function () {
				var e = this._data;
				this.count_down_lbl.string = "End：" + Utils.formatDuration5(this._countDownValue), this.ticket_lbl.string = "" + e.price, this.prize_badage.active = DataBus.user.prizeDan > 0, d.default.instance.setPlayerDisplay(this.node, this, e.localPlayerInfo)
			}, t.prototype._updateTicketsDisplay = function () { }, t.prototype._updateTicketsTimer = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						return [2]
					})
				})
			}, t.prototype._updateMatchingNode = function () {
				var e = this,
					t = this._matching,
					n = this.matching_node;
				n.stopAllActions(), !n.active && t ? (this.matching_node.active = !0, n.runAction(cc.fadeIn(.3))) : n.active && !t && n.runAction(cc.sequence(cc.fadeOut(.3), cc.callFunc(function () {
					e.matching_node.active = !1
				}))), this.matching_btn.node.active = !t, this.cancel_btn.node.active = t
			}, t.prototype.onRewardCallback = function (e) {
				e == b.RewardFuncParam.Click ? Utils.setAllBtnsEnabled(this.node, !1) : e == b.RewardFuncParam.Success ? (this._costCoins = !1, this._disableAllBtnsExcept([this.cancel_btn.node]), this._startMatching()) : Utils.setAllBtnsEnabled(this.node, !0)
			}, t.prototype.onBtnMatchingClick = function () {
				SoundMgr.play(l.default.btn), this.startMatching()
			}, t.prototype.onBtnCancelClick = function (e) {
				return r(this, void 0, void 0, function () {
					var t, n;
					return a(this, function (o) {
						switch (o.label) {
							case 0:
								return SoundMgr.play(l.default.btn), Utils.setAllBtnsEnabled(this.node, !1), this._stopMatching(), this._costCoins && (t = e.target, n = t.convertToWorldSpaceAR(cc.Vec2.ZERO), c.default.instance.returnWorldMatchCoins(n), this._costCoins = !1), [4, Utils.delayTime(.7, this)];
							case 1:
								return o.sent(), Utils.setAllBtnsEnabled(this.node, !0), [2]
						}
					})
				})
			}, t.prototype._disableAllBtnsExcept = function (e) {
				Utils.setAllBtnsEnabled(this.node, !1), e.forEach(function (e) {
					return Utils.setAllBtnsEnabled(e, !0)
				})
			}, t.prototype.startMatching = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n, o, i, r;
					return a(this, function (a) {
						switch (a.label) {
							case 0:
								return Utils.setAllBtnsEnabled(this.node, !1), e = this.matching_btn.node.convertToWorldSpaceAR(cc.Vec2.ZERO), c.default.instance.tryToCostWorldMatchTickets(e) ? (this._costCoins = !0, w.default.instance.needGuide(w.GuideStep.SuperLine) ? (0 == DataBus.user.superLineTimes && (DataBus.user.superLineTimes = 1), this._onMatchingSuccess(), [2]) : [3, 1]) : [3, 5];
							case 1:
								return t = 0 == DataBus.other.lastPvpUsingSuperLine, n = S.default.instance.getSuperLineChance() / 100, o = Math.random(), i = o < n, r = t || i, console.log("[超级瞄准线]第一次：" + t + "，概率：(" + o.toFixed(2) + "/" + n.toFixed(2) + ")(" + i + ")，本次弹窗：" + r), r ? [4, Utils.delayTime(.7, this)] : [3, 4];
							case 2:
								return a.sent(), [4, C.default.show(!0)];
							case 3:
								a.sent(), a.label = 4;
							case 4:
								return this._disableAllBtnsExcept([this.cancel_btn.node]), this._startMatching(), [3, 6];
							case 5:
								Utils.setAllBtnsEnabled(this.node, !0), a.label = 6;
							case 6:
								return [2]
						}
					})
				})
			}, t.prototype._startMatching = function () {
				this._matching = !0, this._updateMatchingNode(), this.scheduleOnce(this._onMatchingSuccess, c.default.instance.getMatchingDuration()), this.getComponentInChildren(f.default).enabled = !1
			}, t.prototype._stopMatching = function () {
				this._matching = !1, this._updateMatchingNode(), this.unschedule(this._onMatchingSuccess), this.getComponentInChildren(f.default).enabled = !this._authed
			}, t.prototype._onMatchingSuccess = function () {
				Utils.setAllBtnsEnabled(this.cancel_btn.node, !1), c.default.instance.afterMatchSuccess(this._data.localPlayerInfo), u.default.show(this._data.price), this.success = !0, this.close()
			}, t.prototype.close = function () {
				this.success || v.default.instance.enterHome(), e.prototype.close.call(this)
			}, t.prototype._onSeasonChanged = function (e) {
				return r(this, void 0, void 0, function () {
					var t, n, o, i, r;
					return a(this, function (a) {
						switch (a.label) {
							case 0:
								return this._disableAllBtnsExcept([this.getCloseBtn()]), sdk.showLoading("请稍候...", !1), void 0 !== e ? [3, 2] : [4, TimeMgr.getSmartServerTime()];
							case 1:
								e = a.sent(), a.label = 2;
							case 2:
								return this.isValid && (TimeMgr.isMordenTime(e) ? (t = c.default.instance.getWorldMatchStartTimestamp(), n = c.default.instance.getWorldMatchDuration(), o = c.default.instance.getWorldMatchPrice(), i = c.default.instance.getLocalPlayerInfo(), r = {
									begin_time: t,
									current_time: e,
									duration: n,
									price: o,
									localPlayerInfo: i
								}, this._data = r, this._calcCountDownValue(), sdk.hideLoading(), Utils.setAllBtnsEnabled(this.node, !0), this._updateDisplay()) : this._matching || (ui.showTips("获取数据失败，请稍后再试！"), this.close())), [2]
						}
					})
				})
			}, t.prototype._init = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return this._disableAllBtnsExcept([this.getCloseBtn()]), sdk.showLoading("请稍候...", !1), [4, this._fetchData()];
							case 1:
								if (e = t.sent(), this.isValid) {
									if (!e) return ui.showTips("获取数据失败，请稍后再试！"), this.close(), [2];
									this._data = e, this._calcCountDownValue(), sdk.hideLoading(), Utils.setAllBtnsEnabled(this.node, !0), this._updateDisplay()
								}
								return [2]
						}
					})
				})
			}, t.prototype._fetchData = function () {
				return r(this, void 0, Promise, function () {
					var e, t, n, o, i, r, s;
					return a(this, function (a) {
						switch (a.label) {
							case 0:
								return [4, TimeMgr.getSmartServerTime()];
							case 1:
								return e = a.sent(), TimeMgr.isMordenTime(e) ? (t = c.default.instance.getWorldMatchStartTimestamp(), n = e, o = c.default.instance.getWorldMatchDuration(), i = c.default.instance.calcSeason(t, n, o), [4, c.default.instance.updateSeasonStar(i, n)]) : [2, null];
							case 2:
								return a.sent() && cc.systemEvent.emit(g.default.SEASON_CHANGED, n), r = c.default.instance.getWorldMatchPrice(), s = c.default.instance.getLocalPlayerInfo(), [2, {
									begin_time: t,
									current_time: n,
									duration: o,
									price: r,
									localPlayerInfo: s
								}]
						}
					})
				})
			}, t.prototype.onBtnPrizeClick = function () {
				return r(this, void 0, void 0, function () {
					var e, t, n, o;
					return a(this, function (i) {
						switch (i.label) {
							case 0:
								return SoundMgr.play(l.default.btn), this.prize_badage.active = !1, (e = DataBus.user.prizeDan) > 0 ? (t = e - 1, n = c.default.instance.getWorldMatchDanPrize(t), Utils.setAllBtnsEnabled(this.node, !1), [4, k.default.instance.checkRedpacket()]) : [3, 3];
							case 1:
								return i.sent(), [4, y.default.show(n.prizeList)];
							case 2:
								return i.sent(), DataBus.user.prizeDan = 0, _.default.instance.addHonorTitle(n.honorTitle) && ui.showTips("got a new title"), DataBus.user.save(), Utils.setAllBtnsEnabled(this.node, !0), [3, 5];
							case 3:
								return (o = this.getComponentInChildren(f.default)).enabled = !1, [4, h.default.show(this._countDownValue)];
							case 4:
								i.sent(), this.isValid && (o.enabled = !this._authed), i.label = 5;
							case 5:
								return [2]
						}
					})
				})
			}, t.prototype._showRankLayer = function () {
				return r(this, void 0, void 0, function () {
					return a(this, function (e) {
						switch (e.label) {
							case 0:
								return Utils.setAllBtnsEnabled(this.node, !1), [4, p.default.show(p.RankType.Dan)];
							case 1:
								return e.sent(), Utils.setAllBtnsEnabled(this.node, !0), this.isValid && this._init(), [2]
						}
					})
				})
			}, t.prototype.onBtnRankClick = function () {
				SoundMgr.play(l.default.btn), this._showRankLayer()
			}, t.prototype.onBtnEmojiClick = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						return SoundMgr.play(l.default.btn), (e = this.getComponentInChildren(f.default)).enabled = !1, T.default.show(D.Skin2Type.Emoji), this.isValid && (e.enabled = !this._authed), [2]
					})
				})
			}, t.prototype.onBtnChangeCueClick = function () {
				return r(this, void 0, void 0, function () {
					var e;
					return a(this, function (t) {
						return SoundMgr.play(l.default.btn), (e = this.getComponentInChildren(f.default)).enabled = !1, T.default.show(D.Skin2Type.Cue), this.isValid && (e.enabled = !this._authed), [2]
					})
				})
			}, t.prototype._initUserInfoBtn = function () {
				var e = this,
					t = this.getComponentInChildren(f.default);
				t.successFunc = function (n) {
					return r(e, void 0, void 0, function () {
						var e;
						return a(this, function (n) {
							return e = (new Date).getTime(), Math.abs(e - this._lastPullWorldTime) < 1e3 ? [2] : (this._lastPullWorldTime = e, this._authed = !0, t.enabled = !1, this._showRankLayer(), [2])
						})
					})
				}, t.failFunc = function (e) {
					ui.showTips("需要用户授权才能查看榜单哦!")
				}, this.schedule(function () {
					t.updateSize()
				}, .16, 5, 0)
			}, t.prototype._onCueChanged = function () {
				var e = this,
					t = DataBus.user.usedCue1;
				this._data && (this._data.localPlayerInfo.cue = t), this.cue_node.children.slice().forEach(function (e) {
					return L.default.removeNode(e)
				});
				var n = P.default.getCueRes(t);
				L.default.getNodeRes(n).then(function (n) {
					e.isValid && DataBus.user.usedCue1 == t ? n.parent = e.cue_node : L.default.removeNode(n)
				})
			}, t.show = function (e) {
				return r(this, void 0, void 0, function () {
					return a(this, function (t) {
						switch (t.label) {
							case 0:
								return [4, L.default.getBundle("game_newbie", !0)];
							case 1:
								return t.sent(), [4, L.default.getBundle("game", !0)];
							case 2:
								return t.sent(), [2, new Promise(function (t, o) {
									var i = new O;
									i.autoMatching = e, i.onClose = t;
									var r = n.prefabNameWx;
									ui.showLayer(r, i)
								})]
						}
					})
				})
			}, t.prefabName = "home://dynamic/layer/worldMatchLayer", t.prefabNameWx = "home://dynamic/layer/worldMatchWxLayer", t = n = i([E, I("Layer/WorldMatchLayer")], t)
		}(s.default);
		n.default = A, window.WorldMatchLayer = A, cc._RF.pop()
	}, {
		"../../../Base/UserInfoBtn": "UserInfoBtn",
		"../../../Config/EventID": "EventID",
		"../../../Config/ServerConfig": "ServerConfig",
		"../../../Config/SoundID": "SoundID",
		"../../../Data/wxsdk": "wxsdk",
		"../../../Res/ResLoader": "ResLoader",
		"../../../Ui/base/LayerBase": "LayerBase",
		"../../../Ui/base/RewardBtn": "RewardBtn",
		"../../../Ui/emoji/EmojiLogic": "EmojiLogic",
		"../../../Ui/honorTitle/HonorTitleLogic": "HonorTitleLogic",
		"../../../Ui/rank/RankLayer": "RankLayer",
		"../../../Ui/skin2/Skin2Defines": "Skin2Defines",
		"../../../Ui/skin2/Skin2Layer": "Skin2Layer",
		"../../../Ui/superLine/SuperLineLayer": "SuperLineLayer",
		"../../Router": "Router",
		"../../guide/GuideLogic": "GuideLogic",
		"../PoolGlobal": "PoolGlobal",
		"../item2/ReceiveItemLayer": "ReceiveItemLayer",
		"./MatchSuccessLayer": "MatchSuccessLayer",
		"./PvpLogic": "PvpLogic",
		"./PvpUiHelper": "PvpUiHelper",
		"./WorldMatchPrizeLayer": "WorldMatchPrizeLayer"
	}],
	WorldMatchPrizeLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d4662SC5RxHtpj1aCsQM94t", "WorldMatchPrizeLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.WorldMatchPrizeLayerParam = void 0;
		var r = e("../../../Ui/base/LayerBase"),
			a = e("./PvpLogic"),
			s = e("../../../Res/ResLoader"),
			c = e("../../../Ui/prize/PrizePanel"),
			l = e("../../../Ui/honorTitle/HonorTitleLogic"),
			u = e("./WorldMatchPrizeWxLayer"),
			f = cc._decorator,
			p = f.ccclass,
			h = (f.property, f.menu),
			y = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.WorldMatchPrizeLayerParam = y;
		var g = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this._initItemDisplay(this.list_node.children[0])
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this._initDisplay()
			}, t.prototype._initDisplay = function () {
				this.count_down_lbl.string = "End：" + Utils.formatDuration5(this.data.countDownValue);
				for (var e = 0; e < 7; ++e) {
					var t = 7 - e - 1,
						n = this.list_node.children[e];
					n || ((n = cc.instantiate(this.list_node.children[0])).parent = this.list_node), this._setItemDisplay(n, t)
				}
			}, t.prototype._initItemDisplay = function (e) {
				var t = {
					dan_sp: null,
					item_list: null,
					honor_title_sp: null
				};
				Utils.loadVarFromNode(e, "_", t), t.dan_sp.spriteFrame = null, t.honor_title_sp.spriteFrame = null, t.item_list.getComponent(c.default).setData([])
			}, t.prototype._setItemDisplay = function (e, t) {
				var n = {
					dan_sp: null,
					item_list: null,
					honor_title_sp: null
				};
				Utils.loadVarFromNode(e, "_", n);
				var o = a.default.instance.getDanRes(t);
				s.default.getSpriteFrameRes(o).then(function (e) {
					n.dan_sp.isValid && (n.dan_sp.spriteFrame = e)
				});
				var i = a.default.instance.getWorldMatchDanPrize(t);
				n.item_list.getComponent(c.default).setData(i.prizeList), l.default.instance.loadSpriteFrame(n.honor_title_sp, i.honorTitle)
			}, t.show = function (e) {
				// return d.default.instance.isValid() ? u.default.show(e) : new Promise(function (t, o) {
				// 	var i = new y;
				// 	i.countDownValue = e, i.onClose = t, ui.showLayer(n, i)
				// })
			}, t.prefabName = "home://dynamic/layer/worldMatchPrizeLayer", t = n = i([p, h("Layer/WorldMatchPrizeLayer")], t)
		}(r.default);
		n.default = g, window.WorldMatchPrizeLayer = g, cc._RF.pop()
	}, {
		"../../../Res/ResLoader": "ResLoader",
		"../../../Ui/base/LayerBase": "LayerBase",
		"../../../Ui/honorTitle/HonorTitleLogic": "HonorTitleLogic",
		"../../../Ui/prize/PrizePanel": "PrizePanel",
		"./PvpLogic": "PvpLogic",
		"./WorldMatchPrizeWxLayer": "WorldMatchPrizeWxLayer"
	}],
	WorldMatchPrizeWxLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a9fcagIISdCab9BB6ziyHCu", "WorldMatchPrizeWxLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.WorldMatchPrizeWxLayerParam = void 0;
		var r = e("../../../Ui/base/LayerBase"),
			a = e("./PvpLogic"),
			s = e("../../../Res/ResLoader"),
			c = e("../../../Ui/prize/PrizePanel"),
			l = e("../../../Ui/honorTitle/HonorTitleLogic"),
			u = e("../../../Config/SoundID"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, d.menu),
			h = function () {
				return function () {
					this.onClose = function () { }
				}
			}();
		n.WorldMatchPrizeWxLayerParam = h;
		var y = function (e) {
			function t() {
				return null !== e && e.apply(this, arguments) || this
			}
			var n;
			return o(t, e), n = t, t.prototype.onLoad = function () {
				e.prototype.onLoad.call(this), Utils.loadVarFromNode(this.node, "$", this), this._initItemDisplay(this.dan_list_node.children[0]), this.prize_node.active = !1, this.redpacket_node.active = !1, this.scrollview_node.on("scroll-began", this.onScrollBegan, this)
			}, t.prototype.onDestroy = function () {
				e.prototype.onDestroy.call(this)
			}, t.prototype.onDataLoad = function () {
				this._initDisplay()
			}, t.prototype._initDisplay = function () {
				this.count_down_lbl.string = "End：" + Utils.formatDuration5(this.data.countDownValue), this.redpacket_count_down_lbl.string = Utils.formatDuration5(this.data.countDownValue);
				for (var e = 0; e < 7; ++e) {
					var t = 7 - e - 1,
						n = this.dan_list_node.children[e];
					n || ((n = cc.instantiate(this.dan_list_node.children[0])).parent = this.dan_list_node), this._setItemDisplay(n, t)
				}
			}, t.prototype._initItemDisplay = function (e) {
				var t = {
					dan_sp: null,
					redpacket_item: null,
					prize_item: null,
					honor_title_sp: null
				};
				Utils.loadVarFromNode(e, "_", t), t.dan_sp.spriteFrame = null, t.honor_title_sp.spriteFrame = null, t.redpacket_item.active = !1, t.prize_item.active = !1
			}, t.prototype._setItemDisplay = function (e, t) {
				var n = {
					dan_sp: null,
					redpacket_item: null,
					prize_item: null,
					honor_title_sp: null
				};
				Utils.loadVarFromNode(e, "_", n);
				var o = a.default.instance.getDanRes(t);
				s.default.getSpriteFrameRes(o).then(function (e) {
					n.dan_sp.isValid && (n.dan_sp.spriteFrame = e)
				}), Utils.bindBtnEvent(e, this.node, "WorldMatchPrizeWxLayer", "onItemClick", t + ""), t >= 4 ? (n.redpacket_item.active = !0, Utils.bindBtnEvent(n.redpacket_item, this.node, "WorldMatchPrizeWxLayer", "onRedpacketItemClick", t + "")) : n.redpacket_item.active = !1, n.prize_item.active = !0, Utils.bindBtnEvent(n.prize_item, this.node, "WorldMatchPrizeWxLayer", "onPrizeItemClick", t + "");
				var i = a.default.instance.getWorldMatchDanPrize(t);
				l.default.instance.loadSpriteFrame(n.honor_title_sp, i.honorTitle)
			}, t.prototype.onScrollBegan = function () {
				this.prize_node.active && (this.prize_node.stopAllActions(), this.prize_node.active = !1)
			}, t.prototype.onItemClick = function () {
				this.hideNode(this.prize_node), this._lastPopPrizeDan = void 0
			}, t.prototype.onPrizeItemClick = function (e, t) {
				SoundMgr.play(u.default.btn);
				var n = Number(t),
					o = a.default.instance.getWorldMatchDanPrize(n);
				this.prize_list_node.getComponent(c.default).setData(o.prizeList);
				var i = e.target,
					r = Utils.covertToNodeSpaceAR(i, this.prize_node.parent, new cc.Vec2(0, 28.5));
				r.y > 0 && (r.y = 0), this.prize_node.setPosition(r), this.showNode(this.prize_node), this._lastPopPrizeDan = n, e.stopPropagation()
			}, t.prototype.onRedpacketItemClick = function (e, t) {
				SoundMgr.play(u.default.btn);
				var n = Number(t);
				this.updateRedpacketNode(n);
				var o = e.target;
				this.showNode(this.redpacket_node, o), this._lastClickRedpacket = o
			}, t.prototype.updateRedpacketNode = function (e) {
				this.redpacket_title_node.children.forEach(function (e) {
					return e.active = !1
				});
				var t = this.redpacket_title_node.getChildByName(e + "");
				t && (t.active = !0), this.redpacket_value_node.children.forEach(function (e) {
					return e.active = !1
				});
				var n = this.redpacket_value_node.getChildByName(e + "");
				n && (n.active = !0)
			}, t.prototype.onRedpacketCloseClick = function () {
				var e = this._lastClickRedpacket;
				e ? (this.hideNode(this.redpacket_node, e), this._lastClickRedpacket = null) : this.hideNode(this.redpacket_node)
			}, t.prototype.showNode = function (e, t) {
				e.active = !0;
				var n = e.getChildByName("layer");
				if (n) {
					if (n.scale = 0, n.stopAllActions(), n.runAction(cc.scaleTo(.3, 1, 1)), t) {
						var o = Utils.covertToNodeSpaceAR(t, e, cc.Vec2.ZERO);
						n.setPosition(o), n.runAction(cc.moveTo(.3, 0, 0))
					}
					var i = e.getChildByName("mask");
					i && (i.opacity = 0, i.stopAllActions(), i.runAction(cc.fadeTo(.3, 120)))
				}
			}, t.prototype.hideNode = function (e, t) {
				var n = e.getChildByName("layer");
				if (n) {
					if (n.stopAllActions(), n.runAction(cc.sequence(cc.scaleTo(.3, 0, 0), cc.callFunc(function () {
						e.active = !1
					}))), t) {
						var o = Utils.covertToNodeSpaceAR(t, e, cc.Vec2.ZERO);
						n.runAction(cc.moveTo(.3, o.x, o.y))
					}
					var i = e.getChildByName("mask");
					i && (i.stopAllActions(), i.runAction(cc.fadeOut(.3)))
				} else e.active = !1
			}, t.show = function (e) {
				return new Promise(function (t, o) {
					var i = new h;
					i.countDownValue = e, i.onClose = t, ui.showLayer(n, i)
				})
			}, t.prefabName = "home://dynamic/layer/worldMatchPrizeWxLayer", t = n = i([f, p("Layer/WorldMatchPrizeWxLayer")], t)
		}(r.default);
		n.default = y, window.WorldMatchPrizeWxLayer = y, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"../../../Res/ResLoader": "ResLoader",
		"../../../Ui/base/LayerBase": "LayerBase",
		"../../../Ui/honorTitle/HonorTitleLogic": "HonorTitleLogic",
		"../../../Ui/prize/PrizePanel": "PrizePanel",
		"./PvpLogic": "PvpLogic"
	}],
	WorldMatchWxLayer: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "d56b4vI+/ZDiJ/tG9AjKlre", "WorldMatchWxLayer");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			},
			r = this && this.__awaiter || function (e, t, n, o) {
				function i(e) {
					return e instanceof n ? e : new n(function (t) {
						t(e)
					})
				}
				return new (n || (n = Promise))(function (n, r) {
					function a(e) {
						try {
							c(o.next(e))
						} catch (e) {
							r(e)
						}
					}

					function s(e) {
						try {
							c(o.throw(e))
						} catch (e) {
							r(e)
						}
					}

					function c(e) {
						e.done ? n(e.value) : i(e.value).then(a, s)
					}
					c((o = o.apply(e, t || [])).next())
				})
			},
			a = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var s = e("../../../Config/SoundID"),
			c = e("../../../Res/ResLoader"),
			l = e("../../guide/GuideLogic"),
			u = e("./WorldMatchLayer"),
			d = cc._decorator,
			f = d.ccclass,
			p = (d.property, d.menu, function (e) {
				function t() {
					return null !== e && e.apply(this, arguments) || this
				}
				var n;
				return o(t, e), n = t, t.prototype.onLoad = function () {
					e.prototype.onLoad.call(this), this.rule_node.active = !1, this.redpacket_first_node.active = !1
				}, t.prototype.onDataLoad = function () {
					var t = this;
					e.prototype.onDataLoad.call(this), this.scheduleOnce(function () {
						// !t.data.autoMatching && l.default.instance.isGuideFinished(l.GuideStep.Pvp) && 0 == DataBus.other.pvpRedpacketPoped && (t.showNode(t.redpacket_first_node, t.view_prize_btn.node), DataBus.other.pvpRedpacketPoped = 1, DataBus.other.save())
					}, .4)
				}, t.prototype.onBtnRuleOpenClick = function () {
					SoundMgr.play(s.default.btn), this.showNode(this.rule_node, this.rule_open_btn.node)
				}, t.prototype.onBtnRuleCloseClick = function () {
					SoundMgr.play(s.default.btn), this.hideNode(this.rule_node, this.rule_open_btn.node)
				}, t.prototype.onBtnRedpacketCloseClick = function () {
					SoundMgr.play(s.default.btn), this.hideNode(this.redpacket_first_node, this.view_prize_btn.node)
				}, t.prototype.onBtnRedpacketMatchingClick = function () {
					var e = this;
					SoundMgr.play(s.default.btn), this.hideNode(this.redpacket_first_node, this.view_prize_btn.node), this._initPromise && this._initPromise.then(function () {
						e.isValid && e.startMatching()
					})
				}, t.prototype.showNode = function (e, t) {
					e.active = !0;
					var n = e.getChildByName("layer");
					if (n) {
						if (n.scale = 0, n.stopAllActions(), n.runAction(cc.scaleTo(.3, 1, 1)), t) {
							var o = Utils.covertToNodeSpaceAR(t, e, cc.Vec2.ZERO);
							n.setPosition(o), n.runAction(cc.moveTo(.3, 0, 0))
						}
						var i = e.getChildByName("mask");
						i && (i.opacity = 0, i.stopAllActions(), i.runAction(cc.fadeTo(.3, 120)))
					}
				}, t.prototype.hideNode = function (e, t) {
					var n = e.getChildByName("layer");
					if (n) {
						if (n.stopAllActions(), n.runAction(cc.sequence(cc.scaleTo(.3, 0, 0), cc.callFunc(function () {
							e.active = !1
						}))), t) {
							var o = Utils.covertToNodeSpaceAR(t, e, cc.Vec2.ZERO);
							n.runAction(cc.moveTo(.3, o.x, o.y))
						}
						var i = e.getChildByName("mask");
						i && (i.stopAllActions(), i.runAction(cc.fadeOut(.3)))
					} else e.active = !1
				}, t.show = function (e) {
					return r(this, void 0, void 0, function () {
						return a(this, function (t) {
							switch (t.label) {
								case 0:
									return [4, c.default.getBundle("game_newbie", !0)];
								case 1:
									return t.sent(), [4, c.default.getBundle("game", !0)];
								case 2:
									return t.sent(), [2, new Promise(function (t, o) {
										var i = new u.WorldMatchLayerParam;
										i.autoMatching = e, i.onClose = t, ui.showLayer(n, i)
									})]
							}
						})
					})
				}, t.prefabName = "home://dynamic/layer/worldMatchWxLayer", t = n = i([f], t)
			}(u.default));
		n.default = p, cc._RF.pop()
	}, {
		"../../../Config/SoundID": "SoundID",
		"../../../Res/ResLoader": "ResLoader",
		"../../guide/GuideLogic": "GuideLogic",
		"./WorldMatchLayer": "WorldMatchLayer"
	}],
	WxBtn: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "aef83Wnd/FCzpPVqPVU595O", "WxBtn");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Data/wxsdk"),
			a = cc._decorator,
			s = a.ccclass,
			c = (a.property, function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t._wxBtn = null, t
				}
				return o(t, e), t.prototype.onLoad = function () { }, t.prototype.start = function () {
					var e = this;
					this.scheduleOnce(function () {
						e._wxBtn = e.createWxBtn(), e.updateSize(), e.afterCreateWxBtn()
					}, .02)
				}, t.prototype.setWxBtnEnabled = function (e) {
					this._wxBtn && (e ? this._wxBtn.show() : this._wxBtn.hide())
				}, t.prototype.onDestroy = function () {
					this._wxBtn && this._wxBtn.destroy()
				}, t.prototype.onEnable = function () {
					this._wxBtn && this._wxBtn.show()
				}, t.prototype.onDisable = function () {
					this._wxBtn && this._wxBtn.hide()
				}, t.prototype.updateSize = function () {
					if (r.default.isWX() && this._wxBtn && this._wxBtn.style) {
						var e = cc.view.getVisibleSize(),
							t = wx.getSystemInfoSync().screenHeight / e.height,
							n = this.node.convertToWorldSpaceAR(cc.v2(-this.node.width * this.node.anchorX, -this.node.height * this.node.anchorY)),
							o = this.node.convertToWorldSpaceAR(cc.v2(this.node.width * (1 - this.node.anchorX), this.node.height * (1 - this.node.anchorY))),
							i = n.x * t,
							a = (e.height - o.y) * t,
							s = Math.abs(o.x - n.x) * t,
							c = Math.abs(o.y - n.y) * t;
						this._wxBtn.style.left = i, this._wxBtn.style.top = a, this._wxBtn.style.width = s, this._wxBtn.style.height = c
					}
				}, t = i([s], t)
			}(cc.Component));
		n.default = c, cc._RF.pop()
	}, {
		"../Data/wxsdk": "wxsdk"
	}],
	YdsdkBridge: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "7661apfq1ZNP7H2z4ihsJvW", "YdsdkBridge");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = e("../Config/GameConfig"),
			a = e("../Base/Share"),
			s = e("../Base/ShareTypes"),
			c = e("../Config/EventID"),
			l = e("../Base/StatusStack"),
			u = e("../Config/StatusStackID"),
			d = e("./HomeScene"),
			f = e("../Res/ResLoader"),
			p = e("../Data/wxsdk"),
			h = function () {
				function e() {
					this._timer = 0, this._saleData = null, this._sharePosNameList = null
				}
				return Object.defineProperty(e, "instance", {
					get: function () {
						return this._instance || (this._instance = new e)
					},
					enumerable: !1,
					configurable: !0
				}), Object.defineProperty(e.prototype, "useSale", {
					get: function () {
						return p.default.isWX()
					},
					enumerable: !1,
					configurable: !0
				}), e.prototype.init = function () {
					return o(this, void 0, void 0, function () {
						var e, t, n, o, s = this;
						return i(this, function (i) {
							switch (i.label) {
								case 0:
									return p.default.isWX() ? [4, Server.getUserId()] : [2, {
										code: 0
									}];
								case 1:
									return (e = i.sent()) ? (t = r.GameConfig.SdkConfig, window.YDConfig.appID = "wx130df841e96138d0", window.YDConfig.version = "1.0." + t.game_version, window.YDConfig.wxVideoId = t.videoId, window.YDConfig.wxShareText = a.default.defaultShareTitle, window.YDConfig.wxShareUrl = a.default.defaultSharePic, [4, new Promise(function (t, n) {
										YDSDK.load({
											account: e,
											onSuccess: t
										})
									})]) : [2, {
										code: -1
									}];
								case 2:
									return i.sent(), cc.game.on(cc.game.EVENT_HIDE, function () {
										console.log("游戏进入后台"), YDSDK.onHide()
									}, this), cc.game.on(cc.game.EVENT_SHOW, function () {
										console.log("重新返回游戏"), YDSDK.onShow()
									}, this), n = this._getSharePosNameList(), Object.keys(n).forEach(function (e) {
										var t = n[e];
										YDSDK.initShareVideo({
											moduleId: t,
											onUpdate: function (e, t) {
												cc.systemEvent.emit(c.default.VIDEO_CHANGED)
											}
										})
									}), p.default.isWX() && wx.onAddToFavorites && wx.onAddToFavorites(function () {
										var e = window.YDConfig.wxShareUrl;
										return s.onWeidu(201), {
											imageUrl: e
										}
									}), this.useSale && this._getSaleData(), (o = function () {
										YDSDK.onEvent({
											event: "onlineTime",
											time: Date.now(),
											scene: "index"
										})
									})(), clearTimeout(this._timer), this._timer = setInterval(o, 3e4), [2, {
										code: 0
									}]
							}
						})
					})
				}, e.prototype.initYtSdk = function () {
					var e = r.GameConfig.SdkConfig;
					sdk.game_id = e.game_id, sdk.game_version = e.game_version, sdk.banner_ids = [e.bannerId], sdk.interId = e.interId, sdk.sys = p.default.isWX() && wx.getSystemInfoSync ? wx.getSystemInfoSync() : {}, p.default.isWX() && (wx.offShow(sdk._runOnShowCallback), wx.onShow(sdk._runOnShowCallback), wx.offHide(sdk._runOnHideCallback), wx.onHide(sdk._runOnHideCallback)), sdk.interId && sdk.createInterAd()
				}, e.prototype.isShareOrVideo = function (e) {
					var t = this._getShareModuleId(e),
						n = YDSDK.getShareVideoType(t);
					return this._getRewardType(n)
				}, e.prototype.shareOrVideo = function (e) {
					var t = this._getShareModuleId(e);
					return new Promise(function (e, n) {
						cc.director.pause(), l.default.instance.addStatus(u.default.banner, "video", !1);
						var o = function () {
							cc.director.resume(), l.default.instance.removeStatus(u.default.banner, "video"), d.default.resumeMusic("视频或分享后，在首页场景手动恢复播放背景音乐")
						};
						YDSDK.onShareVideo({
							moduleId: t,
							onSuccess: function (t) {
								o(), e(t)
							},
							onFail: function (e) {
								o(), n(e)
							}
						})
					})
				}, e.prototype.share = function (e) {
					return YDSDK.onShare({
						query: e
					})
				}, e.prototype.enableSystemShare = function () {
					var e = window.YDConfig.wxShareText,
						t = window.YDConfig.wxShareUrl;
					return sdk.onShareWithCallback(function () {
						return {
							title: e,
							imageUrl: t,
							query: ""
						}
					})
				}, e.prototype.onLevelStatistics = function (e, t) {
					r.GameConfig.USE_YDSDK && YDSDK.onLevelStatistics({
						guanqia: e,
						type: t
					})
				}, e.prototype.onWeidu = function (e) {
					r.GameConfig.USE_YDSDK && YDSDK.onWeidu({
						weidu: e
					})
				}, e.prototype.onEvent = function (e, t) {
					r.GameConfig.USE_YDSDK && YDSDK.onEvent({
						event: e,
						time: Date.now(),
						scene: t
					})
				}, e.prototype.reportAdsClick = function (e, t) {
					if (r.GameConfig.USE_YDSDK && this.useSale) {
						var n = e.page,
							o = e.grid,
							i = e.iconId,
							a = e.app_id;
						YDSDK.onSaleActionUpLoad(n, o, i, a, t)
					}
				}, e.prototype.reportAdsShow = function (e) {
					if (r.GameConfig.USE_YDSDK && this.useSale) {
						var t = [];
						e.forEach(function (e) {
							var n = e.iconId,
								o = e.app_id,
								i = t.findIndex(function (e) {
									return e.appid == o && e.iconid == n
								}); - 1 == i ? t.push({
									appid: o,
									iconid: n,
									num: 1
								}) : ++t[i].num
						}), t.length > 0 && YDSDK.onSaleShow(t)
					}
				}, e.prototype.hasAds = function () {
					var e = this,
						t = this._saleData;
					return t && t.saleData ? t && t.isOpenSale : (Utils.delayTime(.3).then(function () {
						e._getSaleData()
					}), !1)
				}, e.prototype.getAdsList = function (e) {
					var t = this;
					void 0 === e && (e = "shouye");
					var n = this._saleData;
					if (!n || !n.saleData) return Utils.delayTime(.3).then(function () {
						t._getSaleData()
					}), [];
					if (!n.isOpenSale) return [];
					var o = [];
					return n.saleData.forEach(function (t) {
						t.lcList.forEach(function (n) {
							n.p == e && n.gList.forEach(function (n) {
								t.piList.forEach(function (i) {
									if (i.idx == n.idx) {
										var r = {
											id: i.idx,
											app_id: t.bAppid,
											app_path: i.bPath,
											qrcode_flag: 0,
											qrcode_url: "",
											icon: {
												skin: i.bIcon
											},
											nameLbl: {
												text: i.btitle || t.bName
											},
											redPoint: {
												visible: !1
											},
											sortIdx: n.sortIdx
										};
										r.page = e, r.grid = n.g, r.iconId = i.idx, o.push(r)
									}
								})
							})
						})
					}), o
				}, e.prototype._getSaleData = function () {
					return o(this, void 0, void 0, function () {
						var e;
						return i(this, function (t) {
							switch (t.label) {
								case 0:
									return this._saleData && this._saleData.saleData ? [3, 2] : (e = this, [4, new Promise(function (e, t) {
										YDSDK.getSaleData(function (t, n) {
											e(t ? n : null)
										})
									})]);
								case 1:
									e._saleData = t.sent(), this._saleData && this._saleData.saleData && this._saleData.isOpenSale && (this._preloadSaleDataIcon(), cc.systemEvent.emit(c.default.INSIDE_ADS_CHANGED)), t.label = 2;
								case 2:
									return [2, this._saleData]
							}
						})
					})
				}, e.prototype._preloadSaleDataIcon = function () {
					if (this._saleData && this._saleData.saleData && this._saleData.isOpenSale) {
						var e = [];
						this._saleData.saleData.forEach(function (t) {
							t.piList.forEach(function (t) {
								var n = t.bIcon; - 1 == e.indexOf(n) && (e.push(n), f.default.getSpriteFrame(n, !1))
							})
						})
					}
				}, e.prototype._getSharePosNameList = function () {
					var e;
					return this._sharePosNameList || (this._sharePosNameList = ((e = {})[s.SharePos.System] = "System", e[s.SharePos.Main] = "Main", e[s.SharePos.NoEnergy] = "NoEnergy", e[s.SharePos.Result] = "Result", e[s.SharePos.Revive] = "Revive", e[s.SharePos.DoublePrize] = "DoublePrize", e[s.SharePos.LevelItem] = "LevelItem", e[s.SharePos.Lottery] = "Lottery", e[s.SharePos.DoubleUpgrade] = "DoubleUpgrade", e[s.SharePos.NoItem] = "NoItem", e[s.SharePos.Challenge] = "Challenge", e[s.SharePos.Balloon] = "Balloon", e[s.SharePos.SaveStar] = "SaveStar", e[s.SharePos.FreeCoins] = "FreeCoins", e[s.SharePos.SignIn] = "SignIn", e[s.SharePos.UnlockCue] = "UnlockCue", e[s.SharePos.Matching] = "Matching", e[s.SharePos.NewbieGift] = "NewbieGift", e[s.SharePos.UnlockEmoji] = "UnlockEmoji", e[s.SharePos.NoPvpTickets] = "NoPvpTickets", e[s.SharePos.SuperLine] = "SuperLine", e)), this._sharePosNameList
				}, e.prototype._getShareModuleId = function (e) {
					var t = this._getSharePosNameList();
					return t[e] || t[s.SharePos.System]
				}, e.prototype._getRewardType = function (e) {
					switch (e) {
						case 0:
							return s.RewardType.Video;
						case 1:
							return s.RewardType.Share;
						default:
							return s.RewardType.None
					}
				}, e._instance = null, e
			}();
		n.default = h, window.YdsdkBridge = h, cc._RF.pop()
	}, {
		"../Base/Share": "Share",
		"../Base/ShareTypes": "ShareTypes",
		"../Base/StatusStack": "StatusStack",
		"../Config/EventID": "EventID",
		"../Config/GameConfig": "GameConfig",
		"../Config/StatusStackID": "StatusStackID",
		"../Data/wxsdk": "wxsdk",
		"../Res/ResLoader": "ResLoader",
		"./HomeScene": "HomeScene"
	}],
	bignumber: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "f886cT2IwhGUbjNo1tr6rX5", "bignumber"),
			function (e) {
				var n, o = /^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,
					i = Math.ceil,
					r = Math.floor,
					a = "[BigNumber Error] ",
					s = a + "Number primitive has more than 15 significant digits: ",
					c = 1e14,
					l = 14,
					u = 9007199254740991,
					d = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],
					f = 1e7,
					p = 1e9;

				function h(e) {
					var t = 0 | e;
					return e > 0 || e === t ? t : t - 1
				}

				function y(e) {
					for (var t, n, o = 1, i = e.length, r = e[0] + ""; o < i;) {
						for (t = e[o++] + "", n = l - t.length; n--; t = "0" + t);
						r += t
					}
					for (i = r.length; 48 === r.charCodeAt(--i););
					return r.slice(0, i + 1 || 1)
				}

				function g(e, t) {
					var n, o, i = e.c,
						r = t.c,
						a = e.s,
						s = t.s,
						c = e.e,
						l = t.e;
					if (!a || !s) return null;
					if (n = i && !i[0], o = r && !r[0], n || o) return n ? o ? 0 : -s : a;
					if (a != s) return a;
					if (n = a < 0, o = c == l, !i || !r) return o ? 0 : !i ^ n ? 1 : -1;
					if (!o) return c > l ^ n ? 1 : -1;
					for (s = (c = i.length) < (l = r.length) ? c : l, a = 0; a < s; a++)
						if (i[a] != r[a]) return i[a] > r[a] ^ n ? 1 : -1;
					return c == l ? 0 : c > l ^ n ? 1 : -1
				}

				function _(e, t, n, o) {
					if (e < t || e > n || e !== (e < 0 ? i(e) : r(e))) throw Error(a + (o || "Argument") + ("number" == typeof e ? e < t || e > n ? " out of range: " : " not an integer: " : " not a primitive number: ") + e)
				}

				function v(e) {
					return "[object Array]" == Object.prototype.toString.call(e)
				}

				function b(e) {
					var t = e.c.length - 1;
					return h(e.e / l) == t && e.c[t] % 2 != 0
				}

				function m(e, t) {
					return (e.length > 1 ? e.charAt(0) + "." + e.slice(1) : e) + (t < 0 ? "e" : "e+") + t
				}

				function w(e, t, n) {
					var o, i;
					if (t < 0) {
						for (i = n + "."; ++t; i += n);
						e = i + e
					} else if (++t > (o = e.length)) {
						for (i = n, t -= o; --t; i += n);
						e += i
					} else t < o && (e = e.slice(0, t) + "." + e.slice(t));
					return e
				} (n = function e(t) {
					var n, S, C, P = M.prototype = {
						constructor: M,
						toString: null,
						valueOf: null
					},
						L = new M(1),
						T = 20,
						D = 4,
						B = -7,
						k = 21,
						R = -1e7,
						E = 1e7,
						I = !1,
						O = 1,
						A = 0,
						x = {
							decimalSeparator: ".",
							groupSeparator: ",",
							groupSize: 3,
							secondaryGroupSize: 0,
							fractionGroupSeparator: "\xa0",
							fractionGroupSize: 0
						},
						N = "0123456789abcdefghijklmnopqrstuvwxyz";

					function M(e, t) {
						var n, i, a, c, d, f, p, h, y = this;
						if (!(y instanceof M)) return new M(e, t);
						if (null == t) {
							if (e instanceof M) return y.s = e.s, y.e = e.e, void (y.c = (e = e.c) ? e.slice() : e);
							if ((f = "number" == typeof e) && 0 * e == 0) {
								if (y.s = 1 / e < 0 ? (e = -e, -1) : 1, e === ~~e) {
									for (c = 0, d = e; d >= 10; d /= 10, c++);
									return y.e = c, void (y.c = [e])
								}
								h = e + ""
							} else {
								if (!o.test(h = e + "")) return C(y, h, f);
								y.s = 45 == h.charCodeAt(0) ? (h = h.slice(1), -1) : 1
							} (c = h.indexOf(".")) > -1 && (h = h.replace(".", "")), (d = h.search(/e/i)) > 0 ? (c < 0 && (c = d), c += +h.slice(d + 1), h = h.substring(0, d)) : c < 0 && (c = h.length)
						} else {
							if (_(t, 2, N.length, "Base"), h = e + "", 10 == t) return V(y = new M(e instanceof M ? e : h), T + y.e + 1, D);
							if (f = "number" == typeof e) {
								if (0 * e != 0) return C(y, h, f, t);
								if (y.s = 1 / e < 0 ? (h = h.slice(1), -1) : 1, M.DEBUG && h.replace(/^0\.0*|\./, "").length > 15) throw Error(s + e);
								f = !1
							} else y.s = 45 === h.charCodeAt(0) ? (h = h.slice(1), -1) : 1;
							for (n = N.slice(0, t), c = d = 0, p = h.length; d < p; d++)
								if (n.indexOf(i = h.charAt(d)) < 0) {
									if ("." == i) {
										if (d > c) {
											c = p;
											continue
										}
									} else if (!a && (h == h.toUpperCase() && (h = h.toLowerCase()) || h == h.toLowerCase() && (h = h.toUpperCase()))) {
										a = !0, d = -1, c = 0;
										continue
									}
									return C(y, e + "", f, t)
								} (c = (h = S(h, t, 10, y.s)).indexOf(".")) > - 1 ? h = h.replace(".", "") : c = h.length
						}
						for (d = 0; 48 === h.charCodeAt(d); d++);
						for (p = h.length; 48 === h.charCodeAt(--p););
						if (h = h.slice(d, ++p)) {
							if (p -= d, f && M.DEBUG && p > 15 && (e > u || e !== r(e))) throw Error(s + y.s * e);
							if ((c = c - d - 1) > E) y.c = y.e = null;
							else if (c < R) y.c = [y.e = 0];
							else {
								if (y.e = c, y.c = [], d = (c + 1) % l, c < 0 && (d += l), d < p) {
									for (d && y.c.push(+h.slice(0, d)), p -= l; d < p;) y.c.push(+h.slice(d, d += l));
									h = h.slice(d), d = l - h.length
								} else d -= p;
								for (; d--; h += "0");
								y.c.push(+h)
							}
						} else y.c = [y.e = 0]
					}

					function F(e, t, n, o) {
						var i, r, a, s, c;
						if (null == n ? n = D : _(n, 0, 8), !e.c) return e.toString();
						if (i = e.c[0], a = e.e, null == t) c = y(e.c), c = 1 == o || 2 == o && a <= B ? m(c, a) : w(c, a, "0");
						else if (r = (e = V(new M(e), t, n)).e, s = (c = y(e.c)).length, 1 == o || 2 == o && (t <= r || r <= B)) {
							for (; s < t; c += "0", s++);
							c = m(c, r)
						} else if (t -= a, c = w(c, r, "0"), r + 1 > s) {
							if (--t > 0)
								for (c += "."; t--; c += "0");
						} else if ((t += r - s) > 0)
							for (r + 1 == s && (c += "."); t--; c += "0");
						return e.s < 0 && i ? "-" + c : c
					}

					function j(e, t) {
						var n, o, i = 0;
						for (v(e[0]) && (e = e[0]), n = new M(e[0]); ++i < e.length;) {
							if (!(o = new M(e[i])).s) {
								n = o;
								break
							}
							t.call(n, o) && (n = o)
						}
						return n
					}

					function U(e, t, n) {
						for (var o = 1, i = t.length; !t[--i]; t.pop());
						for (i = t[0]; i >= 10; i /= 10, o++);
						return (n = o + n * l - 1) > E ? e.c = e.e = null : n < R ? e.c = [e.e = 0] : (e.e = n, e.c = t), e
					}

					function V(e, t, n, o) {
						var a, s, u, f, p, h, y, g = e.c,
							_ = d;
						if (g) {
							e: {
								for (a = 1, f = g[0]; f >= 10; f /= 10, a++);
								if ((s = t - a) < 0) s += l,
									u = t,
									y = (p = g[h = 0]) / _[a - u - 1] % 10 | 0;
								else if ((h = i((s + 1) / l)) >= g.length) {
									if (!o) break e;
									for (; g.length <= h; g.push(0));
									p = y = 0, a = 1, u = (s %= l) - l + 1
								} else {
									for (p = f = g[h], a = 1; f >= 10; f /= 10, a++);
									y = (u = (s %= l) - l + a) < 0 ? 0 : p / _[a - u - 1] % 10 | 0
								}
								if (o = o || t < 0 || null != g[h + 1] || (u < 0 ? p : p % _[a - u - 1]), o = n < 4 ? (y || o) && (0 == n || n == (e.s < 0 ? 3 : 2)) : y > 5 || 5 == y && (4 == n || o || 6 == n && (s > 0 ? u > 0 ? p / _[a - u] : 0 : g[h - 1]) % 10 & 1 || n == (e.s < 0 ? 8 : 7)), t < 1 || !g[0]) return g.length = 0,
									o ? (t -= e.e + 1, g[0] = _[(l - t % l) % l], e.e = -t || 0) : g[0] = e.e = 0,
									e;
								if (0 == s ? (g.length = h, f = 1, h--) : (g.length = h + 1, f = _[l - s], g[h] = u > 0 ? r(p / _[a - u] % _[u]) * f : 0), o)
									for (; ;) {
										if (0 == h) {
											for (s = 1, u = g[0]; u >= 10; u /= 10, s++);
											for (u = g[0] += f, f = 1; u >= 10; u /= 10, f++);
											s != f && (e.e++, g[0] == c && (g[0] = 1));
											break
										}
										if (g[h] += f, g[h] != c) break;
										g[h--] = 0, f = 1
									}
								for (s = g.length; 0 === g[--s]; g.pop());
							}
							e.e > E ? e.c = e.e = null : e.e < R && (e.c = [e.e = 0])
						}
						return e
					}
					return M.clone = e, M.ROUND_UP = 0, M.ROUND_DOWN = 1, M.ROUND_CEIL = 2, M.ROUND_FLOOR = 3, M.ROUND_HALF_UP = 4, M.ROUND_HALF_DOWN = 5, M.ROUND_HALF_EVEN = 6, M.ROUND_HALF_CEIL = 7, M.ROUND_HALF_FLOOR = 8, M.EUCLID = 9, M.config = M.set = function (e) {
						var t, n;
						if (null != e) {
							if ("object" != typeof e) throw Error(a + "Object expected: " + e);
							if (e.hasOwnProperty(t = "DECIMAL_PLACES") && (_(n = e[t], 0, p, t), T = n), e.hasOwnProperty(t = "ROUNDING_MODE") && (_(n = e[t], 0, 8, t), D = n), e.hasOwnProperty(t = "EXPONENTIAL_AT") && (v(n = e[t]) ? (_(n[0], -p, 0, t), _(n[1], 0, p, t), B = n[0], k = n[1]) : (_(n, -p, p, t), B = -(k = n < 0 ? -n : n))), e.hasOwnProperty(t = "RANGE"))
								if (v(n = e[t])) _(n[0], -p, -1, t), _(n[1], 1, p, t), R = n[0], E = n[1];
								else {
									if (_(n, -p, p, t), !n) throw Error(a + t + " cannot be zero: " + n);
									R = -(E = n < 0 ? -n : n)
								} if (e.hasOwnProperty(t = "CRYPTO")) {
									if ((n = e[t]) !== !!n) throw Error(a + t + " not true or false: " + n);
									if (n) {
										if ("undefined" == typeof crypto || !crypto || !crypto.getRandomValues && !crypto.randomBytes) throw I = !n, Error(a + "crypto unavailable");
										I = n
									} else I = n
								}
							if (e.hasOwnProperty(t = "MODULO_MODE") && (_(n = e[t], 0, 9, t), O = n), e.hasOwnProperty(t = "POW_PRECISION") && (_(n = e[t], 0, p, t), A = n), e.hasOwnProperty(t = "FORMAT")) {
								if ("object" != typeof (n = e[t])) throw Error(a + t + " not an object: " + n);
								x = n
							}
							if (e.hasOwnProperty(t = "ALPHABET")) {
								if ("string" != typeof (n = e[t]) || /^.$|\.|(.).*\1/.test(n)) throw Error(a + t + " invalid: " + n);
								N = n
							}
						}
						return {
							DECIMAL_PLACES: T,
							ROUNDING_MODE: D,
							EXPONENTIAL_AT: [B, k],
							RANGE: [R, E],
							CRYPTO: I,
							MODULO_MODE: O,
							POW_PRECISION: A,
							FORMAT: x,
							ALPHABET: N
						}
					}, M.isBigNumber = function (e) {
						return e instanceof M || e && !0 === e._isBigNumber || !1
					}, M.maximum = M.max = function () {
						return j(arguments, P.lt)
					}, M.minimum = M.min = function () {
						return j(arguments, P.gt)
					}, M.random = function () {
						var e = 9007199254740992 * Math.random() & 2097151 ? function () {
							return r(9007199254740992 * Math.random())
						} : function () {
							return 8388608 * (1073741824 * Math.random() | 0) + (8388608 * Math.random() | 0)
						};
						return function (t) {
							var n, o, s, c, u, f = 0,
								h = [],
								y = new M(L);
							if (null == t ? t = T : _(t, 0, p), c = i(t / l), I)
								if (crypto.getRandomValues) {
									for (n = crypto.getRandomValues(new Uint32Array(c *= 2)); f < c;)(u = 131072 * n[f] + (n[f + 1] >>> 11)) >= 9e15 ? (o = crypto.getRandomValues(new Uint32Array(2)), n[f] = o[0], n[f + 1] = o[1]) : (h.push(u % 1e14), f += 2);
									f = c / 2
								} else {
									if (!crypto.randomBytes) throw I = !1, Error(a + "crypto unavailable");
									for (n = crypto.randomBytes(c *= 7); f < c;)(u = 281474976710656 * (31 & n[f]) + 1099511627776 * n[f + 1] + 4294967296 * n[f + 2] + 16777216 * n[f + 3] + (n[f + 4] << 16) + (n[f + 5] << 8) + n[f + 6]) >= 9e15 ? crypto.randomBytes(7).copy(n, f) : (h.push(u % 1e14), f += 7);
									f = c / 7
								} if (!I)
								for (; f < c;)(u = e()) < 9e15 && (h[f++] = u % 1e14);
							for (c = h[--f], t %= l, c && t && (u = d[l - t], h[f] = r(c / u) * u); 0 === h[f]; h.pop(), f--);
							if (f < 0) h = [s = 0];
							else {
								for (s = -1; 0 === h[0]; h.splice(0, 1), s -= l);
								for (f = 1, u = h[0]; u >= 10; u /= 10, f++);
								f < l && (s -= l - f)
							}
							return y.e = s, y.c = h, y
						}
					}(), S = function () {
						function e(e, t, n, o) {
							for (var i, r, a = [0], s = 0, c = e.length; s < c;) {
								for (r = a.length; r--; a[r] *= t);
								for (a[0] += o.indexOf(e.charAt(s++)), i = 0; i < a.length; i++) a[i] > n - 1 && (null == a[i + 1] && (a[i + 1] = 0), a[i + 1] += a[i] / n | 0, a[i] %= n)
							}
							return a.reverse()
						}
						return function (t, o, i, r, a) {
							var s, c, l, u, d, f, p, h, g = t.indexOf("."),
								_ = T,
								v = D;
							for (g >= 0 && (u = A, A = 0, t = t.replace(".", ""), f = (h = new M(o)).pow(t.length - g), A = u, h.c = e(w(y(f.c), f.e, "0"), 10, i, "0123456789"), h.e = h.c.length), l = u = (p = e(t, o, i, a ? (s = N, "0123456789") : (s = "0123456789", N))).length; 0 == p[--u]; p.pop());
							if (!p[0]) return s.charAt(0);
							if (g < 0 ? --l : (f.c = p, f.e = l, f.s = r, p = (f = n(f, h, _, v, i)).c, d = f.r, l = f.e), g = p[c = l + _ + 1], u = i / 2, d = d || c < 0 || null != p[c + 1], d = v < 4 ? (null != g || d) && (0 == v || v == (f.s < 0 ? 3 : 2)) : g > u || g == u && (4 == v || d || 6 == v && 1 & p[c - 1] || v == (f.s < 0 ? 8 : 7)), c < 1 || !p[0]) t = d ? w(s.charAt(1), -_, s.charAt(0)) : s.charAt(0);
							else {
								if (p.length = c, d)
									for (--i; ++p[--c] > i;) p[c] = 0, c || (++l, p = [1].concat(p));
								for (u = p.length; !p[--u];);
								for (g = 0, t = ""; g <= u; t += s.charAt(p[g++]));
								t = w(t, l, s.charAt(0))
							}
							return t
						}
					}(), n = function () {
						function e(e, t, n) {
							var o, i, r, a, s = 0,
								c = e.length,
								l = t % f,
								u = t / f | 0;
							for (e = e.slice(); c--;) s = ((i = l * (r = e[c] % f) + (o = u * r + (a = e[c] / f | 0) * l) % f * f + s) / n | 0) + (o / f | 0) + u * a, e[c] = i % n;
							return s && (e = [s].concat(e)), e
						}

						function t(e, t, n, o) {
							var i, r;
							if (n != o) r = n > o ? 1 : -1;
							else
								for (i = r = 0; i < n; i++)
									if (e[i] != t[i]) {
										r = e[i] > t[i] ? 1 : -1;
										break
									} return r
						}

						function n(e, t, n, o) {
							for (var i = 0; n--;) e[n] -= i, i = e[n] < t[n] ? 1 : 0, e[n] = i * o + e[n] - t[n];
							for (; !e[0] && e.length > 1; e.splice(0, 1));
						}
						return function (o, i, a, s, u) {
							var d, f, p, y, g, _, v, b, m, w, S, C, P, L, T, D, B, k = o.s == i.s ? 1 : -1,
								R = o.c,
								E = i.c;
							if (!(R && R[0] && E && E[0])) return new M(o.s && i.s && (R ? !E || R[0] != E[0] : E) ? R && 0 == R[0] || !E ? 0 * k : k / 0 : NaN);
							for (m = (b = new M(k)).c = [], k = a + (f = o.e - i.e) + 1, u || (u = c, f = h(o.e / l) - h(i.e / l), k = k / l | 0), p = 0; E[p] == (R[p] || 0); p++);
							if (E[p] > (R[p] || 0) && f--, k < 0) m.push(1), y = !0;
							else {
								for (L = R.length, D = E.length, p = 0, k += 2, (g = r(u / (E[0] + 1))) > 1 && (E = e(E, g, u), R = e(R, g, u), D = E.length, L = R.length), P = D, S = (w = R.slice(0, D)).length; S < D; w[S++] = 0);
								B = E.slice(), B = [0].concat(B), T = E[0], E[1] >= u / 2 && T++;
								do {
									if (g = 0, (d = t(E, w, D, S)) < 0) {
										if (C = w[0], D != S && (C = C * u + (w[1] || 0)), (g = r(C / T)) > 1)
											for (g >= u && (g = u - 1), v = (_ = e(E, g, u)).length, S = w.length; 1 == t(_, w, v, S);) g--, n(_, D < v ? B : E, v, u), v = _.length, d = 1;
										else 0 == g && (d = g = 1), v = (_ = E.slice()).length;
										if (v < S && (_ = [0].concat(_)), n(w, _, S, u), S = w.length, -1 == d)
											for (; t(E, w, D, S) < 1;) g++, n(w, D < S ? B : E, S, u), S = w.length
									} else 0 === d && (g++, w = [0]);
									m[p++] = g, w[0] ? w[S++] = R[P] || 0 : (w = [R[P]], S = 1)
								} while ((P++ < L || null != w[0]) && k--);
								y = null != w[0], m[0] || m.splice(0, 1)
							}
							if (u == c) {
								for (p = 1, k = m[0]; k >= 10; k /= 10, p++);
								V(b, a + (b.e = p + f * l - 1) + 1, s, y)
							} else b.e = f, b.r = +y;
							return b
						}
					}(), C = function () {
						var e = /^(-?)0([xbo])(?=\w[\w.]*$)/i,
							t = /^([^.]+)\.$/,
							n = /^\.([^.]+)$/,
							o = /^-?(Infinity|NaN)$/,
							i = /^\s*\+(?=[\w.])|^\s+|\s+$/g;
						return function (r, s, c, l) {
							var u, d = c ? s : s.replace(i, "");
							if (o.test(d)) r.s = isNaN(d) ? null : d < 0 ? -1 : 1, r.c = r.e = null;
							else {
								if (!c && (d = d.replace(e, function (e, t, n) {
									return u = "x" == (n = n.toLowerCase()) ? 16 : "b" == n ? 2 : 8, l && l != u ? e : t
								}), l && (u = l, d = d.replace(t, "$1").replace(n, "0.$1")), s != d)) return new M(d, u);
								if (M.DEBUG) throw Error(a + "Not a" + (l ? " base " + l : "") + " number: " + s);
								r.c = r.e = r.s = null
							}
						}
					}(), P.absoluteValue = P.abs = function () {
						var e = new M(this);
						return e.s < 0 && (e.s = 1), e
					}, P.comparedTo = function (e, t) {
						return g(this, new M(e, t))
					}, P.decimalPlaces = P.dp = function (e, t) {
						var n, o, i, r = this;
						if (null != e) return _(e, 0, p), null == t ? t = D : _(t, 0, 8), V(new M(r), e + r.e + 1, t);
						if (!(n = r.c)) return null;
						if (o = ((i = n.length - 1) - h(this.e / l)) * l, i = n[i])
							for (; i % 10 == 0; i /= 10, o--);
						return o < 0 && (o = 0), o
					}, P.dividedBy = P.div = function (e, t) {
						return n(this, new M(e, t), T, D)
					}, P.dividedToIntegerBy = P.idiv = function (e, t) {
						return n(this, new M(e, t), 0, 1)
					}, P.exponentiatedBy = P.pow = function (e, t) {
						var n, o, s, c, u, d, f, p = this;
						if ((e = new M(e)).c && !e.isInteger()) throw Error(a + "Exponent not an integer: " + e);
						if (null != t && (t = new M(t)), c = e.e > 14, !p.c || !p.c[0] || 1 == p.c[0] && !p.e && 1 == p.c.length || !e.c || !e.c[0]) return f = new M(Math.pow(+p.valueOf(), c ? 2 - b(e) : +e)), t ? f.mod(t) : f;
						if (u = e.s < 0, t) {
							if (t.c ? !t.c[0] : !t.s) return new M(NaN);
							(o = !u && p.isInteger() && t.isInteger()) && (p = p.mod(t))
						} else {
							if (e.e > 9 && (p.e > 0 || p.e < -1 || (0 == p.e ? p.c[0] > 1 || c && p.c[1] >= 24e7 : p.c[0] < 8e13 || c && p.c[0] <= 9999975e7))) return s = p.s < 0 && b(e) ? -0 : 0, p.e > -1 && (s = 1 / s), new M(u ? 1 / s : s);
							A && (s = i(A / l + 2))
						}
						for (c ? (n = new M(.5), d = b(e)) : d = e % 2, u && (e.s = 1), f = new M(L); ;) {
							if (d) {
								if (!(f = f.times(p)).c) break;
								s ? f.c.length > s && (f.c.length = s) : o && (f = f.mod(t))
							}
							if (c) {
								if (V(e = e.times(n), e.e + 1, 1), !e.c[0]) break;
								c = e.e > 14, d = b(e)
							} else {
								if (!(e = r(e / 2))) break;
								d = e % 2
							}
							p = p.times(p), s ? p.c && p.c.length > s && (p.c.length = s) : o && (p = p.mod(t))
						}
						return o ? f : (u && (f = L.div(f)), t ? f.mod(t) : s ? V(f, A, D, void 0) : f)
					}, P.integerValue = function (e) {
						var t = new M(this);
						return null == e ? e = D : _(e, 0, 8), V(t, t.e + 1, e)
					}, P.isEqualTo = P.eq = function (e, t) {
						return 0 === g(this, new M(e, t))
					}, P.isFinite = function () {
						return !!this.c
					}, P.isGreaterThan = P.gt = function (e, t) {
						return g(this, new M(e, t)) > 0
					}, P.isGreaterThanOrEqualTo = P.gte = function (e, t) {
						return 1 === (t = g(this, new M(e, t))) || 0 === t
					}, P.isInteger = function () {
						return !!this.c && h(this.e / l) > this.c.length - 2
					}, P.isLessThan = P.lt = function (e, t) {
						return g(this, new M(e, t)) < 0
					}, P.isLessThanOrEqualTo = P.lte = function (e, t) {
						return -1 === (t = g(this, new M(e, t))) || 0 === t
					}, P.isNaN = function () {
						return !this.s
					}, P.isNegative = function () {
						return this.s < 0
					}, P.isPositive = function () {
						return this.s > 0
					}, P.isZero = function () {
						return !!this.c && 0 == this.c[0]
					}, P.minus = function (e, t) {
						var n, o, i, r, a = this,
							s = a.s;
						if (t = (e = new M(e, t)).s, !s || !t) return new M(NaN);
						if (s != t) return e.s = -t, a.plus(e);
						var u = a.e / l,
							d = e.e / l,
							f = a.c,
							p = e.c;
						if (!u || !d) {
							if (!f || !p) return f ? (e.s = -t, e) : new M(p ? a : NaN);
							if (!f[0] || !p[0]) return p[0] ? (e.s = -t, e) : new M(f[0] ? a : 3 == D ? -0 : 0)
						}
						if (u = h(u), d = h(d), f = f.slice(), s = u - d) {
							for ((r = s < 0) ? (s = -s, i = f) : (d = u, i = p), i.reverse(), t = s; t--; i.push(0));
							i.reverse()
						} else
							for (o = (r = (s = f.length) < (t = p.length)) ? s : t, s = t = 0; t < o; t++)
								if (f[t] != p[t]) {
									r = f[t] < p[t];
									break
								} if (r && (i = f, f = p, p = i, e.s = -e.s), (t = (o = p.length) - (n = f.length)) > 0)
							for (; t--; f[n++] = 0);
						for (t = c - 1; o > s;) {
							if (f[--o] < p[o]) {
								for (n = o; n && !f[--n]; f[n] = t);
								--f[n], f[o] += c
							}
							f[o] -= p[o]
						}
						for (; 0 == f[0]; f.splice(0, 1), --d);
						return f[0] ? U(e, f, d) : (e.s = 3 == D ? -1 : 1, e.c = [e.e = 0], e)
					}, P.modulo = P.mod = function (e, t) {
						var o, i, r = this;
						return e = new M(e, t), !r.c || !e.s || e.c && !e.c[0] ? new M(NaN) : !e.c || r.c && !r.c[0] ? new M(r) : (9 == O ? (i = e.s, e.s = 1, o = n(r, e, 0, 3), e.s = i, o.s *= i) : o = n(r, e, 0, O), (e = r.minus(o.times(e))).c[0] || 1 != O || (e.s = r.s), e)
					}, P.multipliedBy = P.times = function (e, t) {
						var n, o, i, r, a, s, u, d, p, y, g, _, v, b, m, w = this,
							S = w.c,
							C = (e = new M(e, t)).c;
						if (!(S && C && S[0] && C[0])) return !w.s || !e.s || S && !S[0] && !C || C && !C[0] && !S ? e.c = e.e = e.s = null : (e.s *= w.s, S && C ? (e.c = [0], e.e = 0) : e.c = e.e = null), e;
						for (o = h(w.e / l) + h(e.e / l), e.s *= w.s, (u = S.length) < (y = C.length) && (v = S, S = C, C = v, i = u, u = y, y = i), i = u + y, v = []; i--; v.push(0));
						for (b = c, m = f, i = y; --i >= 0;) {
							for (n = 0, g = C[i] % m, _ = C[i] / m | 0, r = i + (a = u); r > i;) n = ((d = g * (d = S[--a] % m) + (s = _ * d + (p = S[a] / m | 0) * g) % m * m + v[r] + n) / b | 0) + (s / m | 0) + _ * p, v[r--] = d % b;
							v[r] = n
						}
						return n ? ++o : v.splice(0, 1), U(e, v, o)
					}, P.negated = function () {
						var e = new M(this);
						return e.s = -e.s || null, e
					}, P.plus = function (e, t) {
						var n, o = this,
							i = o.s;
						if (t = (e = new M(e, t)).s, !i || !t) return new M(NaN);
						if (i != t) return e.s = -t, o.minus(e);
						var r = o.e / l,
							a = e.e / l,
							s = o.c,
							u = e.c;
						if (!r || !a) {
							if (!s || !u) return new M(i / 0);
							if (!s[0] || !u[0]) return u[0] ? e : new M(s[0] ? o : 0 * i)
						}
						if (r = h(r), a = h(a), s = s.slice(), i = r - a) {
							for (i > 0 ? (a = r, n = u) : (i = -i, n = s), n.reverse(); i--; n.push(0));
							n.reverse()
						}
						for ((i = s.length) - (t = u.length) < 0 && (n = u, u = s, s = n, t = i), i = 0; t;) i = (s[--t] = s[t] + u[t] + i) / c | 0, s[t] = c === s[t] ? 0 : s[t] % c;
						return i && (s = [i].concat(s), ++a), U(e, s, a)
					}, P.precision = P.sd = function (e, t) {
						var n, o, i, r = this;
						if (null != e && e !== !!e) return _(e, 1, p), null == t ? t = D : _(t, 0, 8), V(new M(r), e, t);
						if (!(n = r.c)) return null;
						if (o = (i = n.length - 1) * l + 1, i = n[i]) {
							for (; i % 10 == 0; i /= 10, o--);
							for (i = n[0]; i >= 10; i /= 10, o++);
						}
						return e && r.e + 1 > o && (o = r.e + 1), o
					}, P.shiftedBy = function (e) {
						return _(e, -u, u), this.times("1e" + e)
					}, P.squareRoot = P.sqrt = function () {
						var e, t, o, i, r, a = this,
							s = a.c,
							c = a.s,
							l = a.e,
							u = T + 4,
							d = new M("0.5");
						if (1 !== c || !s || !s[0]) return new M(!c || c < 0 && (!s || s[0]) ? NaN : s ? a : 1 / 0);
						if (0 == (c = Math.sqrt(+a)) || c == 1 / 0 ? (((t = y(s)).length + l) % 2 == 0 && (t += "0"), c = Math.sqrt(t), l = h((l + 1) / 2) - (l < 0 || l % 2), o = new M(t = c == 1 / 0 ? "1e" + l : (t = c.toExponential()).slice(0, t.indexOf("e") + 1) + l)) : o = new M(c + ""), o.c[0])
							for ((c = (l = o.e) + u) < 3 && (c = 0); ;)
								if (r = o, o = d.times(r.plus(n(a, r, u, 1))), y(r.c).slice(0, c) === (t = y(o.c)).slice(0, c)) {
									if (o.e < l && --c, "9999" != (t = t.slice(c - 3, c + 1)) && (i || "4999" != t)) {
										+t && (+t.slice(1) || "5" != t.charAt(0)) || (V(o, o.e + T + 2, 1), e = !o.times(o).eq(a));
										break
									}
									if (!i && (V(r, r.e + T + 2, 0), r.times(r).eq(a))) {
										o = r;
										break
									}
									u += 4, c += 4, i = 1
								} return V(o, o.e + T + 1, D, e)
					}, P.toExponential = function (e, t) {
						return null != e && (_(e, 0, p), e++), F(this, e, t, 1)
					}, P.toFixed = function (e, t) {
						return null != e && (_(e, 0, p), e = e + this.e + 1), F(this, e, t)
					}, P.toFormat = function (e, t) {
						var n = this.toFixed(e, t);
						if (this.c) {
							var o, i = n.split("."),
								r = +x.groupSize,
								a = +x.secondaryGroupSize,
								s = x.groupSeparator,
								c = i[0],
								l = i[1],
								u = this.s < 0,
								d = u ? c.slice(1) : c,
								f = d.length;
							if (a && (o = r, r = a, a = o, f -= o), r > 0 && f > 0) {
								for (o = f % r || r, c = d.substr(0, o); o < f; o += r) c += s + d.substr(o, r);
								a > 0 && (c += s + d.slice(o)), u && (c = "-" + c)
							}
							n = l ? c + x.decimalSeparator + ((a = +x.fractionGroupSize) ? l.replace(new RegExp("\\d{" + a + "}\\B", "g"), "$&" + x.fractionGroupSeparator) : l) : c
						}
						return n
					}, P.toFraction = function (e) {
						var t, o, i, r, s, c, u, f, p, h, g, _, v = this,
							b = v.c;
						if (null != e && (!(f = new M(e)).isInteger() && (f.c || 1 !== f.s) || f.lt(L))) throw Error(a + "Argument " + (f.isInteger() ? "out of range: " : "not an integer: ") + e);
						if (!b) return v.toString();
						for (o = new M(L), h = i = new M(L), r = p = new M(L), _ = y(b), c = o.e = _.length - v.e - 1, o.c[0] = d[(u = c % l) < 0 ? l + u : u], e = !e || f.comparedTo(o) > 0 ? c > 0 ? o : h : f, u = E, E = 1 / 0, f = new M(_), p.c[0] = 0; g = n(f, o, 0, 1), 1 != (s = i.plus(g.times(r))).comparedTo(e);) i = r, r = s, h = p.plus(g.times(s = h)), p = s, o = f.minus(g.times(s = o)), f = s;
						return s = n(e.minus(i), r, 0, 1), p = p.plus(s.times(h)), i = i.plus(s.times(r)), p.s = h.s = v.s, t = n(h, r, c *= 2, D).minus(v).abs().comparedTo(n(p, i, c, D).minus(v).abs()) < 1 ? [h.toString(), r.toString()] : [p.toString(), i.toString()], E = u, t
					}, P.toNumber = function () {
						return +this
					}, P.toPrecision = function (e, t) {
						return null != e && _(e, 1, p), F(this, e, t, 2)
					}, P.toString = function (e) {
						var t, n = this,
							o = n.s,
							i = n.e;
						return null === i ? o ? (t = "Infinity", o < 0 && (t = "-" + t)) : t = "NaN" : (t = y(n.c), null == e ? t = i <= B || i >= k ? m(t, i) : w(t, i, "0") : (_(e, 2, N.length, "Base"), t = S(w(t, i, "0"), 10, e, o, !0)), o < 0 && n.c[0] && (t = "-" + t)), t
					}, P.valueOf = P.toJSON = function () {
						var e, t = this,
							n = t.e;
						return null === n ? t.toString() : (e = y(t.c), e = n <= B || n >= k ? m(e, n) : w(e, n, "0"), t.s < 0 ? "-" + e : e)
					}, P._isBigNumber = !0, null != t && M.set(t), M
				}()).default = n.BigNumber = n, "function" == typeof define && define.amd ? define(function () {
					return n
				}) : void 0 !== t && t.exports ? t.exports = n : (e || (e = "undefined" != typeof self && self ? self : window), e.BigNumber = n), window.BigNumber = n
			}(void 0), cc._RF.pop()
	}, {}],
	"cc-console-utils": [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "73182f9IQZH9L8TOFZo16GZ", "cc-console-utils"), cc.tree = function (e) {
			var t = e || 0,
				n = function e(n) {
					var o = "color: " + (null === n.parent || n.activeInHierarchy ? "green" : "grey") + "; font-size: 14px;font-weight:bold",
						i = "color: black; background: lightgrey;margin-left: 5px;border-radius:3px;padding: 0 3px;font-size: 10px;font-weight:bold",
						r = "color: orange; background: black;margin-left: 5px;border-radius:3px;padding:0 3px;fonrt-size: 10px;font-weight:bold;",
						a = "%c" + n.name,
						s = "%c" + n.x.toFixed(0) + "," + n.y.toFixed(0) + "," + n.width.toFixed(0) + "," + n.height.toFixed(0) + "," + n.scale.toFixed(1),
						c = "%c" + t++;
					if (n.childrenCount > 0) {
						console.groupCollapsed(a + s + c, o, i, r);
						for (var l = 0; l < n.childrenCount; l++) e(n.children[l]);
						console.groupEnd()
					} else console.log(a + s + c, o, i, r)
				};
			if (e instanceof cc.Node) n(e);
			else if (e) {
				var o = cc.cat(e);
				t = o.tempIndex, n(o)
			} else {
				n(cc.director.getScene())
			}
			return "属性依次为x,y,width,height,scale.使用cc.cat(id)查看详细属性."
		}, cc.cat = function (e) {
			var t, n = 0;
			return function o(i) {
				if (!t) {
					if (cc.js.isNumber(e)) {
						if (e === n++) return void (t = i)
					} else {
						if (e.toLowerCase() === i.name.toLowerCase()) return void (t = i);
						n++
					}
					if (i.childrenCount > 0)
						for (var r = 0; r < i.childrenCount; r++) o(i.children[r])
				}
			}(cc.director.getScene()), t && (t.tempIndex = cc.js.isNumber(e) ? e : n), t
		}, cc.list = function (e) {
			var t = [];
			return function n(o) {
				if (o.name.toLowerCase().indexOf(e.toLowerCase()) > -1 && t.push(o), o.childrenCount > 0)
					for (var i = 0; i < o.childrenCount; i++) n(o.children[i])
			}(cc.director.getScene()), 1 === t.length ? t[0] : t
		}, cc.where = function (e) {
			var t = e.name ? e : cc.cat(e);
			if (!t) return null;
			var n = t.getBoundingBoxToWorld(),
				o = new cc.Node,
				i = o.addComponent(cc.Graphics);
			return cc.director.getScene().addChild(o), o.position = n.center, o.group = t.group, o.zIndex = cc.macro.MAX_ZINDEX, 0 === n.width || 0 === n.height ? (i.circle(0, 0, 100), i.fillColor = cc.Color.GREEN, i.fill()) : (o.width = n.width, o.height = n.height, i.rect(-o.width / 2, -o.height / 2, o.width, o.height), i.fillColor = (new cc.Color).fromHEX("#E91E6390"), i.fill()), setTimeout(function () {
				cc.isValid(o) && o.destroy()
			}, 2e3), t
		}, cc.cache = function () {
			var e = cc.loader._cache,
				t = [],
				n = 0;
			for (var o in e) {
				var i = e[o];
				if ("js" !== i.type && "json" !== i.type) {
					var r = "_",
						a = "",
						s = i.content && i.content.__classname__ ? i.content.__classname__ : i.type,
						c = -1;
					if ("png" === i.type || "jpg" === i.type) {
						var l = e[o.replace("." + i.type, ".json")];
						l && l._owner && l._owner._name && (r = l._owner._name, a = l.content.url)
					} else if (i.content.name && i.content.name.length > 0 ? r = i.content.name : i._owner && (r = i._owner && i._owner.name || "_"), "cc.Texture2D" === s) {
						var u = i.content;
						a = u.url;
						var d = u.width * u.height * ((".jpg" === u._native ? 3 : 4) / 1024 / 1024);
						n += d, c = Math.round(1e3 * d) / 1e3
					} else "cc.SpriteFrame" === s && (a = i.content._texture.url);
					t.push({
						queueId: i.queueId,
						type: i.type,
						name: r,
						preview: a,
						id: i.id,
						content: s,
						size: c
					})
				}
			}
			return [t, "缓存 [文件总数:" + t.length + "][纹理缓存:" + n.toFixed(2) + "M]"]
		}, cc._RF.pop()
	}, {}],
	decorator: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "fddffdXwE5K34ci1XyY6902", "decorator"), Object.defineProperty(n, "__esModule", {
			value: !0
		}), n.cryptData = n.enumerable = void 0;
		var o = e("../Lib/bignumber");
		n.enumerable = function (e) {
			return function (t, n, o) {
				o.enumerable = e
			}
		}, n.cryptData = function (e, t) {
			return function (n, i) {
				var r = "_" + i;
				switch (n[r] = void 0, e) {
					case "number":
						Object.defineProperty(n, i, {
							get: function () {
								return void 0 === this[r] ? t : Number(Crypt.decrypt(this[r])) || 0
							},
							set: function (e) {
								this[r] = Crypt.encrypt((e || "").toString())
							},
							enumerable: !0
						});
						break;
					case "BigNumber":
						Object.defineProperty(n, i, {
							get: function () {
								if (void 0 === this[r]) return new o.default(t);
								var e = new o.default(Crypt.decrypt(this[r]));
								return e.isNaN() ? new o.default(0) : e
							},
							set: function (e) {
								this[r] = Crypt.encrypt((e || "").toString())
							},
							enumerable: !0
						});
						break;
					case "string":
						Object.defineProperty(n, i, {
							get: function () {
								return void 0 === this[r] ? t : Crypt.decrypt(this[r]) || ""
							},
							set: function (e) {
								this[r] = Crypt.encrypt((e || "").toString())
							},
							enumerable: !0
						});
						break;
					case "number[]":
						Object.defineProperty(n, i, {
							get: function () {
								return void 0 === this[r] ? t : (this[r] || "").split("_").map(function (e) {
									return Number(e) || 0
								})
							},
							set: function (e) {
								this[r] = e.join("_")
							},
							enumerable: !0
						});
						break;
					case "nonzero[]":
						Object.defineProperty(n, i, {
							get: function () {
								return void 0 === this[r] ? t : (this[r] || "").split("_").map(function (e) {
									return Number(e) || 0
								}).filter(function (e) {
									return e
								})
							},
							set: function (e) {
								this[r] = e.join("_")
							},
							enumerable: !0
						});
						break;
					case "string[]":
						Object.defineProperty(n, i, {
							get: function () {
								return void 0 === this[r] ? t : (this[r] || "").split("_").map(function (e) {
									return e || ""
								})
							},
							set: function (e) {
								this[r] = e.join("_")
							},
							enumerable: !0
						});
						break;
					case "{number}":
						Object.defineProperty(n, i, {
							get: function () {
								if (void 0 === this[r]) return t;
								var e = Object.create(null);
								return (this[r] || "").split("_").forEach(function (t) {
									if (t) {
										var n = t.split("|");
										e[n[0]] = Number(n[1]) || 0
									}
								}), e
							},
							set: function (e) {
								this[r] = Object.keys(e).map(function (t) {
									return t + "|" + e[t]
								}).join("_")
							},
							enumerable: !0
						})
				}
			}
		}, cc._RF.pop()
	}, {
		"../Lib/bignumber": "bignumber"
	}],
	modifyBox2d: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "0ed8a28uh1JaqPRd2X1D8tc", "modifyBox2d");
		var o = Math.abs,
			i = Math.min;
		Math.max;
		b2.ContactSolver.prototype.InitializeVelocityConstraints = function () {
			for (var e = b2.ContactSolver.InitializeVelocityConstraints_s_xfA, t = b2.ContactSolver.InitializeVelocityConstraints_s_xfB, n = b2.ContactSolver.InitializeVelocityConstraints_s_worldManifold, o = 0; o < this.m_count; ++o) {
				var i = this.m_velocityConstraints[o],
					r = this.m_positionConstraints[o],
					a = r.radiusA,
					s = r.radiusB,
					c = this.m_contacts[i.contactIndex].GetManifold(),
					l = i.indexA,
					u = i.indexB,
					d = i.invMassA,
					f = i.invMassB,
					p = i.invIA,
					h = i.invIB,
					y = r.localCenterA,
					g = r.localCenterB,
					_ = this.m_positions[l].c,
					v = this.m_positions[l].a,
					b = this.m_velocities[l].v,
					m = this.m_velocities[l].w,
					w = this.m_positions[u].c,
					S = this.m_positions[u].a,
					C = this.m_velocities[u].v,
					P = this.m_velocities[u].w;
				e.q.SetAngle(v), t.q.SetAngle(S), b2.Vec2.SubVV(_, b2.Rot.MulRV(e.q, y, b2.Vec2.s_t0), e.p), b2.Vec2.SubVV(w, b2.Rot.MulRV(t.q, g, b2.Vec2.s_t0), t.p), n.Initialize(c, e, a, t, s), i.normal.Copy(n.normal), b2.Vec2.CrossVOne(i.normal, i.tangent);
				for (var L = i.pointCount, T = 0; T < L; ++T) {
					var D = i.points[T];
					b2.Vec2.SubVV(n.points[T], _, D.rA), b2.Vec2.SubVV(n.points[T], w, D.rB);
					var B = b2.Vec2.CrossVV(D.rA, i.normal),
						k = b2.Vec2.CrossVV(D.rB, i.normal),
						R = d + f + p * B * B + h * k * k;
					D.normalMass = R > 0 ? 1 / R : 0;
					var E = i.tangent,
						I = b2.Vec2.CrossVV(D.rA, E),
						O = b2.Vec2.CrossVV(D.rB, E),
						A = d + f + p * I * I + h * O * O;
					D.tangentMass = A > 0 ? 1 / A : 0, D.velocityBias = 0;
					var x = b2.Vec2.DotVV(i.normal, b2.Vec2.SubVV(b2.Vec2.AddVCrossSV(C, P, D.rB, b2.Vec2.s_t0), b2.Vec2.AddVCrossSV(b, m, D.rA, b2.Vec2.s_t1), b2.Vec2.s_t0));
					x < -0 && (D.velocityBias += -i.restitution * x)
				}
				if (2 === i.pointCount && g_blockSolve) {
					var N = i.points[0],
						M = i.points[1],
						F = b2.Vec2.CrossVV(N.rA, i.normal),
						j = b2.Vec2.CrossVV(N.rB, i.normal),
						U = b2.Vec2.CrossVV(M.rA, i.normal),
						V = b2.Vec2.CrossVV(M.rB, i.normal),
						G = d + f + p * F * F + h * j * j,
						H = d + f + p * U * U + h * V * V,
						z = d + f + p * F * U + h * j * V;
					G * G < 1e3 * (G * H - z * z) ? (i.K.ex.Set(G, z), i.K.ey.Set(z, H), i.K.GetInverse(i.normalMass)) : i.pointCount = 1
				}
			}
		}, b2.Island.prototype.Solve = function (e, t, n, r) {
			for (var a = b2.Island.s_timer.Reset(), s = t.dt, c = 0; c < this.m_bodyCount; ++c) {
				var l = this.m_bodies[c];
				this.m_positions[c].c.Copy(l.m_sweep.c);
				var u = l.m_sweep.a,
					d = this.m_velocities[c].v.Copy(l.m_linearVelocity),
					f = l.m_angularVelocity;
				l.m_sweep.c0.Copy(l.m_sweep.c), l.m_sweep.a0 = l.m_sweep.a, l.m_type === b2.BodyType.b2_dynamicBody && (d.x += s * (l.m_gravityScale * n.x + l.m_invMass * l.m_force.x), d.y += s * (l.m_gravityScale * n.y + l.m_invMass * l.m_force.y), f += s * l.m_invI * l.m_torque, d.SelfMul(1 / (1 + s * l.m_linearDamping)), f *= 1 / (1 + s * l.m_angularDamping)), this.m_positions[c].a = u, this.m_velocities[c].w = f
			}
			a.Reset();
			var p = b2.Island.s_solverData;
			p.step.Copy(t), p.positions = this.m_positions, p.velocities = this.m_velocities;
			var h = b2.Island.s_contactSolverDef;
			h.step.Copy(t), h.contacts = this.m_contacts, h.count = this.m_contactCount, h.positions = this.m_positions, h.velocities = this.m_velocities, h.allocator = this.m_allocator;
			var y = b2.Island.s_contactSolver.Initialize(h);
			y.InitializeVelocityConstraints(), t.warmStarting && y.WarmStart();
			for (c = 0; c < this.m_jointCount; ++c) this.m_joints[c].InitVelocityConstraints(p);
			e.solveInit = a.GetMilliseconds(), a.Reset();
			for (c = 0; c < t.velocityIterations; ++c) {
				for (var g = 0; g < this.m_jointCount; ++g) this.m_joints[g].SolveVelocityConstraints(p);
				y.SolveVelocityConstraints()
			}
			y.StoreImpulses(), e.solveVelocity = a.GetMilliseconds();
			for (c = 0; c < this.m_bodyCount; ++c) {
				var _ = this.m_positions[c].c,
					v = (u = this.m_positions[c].a, d = this.m_velocities[c].v, f = this.m_velocities[c].w, b2.Vec2.MulSV(s, d, b2.Island.s_translation));
				if (b2.Vec2.DotVV(v, v) > 4) {
					var b = 2 / v.Length();
					d.SelfMul(b)
				}
				var m = s * f;
				if (m * m > 2.4674011002726646) f *= b = 1.570796326795 / o(m);
				_.x += s * d.x, _.y += s * d.y, u += s * f, this.m_positions[c].a = u, this.m_velocities[c].w = f
			}
			a.Reset();
			var w = !1;
			for (c = 0; c < t.positionIterations; ++c) {
				var S = y.SolvePositionConstraints(),
					C = !0;
				for (g = 0; g < this.m_jointCount; ++g) {
					var P = this.m_joints[g].SolvePositionConstraints(p);
					C = C && P
				}
				if (S && C) {
					w = !0;
					break
				}
			}
			for (c = 0; c < this.m_bodyCount; ++c) {
				var L = this.m_bodies[c];
				L.m_sweep.c.Copy(this.m_positions[c].c), L.m_sweep.a = this.m_positions[c].a, L.m_linearVelocity.Copy(this.m_velocities[c].v), L.m_angularVelocity = this.m_velocities[c].w, L.SynchronizeTransform()
			}
			if (e.solvePosition = a.GetMilliseconds(), this.Report(y.m_velocityConstraints), r) {
				var T = 1e37;
				for (c = 0; c < this.m_bodyCount; ++c) {
					(l = this.m_bodies[c]).GetType() !== b2.BodyType.b2_staticBody && (!l.m_autoSleepFlag || l.m_angularVelocity * l.m_angularVelocity > .2741556778080738 || b2.Vec2.DotVV(l.m_linearVelocity, l.m_linearVelocity) > .1 * .1 ? (l.m_sleepTime = 0, T = 0) : (l.m_sleepTime += s, T = i(T, l.m_sleepTime)))
				}
				if (T >= .1 && w)
					for (c = 0; c < this.m_bodyCount; ++c) {
						(l = this.m_bodies[c]).SetAwake(!1)
					}
			}
		}, cc._RF.pop()
	}, {}],
	polyglot: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "3f040sXK6pLrbUhlGTxXCk7", "polyglot"),
			function (e, o) {
				"function" == typeof define && define.amd ? define([], function () {
					return o(e)
				}) : "object" == typeof n ? t.exports = o(e) : e.Polyglot = o(e)
			}(void 0, function (e) {
				function t(e) {
					e = e || {}, this.phrases = {}, this.extend(e.phrases || {}), this.currentLocale = e.locale || "en", this.allowMissing = !!e.allowMissing, this.warn = e.warn || c
				}

				function n(e) {
					var t, n, o, i = {};
					for (t in e)
						if (e.hasOwnProperty(t))
							for (o in n = e[t]) i[n[o]] = t;
					return i
				}

				function o(e) {
					return e.replace(/^\s+|\s+$/g, "")
				}

				function i(e, t, n) {
					var i, r;
					return null != n && e ? i = o((r = e.split(u))[a(t, n)] || r[0]) : i = e, i
				}

				function r(e) {
					var t = n(f);
					return t[e] || t.en
				}

				function a(e, t) {
					return d[r(e)](t)
				}

				function s(e, t) {
					for (var n in t) "_" !== n && t.hasOwnProperty(n) && (e = e.replace(new RegExp("%\\{" + n + "\\}", "g"), t[n]));
					return e
				}

				function c(t) {
					e.console && e.console.warn && e.console.warn("WARNING: " + t)
				}

				function l(e) {
					var t = {};
					for (var n in e) t[n] = e[n];
					return t
				}
				t.VERSION = "0.4.3", t.prototype.locale = function (e) {
					return e && (this.currentLocale = e), this.currentLocale
				}, t.prototype.extend = function (e, t) {
					var n;
					for (var o in e) e.hasOwnProperty(o) && (n = e[o], t && (o = t + "." + o), "object" == typeof n ? this.extend(n, o) : this.phrases[o] = n)
				}, t.prototype.clear = function () {
					this.phrases = {}
				}, t.prototype.replace = function (e) {
					this.clear(), this.extend(e)
				}, t.prototype.t = function (e, t) {
					var n, o;
					return "number" == typeof (t = null == t ? {} : t) && (t = {
						smart_count: t
					}), "string" == typeof this.phrases[e] ? n = this.phrases[e] : "string" == typeof t._ ? n = t._ : this.allowMissing ? n = e : (this.warn('Missing translation for key: "' + e + '"'), o = e), "string" == typeof n && (t = l(t), o = s(o = i(n, this.currentLocale, t.smart_count), t)), o
				}, t.prototype.has = function (e) {
					return e in this.phrases
				};
				var u = "||||",
					d = {
						chinese: function (e) {
							return 0
						},
						german: function (e) {
							return 1 !== e ? 1 : 0
						},
						french: function (e) {
							return e > 1 ? 1 : 0
						},
						russian: function (e) {
							return e % 10 == 1 && e % 100 != 11 ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2
						},
						czech: function (e) {
							return 1 === e ? 0 : e >= 2 && e <= 4 ? 1 : 2
						},
						polish: function (e) {
							return 1 === e ? 0 : e % 10 >= 2 && e % 10 <= 4 && (e % 100 < 10 || e % 100 >= 20) ? 1 : 2
						},
						icelandic: function (e) {
							return e % 10 != 1 || e % 100 == 11 ? 1 : 0
						}
					},
					f = {
						chinese: ["fa", "id", "ja", "ko", "lo", "ms", "th", "tr", "zh"],
						german: ["da", "de", "en", "es", "fi", "el", "he", "hu", "it", "nl", "no", "pt", "sv"],
						french: ["fr", "tl", "pt-br"],
						russian: ["hr", "ru"],
						czech: ["cs"],
						polish: ["pl"],
						icelandic: ["is"]
					};
				return t
			}), cc._RF.pop()
	}, {}],
	sdk: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "a30e4CSq/5LpJNiVcVz2Ahx", "sdk");
		var o = function () {
			var e;
			return (e = console).info.apply(e, arguments)
		},
			i = {
				init: function (e) {
					var t = this,
						n = e.game_id,
						i = e.game_version,
						r = e.videoId,
						a = e.bannerId,
						u = e.gameBannerId,
						d = void 0 === u ? "" : u,
						f = e.interId,
						p = void 0 === f ? "" : f,
						h = e.gamePortalId,
						y = void 0 === h ? "" : h,
						g = e.nativeId,
						_ = void 0 === g ? "" : g,
						v = e.onBannerPlaced,
						b = void 0 === v ? c : v,
						m = e.onBannerResize,
						w = void 0 === m ? l : m,
						S = e.configUseCdn,
						C = void 0 !== S && S,
						P = e.autoPullInterval,
						L = void 0 === P ? 3 : P,
						T = e.autoPullAllConfig,
						D = void 0 === T || T,
						B = e.autoPullMainConfig,
						k = void 0 === B || B,
						R = e.autoPullShare,
						E = void 0 === R || R,
						I = e.autoPullInsideAds,
						O = void 0 === I || I,
						A = e.autoPullWallAds,
						x = void 0 !== A && A,
						N = e.needReportTime,
						M = void 0 !== N && N,
						F = e.loadVideoAdDelay,
						j = void 0 === F ? 0 : F,
						U = e.loadInterAdDelay,
						V = void 0 === U ? 0 : U,
						G = e.loadGamePortalDelay,
						H = void 0 === G ? 0 : G,
						z = e.loadNativeAdDelay,
						W = void 0 === z ? 0 : z,
						q = e.printLog,
						Y = void 0 === q || q,
						K = e.saveLog,
						Z = void 0 === K || K;
					this.game_id = n, this.game_version = i, this.video_ids = Array.isArray(r) ? r : r ? [r] : [], this.banner_ids = Array.isArray(a) ? a : a ? [a] : [], this.game_banner_ids = Array.isArray(d) ? d : d ? [d] : [], this.game_portal_ids = Array.isArray(y) ? y : y ? [y] : [], this.interId = p || "", this._nativeId = _ || "", this.onBannerPlaced = b, this.onBannerResize = w, this.configUseCdn = C, this.autoPullInterval = L, this.autoPullMainConfig = k, this.autoPullShare = E, this.autoPullInsideAds = O, this.autoPullWallAds = x, this.needReportTime = M, this.sys = window.wx && wx.getSystemInfoSync ? wx.getSystemInfoSync() : {}, o = Y ? function () {
						// var e;
						// return (e = console).info.apply(e, arguments)
					} : function () { }, s(Z), o("游戏版本: ", this.game_version), o("SDK版本: ", this.version), this.banner_ids = this._shuffle(this.banner_ids), this.video_ids = this._shuffle(this.video_ids), this.game_banner_ids = this._shuffle(this.game_banner_ids), this.game_portal_ids = this._shuffle(this.game_portal_ids), setTimeout(function () {
						t.video_ids.length > 0 && !t._videoAd && t._loadRewardedVideoAd()
					}, j), setTimeout(function () {
						t.interId && !t.interAd && t.createInterAd()
					}, V), setTimeout(function () {
						t.game_portal_ids && t.game_portal_ids.length > 0 && !t.gamePortal && t.createGamePortal()
					}, H), setTimeout(function () {
						t._nativeId && t.resetNativeAd("初始化", (new Date).getTime())
					}, W), window.wx && wx.offShow(this._runOnShowCallback), window.wx && wx.onShow(this._runOnShowCallback), window.wx && wx.offHide(this._runOnHideCallback), window.wx && wx.onHide(this._runOnHideCallback), this.autoPullAllConfig = D
				},
				version: "0.1.24",
				game_id: "",
				game_version: 1,
				pullCfg: !0,
				lastPullTime: 0,
				_firstPull: !1,
				get autoPullAllConfig() {
					return this._autoPullAllConfig
				},
				set autoPullAllConfig(e) {
					this.enablePullConfigOnShow(e)
				},
				configUseCdn: !1,
				banner_ids: [],
				banner_index: 0,
				bannerMethod: {
					placedTop: function (e, t, n) {
						return {
							width: n,
							top: 0,
							left: .5 * (e - n)
						}
					},
					placedBottom: c,
					resizeTop: function (e, t, n, o, i, r) {
						return {
							top: 0,
							left: .5 * (e - n)
						}
					},
					resizeBottom: l
				},
				onBannerPlaced: c,
				onBannerResize: l,
				onBannerShowSuccess: null,
				onBannerShowFail: null,
				onBannerHide: null,
				onInterShowFail: null,
				video_ids: [],
				video_index: 0,
				interId: "",
				interAd: null,
				game_banner_ids: [],
				game_banner_index: 0,
				onGameBannerPlaced: c,
				onGameBannerResize: l,
				onGameBannerShowSuccess: null,
				onGameBannerShowFail: null,
				onGameBannerHide: null,
				game_portal_ids: [],
				game_portal_index: 0,
				conf: {
					share_flag: -1,
					invite_flag: -1,
					prize_flag: -1,
					banner_refresh_interval: -1
				},
				insideAds: {
					desc: "内推广告",
					name: "get_list",
					url: "",
					url_cdn: "",
					list: [],
					conf: {},
					onChanged: null,
					hasAds: function () {
						return (!window.wx || "function" == typeof wx.navigateToMiniProgram) && Array.isArray(this.list) && this.list.length > 0
					},
					user_id: ""
				},
				wallAds: {
					desc: "试玩墙",
					name: "get_wall",
					url: "",
					url_cdn: "",
					list: [],
					conf: {},
					onChanged: null,
					hasAds: function () {
						return (!window.wx || "function" == typeof wx.navigateToMiniProgram) && Array.isArray(this.list) && this.list.length > 0
					},
					user_id: ""
				},
				onRewardsADClosed: null,
				onRewardsADLoaded: null,
				onRewardsADError: null,
				onRemoteLoaded: null,
				sys: {},
				pullMainConfig: function (e, t) {
					void 0 === e && (e = null), void 0 === t && (t = null), i.configUseCdn ? i._getRemoteConfigByCdn(e, t) : i._getRemoteConfig(e, t), i._firstPull = !0
				},
				pullOtherConfig: function (e) {
					void 0 === e && (e = {
						inside: !0,
						wall: !0,
						share: !0
					});
					var t = {
						inside: !0,
						wall: !0,
						share: !0
					};
					i.extend(t, e), (e = t).inside && i._getAds(i.insideAds), e.wall && i._getAds(i.wallAds), e.share && i._getRemoteShareConfig()
				},
				enablePullConfigOnShow: function (e) {
					this._autoPullAllConfig = e, i.offShow("sdk"), e && i.onShow("sdk", function (e) {
						var t = (new Date).getTime() / 1e3 - i.lastPullTime;
						i.pullCfg && t > i.autoPullInterval ? (i.lastPullTime = (new Date).getTime() / 1e3, i.autoPullMainConfig && i.pullMainConfig(), i.pullOtherConfig({
							inside: i.autoPullInsideAds,
							wall: i.autoPullWallAds,
							share: i.autoPullShare
						})) : i.pullCfg = !0
					}, 0, !i._firstPull)
				},
				onShow: function (e, t, n, o) {
					void 0 === n && (n = 0), void 0 === o && (o = !1);
					var i = this._onShowList.findIndex(function (t) {
						return t.name == e
					});
					if (-1 !== i) {
						var r = this._onShowList[i];
						r.callback = t, r.order = n
					} else this._onShowList.push({
						name: e,
						callback: t,
						order: n
					});
					o && window.wx && t && t(wx.getLaunchOptionsSync())
				},
				offShow: function (e) {
					var t = this._onShowList.findIndex(function (t) {
						return t.name == e
					});
					return t >= 0 && this._onShowList.splice(t, 1), t >= 0
				},
				onHide: function (e, t, n) {
					void 0 === n && (n = 0);
					var o = this._onHideList.findIndex(function (t) {
						return t.name == e
					});
					if (-1 !== o) {
						var i = this._onHideList[o];
						i.callback = t, i.order = n
					} else this._onHideList.push({
						name: e,
						callback: t,
						order: n
					})
				},
				offHide: function (e) {
					var t = this._onHideList.findIndex(function (t) {
						return t.name == e
					});
					return t >= 0 && this._onHideList.splice(t, 1), t >= 0
				},
				getUserInfo: function (e, t, n) {
					void 0 === e && (e = null), void 0 === t && (t = null), void 0 === n && (n = null), o("SDK.getUserInfo"), this._checkWx(t, n) && wx.getUserInfo({
						withCredentials: !0,
						lang: "zh_CN",
						success: e,
						fail: t,
						complete: n
					})
				},
				updateScore: function (e, t, n, i) {
					if (void 0 === t && (t = null), void 0 === n && (n = null), void 0 === i && (i = null), o("SDK.updateScore " + JSON.stringify(e)), this._checkWx(n, i, "setUserCloudStorage")) {
						var r = this._objectToKVArray(e);
						o("kv array " + JSON.stringify(r)), wx.setUserCloudStorage({
							KVDataList: r,
							success: t,
							fail: n,
							complete: i
						})
					}
				},
				enableShare: function (e, t, n) {
					var i = this;
					void 0 === e && (e = null), void 0 === t && (t = null), void 0 === n && (n = null), o("SDK.enableShare"), this._checkWx(t, n, "showShareMenu") && (this._shareEnabled || wx.showShareMenu({
						withShareTicket: !0,
						success: function (t) {
							i._shareEnabled = !0, e && e(t)
						},
						fail: function (e) {
							t && t(e), n && n(e)
						}
					}))
				},
				onShare: function (e, t, n, r, a, s) {
					if (void 0 === r && (r = null), void 0 === a && (a = null), void 0 === s && (s = null), o("SDK.onShare"), this._checkWx(a, s)) {
						var c = [],
							l = [];
						Array.isArray(e) ? e.forEach(function (e) {
							return c.push(e)
						}) : c.push(e), Array.isArray(t) ? t.forEach(function (e) {
							return l.push(e)
						}) : l.push(t);
						var u = function (e) {
							i.pullCfg = !1;
							var t = "",
								o = "";
							if (0 != c.length) {
								var u = Math.round(1e11 * Math.random()) % c.length;
								t = c[u]
							}
							if (0 != l.length) {
								var d = Math.round(1e11 * Math.random()) % l.length;
								o = l[d]
							}
							return {
								title: t,
								imageUrl: o,
								query: n || "",
								success: r,
								fail: a,
								complete: s
							}
						};
						this._shareEnabled ? wx.onShareAppMessage(u) : this.enableShare(function () {
							wx.onShareAppMessage(u)
						}, a, s)
					}
				},
				offShare: function () {
					o("SDK.offShare"), this._checkWx() && wx.offShareAppMessage()
				},
				onShareWithCallback: function (e) {
					o("SDK.onShareWithCallback"), this._checkWx() && (this._shareEnabled ? wx.onShareAppMessage(e) : this.enableShare(function () {
						wx.onShareAppMessage(e)
					}))
				},
				offShareWithCallback: function (e) {
					o("SDK.offShareWithCallback"), this._checkWx() && wx.offShareAppMessage(e)
				},
				share: function (e, t, n, r, a, s, c) {
					if (void 0 === r && (r = null), void 0 === a && (a = null), void 0 === s && (s = null), void 0 === c && (c = null), o("SDK.share"), this._checkWx(a, s)) {
						i.pullCfg = !1;
						var l = {
							title: e,
							imageUrl: t,
							query: n || "",
							success: r,
							fail: a,
							complete: s,
							cancel: c
						};
						this._shareEnabled ? wx.shareAppMessage(l) : this.enableShare(function () {
							wx.shareAppMessage(l)
						}, a, s)
					}
				},
				subMsg: function (e, t) {
					void 0 === t && (t = null), o("SDK.subMsg"), this._checkWx(t, null, "getOpenDataContext") && wx.getOpenDataContext().postMessage(e)
				},
				showToast: function (e, t, n, i, r, a) {
					void 0 === t && (t = 1500), void 0 === n && (n = null), void 0 === i && (i = null), void 0 === r && (r = null), void 0 === a && (a = null), o("SDK.showToast"), this._checkWx(i, r) && wx.showToast({
						title: e,
						message: e,
						icon: "none",
						image: a || void 0,
						duration: t || 1500,
						success: n,
						fail: i,
						complete: r
					})
				},
				showModal: function (e, t, n, i, r) {
					if (void 0 === n && (n = null), void 0 === i && (i = null), void 0 === r && (r = null), o("SDK.showModal"), this._checkWx(i, r)) {
						var a = !1;
						i && (a = !0), wx.showModal({
							title: e,
							content: t,
							showCancel: a,
							cancelText: "取消",
							confirmText: "确定",
							success: n,
							fail: i,
							complete: r
						})
					}
				},
				openSetting: function (e, t, n) {
					void 0 === e && (e = null), void 0 === t && (t = null), void 0 === n && (n = null), o("SDK.openSetting"), this._checkWx(t, n) && wx.openSetting({
						success: e,
						fail: t,
						complete: n
					})
				},
				showLoading: function (e, t, n, i, r) {
					void 0 === n && (n = null), void 0 === i && (i = null), void 0 === r && (r = null), o("SDK.showLoading"), this._checkWx(i, r, "showLoading") && wx.showLoading({
						title: e,
						message: e,
						mask: t,
						onSuccess: n,
						onFail: i,
						onComplete: r
					})
				},
				hideLoading: function (e, t, n) {
					void 0 === e && (e = null), void 0 === t && (t = null), void 0 === n && (n = null), o("SDK.hideLoading"), this._checkWx(t, n, "hideLoading") && wx.hideLoading({
						onSuccess: e,
						onFail: t,
						onComplete: n
					})
				},
				_videoAd: null,
				_rewardsAdLoaded: !1,
				hasVideo: function () {
					return o("SDK.hasVideo"), this._videoAd && this._videoAd.isReady ? this._videoAd.isReady() : this.video_ids.length > 0 && this._videoAd && this._rewardsAdLoaded
				},
				showVideo: function (e, t, n) {
					var i = this;
					void 0 === e && (e = null), void 0 === t && (t = null), void 0 === n && (n = null), o("SDK.showVideo"), this.video_ids.length > 0 ? this._videoAd ? (this.onRewardsADClosed = e, this._videoAd.load().then(function () {
						o("广告对象: ", i._videoAd), i._videoAd.show().then(function () {
							i._rewardsAdLoaded = !1, o("视频广告播放成功!"), n && n()
						}).catch(function (e) {
							o("视频广告播放失败: ", e), t && t(e)
						})
					}).catch(function (e) {
						o("视频广告加载失败: ", e), t && t(e)
					})) : (o("视频广告组件未创建!"), t && t({
						errMsg: "视频广告组件未创建!"
					})) : (o("未启用视频广告!"), t && t({
						errMsg: "未启用视频广告!"
					}))
				},
				_loadRewardedVideoAd: function () {
					if (o("SDK._loadRewardedVideoAd"), this._checkWx(null, null, "createRewardedVideoAd"))
						if (this.video_ids && 0 != this.video_ids.length) {
							var e = this.video_ids[this.video_index % this.video_ids.length];
							o("[创建视频]使用ID(" + this.video_index + "): " + e), this._videoAd = wx.createRewardedVideoAd({
								adUnitId: e
							}), o("[创建视频]已创建: ", this._videoAd), "undefined" != typeof qg && this._videoAd.load(), this._bindVideoEvent()
						} else o("[创建视频]无广告ID");
					else o("[创建视频]环境不支持")
				},
				_bindVideoEvent: function () {
					var e = this;
					if (!this._rewardsAdEventBind) {
						var t = 0,
							n = function () {
								clearTimeout(t), t = setTimeout(function () {
									e._videoAd && !e._rewardsAdLoaded && e._videoAd.load()
								}, 3e3)
							};
						this._videoAd.onClose(function (t) {
							if (o("[视频事件]onClose: ", JSON.stringify(t)), e.onRewardsADClosed) {
								var i = !t || void 0 === t.isEnded || t.isEnded;
								e.onRewardsADClosed(i)
							}
							"undefined" != typeof qg && n()
						}), this._videoAd.onLoad(function (t) {
							o("[视频事件]onLoad: ", JSON.stringify(t)), e._rewardsAdLoaded = !0, e.onRewardsADLoaded && e.onRewardsADLoaded()
						}), this._videoAd.onError(function (t) {
							if (o("[视频事件]onError: ", JSON.stringify(t)), e._rewardsAdLoaded = !1, e.onRewardsADError && e.onRewardsADError(), "undefined" != typeof qg) n();
							else if (e.video_index += 1, e.video_index < 15) {
								var i = e.video_ids[e.video_index % e.video_ids.length];
								o("[视频]重新创建视频广告(" + e.video_index + "): " + i), e._videoAd = wx.createRewardedVideoAd({
									adUnitId: i
								})
							}
						}), this._rewardsAdEventBind = !0
					}
				},
				_banner: null,
				_bannerTimer: 0,
				_bannerVisible: !1,
				_bannerHasShow: !1,
				_bannerPromise: null,
				showBanner: function (e, t) {
					// var n = this;
					// if (void 0 === e && (e = null), void 0 === t && (t = null), o("SDK.showBanner"), this._bannerHasShow = !0, this._bannerPromise) o("[显示横幅]横幅正在创建中");
					// else if ("undefined" == typeof qg || !this._bannerVisible)
					// 	if (this._bannerVisible = !1, this.banner_ids.length > 0) {
					// 		var r = function (e) {
					// 			e > 0 && (clearTimeout(n._bannerTimer), n._bannerTimer = setTimeout(function () {
					// 				n.resetBanner("定时刷新", (new Date).getTime())
					// 			}, 1e3 * e))
					// 		},
					// 			a = function () {
					// 				if (!n._bannerHasShow) return o("[显示横幅]显示成功, 但期间已经调用了hideBanner, 关闭横幅"), n._banner.hide(), void (n._bannerVisible = !1);
					// 				o("[显示横幅]显示成功!"), n._bannerVisible = !0, r(n.conf.banner_refresh_interval), e && e(), i.onBannerShowSuccess && i.onBannerShowSuccess()
					// 			},
					// 			s = function (e) {
					// 				o("[显示横幅]显示失败! ", JSON.stringify(e)), o("将在" + n.conf.banner_refresh_interval + "秒后重试(hideBanner会取消重试)"), r(n.conf.banner_refresh_interval), t && t(), i.onBannerShowFail && i.onBannerShowFail()
					// 			},
					// 			c = function () {
					// 				n._bannerPromise = n._createBannerAd(), n._bannerPromise.then(function (e) {
					// 					n._bannerPromise = null;
					// 					var t = n._banner.show();
					// 					t ? t.then(a).catch(s) : (o("[显示横幅]show返回的promise为空"), a())
					// 				}).catch(function (e) {
					// 					n._bannerPromise = null, s(e)
					// 				})
					// 			};
					// 		if (clearTimeout(this._bannerTimer), this._banner) {
					// 			var l = this._banner.show();
					// 			l ? "undefined" != typeof qg ? l.then(a).catch(s) : l.then(a).catch(c) : (o("[显示横幅]show返回的promise为空"), a())
					// 		} else c()
					// 	} else o("SDK.showBanner: 无横幅广告ID!"), t && t(), i.onBannerShowFail && i.onBannerShowFail()
				},
				hideBanner: function () {
					o("SDK.hideBanner"), this._bannerVisible = !1, this._bannerHasShow = !1, this._banner && this._banner.hide(), clearTimeout(this._bannerTimer), this._bannerTimer = 0, this.onBannerHide && this.onBannerHide()
				},
				removeBanner: function () {
					o("SDK.removeBanner"), this._bannerVisible = !1, this._banner && (this._banner.destroy(), this._banner = null), this._bannerTimer && (clearTimeout(this._bannerTimer), this._bannerTimer = 0)
				},
				_resetBanner: null,
				get resetBanner() {
					var e = this;
					if (!this._resetBanner) {
						this._resetBanner = i._throttle(function (t, n) {
							o("[刷新横幅]" + t + ",（" + new Date(n).toLocaleString() + " ~ " + (new Date).toLocaleString() + "）"), e._banner && ("undefined" == typeof qg && (o("[刷新横幅]移除横幅广告"), e._banner.destroy(), e._banner = null), e._bannerVisible = !1), o("[刷新横幅]重新显示横幅广告"), e._bannerTimer = setTimeout(function () {
								e._bannerHasShow && e.showBanner()
							}, 60)
						}, 11e3)
					}
					return this._resetBanner
				},
				_createBannerAd: function () {
					// var e = this;
					// return o("SDK._createBannerAd"), new Promise(function (t, n) {
					// 	if (e._checkWx(n, null, "createBannerAd")) {
					// 		if (0 == e.banner_ids.length) {
					// 			return o("[创建横幅]无ID"), n("[创建横幅]无ID")
					// 		}
					// 		e._banner && (e._banner.destroy(), e._banner = null);
					// 		var i = e.banner_ids[e.banner_index];
					// 		o("[创建横幅]使用ID(" + e.banner_index + "): " + i);
					// 		var r = e.sys.screenWidth,
					// 			a = e.sys.screenHeight,
					// 			s = "undefined" != typeof qq || "undefined" != typeof qg ? r : 300;
					// 		o("[创建横幅]使用样式:", e.onBannerPlaced(r, a, s));
					// 		var c = wx.createBannerAd({
					// 			adUnitId: i,
					// 			style: e.onBannerPlaced(r, a, s)
					// 		});
					// 		e._banner = c;
					// 		var l = function e(n) {
					// 			o("[创建横幅]onLoad: ", JSON.stringify(n)), t(n), c.offLoad(e), c.offError(u), "undefined" != typeof tt && c.style && (c.style.left = (c.style.left || 0) + 1)
					// 		},
					// 			u = function e(t) {
					// 				o("[创建横幅]onError: ", JSON.stringify(t)), n(t), c.offLoad(l), c.offError(e)
					// 			};
					// 		c.onResize && c.onResize(function (t) {
					// 			if (o("[横幅]onResize: ", JSON.stringify(t)), t.height > 0 && c.style) {
					// 				var n = e.onBannerResize(r, a, t.width, t.height, c.style.top, c.style.left);
					// 				o("[横幅]onResize调整位置: ", JSON.stringify(n)), c.style.top != n.top && (c.style.top = n.top), c.style.left != n.left && (c.style.left = n.left)
					// 			}
					// 		}), "undefined" != typeof qg ? t() : (c.onLoad && c.onLoad(l), c.onError && c.onError(u))
					// 	} else {
					// 		o("[创建横幅]环境不支持")
					// 	}
					// })
				},
				_nativeId: null,
				_nativeAd: null,
				_nativeAdData: null,
				_nativeLoadEvents: [],
				_nativeErrorEvents: [],
				_resetNativeAd: null,
				get resetNativeAd() {
					var e = this;
					if (!this._resetNativeAd) {
						this._resetNativeAd = i._throttle(function (t, n) {
							o("[原生广告]" + t + ", 准备创建（" + new Date(n).toLocaleString() + " ~ " + (new Date).toLocaleString() + "）"), e._createNativeAd()
						}, 11e3)
					}
					return this._resetNativeAd
				},
				_nativeRefreshTimer: 0,
				_refreshNativeAd: function () {
					var e = this;
					clearTimeout(this._nativeRefreshTimer), this._nativeRefreshTimer = setTimeout(function () {
						e.resetNativeAd("定时刷新", (new Date).getTime())
					}, 3e4)
				},
				getNativeAdData: function () {
					var e = this._nativeAdData;
					return e || this.resetNativeAd("无数据", (new Date).getTime()), e
				},
				reportNativeAdShow: function (e) {
					o("[原生广告]上报展示: ", e);
					var t = this._nativeAd;
					t && t.reportAdShow({
						adId: e
					})
				},
				reportNativeAdClick: function (e) {
					o("[原生广告]上报点击: ", e);
					var t = this._nativeAd;
					t && t.reportAdClick({
						adId: e
					})
				},
				_createNativeAd: function () {
					var e = this._nativeId;
					if (e) {
						if (this._nativeAd) o("[原生广告]重载(" + e + ")");
						else {
							var t = qg.createNativeAd({
								adUnitId: e,
								posId: e
							});
							o("[原生广告]创建(" + e + "): ", t), this._nativeAd = t, t.offLoad(this._onNativeLoad), t.onLoad(this._onNativeLoad), t.offError(this._onNativeError), t.onError(this._onNativeError)
						}
						this._nativeAd.load(), this._refreshNativeAd()
					}
				},
				_destroyNativeAd: function () {
					var e = this._nativeAd;
					e && (e.offLoad(this._onNativeLoad), e.offError(this._onNativeError), e.destroy()), this._nativeAd = null
				},
				_onNativeLoad: function (e) {
					o("[原生广告]加载成功: ", JSON.stringify(e)), i._nativeAdData = e && e.adList && e.adList.length > 0 ? e.adList[e.adList.length - 1] : null, i._nativeLoadEvents.slice().forEach(function (e) {
						var t = e[0],
							n = e[1];
						t && t.call(n, i._nativeAdData)
					})
				},
				_onNativeError: function (e) {
					o("[原生广告]出错: ", JSON.stringify(e)), i._nativeErrorEvents.slice().forEach(function (t) {
						var n = t[0],
							o = t[1];
						n && n.call(o, e)
					})
				},
				onNativeLoad: function (e, t) {
					var n = this._nativeLoadEvents; - 1 == n.findIndex(function (n) {
						return n[0] == e && n[1] == t
					}) && n.push([e, t])
				},
				offNativeLoad: function (e, t) {
					var n = this._nativeLoadEvents,
						o = n.findIndex(function (n) {
							return n[0] == e && n[1] == t
						});
					o > -1 && n.splice(o, 1)
				},
				onNativeError: function (e, t) {
					var n = this._nativeErrorEvents; - 1 == n.findIndex(function (n) {
						return n[0] == e && n[1] == t
					}) && n.push([e, t])
				},
				offNativeError: function (e, t) {
					var n = this._nativeErrorEvents,
						o = n.findIndex(function (n) {
							return n[0] == e && n[1] == t
						});
					o > -1 && n.splice(o, 1)
				},
				_interAdLoaded: !1,
				hasInterAd: function () {
					return this.interAd && this._interAdLoaded
				},
				createInterAd: function () {
					var e = this;
					if (this._checkWx(null, null, "createInterstitialAd"))
						if (this.interId) try {
							this.interAd && this.interAd.destroy(), this.interAd = wx.createInterstitialAd && wx.createInterstitialAd({
								adUnitId: this.interId
							}), this.interAd && this.interAd.onLoad(function () {
								e._interAdLoaded = !0, o("插屏广告已加载")
							}), this.interAd && this.interAd.onError(function (e) {
								o("插屏广告错误: ", e), i.onInterShowFail && i.onInterShowFail()
							})
						} catch (e) {
							o("插屏广告错误: ", e)
						} else o("不存在插屏广告id");
					else o("不支持插屏广告")
				},
				showInterAd: function () {
					try {
						this.interAd && this.interAd.show(), o("尝试显示插屏广告")
					} catch (e) {
						o("插屏广告显示错误:", e)
					}
				},
				_gameBannerTimer: 0,
				_gameBannerVisible: !1,
				_gameBannerHasShow: !1,
				showGameBanner: function (e, t) {
					// var n = this;
					// if (void 0 === e && (e = null), void 0 === t && (t = null), o("SDK.showGameBanner"), this._gameBannerVisible = !1, this._gameBannerHasShow = !0, this.game_banner_ids.length > 0) {
					// 	var r = function (e) {
					// 		e > 0 && (clearTimeout(n._gameBannerTimer), n._gameBannerTimer = setTimeout(function () {
					// 			n._gameBanner && (o("定时移除小游戏推荐横幅广告"), n._gameBanner.destroy(), n._gameBanner = null, n._gameBannerVisible = !1), o("定时重新显示小游戏推荐横幅广告"), n._gameBannerTimer = setTimeout(function () {
					// 				n._gameBannerHasShow && n.showGameBanner()
					// 			}, 60)
					// 		}, 1e3 * e))
					// 	},
					// 		a = function () {
					// 			if (!n._gameBannerHasShow) return o("小游戏推荐横幅广告显示成功, 但期间已经调用了hideGameBanner, 关闭小游戏推荐横幅"), n._gameBanner.hide(), void (n._gameBannerVisible = !1);
					// 			o("小游戏推荐横幅广告显示成功!"), n._gameBannerVisible = !0, r(n.conf.game_banner_refresh_interval), e && e(), i.onGameBannerShowSuccess && i.onGameBannerShowSuccess()
					// 		},
					// 		s = function (e) {
					// 			o("小游戏推荐横幅广告显示失败! ", e), o("将在" + n.conf.game_banner_refresh_interval + "秒后重试(hideGameBanner会取消重试)"), r(n.conf.game_banner_refresh_interval), t && t(), i.onGameBannerShowFail && i.onGameBannerShowFail()
					// 		},
					// 		c = function () {
					// 			n._createGameBannerAd(function () {
					// 				var e = n._gameBanner.show();
					// 				e ? e.then(function () {
					// 					a()
					// 				}).catch(function (e) {
					// 					s(e)
					// 				}) : s()
					// 			}, function (e) {
					// 				s(e)
					// 			})
					// 		};
					// 	if (clearTimeout(this._gameBannerTimer), this._gameBanner) {
					// 		var l = this._gameBanner.show();
					// 		l ? l.then(function () {
					// 			a()
					// 		}).catch(function (e) {
					// 			c()
					// 		}) : c()
					// 	} else c()
					// } else o("SDK.showGameBanner: 无小游戏推荐横幅广告ID!"), t && t(), i.onGameBannerShowFail && i.onGameBannerShowFail()
				},
				hideGameBanner: function () {
					o("SDK.hideGameBanner"), this._gameBannerVisible = !1, this._gameBannerHasShow = !1, this._gameBanner && this._gameBanner.hide(), clearTimeout(this._gameBannerTimer), this._gameBannerTimer = 0, this.onGameBannerHide && this.onGameBannerHide()
				},
				removeGameBanner: function () {
					o("SDK.removeGameBanner"), this._gameBannerVisible = !1, this._gameBanner && (this._gameBanner.destroy(), this._gameBanner = null), this._gameBannerTimer && (clearTimeout(this._gameBannerTimer), this._gameBannerTimer = 0)
				},
				createGamePortal: function () {
					if (this._checkWx(null, null, "createGamePortal"))
						if (this.game_portal_ids && 0 != this.game_portal_ids.length) try {
							this.gamePortal && this.gamePortal.destroy(), this.gamePortal = wx.createGamePortal && wx.createGamePortal({
								adUnitId: this.game_portal_ids[0]
							}), this.gamePortal && this.gamePortal.onLoad(function () {
								o("小游戏推荐弹窗广告已加载")
							}), this.gamePortal && this.gamePortal.onError(function (e) {
								o("小游戏推荐弹窗广告错误: ", e)
							})
						} catch (e) {
							o("小游戏推荐弹窗广告错误: ", e)
						} else o("不存在小游戏推荐弹窗广告id");
					else o("不支持小游戏推荐弹窗广告")
				},
				showGamePortal: function () {
					try {
						this.gamePortal ? this.gamePortal.show() : this.createGamePortal(), o("尝试显示小游戏推荐弹窗广告")
					} catch (e) {
						o("小游戏推荐弹窗广告显示错误:", e)
					}
				},
				showImage: function (e, t, n, r) {
					void 0 === t && (t = null), void 0 === n && (n = null), void 0 === r && (r = null), o("SDK.showImage"), this._checkWx(n, r) && wx.previewImage({
						current: e,
						urls: [e],
						success: function (e) {
							i.pullCfg = !1, t && t(e)
						},
						fail: n,
						complete: r
					})
				},
				showInsideAds: function (e, t, n, i) {
					void 0 === t && (t = null), void 0 === n && (n = null), void 0 === i && (i = null), o("SDK.showInsideAds, id:", e.app_id, " path:", e.app_path);
					e.app_id, e.app_path;
					window.wx && "function" == typeof wx.navigateToMiniProgram && e.app_id ? wx.navigateToMiniProgram({
						appId: e.app_id,
						path: e.app_path,
						extraData: "",
						success: function (e) {
							o("跳转至小程序成功: ", e), t && t(e)
						},
						fail: function (e) {
							o("跳转至小程序失败: ", e), n && n()
						},
						complete: i
					}) : (o("不支持跳转至小程序"), n && n(), i && i())
				},
				getShareConfig: function (e) {
					if (!this._shareConfig) return null;
					var t = this._shareConfig.findIndex(function (t) {
						return t.position_id == e
					});
					if (-1 == t) return null;
					var n = this._shareConfig[t];
					return n.share_pic_local ? (o("使用远程分享配置: ", e, "  config: ", n), n) : null
				},
				shareStat: function (e, t, n) {
					void 0 === n && (n = 0), this.request({
						url: "",
						data: {
							position_id: e,
							share_id: t,
							self: n
						},
						success: function (e) {
							o("分享统计提交成功: ", e)
						},
						fail: function (e) {
							o("分享统计提交失败: ", e)
						}
					})
				},
				compareVersion: function (e, t) {
					"string" != typeof e && (e = e.toString ? e.toString() : "0"), "string" != typeof t && (t = t.toString ? t.toString() : "0");
					for (var n = e.split("."), o = t.split("."), i = Math.max(n.length, o.length), r = 0, a = 0; a < i && 0 == (r = (parseInt(n[a]) || 0) - (parseInt(o[a]) || 0)); ++a);
					return r
				},
				checkWxVersion: function (e) {
					return this._checkWx() ? this.compareVersion(this.sys.version, e) : -1
				},
				checkWxSdkVersion: function (e) {
					return this._checkWx() ? this.compareVersion(this.sys.SDKVersion || "1.0.1", e) : -1
				},
				isIos: function () {
					return !!this._checkWx() && ("ios" == this.sys.platform || this.sys.system.indexOf("iOS") >= 0)
				},
				isAndroid: function () {
					return !!this._checkWx() && ("android" == this.sys.platform || this.sys.system.indexOf("Android") >= 0)
				},
				isIphoneX: function () {
					return !!this._checkWx() && !!this.sys.model.match("iPhone X")
				},
				isIphoneLong: function () {
					if (!this._checkWx()) return !1;
					var e = this.sys.screenWidth / this.sys.screenHeight;
					return this.isIos() && (e > 2 || e < .5)
				},
				reportTime: function (e, t, n) {
					var i = this;
					window.wx && Promise.all([this.promisify(wx.getBatteryInfo), this.promisify(wx.getNetworkType)]).then(function (r) {
						var a = i.sys || {},
							s = {
								sdk_version: a.SDKVersion,
								version: a.version,
								model: a.model,
								system: a.system,
								battery_level: r[0].level,
								network_type: r[1].networkType,
								game_id: i.game_id,
								tag: e,
								code: t,
								time_used: n
							};
						o("准备上报请求时间: ", s), i.request({
							url: "",
							data: {
								data: JSON.stringify(s)
							},
							success: function (e) {
								o("上报请求时间成功: ", e)
							},
							fail: function (e) {
								o("上报请求时间失败: ", e)
							}
						})
					})
				},
				reportAdsClick: function (e, t) {

					//aha
					return;

					var n = this;
					if (window.wx) {
						this.getUserIdOrCode("report_click", function (i) {
							i.page = e, i.tag = t;
							var r = wx.getLaunchOptionsSync();
							i.reserve = r.query && r.query.agent || "official", n.request({
								url: "",
								data: i,
								success: function (i) {
									n.saveUserId("report_click", i), o("上报点击[" + e + ", " + t + "]成功: ", i)
								},
								fail: function (n) {
									o("上报点击[" + e + ", " + t + "]失败: ", n)
								}
							})
						})
					}
				},
				promisify: function (e, t) {
					void 0 === t && (t = {});
					var n = e;
					if ("string" == typeof e) {
						if (!window.wx || !window.wx[e]) return Promise.reject({
							errMsg: "[SDK.promisify]失败: 方法" + e + "在当前微信版本不存在!"
						});
						n = window.wx[e]
					}
					return n ? new Promise(function (e, o) {
						t.success = function (t) {
							return e(t)
						}, t.fail = function (e) {
							return o(e)
						}, n(t)
					}) : Promise.reject({
						errMsg: "[SDK.promisify]失败: 方法在当前微信版本不存在!"
					})
				},
				setStorage: function (e, t) {
					var n = JSON.stringify({
						v: t
					});
					window.qg && qg.setStorage ? qg.setStorage({
						key: e,
						value: n
					}) : window.wx && wx.setStorage ? wx.setStorage({
						key: e,
						data: n
					}) : window.localStorage && window.localStorage.setItem(e, n)
				},
				getStorageSync: function (e) {
					var t = "",
						n = null;
					window.qg && qg.getStorageSync ? t = qg.getStorageSync({
						key: e
					}) : window.wx && wx.getStorageSync ? t = wx.getStorageSync(e) : window.localStorage && (t = window.localStorage.getItem(e));
					try {
						n = JSON.parse(t).v
					} catch (e) {
						n = null
					}
					return n
				},
				getStorage: function (e, t) {
					window.qg && qg.getStorage ? t && qg.getStorage({
						key: e,
						success: function (e) {
							var n = null;
							try {
								n = JSON.parse(e).v
							} catch (e) {
								n = null
							}
							t(n)
						},
						fail: function (e) {
							t(null)
						}
					}) : window.wx && wx.getStorage ? t && wx.getStorage({
						key: e,
						success: function (e) {
							var n = null;
							try {
								n = JSON.parse(e.data).v
							} catch (e) {
								n = null
							}
							t(n)
						},
						fail: function (e) {
							t(null)
						}
					}) : window.localStorage ? t && t(this.getStorageSync(e)) : t && t(null)
				},
				_getUserIdKey: function (e) {
					return "wx_uid_" + e
				},
				getSavedUserId: function (e) {
					return this.getStorageSync(this._getUserIdKey(e)) || ""
				},
				getUserCode: function (e, t) {
					void 0 === e && (e = null), void 0 === t && (t = null), this._checkWx(t, null, "login") && wx.login({
						success: function (t) {
							o("请求登录微信成功: ", t);
							var n = t.code;
							e && e({
								code: n
							})
						},
						fail: function (e) {
							o("请求登录微信失败: ", e), t && t(e)
						}
					})
				},
				getUserIdOrCode: function (e, t, n) {
					var i = this;
					void 0 === t && (t = null), void 0 === n && (n = null), this._checkWx(n, null, "checkSession") && this.getStorage(this._getUserIdKey(e), function (e) {
						e ? wx.checkSession({
							success: function (n) {
								o("登录未超时, 使用本地user_id"), t && t({
									user_id: e
								})
							},
							fail: function (e) {
								o("登录超时, 重新微信登录: ", e), i.getUserCode(t, n)
							}
						}) : (o("本地无user_id, 使用微信登录获取code"), i.getUserCode(t, n))
					})
				},
				saveUserId: function (e, t) {
					t && t.data && t.data.user_id && this.setStorage(this._getUserIdKey(e), t.data.user_id)
				},
				request: function (e) {
					void 0 === e && (e = {
						url: url,
						data: data,
						success: success,
						fail: fail,
						complete: complete
					}), this._checkWx(e.fail, e.complete, "request") && (!e.data && (e.data = {}), !e.data.game_id && (e.data.game_id = this.game_id), !e.data.version && (e.data.version = this.game_version), !e.method && (e.method = "POST"), !e.header && (e.header = {
						"Content-Type": "application/x-www-form-urlencoded",
						Accept: "application/json"
					}), "undefined" != typeof qq && !e.data.login_type && (e.data.login_type = "qq"), o("发送网络请求: ", e), wx.request(e))
				},
				getAddons: function (e, t, n, o) {
					void 0 === e && (e = !0), void 0 === t && (t = !0), void 0 === n && (n = !0), void 0 === o && (o = {});
					var r = o || {};
					if (!this._checkWx(null, null, "getLaunchOptionsSync")) return r;
					var a = wx.getLaunchOptionsSync();
					return e && (r.cid = a.query && a.query.cid ? a.query.cid : "self"), t && (r.agent = a.query && a.query.agent ? a.query.agent : "official"), n && i.sys && i.sys.platform && "string" == typeof i.sys.platform && (r.os = i.sys.platform.toLowerCase(), "android" != r.os && "ios" != r.os && (r.os = "android")), r
				},
				getDataFromRes: function (e) {
					if (e && 200 == e.statusCode && e.data) {
						var t = e.data;
						if ("string" == typeof e.data) try {
							t = JSON.parse(e.data)
						} catch (n) {
							t = e.data
						}
						return t
					}
					return null
				},
				isPlainObject: function (e) {
					return "object" == typeof e && (!e.constructor || e.constructor.prototype === Object.prototype)
				},
				extend: function () {
					var e, t, n, o, r, a, s = arguments[0] || {},
						c = 1,
						l = arguments.length,
						u = !1;
					for ("boolean" == typeof s && (u = s, s = arguments[1] || {}, c = 2), "object" != typeof s && "function" != typeof s && (s = {}), l === c && (s = this, --c); c < l; c++)
						if (null != (e = arguments[c]))
							for (t in e) n = s[t], s !== (o = e[t]) && (u && o && (i.isPlainObject(o) || (r = Array.isArray(o))) ? (r ? (r = !1, a = n && Array.isArray(n) ? n : []) : a = n && i.isPlainObject(n) ? n : {}, s[t] = i.extend(u, a, o)) : void 0 !== o && (s[t] = o));
					return s
				},
				loadSubpackage: function (t, n) {
					return o("SDK.loadSubpackage"), this._checkWx(null, null) ? new Promise(function (i, r) {
						wx.loadSubpackage ? wx.loadSubpackage({
							name: t,
							success: function (e) {
								o("加载分包" + t + "成功:", e), i(!0)
							},
							fail: function (e) {
								o("加载分包" + t + "失败:", e), i(!1)
							}
						}) : (o("微信版本不支持分包, 使用require兼容"), e(n), i(!0))
					}) : Promise.resolve(!0)
				},
				_shareEnabled: !1,
				_checkWx: function (e, t, n) {
					return void 0 === e && (e = null), void 0 === t && (t = null), void 0 === n && (n = null), "undefined" == typeof wx ? (e && e(), t && t(), !1) : !n || void 0 != wx[n] || (e && e({
						code: 999,
						errMsg: "请升级你的微信版本!"
					}), t && t(), !1)
				},
				_objectToKVArray: function (e) {
					if (Array.isArray(e)) return e;
					var t = [];
					if (e instanceof Object)
						for (var n in e) t.push({
							key: n,
							value: e[n] + ""
						});
					return t
				},
				_kvArrayToObject: function (e) {
					var t = {};
					return e.forEach(function (e) {
						void 0 != e.key && void 0 != e.value && (t[e.key] = e.value)
					}), t
				},
				_onShowList: [],
				_runOnShowCallback: function (e) {
					o("_runOnShowCallback: ", e), i._onShowList.sort(function (e, t) {
						return t.order - e.order
					}), i._onShowList.slice(0).forEach(function (t) {
						t && t.callback && t.callback(e)
					})
				},
				_onHideList: [],
				_runOnHideCallback: function (e) {
					o("_runOnHideCallback: ", e), i._onHideList.sort(function (e, t) {
						return t.order - e.order
					}), i._onHideList.slice(0).forEach(function (t) {
						t && t.callback && t.callback(e)
					})
				},
				_getRemoteConfigByCdn: function (e, t, n) {
					var i = this;
					if (void 0 === e && (e = null), void 0 === t && (t = null), void 0 === n && (n = null), this._checkWx(t, n, "request")) {
						var r = {
							name: "get_conf",
							t: (new Date).getTime()
						};
						"undefined" != typeof qq && (r.login_type = "qq");
						var a = (new Date).getTime();
						wx.request({
							url: "",
							method: "GET",
							data: r,
							header: {
								"Content-Type": "application/x-www-form-urlencoded",
								Accept: "application/json"
							},
							success: function (n) {
								var r = (new Date).getTime();
								if (i.needReportTime && i.reportTime("conf", 0, r - a), n && 200 == n.statusCode) {
									var s = i.getDataFromRes(n);
									s ? s.verify_version == i.game_version ? o("[拉取配置CDN]为审核版本") : (o("[拉取配置CDN]成功: ", n), i.conf = s.game_config || {}, i._processConfigForChannel(s.channel_config), i._processAdsFromConf(), i.onRemoteLoaded && i.onRemoteLoaded(i.conf)) : o("[拉取配置CDN]配置为空"), e && e(n)
								} else o("[拉取配置CDN]失败: ", n), t && t(n)
							},
							fail: function (e) {
								var n = (new Date).getTime();
								i.needReportTime && i.reportTime("conf", 1, n - a), o("[拉取配置CDN]失败: ", e), t && t(e)
							},
							complete: n
						})
					}
				},
				_processConfigForChannel: function (e) {
					if (e && Array.isArray(e)) {
						var t = wx.getLaunchOptionsSync(),
							n = t.query && t.query.cid ? t.query.cid : "",
							i = e.findIndex(function (e) {
								return e.cid == n
							});
						if (-1 != i) {
							var r = this.queryToObject(e[i].conf);
							o("[拉取配置CDN]当前渠道配置: ", r), this.extend(this.conf, r)
						} else o("[拉取配置CDN]渠道配置不包含当前渠道: ", n)
					} else o("[拉取配置CDN]渠道配置不存在")
				},
				queryToObject: function (e) {
					void 0 === e && (e = "");
					for (var t = e.substring(e.indexOf("?") + 1).split("&"), n = {}, o = 0, i = t.length; o < i; o++) {
						var r = t[o].indexOf("=");
						if (-1 != r) {
							var a = t[o].substring(0, r),
								s = window.decodeURIComponent(t[o].substring(r + 1));
							n[a] = s
						}
					}
					return n
				},
				_getRemoteConfig: function (e, t, n) {
					var r = this;
					void 0 === e && (e = null), void 0 === t && (t = null), void 0 === n && (n = null);
					var a = this.getAddons(!0, !1, !0),
						s = (new Date).getTime();
					this.request({
						url: "",
						data: a,
						success: function (t) {
							var n = (new Date).getTime();
							r.needReportTime && r.reportTime("conf", 0, n - s);
							var a = r.getDataFromRes(t);
							a && 0 == a.code && a.conf ? (r.conf = a.conf, r._processAdsFromConf(), o("远程拉取配置成功: ", t), i.onRemoteLoaded && i.onRemoteLoaded(r.conf)) : o("远程拉取配置成功(但code!=0或conf不存在): ", t), e && e(t)
						},
						fail: function (e) {
							var n = (new Date).getTime();
							r.needReportTime && r.reportTime("conf", 1, n - s), o("远程拉取配置失败: ", e), t && t(e)
						},
						complete: n
					})
				},
				_processAdsFromConf: function () {
					(this.conf.video_ids || this.conf.video_id) && (i._addVideoId(this.conf.video_ids || this.conf.video_id), i.video_ids.length > 0 && !i.hasVideo() && i._loadRewardedVideoAd()), (this.conf.banner_ids || this.conf.banner_id) && (i._addBannerId(this.conf.banner_ids || this.conf.banner_id), i.banner_ids.length > 0 && !i._bannerVisible && i._bannerHasShow && i.showBanner()), this.conf.interId && !this.interAd && (this.interId = this.conf.interId, i.createInterAd()), (this.conf.game_banner_ids || this.conf.game_banner_id) && (i._addGameBannerId(this.conf.game_banner_ids || this.conf.game_banner_id), i.game_banner_ids.length > 0 && !i._gameBannerVisible && i._gameBannerHasShow && i.showGameBanner()), (this.conf.game_portal_ids || this.conf.game_portal_id) && (i._addGamePortalId(this.conf.game_portal_ids || this.conf.game_portal_id), !this.gamePortal && this.game_portal_ids && this.game_portal_ids.length > 0 && this.createGamePortal())
				},
				_shareConfig: null,
				_getRemoteShareConfig: function () {
					var e = this;
					this.request({
						url: "",
						success: function (t) {
							var n = e.getDataFromRes(t);
							0 == n.code && Array.isArray(n.share) ? (o("远程拉取分享配置成功: ", n), e._shareConfig = n.share, e._loadShareImage()) : (o("远程拉取分享配置失败: ", t), e._shareConfig = null)
						},
						fail: function (t) {
							o("远程拉取分享配置失败: ", t), e._shareConfig = null
						}
					})
				},
				_downloadedFiles: [],
				_loadShareImage: function () {
					var e = this,
						t = this._shareConfig,
						n = [],
						i = function (e, i) {
							n.push(e + JSON.stringify(i)), n.length >= t.length && o("下载分享图片完成: ", n.length)
						};
					t.forEach(function (t, n) {
						var o = e._downloadedFiles.findIndex(function (e) {
							return e.url == t.share_pic
						});
						if (-1 != o) {
							var r = e._downloadedFiles[o];
							return t.share_pic_local = r.file, void i("使用已经下好的文件:", r.file)
						}
						setTimeout(function () {
							if ("devtools" == e.sys.platform) return t.share_pic_local = t.share_pic, e._downloadedFiles.push({
								url: t.share_pic,
								file: t.share_pic
							}), void i("下载文件成功:", t);
							wx.downloadFile({
								url: t.share_pic,
								header: {},
								success: function (n) {
									200 == n.statusCode ? (i("下载文件成功:", n), t.share_pic_local = n.tempFilePath, e._downloadedFiles.push({
										url: t.share_pic,
										file: n.tempFilePath
									})) : i("下载文件出错:", n)
								},
								fail: function (e) {
									i("下载文件出错:", e)
								}
							})
						}, 300 * n)
					})
				},
				_getAds: function (e) {
					this.configUseCdn ? this._getAdsCdn(e) : this._getAdsNormal(e)
				},
				_getAdsCdn: function (e) {
					var t = this;
					if (this._checkWx(null, null, "request")) {
						var n = {
							name: e.name,
							t: (new Date).getTime()
						};
						"undefined" != typeof qq && (n.login_type = "qq"), wx.request({
							url: e.url_cdn + this.game_id + ".json",
							method: "GET",
							data: n,
							header: {
								"Content-Type": "application/x-www-form-urlencoded",
								Accept: "application/json"
							},
							success: function (n) {
								var i = t.getDataFromRes(n);
								if (i)
									if (i.verify_version == t.game_version) o("[拉取" + e.desc + "CDN]为审核版本");
									else {
										if (o("[拉取" + e.desc + "CDN]成功: ", i), i.mask_channel) {
											var r = wx.getLaunchOptionsSync(),
												a = r.query && r.query.cid ? r.query.cid : "self";
											if (i.mask_channel.split(",").indexOf(a) > -1) return o("[拉取" + e.desc + "CDN]为屏蔽渠道: ", a), e.list = [], e.conf = {}, void (e.onChanged && e.onChanged(e))
										}
										e.list = Array.isArray(i.list) ? i.list : [], t.isIos() ? e.list = e.list.filter(function (e) {
											return 1 != e.mask_ios
										}) : t.isAndroid() && (e.list = e.list.filter(function (e) {
											return 1 != e.mask_android
										})), 1 == i.random_flag && t._shuffle(e.list), e.conf = i.game_config || {}, e.onChanged && e.onChanged(e)
									}
								else o("[拉取" + e.desc + "CDN]为空")
							},
							fail: function (t) {
								o("远程拉取" + e.desc + "失败: ", t)
							}
						})
					}
				},
				_getAdsNormal: function (e) {
					var t = this;
					e.url && this.getUserIdOrCode(e.name, function (n) {
						var i = t.getAddons(!0, !0, !0, n);
						t.request({
							url: e.url,
							data: i,
							success: function (n) {
								var i = t.getDataFromRes(n);
								i && 0 == i.code ? (t.saveUserId(e.name, n), o("远程拉取" + e.desc + "成功: ", i), e.list = Array.isArray(i.list) ? i.list : [], e.conf = i.conf || {}, e.onChanged && e.onChanged(e)) : o("远程拉取" + e.desc + "失败: ", n)
							},
							fail: function (t) {
								o("远程拉取" + e.desc + "失败: ", t)
							}
						})
					}, function (t) {
						o("远程拉取" + e.desc + "失败: ", t)
					})
				},
				_createGameBannerAd: function (e, t) {
					var n = this;
					if (o("SDK._createGameBannerAd"), this._checkWx(t, null, "createGameBanner")) {
						if (0 == this.game_banner_ids.length) return o("SDK._createGameBannerAd: 无小游戏推荐横幅广告ID"), void (t && t());
						this._gameBanner && (this._gameBanner.destroy(), this._gameBanner = null);
						var i = this.game_banner_ids[this.game_banner_index];
						o("创建横幅广告(" + this.game_banner_index + "): " + i);
						var r = this.sys.screenWidth,
							a = this.sys.screenHeight,
							s = "undefined" != typeof qq ? r : 300;
						return this._gameBannerResetPosition = !1, this._gameBanner = wx.createGameBanner({
							adUnitId: i,
							style: this.onGameBannerPlaced(r, a, s)
						}), this._gameBanner.onResize && this._gameBanner.onResize(function (e) {
							if (!n._gameBannerResetPosition && e.height > 0) {
								var t = n.onGameBannerResize(r, a, e.width, e.height, n._gameBanner.style.top, n._gameBanner.style.left);
								n._gameBanner.style.top != t.top && (n._gameBanner.style.top = t.top), n._gameBanner.style.left != t.left && (n._gameBanner.style.left = t.left), n._gameBannerResetPosition = !0
							}
						}), this._gameBanner.onLoad(e), this._gameBanner.onError(t), this._gameBanner
					}
					o("微信版本不支持小游戏推荐横幅广告!")
				},
				_gameBannerResetPosition: !1,
				_addBannerId: function (e) {
					this._mergeAdsId(this.banner_ids, e, "banner_index")
				},
				_addVideoId: function (e) {
					this._mergeAdsId(this.video_ids, e, "video_index")
				},
				_addGameBannerId: function (e) {
					this._mergeAdsId(this.game_banner_ids, e, "game_banner_index")
				},
				_addGamePortalId: function (e) {
					this._mergeAdsId(this.game_portal_ids, e, "game_portal_index")
				},
				_mergeAdsId: function (e, t, n) {
					o("SDK._mergeAdsId: ", t), o("添加广告ID前: ids(" + e + "), " + n + "(" + this[n] + ")");
					var i = e.length,
						r = (t + "").split(",").filter(function (e) {
							return e
						});
					if (r.length > 0) {
						(r = r.map(function (e) {
							return e.trim ? e.trim() : e
						})).forEach(function (t) {
							return e.push(t)
						});
						for (var a = e.length - 1; a >= 0; --a)
							for (var s = a - 1; s >= 0; --s)
								if (!e[a] || e[a] == e[s]) {
									e.splice(a, 1);
									break
								}
					}
					var c = e.length;
					c > i && (this[n] %= c), o("添加广告ID后: ids(" + e + "), " + n + "(" + this[n] + ")")
				},
				_shuffle: function (e) {
					for (var t, n, o = e.length; 0 !== o;) n = Math.floor(Math.random() * o), t = e[o -= 1], e[o] = e[n], e[n] = t;
					return e
				},
				_debounce: function (e, t) {
					var n;
					return function () {
						var o = this,
							i = arguments;
						clearTimeout(n), n = setTimeout(function () {
							n = null, e.apply(o, i)
						}, t)
					}
				},
				_throttle: function (e, t) {
					var n;
					return function () {
						var o = Date.now();
						(!n || n + t <= o) && (n = o, e.apply(this, arguments))
					}
				}
			};
		if (void 0 !== t && (t.exports = i), window.SDK = i, "undefined" != typeof wx && "function" == typeof wx.getUpdateManager) {
			var r = wx.getUpdateManager();
			r.onCheckForUpdate(function (e) {
				o("hasUpdate:" + e.hasUpdate)
			}), r.onUpdateReady(function () {
				r.applyUpdate()
			}), r.onUpdateFailed(function () { })
		}
		var a = {
			log: console.log,
			info: console.info,
			warn: console.warn,
			debug: console.debug
		};

		function s(e) {
			if (e && "devtools" != sdk.sys.platform) {
				var t = window.wx && "function" == typeof wx.getLogManager ? wx.getLogManager() : null;
				t && (console.log = function () {
					a.log.apply(console, arguments), t.log.apply(t, arguments)
				}, console.info = function () {
					a.info.apply(console, arguments), t.info.apply(t, arguments)
				}, console.warn = function () {
					a.warn.apply(console, arguments), t.warn.apply(t, arguments)
				}, console.debug = function () {
					a.debug.apply(console, arguments), t.debug.apply(t, arguments)
				})
			} else console.log = a.log, console.info = a.info, console.warn = a.warn, console.debug = a.debug
		}

		function c(e, t, n) {
			return {
				width: n,
				top: t - 104,
				left: .5 * (e - n)
			}
		}

		function l(e, t, n, o, i, r) {
			return {
				top: t - o,
				left: .5 * (e - n)
			}
		}
		cc._RF.pop()
	}, {}],
	tableView: [function (e, t, n) {
		"use strict";

		function o(e, t) {
			var n;
			if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) {
				if (Array.isArray(e) || (n = i(e)) || t && e && "number" == typeof e.length) {
					n && (e = n);
					var o = 0;
					return function () {
						return o >= e.length ? {
							done: !0
						} : {
							done: !1,
							value: e[o++]
						}
					}
				}
				throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
			}
			return (n = e[Symbol.iterator]()).next.bind(n)
		}

		function i(e, t) {
			if (e) {
				if ("string" == typeof e) return r(e, t);
				var n = Object.prototype.toString.call(e).slice(8, -1);
				return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? r(e, t) : void 0
			}
		}

		function r(e, t) {
			(null == t || t > e.length) && (t = e.length);
			for (var n = 0, o = new Array(t); n < t; n++) o[n] = e[n];
			return o
		}
		cc._RF.push(t, "9aba29YKexFXolpweZzJPKj", "tableView");
		var a = cc.Enum({
			Horizontal: 0,
			Vertical: 1
		}),
			s = cc.Enum({
				None: 0,
				Up: 1,
				Down: 2,
				Left: 3,
				Rigth: 4
			}),
			c = cc.Enum({
				LEFT_TO_RIGHT__TOP_TO_BOTTOM: 0,
				TOP_TO_BOTTOM__LEFT_TO_RIGHT: 1
			}),
			l = cc.Enum({
				Scroll: 0,
				Flip: 1
			});

		function u(e, t) {
			if (e.length <= 1) return e;
			for (var n = Math.floor(e.length / 2), o = e[n], i = [], r = [], a = 0; a < e.length; a++) a !== n && (t ? t(e[a], o) ? i.push(e[a]) : r.push(e[a]) : e[a] <= o ? i.push(e[a]) : r.push(e[a]));
			return u(i, t).concat([o], u(r, t))
		}
		var d = cc.Class({
			extends: cc.ScrollView,
			editor: !1,
			properties: {
				_data: null,
				_minCellIndex: 0,
				_maxCellIndex: 0,
				_paramCount: 0,
				_count: 0,
				_cellCount: 0,
				_showCellCount: 0,
				_groupCellCount: null,
				_scrollDirection: s.None,
				_cellPool: null,
				_page: 0,
				_pageTotal: 0,
				_touchLayer: cc.Node,
				_loadSuccess: !1,
				_initSuccess: !1,
				_scheduleInit: !1,
				cell: {
					default: null,
					type: cc.Prefab,
					notify: function (e) { }
				},
				ScrollModel: {
					default: 0,
					type: a,
					notify: function (e) {
						this.ScrollModel === a.Horizontal ? (this.horizontal = !0, this.vertical = !1, this.verticalScrollBar = null) : (this.vertical = !0, this.horizontal = !1, this.horizontalScrollBar = null)
					},
					tooltip: "横向纵向滑动"
				},
				ViewType: {
					default: 0,
					type: l,
					notify: function (e) {
						this.ViewType === l.Flip ? this.inertia = !1 : this.inertia = !0
					},
					tooltip: "为Scroll时,不做解释\n为Flipw时，在Scroll的基础上增加翻页的行为"
				},
				isFill: {
					default: !1,
					tooltip: "当节点不能铺满一页时，选择isFill为true会填充节点铺满整个view"
				},
				Direction: {
					default: 0,
					type: c,
					tooltip: "规定cell的排列方向"
				},
				pageChangeEvents: {
					default: [],
					type: cc.Component.EventHandler,
					tooltip: "仅当ViewType为pageView时有效，初始化或翻页时触发回调，向回调传入两个参数，参数一为当前处于哪一页，参数二为一共多少页"
				}
			},
			statics: {
				_cellPoolCache: {}
			},
			onLoad: function () {
				window.s = this;
				var e = this;
				d._tableView.push(this);
				var t = this.node.destroy;
				this.node.destroy = function () {
					e.clear(), t.call(e.node)
				};
				var n = this.node._onPreDestroy;
				this.node._onPreDestroy = function () {
					e.clear(), n.call(e.node)
				}
			},
			onDestroy: function () {
				for (var e in this._cellPool && this._cellPool.clear(), d._tableView)
					if (d._tableView[e] === this) return void d._tableView.splice(e)
			},
			_addListenerToTouchLayer: function () {
				this._touchLayer = new cc.Node;
				var e = this._touchLayer.addComponent(cc.Widget);
				e.isAlignTop = !0, e.isAlignBottom = !0, e.isAlignLeft = !0, e.isAlignRight = !0, e.top = 0, e.bottom = 0, e.left = 0, e.right = 0, e.alignMode = cc.Widget.AlignMode, this._touchLayer.parent = this._view
			},
			_setStopPropagation: function () {
				this.node.on("touchstart", function (e) {
					e.stopPropagation()
				}), this.node.on("touchmove", function (e) {
					e.stopPropagation()
				}), this.node.on("touchend", function (e) {
					e.stopPropagation()
				}), this.node.on("touchcancel", function (e) {
					e.stopPropagation()
				})
			},
			_initCell: function (e, t) {
				if (this.ScrollModel === a.Horizontal && this.Direction === c.TOP_TO_BOTTOM__LEFT_TO_RIGHT || this.ScrollModel === a.Vertical && this.Direction === c.LEFT_TO_RIGHT__TOP_TO_BOTTOM)
					for (var n = parseInt(e.name) * e.childrenCount, o = 0; o < e.childrenCount; ++o) {
						var i = e.children[o].getComponent("viewCell");
						i && (i._cellInit_(this), i.init(n + o, this._data, t, [n, o]))
					} else if (this.ViewType === l.Flip)
					for (var r = Math.floor(parseInt(e.name) / this._showCellCount), s = r * this._showCellCount * e.childrenCount, u = 0; u < e.childrenCount; ++u) {
						var d = e.children[u].getComponent("viewCell");
						d && (d._cellInit_(this), d.init(this._showCellCount * u + r % this._showCellCount + s, this._data, t, [u + r * e.childrenCount, u]))
					} else
					for (var f = 0; f < e.childrenCount; ++f) {
						var p = e.children[f].getComponent("viewCell");
						p && (p._cellInit_(this), p.init(f * this._count + parseInt(e.name), this._data, t, [f, f]))
					}
			},
			_setCellPosition: function (e, t) {
				this.ScrollModel === a.Horizontal ? (e.x = 0 === t ? -this.content.width * this.content.anchorX + e.width * e.anchorX : this.content.getChildByName(String(t - 1)).x + e.width, e.y = (e.anchorY - this.content.anchorY) * e.height) : (e.y = 0 === t ? this.content.height * (1 - this.content.anchorY) - e.height * (1 - e.anchorY) : this.content.getChildByName(String(t - 1)).y - e.height, e.x = (e.anchorX - this.content.anchorX) * e.width)
			},
			_addCell: function (e) {
				var t = this._getCell();
				this._setCellAttr(t, e), this._setCellPosition(t, e), t.parent = this.content, this._initCell(t)
			},
			_setCellAttr: function (e, t) {
				e.setSiblingIndex(t >= parseInt(e.name) ? this._cellCount : 0), e.name = t.toString()
			},
			_addCellsToView: function () {
				for (var e = 0; e <= this._maxCellIndex; ++e) this._addCell(e)
			},
			_getCell: function () {
				if (0 === this._cellPool.size()) {
					var e = cc.instantiate(this.cell),
						t = new cc.Node;
					t.anchorX = .5, t.anchorY = .5;
					var n = 0;
					if (this.ScrollModel === a.Horizontal) {
						t.width = e.width;
						var o = Math.floor(this.content.height / e.height);
						t.height = this.content.height;
						for (var i = 0; i < o; ++i) e || (e = cc.instantiate(this.cell)), e.x = (e.anchorX - .5) * e.width, e.y = t.height / 2 - e.height * (1 - e.anchorY) - n, n += e.height, e.parent = t, e = null
					} else {
						t.height = e.height;
						var r = Math.floor(this.content.width / e.width);
						t.width = this.content.width;
						for (var s = 0; s < r; ++s) e || (e = cc.instantiate(this.cell)), e.y = (e.anchorY - .5) * e.height, e.x = -t.width / 2 + e.width * e.anchorX + n, n += e.width, e.parent = t, e = null
					}
					this._cellPool.put(t)
				}
				return this._cellPool.get()
			},
			_getCellSize: function () {
				var e = this._getCell(),
					t = e.getContentSize();
				return this._cellPool.put(e), t
			},
			_getGroupCellCount: function () {
				var e = this._getCell(),
					t = e.childrenCount;
				return this._cellPool.put(e), t
			},
			clear: function () {
				if (this.content) {
					for (var e = this.content.childrenCount - 1; e >= 0; --e) this._cellPool.put(this.content.children[e]);
					this._cellCount = 0, this._showCellCount = 0
				}
			},
			reload: function (e) {
				void 0 !== e && (this._data = e);
				for (var t = this.content.childrenCount - 1; t >= 0; --t) this._initCell(this.content.children[t], !0)
			},
			_getCellPoolCacheName: function () {
				return this.ScrollModel === a.Horizontal ? this.cell.name + "h" + this.content.height : this.cell.name + "w" + this.content.width
			},
			_initTableView: function () {
				this._scheduleInit = !1, this._cellPool && this.clear();
				var e = this._getCellPoolCacheName();
				d._cellPoolCache[e] || (d._cellPoolCache[e] = new cc.NodePool("viewCell")), this._cellPool = d._cellPoolCache[e], this._cellSize = this._getCellSize(), this._groupCellCount = this._getGroupCellCount(), this._count = Math.ceil(this._paramCount / this._groupCellCount), this.ScrollModel === a.Horizontal ? (this._view.width = this.node.width, this._view.x = (this._view.anchorX - this.node.anchorX) * this._view.width, this._cellCount = Math.ceil(this._view.width / this._cellSize.width) + 1, this.ViewType === l.Flip ? this._cellCount > this._count ? (this.isFill ? this._cellCount = Math.floor(this._view.width / this._cellSize.width) : this._cellCount = this._count, this._showCellCount = this._cellCount, this._pageTotal = 1) : (this._pageTotal = Math.ceil(this._count / (this._cellCount - 1)), this._count = this._pageTotal * (this._cellCount - 1), this._showCellCount = this._cellCount - 1) : this._cellCount > this._count ? (this.isFill ? this._cellCount = Math.floor(this._view.width / this._cellSize.width) : this._cellCount = this._count, this._showCellCount = this._cellCount) : this._showCellCount = this._cellCount - 1, this.content.width = this._count * this._cellSize.width, this.stopAutoScroll(), this.scrollToLeft()) : (this._view.height = this.node.height, this._view.y = (this._view.anchorY - this.node.anchorY) * this._view.height, this._cellCount = Math.ceil(this._view.height / this._cellSize.height) + 1, this.ViewType === l.Flip ? this._cellCount > this._count ? (this.isFill ? this._cellCount = Math.floor(this._view.height / this._cellSize.height) : this._cellCount = this._count, this._showCellCount = this._cellCount, this._pageTotal = 1) : (this._pageTotal = Math.ceil(this._count / (this._cellCount - 1)), this._count = this._pageTotal * (this._cellCount - 1), this._showCellCount = this._cellCount - 1) : this._cellCount > this._count ? (this.isFill ? this._cellCount = Math.floor(this._view.height / this._cellSize.height) : this._cellCount = this._count, this._showCellCount = this._cellCount) : this._showCellCount = this._cellCount - 1, this.content.height = this._count * this._cellSize.height, this.stopAutoScroll(), this.scrollToTop()), this._changePageNum(1 - this._page), this._lastOffset = this.getScrollOffset(), this._minCellIndex = 0, this._maxCellIndex = this._cellCount - 1, this._addCellsToView(), this._initSuccess = !0
			},
			initTableView: function (e, t) {
				this._paramCount = e, this._data = t, this._loadSuccess ? this._scheduleInit || this._initTableView() : (this.ScrollModel === a.Horizontal ? (this.horizontal = !0, this.vertical = !1) : (this.vertical = !0, this.horizontal = !1), this.verticalScrollBar && this.verticalScrollBar.node.on("size-changed", function () {
					this._updateScrollBar(this._getHowMuchOutOfBoundary())
				}, this), this.horizontalScrollBar && this.horizontalScrollBar.node.on("size-changed", function () {
					this._updateScrollBar(this._getHowMuchOutOfBoundary())
				}, this), this._addListenerToTouchLayer(), this._setStopPropagation(), this.node.getComponent(cc.Widget) || this._view.getComponent(cc.Widget) || this.content.getComponent(cc.Widget) ? (this.scheduleOnce(this._initTableView), this._scheduleInit = !0) : this._initTableView(), this._loadSuccess = !0)
			},
			stopAutoScroll: function () {
				this._scheduleInit ? this.scheduleOnce(function () {
					this.stopAutoScroll()
				}) : (this._scrollDirection = s.None, cc.ScrollView.prototype.stopAutoScroll.call(this))
			},
			scrollToBottom: function (e, t) {
				this._scheduleInit ? this.scheduleOnce(function () {
					this.scrollToBottom(e, t)
				}) : (this._scrollDirection = s.Up, cc.ScrollView.prototype.scrollToBottom.call(this, e, t))
			},
			scrollToTop: function (e, t) {
				this._scheduleInit ? this.scheduleOnce(function () {
					this.scrollToTop(e, t)
				}) : (this._scrollDirection = s.Down, cc.ScrollView.prototype.scrollToTop.call(this, e, t))
			},
			scrollToLeft: function (e, t) {
				this._scheduleInit ? this.scheduleOnce(function () {
					this.scrollToLeft(e, t)
				}) : (this._scrollDirection = s.Rigth, cc.ScrollView.prototype.scrollToLeft.call(this, e, t))
			},
			scrollToRight: function (e, t) {
				this._scheduleInit ? this.scheduleOnce(function () {
					this.scrollToRight(e, t)
				}) : (this._scrollDirection = s.Left, cc.ScrollView.prototype.scrollToRight.call(this, e, t))
			},
			scrollToOffset: function (e, t, n) {
				if (this._scheduleInit) this.scheduleOnce(function () {
					this.scrollToOffset(e, t, n)
				});
				else {
					var o = this.getScrollOffset(),
						i = e.sub(o);
					this.ScrollModel === a.Horizontal ? i.x > 0 ? this._scrollDirection = s.Left : i.x < 0 && (this._scrollDirection = s.Rigth) : i.y > 0 ? this._scrollDirection = s.Up : i.y < 0 && (this._scrollDirection = s.Down), cc.ScrollView.prototype.scrollToOffset.call(this, e, t, n)
				}
			},
			addScrollEvent: function (e, t, n) {
				var o = new cc.Component.EventHandler;
				o.target = e, o.component = t, o.handler = n, this.scrollEvents.push(o)
			},
			removeScrollEvent: function (e) {
				for (var t in this.scrollEvents) {
					if (this.scrollEvents[t].target === e) return void this.scrollEvents.splice(t, 1)
				}
			},
			clearScrollEvent: function () {
				this.scrollEvents = []
			},
			addPageEvent: function (e, t, n) {
				var o = new cc.Component.EventHandler;
				o.target = e, o.component = t, o.handler = n, this.pageChangeEvents.push(o)
			},
			removePageEvent: function (e) {
				for (var t in this.pageChangeEvents) {
					if (this.pageChangeEvents[t].target === e) return void this.pageChangeEvents.splice(t, 1)
				}
			},
			clearPageEvent: function () {
				this.pageChangeEvents = []
			},
			scrollToNextPage: function () {
				this.scrollToPage(this._page + 1)
			},
			scrollToLastPage: function () {
				this.scrollToPage(this._page - 1)
			},
			scrollToPage: function (e) {
				if (this.ViewType === l.Flip && e !== this._page && !(e < 1 || e > this._pageTotal)) {
					var t = .3 * Math.abs(e - this._page);
					if (this._changePageNum(e - this._page), this._initSuccess) {
						var n = this._view.width,
							o = this._view.height;
						n = (this._page - 1) * n, o = (this._page - 1) * o, this.scrollToOffset({
							x: n,
							y: o
						}, t)
					} else this.scheduleOnce(function () {
						var e = this._view.width,
							n = this._view.height;
						e = (this._page - 1) * e, n = (this._page - 1) * n, this.scrollToOffset({
							x: e,
							y: n
						}, t)
					})
				}
			},
			getCells: function (e) {
				var t = this,
					n = function () {
						var n = [],
							o = u(t.content.children, function (e, t) {
								return parseInt(e.name) < parseInt(t.name)
							});
						for (var i in o) {
							var r = o[i];
							for (var a in r.children) n.push(r.children[a])
						}
						e(n)
					};
				this._initSuccess ? n() : this.scheduleOnce(n)
			},
			getData: function () {
				return this._data
			},
			getGroupsRange: function (e) {
				var t = this,
					n = function () {
						for (var n = [], o = t._minCellIndex; o <= t._maxCellIndex; o++) n.push(o);
						e(n)
					};
				this._initSuccess ? n() : this.scheduleOnce(n)
			},
			_changePageNum: function (e) {
				this._page += e, this._page <= 0 ? this._page = 1 : this._page > this._pageTotal && (this._page = this._pageTotal);
				for (var t, n = o(this.pageChangeEvents); !(t = n()).done;) {
					t.value.emit([this._page, this._pageTotal])
				}
			},
			_touchstart: function (e) {
				this.ScrollModel === a.Horizontal ? this.horizontal = !1 : this.vertical = !1
			},
			_touchmove: function (e) {
				if (this.horizontal === this.vertical) {
					var t = e.getStartLocation(),
						n = e.getLocation();
					if (this.ScrollModel === a.Horizontal) {
						if (Math.abs(n.x - t.x) <= 7) return
					} else if (Math.abs(n.y - t.y) <= 7) return;
					this.ScrollModel === a.Horizontal ? this.horizontal = !0 : this.vertical = !0
				}
			},
			_touchend: function (e) {
				this.ScrollModel === a.Horizontal ? this.horizontal = !0 : this.vertical = !0, this.ViewType === l.Flip && this._pageTotal > 1 && this._pageMove(e)
			},
			_pageMove: function (e) {
				var t = this._view.width,
					n = this._view.height;
				if (this.ViewType === l.Flip) {
					var o = this.getScrollOffset(),
						i = this.getMaxScrollOffset();
					if (this.ScrollModel === a.Horizontal) {
						if (o.x >= 0 || o.x <= -i.x) return;
						if (n = 0, Math.abs(e.getLocation().x - e.getStartLocation().x) > this._view.width / 4)
							if (this._scrollDirection === s.Left) {
								if (!(this._page < this._pageTotal)) return;
								this._changePageNum(1)
							} else if (this._scrollDirection === s.Rigth) {
								if (!(this._page > 1)) return;
								this._changePageNum(-1)
							}
					} else {
						if (o.y >= i.y || o.y <= 0) return;
						if (t = 0, Math.abs(e.getLocation().y - e.getStartLocation().y) > this._view.height / 4)
							if (this._scrollDirection === s.Up) {
								if (!(this._page < this._pageTotal)) return;
								this._changePageNum(1)
							} else if (this._scrollDirection === s.Down) {
								if (!(this._page > 1)) return;
								this._changePageNum(-1)
							}
					}
					t = (this._page - 1) * t, n = (this._page - 1) * n, this.scrollToOffset({
						x: t,
						y: n
					}, .3)
				}
			},
			_getBoundingBoxToWorld: function (e) {
				var t = e.convertToWorldSpaceAR(cc.v2(-e.anchorX * e.width, -e.anchorY * e.height)),
					n = e.convertToWorldSpaceAR(cc.v2((1 - e.anchorX) * e.width, (1 - e.anchorY) * e.height));
				return cc.rect(t.x, t.y, n.x - t.x, n.y - t.y)
			},
			_updateCells: function () {
				if (this.ScrollModel === a.Horizontal) {
					if (this._scrollDirection === s.Left) {
						if (this._maxCellIndex < this._count - 1) {
							var e = this._getBoundingBoxToWorld(this._view);
							do {
								var t = this.content.getChildByName(String(this._minCellIndex)),
									n = this._getBoundingBoxToWorld(t);
								if (!(n.xMax <= e.xMin)) break;
								t.x = this.content.getChildByName(String(this._maxCellIndex)).x + t.width, this._minCellIndex++, this._maxCellIndex++, this._setCellAttr(t, this._maxCellIndex), n.xMax + (this._maxCellIndex - this._minCellIndex + 1) * t.width > e.xMin && this._initCell(t)
							} while (this._maxCellIndex !== this._count - 1)
						}
					} else if (this._scrollDirection === s.Rigth && this._minCellIndex > 0) {
						var o = this._getBoundingBoxToWorld(this._view);
						do {
							var i = this.content.getChildByName(String(this._maxCellIndex)),
								r = this._getBoundingBoxToWorld(i);
							if (!(r.xMin >= o.xMax)) break;
							i.x = this.content.getChildByName(String(this._minCellIndex)).x - i.width, this._minCellIndex--, this._maxCellIndex--, this._setCellAttr(i, this._minCellIndex), r.xMin - (this._maxCellIndex - this._minCellIndex + 1) * i.width < o.xMax && this._initCell(i)
						} while (0 !== this._minCellIndex)
					}
				} else if (this._scrollDirection === s.Up) {
					if (this._maxCellIndex < this._count - 1) {
						var c = this._getBoundingBoxToWorld(this._view);
						do {
							var l = this.content.getChildByName(String(this._minCellIndex)),
								u = this._getBoundingBoxToWorld(l);
							if (!(u.yMin >= c.yMax)) break;
							l.y = this.content.getChildByName(String(this._maxCellIndex)).y - l.height, this._minCellIndex++, this._maxCellIndex++, this._setCellAttr(l, this._maxCellIndex), u.yMin - (this._maxCellIndex - this._minCellIndex + 1) * l.height < c.yMax && this._initCell(l)
						} while (this._maxCellIndex !== this._count - 1)
					}
				} else if (this._scrollDirection === s.Down && this._minCellIndex > 0) {
					var d = this._getBoundingBoxToWorld(this._view);
					do {
						var f = this.content.getChildByName(String(this._maxCellIndex)),
							p = this._getBoundingBoxToWorld(f);
						if (!(p.yMax <= d.yMin)) break;
						f.y = this.content.getChildByName(String(this._minCellIndex)).y + f.height, this._minCellIndex--, this._maxCellIndex--, this._setCellAttr(f, this._minCellIndex), p.yMax + (this._maxCellIndex - this._minCellIndex + 1) * f.width > d.yMin && this._initCell(f)
					} while (0 !== this._minCellIndex)
				}
			},
			_getScrollDirection: function () {
				var e = this.getScrollOffset(),
					t = this._lastOffset;
				this._lastOffset = e, e = e.sub(t), this.ScrollModel === a.Horizontal ? e.x > 0 ? this._scrollDirection = s.Rigth : e.x < 0 ? this._scrollDirection = s.Left : this._scrollDirection = s.None : e.y < 0 ? this._scrollDirection = s.Down : e.y > 0 ? this._scrollDirection = s.Up : this._scrollDirection = s.None
			},
			update: function (e) {
				cc.ScrollView.prototype.update.call(this, e), this._initSuccess && this._cellCount !== this._showCellCount && 1 !== this._pageTotal && (this._getScrollDirection(), this._updateCells())
			}
		});
		d._tableView = [], d.reload = function () {
			for (var e in d._tableView) d._tableView[e].reload()
		}, d.clear = function () {
			for (var e in d._tableView) d._tableView[e].clear()
		}, cc.tableView = t.export = d, cc._RF.pop()
	}, {}],
	use_reversed_rotateBy: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "91078ZhgMVBjL9i5f6/Gvpo", "use_reversed_rotateBy"), cc.RotateBy._reverse = !0, cc._RF.pop()
	}, {}],
	viewCell: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "57a933nm+hDj5uquOGzwAHh", "viewCell");
		var o = this && this.__extends || function () {
			var e = function (t, n) {
				return (e = Object.setPrototypeOf || {
					__proto__: []
				}
					instanceof Array && function (e, t) {
						e.__proto__ = t
					} || function (e, t) {
						for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n])
					})(t, n)
			};
			return function (t, n) {
				function o() {
					this.constructor = t
				}
				e(t, n), t.prototype = null === n ? Object.create(n) : (o.prototype = n.prototype, new o)
			}
		}(),
			i = this && this.__decorate || function (e, t, n, o) {
				var i, r = arguments.length,
					a = r < 3 ? t : null === o ? o = Object.getOwnPropertyDescriptor(t, n) : o;
				if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) a = Reflect.decorate(e, t, n, o);
				else
					for (var s = e.length - 1; s >= 0; s--)(i = e[s]) && (a = (r < 3 ? i(a) : r > 3 ? i(t, n, a) : i(t, n)) || a);
				return r > 3 && a && Object.defineProperty(t, n, a), a
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = cc._decorator,
			a = r.ccclass,
			s = r.property,
			c = function (e) {
				function t() {
					var t = null !== e && e.apply(this, arguments) || this;
					return t.tableView = null, t._isCellInit_ = !1, t._longClicked_ = !1, t
				}
				return o(t, e), t.prototype._cellAddMethodToNode_ = function () {
					this.node.clicked = this.clicked.bind(this)
				}, t.prototype._cellAddTouch_ = function () {
					this.node.on(cc.Node.EventType.TOUCH_START, function (e) {
						!0 === this.node.active && 0 !== this.node.opacity && (this._longClicked_ || (this._longClicked_ = !0, this.scheduleOnce(this._longClicked, 1.5)))
					}, this), this.node.on(cc.Node.EventType.TOUCH_MOVE, function () {
						this._longClicked_ && (this._longClicked_ = !1, this.unschedule(this._longClicked))
					}, this), this.node.on(cc.Node.EventType.TOUCH_END, function () {
						this.clicked(), this._longClicked_ && (this._longClicked_ = !1, this.unschedule(this._longClicked))
					}, this), this.node.on(cc.Node.EventType.TOUCH_CANCEL, function () {
						this._longClicked_ && (this._longClicked_ = !1, this.unschedule(this._longClicked))
					}, this)
				}, t.prototype._cellInit_ = function (e) {
					this.tableView = e, this._isCellInit_ || (this._cellAddMethodToNode_(), this._cellAddTouch_(), this._isCellInit_ = !0)
				}, t.prototype._longClicked = function () {
					this._longClicked_ = !1, this.node.emit(cc.Node.EventType.TOUCH_CANCEL), this.longClicked()
				}, t.prototype.longClicked = function () { }, t.prototype.clicked = function () { }, t.prototype.init = function (e, t, n, o) { }, i([s({
					visible: !1
				})], t.prototype, "tableView", void 0), t = i([a], t)
			}(cc.Component);
		n.default = c, cc._RF.pop()
	}, {}],
	wxsdk: [function (e, t, n) {
		"use strict";
		cc._RF.push(t, "72f4b4oBJdCHJse9ppw4Qy6", "wxsdk");
		var o = this && this.__awaiter || function (e, t, n, o) {
			function i(e) {
				return e instanceof n ? e : new n(function (t) {
					t(e)
				})
			}
			return new (n || (n = Promise))(function (n, r) {
				function a(e) {
					try {
						c(o.next(e))
					} catch (e) {
						r(e)
					}
				}

				function s(e) {
					try {
						c(o.throw(e))
					} catch (e) {
						r(e)
					}
				}

				function c(e) {
					e.done ? n(e.value) : i(e.value).then(a, s)
				}
				c((o = o.apply(e, t || [])).next())
			})
		},
			i = this && this.__generator || function (e, t) {
				var n, o, i, r, a = {
					label: 0,
					sent: function () {
						if (1 & i[0]) throw i[1];
						return i[1]
					},
					trys: [],
					ops: []
				};
				return r = {
					next: s(0),
					throw: s(1),
					return: s(2)
				}, "function" == typeof Symbol && (r[Symbol.iterator] = function () {
					return this
				}), r;

				function s(e) {
					return function (t) {
						return c([e, t])
					}
				}

				function c(r) {
					if (n) throw new TypeError("Generator is already executing.");
					for (; a;) try {
						if (n = 1, o && (i = 2 & r[0] ? o.return : r[0] ? o.throw || ((i = o.return) && i.call(o), 0) : o.next) && !(i = i.call(o, r[1])).done) return i;
						switch (o = 0, i && (r = [2 & r[0], i.value]), r[0]) {
							case 0:
							case 1:
								i = r;
								break;
							case 4:
								return a.label++, {
									value: r[1],
									done: !1
								};
							case 5:
								a.label++, o = r[1], r = [0];
								continue;
							case 7:
								r = a.ops.pop(), a.trys.pop();
								continue;
							default:
								if (!(i = (i = a.trys).length > 0 && i[i.length - 1]) && (6 === r[0] || 2 === r[0])) {
									a = 0;
									continue
								}
								if (3 === r[0] && (!i || r[1] > i[0] && r[1] < i[3])) {
									a.label = r[1];
									break
								}
								if (6 === r[0] && a.label < i[1]) {
									a.label = i[1], i = r;
									break
								}
								if (i && a.label < i[2]) {
									a.label = i[2], a.ops.push(r);
									break
								}
								i[2] && a.ops.pop(), a.trys.pop();
								continue
						}
						r = t.call(e, a)
					} catch (e) {
						r = [6, e], o = 0
					} finally {
							n = i = 0
						}
					if (5 & r[0]) throw r[1];
					return {
						value: r[0] ? r[1] : void 0,
						done: !0
					}
				}
			};
		Object.defineProperty(n, "__esModule", {
			value: !0
		});
		var r = new (function () {
			function e() {
				this._isLogin = !1
			}
			return e.prototype.isWX = function () {
				return !!window.wx
			}, e.prototype.isQQ = function () {
				return !!window.qq
			}, e.prototype.isTT = function () {
				return !!window.tt
			}, e.prototype.isQg = function () {
				return !!window.qg
			}, e.prototype.isVivo = function () {
				return cc.sys.platform == cc.sys.VIVO_GAME
			}, e.prototype.supportServer = function () {
				return this.isWX() && !this.isQg() && !this.isTT()
			}, e.prototype.supportNetwork = function () {
				return this.isTT() || this.isVivo() || this.isWX() && !this.isQg()
			}, e.prototype.supportShare = function () {
				return this.isVivo() ? window.qg && qg.share : this.isWX() && !this.isQg()
			}, e.prototype.supportSubDomain = function () {
				return this.isWX() && !this.isQg() && !this.isTT()
			}, e.prototype.login = function () {
				this.isTT() && window.tt.login({
					force: !1,
					success: function (e) {
						r._isLogin = e && e.isLogin, console.log("[login]调用成功:", e)
					},
					fail: function (e) {
						console.log("[login]调用失败")
					}
				})
			}, e.prototype.isLogin = function () {
				return this._isLogin
			}, e.prototype.saveData = function () {
				r.isTT() || sdk.updateScore({
					level: DataBus.user.level
				})
			}, e.prototype.hasUserInfoAuth = function () {
				return o(this, void 0, void 0, function () {
					var e;
					return i(this, function (t) {
						switch (t.label) {
							case 0:
								return t.trys.push([0, 2, , 3]), [4, sdk.promisify(wx.getSetting)];
							case 1:
								return [2, (e = t.sent()) && e.authSetting && e.authSetting["scope.userInfo"]];
							case 2:
								return t.sent(), [2, !1];
							case 3:
								return [2]
						}
					})
				})
			}, e
		}());
		n.default = r, cc._RF.pop()
	}, {}]
}, {}, ["AdsMgr", "ErrorTypes", "FeedbackBtn", "InterAdMgr", "JNodePool", "PlaceBanner", "Share", "ShareTypes", "SoundMgr", "StatusStack", "UserInfoBtn", "Utils", "WxBtn", "EventID", "GameConfig", "ReportID", "ServerConfig", "SoundID", "StatusStackID", "Crypt", "DataBus", "DataBus_BaseSaveData", "DataBus_LocalData", "DataBus_OtherSaveData", "DataBus_UserSaveData", "DataSaver", "Databus_ServerUserData", "EconomicLogic", "HttpHelper", "Server", "Server_defines", "TimeMgr", "decorator", "wxsdk", "EffectMgr", "EffectMount", "HandAnim", "ItemAnim", "MoneyAnim", "MyCrypto", "bignumber", "cc-console-utils", "modifyBox2d", "polyglot", "sdk", "tableView", "viewCell", "Recyclable", "ResLoader", "SubPackageLoader", "BadageMgr", "ChallengeScene", "CmgeBridge", "CueLogic", "GameScene", "HomeScene", "LevelConfig", "LevelScene", "LoadingScene", "Loading_Task", "Mount", "Router", "ShortcutMgr", "YdsdkBridge", "EditorBallManager", "EditorFixedLevelData", "EditorFixedScene", "EditorLevelData", "EditorScene", "EditorTableManager", "AdditionLogic", "Calc", "PoolEffect", "PoolGlobal", "PoolRuntimeData", "PoolStage", "PoolTypes", "StageBannerMgr", "BallContact", "BallEvent", "BallExtra", "BallNode", "BallPhysics", "BallRender", "BallRotator", "AngleAnimator", "BallCast", "BallCue", "BallManager", "CueBallMover", "CueSwitcher", "ForceAnimator", "ForceBar", "LifePanel", "ObjectsPanel", "ObjectsPanel1", "ObjectsPanel2", "ObjectsPanel3", "ScorePanel", "ShootPointBtn", "ShootPointLayer", "SightLine", "TableManager", "TouchController", "TuningBar", "NoItemLayer", "PoolItem2Handler", "PoolItem2Mgr", "ReceiveItemLayer", "ShowItemLayer", "UseItemLayer", "PoolHandItem", "PoolItem", "PoolItemMgr", "PoolItemUtils", "PoolLifeItem", "EscapeLayer", "MatchSuccessLayer", "NoPvpTicketsLayer", "PvpDebugLayer", "PvpEightRule", "PvpLogic", "PvpObjectsPanel", "PvpOpenLayer", "PvpPlayer", "PvpPlayerUi", "PvpResultLayer", "PvpScene", "PvpTurnUi", "PvpUiHelper", "WorldMatchLayer", "WorldMatchPrizeLayer", "WorldMatchPrizeWxLayer", "WorldMatchWxLayer", "BaseRule", "ChallengeRule", "EightSingleGuideRule", "EightSingleRule", "RuleFactory", "RuleTypes", "SingleGuideRule", "SingleRule", "GuideLogic", "GuideTips", "HandEffect", "MaskLayer", "DoubleUpgradeLayer", "HomeUi", "ProfitCollectBtn", "ProfitLogic", "UpgradeAttrItem", "UpgradeLayer", "UpgradeLogic", "UpgradeObject", "UpgradePanel", "UpgradeUi", "LevelBgs", "LevelBtn", "LevelBtns", "LevelBtnsPos", "SkinCard", "SkinCardList", "SkinScene", "Ui", "AdsItem", "MainAds", "NativeAds", "NativeAdsLogic", "ScrollAds", "ScrollAdsItem", "SideAdsLayer", "TrialAdsItem", "TrialAdsLayer", "TrialAdsLogic", "BalloonLayer", "BalloonLogic", "BankItem", "BankLayer", "BankLogic", "ActionBlink", "ActionBreath", "ActionBreath2", "ActionCircle", "ActionFadeTo", "ActionMoveForever", "ActionMoveIn", "ActionRock", "ActionRotateForever", "ActionScaleIn", "ActionStars", "ActionTween", "ActionTweenItem", "AdaptForScreen", "AlignTop", "CountDown", "Draggable", "ExpandPanel", "FullScreen", "LabelMaxWidth", "LayerBase", "LongPress", "PrefabPlaceHolder", "PrefabRepeat", "PrefabRepeatPageView", "PreviewImage", "RewardBtn", "RewardToggle", "Sub", "Table", "TableItem", "ToastTips", "TouchSingle", "BalanceItem", "BalanceLayer", "CashoutBar", "CashoutLayer", "RedpackageLayer", "ChallengeLayer", "ChallengeLevelLbl", "ChallengeLogic", "ChallengeResultLayer", "CoinsPanel", "FreeCoinsLayer", "FreeCoinsLogic", "CueItem", "CueLayer", "DailyTaskActiveItem", "DailyTaskItem", "DailyTaskLayer", "DailyTaskLogic", "DailyTaskPanel", "DailyTaskSystem", "DailyTaskTypes", "EmojiItem", "EmojiLayer", "EmojiLogic", "EmojiNode", "EnergyLogic", "EnergyPanel", "NoEnergyLayer", "AfterGameLayer", "BeforeGameLayer", "BeyondNode", "CueTrialLayer", "CueTrialLogic", "LevelLbl", "TaskBtn", "TaskLayer", "TaskLogic", "TaskTips", "ChallengeHelpLayer", "HelpBtn", "HelpLayer", "HonorTitleLayer", "HonorTitleLogic", "InviteLayer", "InviteLogic", "LevelItemLayer", "LevelItemLogic", "GetPrizeLayer", "LotteryLayer", "LotteryLogic", "MoneyBar", "MoneyID", "RecoverVar", "MsgboxLayer", "NewbieEffectLayer", "NewbieEffectLogic", "NewbieGiftBtn", "NewbieGiftLayer", "NewbieGiftLogic", "CheatLayer", "LayerBgEffect", "TextTips", "PauseLayer", "PrizeConfig", "PrizeItem", "PrizePanel", "RankItem", "RankLayer", "RankTestData", "DoubleItemLayer", "RecordBtn", "RecordMgr", "ResultLayer", "ItemReviveLayer", "ReviveConfig", "ReviveLayer", "SettingLayer", "SignInLayer", "SignInLogic", "Skin2Config", "Skin2Defines", "Skin2Item", "Skin2ItemForCue", "Skin2ItemHandler", "Skin2Layer", "Skin2Logic", "Skin2MainNode", "Skin2Panels", "Skin2ScrollNode", "Skin2StatusBar", "Skin2Tables", "SkinDefines", "SkinItem", "SkinLayer", "SkinLogic", "SkinPanel", "SuperLineLayer", "SuperLineLogic", "SuperLineRewardBtn", "VipBtn", "VipInviteItem", "VipLayer", "VipLogic", "WheelItem", "WheelLayer", "WheelLogic", "use_reversed_rotateBy"]);
// }); 	require("subpackages/main/game.js");